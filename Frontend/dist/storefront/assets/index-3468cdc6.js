var wy=Object.defineProperty;var jy=(e,t,s)=>t in e?wy(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s;var ra=(e,t,s)=>(jy(e,typeof t!="symbol"?t+"":t,s),s);function Zh(e,t){for(var s=0;s<t.length;s++){const a=t[s];if(typeof a!="string"&&!Array.isArray(a)){for(const n in a)if(n!=="default"&&!(n in e)){const o=Object.getOwnPropertyDescriptor(a,n);o&&Object.defineProperty(e,n,o.get?o:{enumerable:!0,get:()=>a[n]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&a(i)}).observe(document,{childList:!0,subtree:!0});function s(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerPolicy&&(o.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?o.credentials="include":n.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function a(n){if(n.ep)return;n.ep=!0;const o=s(n);fetch(n.href,o)}})();function Vd(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var ef={exports:{}},nl={},tf={exports:{}},je={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oo=Symbol.for("react.element"),ky=Symbol.for("react.portal"),Ny=Symbol.for("react.fragment"),Sy=Symbol.for("react.strict_mode"),Cy=Symbol.for("react.profiler"),Ey=Symbol.for("react.provider"),_y=Symbol.for("react.context"),Py=Symbol.for("react.forward_ref"),Ry=Symbol.for("react.suspense"),Ty=Symbol.for("react.memo"),Ly=Symbol.for("react.lazy"),R0=Symbol.iterator;function Ay(e){return e===null||typeof e!="object"?null:(e=R0&&e[R0]||e["@@iterator"],typeof e=="function"?e:null)}var rf={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},sf=Object.assign,af={};function Ua(e,t,s){this.props=e,this.context=t,this.refs=af,this.updater=s||rf}Ua.prototype.isReactComponent={};Ua.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ua.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function nf(){}nf.prototype=Ua.prototype;function Qd(e,t,s){this.props=e,this.context=t,this.refs=af,this.updater=s||rf}var Gd=Qd.prototype=new nf;Gd.constructor=Qd;sf(Gd,Ua.prototype);Gd.isPureReactComponent=!0;var T0=Array.isArray,of=Object.prototype.hasOwnProperty,Yd={current:null},lf={key:!0,ref:!0,__self:!0,__source:!0};function cf(e,t,s){var a,n={},o=null,i=null;if(t!=null)for(a in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(o=""+t.key),t)of.call(t,a)&&!lf.hasOwnProperty(a)&&(n[a]=t[a]);var l=arguments.length-2;if(l===1)n.children=s;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];n.children=c}if(e&&e.defaultProps)for(a in l=e.defaultProps,l)n[a]===void 0&&(n[a]=l[a]);return{$$typeof:oo,type:e,key:o,ref:i,props:n,_owner:Yd.current}}function Dy(e,t){return{$$typeof:oo,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Kd(e){return typeof e=="object"&&e!==null&&e.$$typeof===oo}function Iy(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(s){return t[s]})}var L0=/\/+/g;function Fl(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Iy(""+e.key):t.toString(36)}function Zo(e,t,s,a,n){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(o){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case oo:case ky:i=!0}}if(i)return i=e,n=n(i),e=a===""?"."+Fl(i,0):a,T0(n)?(s="",e!=null&&(s=e.replace(L0,"$&/")+"/"),Zo(n,t,s,"",function(d){return d})):n!=null&&(Kd(n)&&(n=Dy(n,s+(!n.key||i&&i.key===n.key?"":(""+n.key).replace(L0,"$&/")+"/")+e)),t.push(n)),1;if(i=0,a=a===""?".":a+":",T0(e))for(var l=0;l<e.length;l++){o=e[l];var c=a+Fl(o,l);i+=Zo(o,t,s,c,n)}else if(c=Ay(e),typeof c=="function")for(e=c.call(e),l=0;!(o=e.next()).done;)o=o.value,c=a+Fl(o,l++),i+=Zo(o,t,s,c,n);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function _o(e,t,s){if(e==null)return e;var a=[],n=0;return Zo(e,a,"","",function(o){return t.call(s,o,n++)}),a}function My(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(s){(e._status===0||e._status===-1)&&(e._status=1,e._result=s)},function(s){(e._status===0||e._status===-1)&&(e._status=2,e._result=s)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var bt={current:null},ei={transition:null},Oy={ReactCurrentDispatcher:bt,ReactCurrentBatchConfig:ei,ReactCurrentOwner:Yd};function df(){throw Error("act(...) is not supported in production builds of React.")}je.Children={map:_o,forEach:function(e,t,s){_o(e,function(){t.apply(this,arguments)},s)},count:function(e){var t=0;return _o(e,function(){t++}),t},toArray:function(e){return _o(e,function(t){return t})||[]},only:function(e){if(!Kd(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};je.Component=Ua;je.Fragment=Ny;je.Profiler=Cy;je.PureComponent=Qd;je.StrictMode=Sy;je.Suspense=Ry;je.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Oy;je.act=df;je.cloneElement=function(e,t,s){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=sf({},e.props),n=e.key,o=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,i=Yd.current),t.key!==void 0&&(n=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)of.call(t,c)&&!lf.hasOwnProperty(c)&&(a[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)a.children=s;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];a.children=l}return{$$typeof:oo,type:e.type,key:n,ref:o,props:a,_owner:i}};je.createContext=function(e){return e={$$typeof:_y,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Ey,_context:e},e.Consumer=e};je.createElement=cf;je.createFactory=function(e){var t=cf.bind(null,e);return t.type=e,t};je.createRef=function(){return{current:null}};je.forwardRef=function(e){return{$$typeof:Py,render:e}};je.isValidElement=Kd;je.lazy=function(e){return{$$typeof:Ly,_payload:{_status:-1,_result:e},_init:My}};je.memo=function(e,t){return{$$typeof:Ty,type:e,compare:t===void 0?null:t}};je.startTransition=function(e){var t=ei.transition;ei.transition={};try{e()}finally{ei.transition=t}};je.unstable_act=df;je.useCallback=function(e,t){return bt.current.useCallback(e,t)};je.useContext=function(e){return bt.current.useContext(e)};je.useDebugValue=function(){};je.useDeferredValue=function(e){return bt.current.useDeferredValue(e)};je.useEffect=function(e,t){return bt.current.useEffect(e,t)};je.useId=function(){return bt.current.useId()};je.useImperativeHandle=function(e,t,s){return bt.current.useImperativeHandle(e,t,s)};je.useInsertionEffect=function(e,t){return bt.current.useInsertionEffect(e,t)};je.useLayoutEffect=function(e,t){return bt.current.useLayoutEffect(e,t)};je.useMemo=function(e,t){return bt.current.useMemo(e,t)};je.useReducer=function(e,t,s){return bt.current.useReducer(e,t,s)};je.useRef=function(e){return bt.current.useRef(e)};je.useState=function(e){return bt.current.useState(e)};je.useSyncExternalStore=function(e,t,s){return bt.current.useSyncExternalStore(e,t,s)};je.useTransition=function(){return bt.current.useTransition()};je.version="18.3.1";tf.exports=je;var y=tf.exports;const Ba=Vd(y),$y=Zh({__proto__:null,default:Ba},[y]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fy=y,zy=Symbol.for("react.element"),Uy=Symbol.for("react.fragment"),By=Object.prototype.hasOwnProperty,Wy=Fy.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Hy={key:!0,ref:!0,__self:!0,__source:!0};function uf(e,t,s){var a,n={},o=null,i=null;s!==void 0&&(o=""+s),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(i=t.ref);for(a in t)By.call(t,a)&&!Hy.hasOwnProperty(a)&&(n[a]=t[a]);if(e&&e.defaultProps)for(a in t=e.defaultProps,t)n[a]===void 0&&(n[a]=t[a]);return{$$typeof:zy,type:e,key:o,ref:i,props:n,_owner:Wy.current}}nl.Fragment=Uy;nl.jsx=uf;nl.jsxs=uf;ef.exports=nl;var r=ef.exports,_c={},mf={exports:{}},Vt={},hf={exports:{}},ff={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(O,se){var V=O.length;O.push(se);e:for(;0<V;){var T=V-1>>>1,$=O[T];if(0<n($,se))O[T]=se,O[V]=$,V=T;else break e}}function s(O){return O.length===0?null:O[0]}function a(O){if(O.length===0)return null;var se=O[0],V=O.pop();if(V!==se){O[0]=V;e:for(var T=0,$=O.length,Y=$>>>1;T<Y;){var Q=2*(T+1)-1,pe=O[Q],B=Q+1,Z=O[B];if(0>n(pe,V))B<$&&0>n(Z,pe)?(O[T]=Z,O[B]=V,T=B):(O[T]=pe,O[Q]=V,T=Q);else if(B<$&&0>n(Z,V))O[T]=Z,O[B]=V,T=B;else break e}}return se}function n(O,se){var V=O.sortIndex-se.sortIndex;return V!==0?V:O.id-se.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var i=Date,l=i.now();e.unstable_now=function(){return i.now()-l}}var c=[],d=[],u=1,m=null,h=3,v=!1,g=!1,w=!1,x=typeof setTimeout=="function"?setTimeout:null,f=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function p(O){for(var se=s(d);se!==null;){if(se.callback===null)a(d);else if(se.startTime<=O)a(d),se.sortIndex=se.expirationTime,t(c,se);else break;se=s(d)}}function k(O){if(w=!1,p(O),!g)if(s(c)!==null)g=!0,de(E);else{var se=s(d);se!==null&&te(k,se.startTime-O)}}function E(O,se){g=!1,w&&(w=!1,f(N),N=-1),v=!0;var V=h;try{for(p(se),m=s(c);m!==null&&(!(m.expirationTime>se)||O&&!M());){var T=m.callback;if(typeof T=="function"){m.callback=null,h=m.priorityLevel;var $=T(m.expirationTime<=se);se=e.unstable_now(),typeof $=="function"?m.callback=$:m===s(c)&&a(c),p(se)}else a(c);m=s(c)}if(m!==null)var Y=!0;else{var Q=s(d);Q!==null&&te(k,Q.startTime-se),Y=!1}return Y}finally{m=null,h=V,v=!1}}var _=!1,j=null,N=-1,S=5,A=-1;function M(){return!(e.unstable_now()-A<S)}function F(){if(j!==null){var O=e.unstable_now();A=O;var se=!0;try{se=j(!0,O)}finally{se?U():(_=!1,j=null)}}else _=!1}var U;if(typeof b=="function")U=function(){b(F)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,me=X.port2;X.port1.onmessage=F,U=function(){me.postMessage(null)}}else U=function(){x(F,0)};function de(O){j=O,_||(_=!0,U())}function te(O,se){N=x(function(){O(e.unstable_now())},se)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(O){O.callback=null},e.unstable_continueExecution=function(){g||v||(g=!0,de(E))},e.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<O?Math.floor(1e3/O):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return s(c)},e.unstable_next=function(O){switch(h){case 1:case 2:case 3:var se=3;break;default:se=h}var V=h;h=se;try{return O()}finally{h=V}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(O,se){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var V=h;h=O;try{return se()}finally{h=V}},e.unstable_scheduleCallback=function(O,se,V){var T=e.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?T+V:T):V=T,O){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=V+$,O={id:u++,callback:se,priorityLevel:O,startTime:V,expirationTime:$,sortIndex:-1},V>T?(O.sortIndex=V,t(d,O),s(c)===null&&O===s(d)&&(w?(f(N),N=-1):w=!0,te(k,V-T))):(O.sortIndex=$,t(c,O),g||v||(g=!0,de(E))),O},e.unstable_shouldYield=M,e.unstable_wrapCallback=function(O){var se=h;return function(){var V=h;h=se;try{return O.apply(this,arguments)}finally{h=V}}}})(ff);hf.exports=ff;var qy=hf.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vy=y,Ht=qy;function W(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,s=1;s<arguments.length;s++)t+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var xf=new Set,In={};function Gs(e,t){Ca(e,t),Ca(e+"Capture",t)}function Ca(e,t){for(In[e]=t,e=0;e<t.length;e++)xf.add(t[e])}var Fr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Pc=Object.prototype.hasOwnProperty,Qy=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,A0={},D0={};function Gy(e){return Pc.call(D0,e)?!0:Pc.call(A0,e)?!1:Qy.test(e)?D0[e]=!0:(A0[e]=!0,!1)}function Yy(e,t,s,a){if(s!==null&&s.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return a?!1:s!==null?!s.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Ky(e,t,s,a){if(t===null||typeof t>"u"||Yy(e,t,s,a))return!0;if(a)return!1;if(s!==null)switch(s.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function vt(e,t,s,a,n,o,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=a,this.attributeNamespace=n,this.mustUseProperty=s,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=i}var ct={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ct[e]=new vt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ct[t]=new vt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ct[e]=new vt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ct[e]=new vt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ct[e]=new vt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ct[e]=new vt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ct[e]=new vt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ct[e]=new vt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ct[e]=new vt(e,5,!1,e.toLowerCase(),null,!1,!1)});var Jd=/[\-:]([a-z])/g;function Xd(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Jd,Xd);ct[t]=new vt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Jd,Xd);ct[t]=new vt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Jd,Xd);ct[t]=new vt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ct[e]=new vt(e,1,!1,e.toLowerCase(),null,!1,!1)});ct.xlinkHref=new vt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ct[e]=new vt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Zd(e,t,s,a){var n=ct.hasOwnProperty(t)?ct[t]:null;(n!==null?n.type!==0:a||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Ky(t,s,n,a)&&(s=null),a||n===null?Gy(t)&&(s===null?e.removeAttribute(t):e.setAttribute(t,""+s)):n.mustUseProperty?e[n.propertyName]=s===null?n.type===3?!1:"":s:(t=n.attributeName,a=n.attributeNamespace,s===null?e.removeAttribute(t):(n=n.type,s=n===3||n===4&&s===!0?"":""+s,a?e.setAttributeNS(a,t,s):e.setAttribute(t,s))))}var qr=Vy.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Po=Symbol.for("react.element"),na=Symbol.for("react.portal"),oa=Symbol.for("react.fragment"),eu=Symbol.for("react.strict_mode"),Rc=Symbol.for("react.profiler"),gf=Symbol.for("react.provider"),pf=Symbol.for("react.context"),tu=Symbol.for("react.forward_ref"),Tc=Symbol.for("react.suspense"),Lc=Symbol.for("react.suspense_list"),ru=Symbol.for("react.memo"),Jr=Symbol.for("react.lazy"),yf=Symbol.for("react.offscreen"),I0=Symbol.iterator;function sn(e){return e===null||typeof e!="object"?null:(e=I0&&e[I0]||e["@@iterator"],typeof e=="function"?e:null)}var Ue=Object.assign,zl;function bn(e){if(zl===void 0)try{throw Error()}catch(s){var t=s.stack.trim().match(/\n( *(at )?)/);zl=t&&t[1]||""}return`
`+zl+e}var Ul=!1;function Bl(e,t){if(!e||Ul)return"";Ul=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var a=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){a=d}e.call(t.prototype)}else{try{throw Error()}catch(d){a=d}e()}}catch(d){if(d&&a&&typeof d.stack=="string"){for(var n=d.stack.split(`
`),o=a.stack.split(`
`),i=n.length-1,l=o.length-1;1<=i&&0<=l&&n[i]!==o[l];)l--;for(;1<=i&&0<=l;i--,l--)if(n[i]!==o[l]){if(i!==1||l!==1)do if(i--,l--,0>l||n[i]!==o[l]){var c=`
`+n[i].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=i&&0<=l);break}}}finally{Ul=!1,Error.prepareStackTrace=s}return(e=e?e.displayName||e.name:"")?bn(e):""}function Jy(e){switch(e.tag){case 5:return bn(e.type);case 16:return bn("Lazy");case 13:return bn("Suspense");case 19:return bn("SuspenseList");case 0:case 2:case 15:return e=Bl(e.type,!1),e;case 11:return e=Bl(e.type.render,!1),e;case 1:return e=Bl(e.type,!0),e;default:return""}}function Ac(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case oa:return"Fragment";case na:return"Portal";case Rc:return"Profiler";case eu:return"StrictMode";case Tc:return"Suspense";case Lc:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case pf:return(e.displayName||"Context")+".Consumer";case gf:return(e._context.displayName||"Context")+".Provider";case tu:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ru:return t=e.displayName||null,t!==null?t:Ac(e.type)||"Memo";case Jr:t=e._payload,e=e._init;try{return Ac(e(t))}catch{}}return null}function Xy(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ac(t);case 8:return t===eu?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function fs(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function bf(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Zy(e){var t=bf(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),a=""+e[t];if(!e.hasOwnProperty(t)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var n=s.get,o=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return n.call(this)},set:function(i){a=""+i,o.call(this,i)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return a},setValue:function(i){a=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ro(e){e._valueTracker||(e._valueTracker=Zy(e))}function vf(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var s=t.getValue(),a="";return e&&(a=bf(e)?e.checked?"true":"false":e.value),e=a,e!==s?(t.setValue(e),!0):!1}function wi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Dc(e,t){var s=t.checked;return Ue({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??e._wrapperState.initialChecked})}function M0(e,t){var s=t.defaultValue==null?"":t.defaultValue,a=t.checked!=null?t.checked:t.defaultChecked;s=fs(t.value!=null?t.value:s),e._wrapperState={initialChecked:a,initialValue:s,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function wf(e,t){t=t.checked,t!=null&&Zd(e,"checked",t,!1)}function Ic(e,t){wf(e,t);var s=fs(t.value),a=t.type;if(s!=null)a==="number"?(s===0&&e.value===""||e.value!=s)&&(e.value=""+s):e.value!==""+s&&(e.value=""+s);else if(a==="submit"||a==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Mc(e,t.type,s):t.hasOwnProperty("defaultValue")&&Mc(e,t.type,fs(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function O0(e,t,s){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var a=t.type;if(!(a!=="submit"&&a!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,s||t===e.value||(e.value=t),e.defaultValue=t}s=e.name,s!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,s!==""&&(e.name=s)}function Mc(e,t,s){(t!=="number"||wi(e.ownerDocument)!==e)&&(s==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+s&&(e.defaultValue=""+s))}var vn=Array.isArray;function pa(e,t,s,a){if(e=e.options,t){t={};for(var n=0;n<s.length;n++)t["$"+s[n]]=!0;for(s=0;s<e.length;s++)n=t.hasOwnProperty("$"+e[s].value),e[s].selected!==n&&(e[s].selected=n),n&&a&&(e[s].defaultSelected=!0)}else{for(s=""+fs(s),t=null,n=0;n<e.length;n++){if(e[n].value===s){e[n].selected=!0,a&&(e[n].defaultSelected=!0);return}t!==null||e[n].disabled||(t=e[n])}t!==null&&(t.selected=!0)}}function Oc(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(W(91));return Ue({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function $0(e,t){var s=t.value;if(s==null){if(s=t.children,t=t.defaultValue,s!=null){if(t!=null)throw Error(W(92));if(vn(s)){if(1<s.length)throw Error(W(93));s=s[0]}t=s}t==null&&(t=""),s=t}e._wrapperState={initialValue:fs(s)}}function jf(e,t){var s=fs(t.value),a=fs(t.defaultValue);s!=null&&(s=""+s,s!==e.value&&(e.value=s),t.defaultValue==null&&e.defaultValue!==s&&(e.defaultValue=s)),a!=null&&(e.defaultValue=""+a)}function F0(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function kf(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function $c(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?kf(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var To,Nf=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,s,a,n){MSApp.execUnsafeLocalFunction(function(){return e(t,s,a,n)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(To=To||document.createElement("div"),To.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=To.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Mn(e,t){if(t){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=t;return}}e.textContent=t}var Sn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},eb=["Webkit","ms","Moz","O"];Object.keys(Sn).forEach(function(e){eb.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Sn[t]=Sn[e]})});function Sf(e,t,s){return t==null||typeof t=="boolean"||t===""?"":s||typeof t!="number"||t===0||Sn.hasOwnProperty(e)&&Sn[e]?(""+t).trim():t+"px"}function Cf(e,t){e=e.style;for(var s in t)if(t.hasOwnProperty(s)){var a=s.indexOf("--")===0,n=Sf(s,t[s],a);s==="float"&&(s="cssFloat"),a?e.setProperty(s,n):e[s]=n}}var tb=Ue({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Fc(e,t){if(t){if(tb[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(W(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(W(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(W(61))}if(t.style!=null&&typeof t.style!="object")throw Error(W(62))}}function zc(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Uc=null;function su(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Bc=null,ya=null,ba=null;function z0(e){if(e=co(e)){if(typeof Bc!="function")throw Error(W(280));var t=e.stateNode;t&&(t=dl(t),Bc(e.stateNode,e.type,t))}}function Ef(e){ya?ba?ba.push(e):ba=[e]:ya=e}function _f(){if(ya){var e=ya,t=ba;if(ba=ya=null,z0(e),t)for(e=0;e<t.length;e++)z0(t[e])}}function Pf(e,t){return e(t)}function Rf(){}var Wl=!1;function Tf(e,t,s){if(Wl)return e(t,s);Wl=!0;try{return Pf(e,t,s)}finally{Wl=!1,(ya!==null||ba!==null)&&(Rf(),_f())}}function On(e,t){var s=e.stateNode;if(s===null)return null;var a=dl(s);if(a===null)return null;s=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(W(231,t,typeof s));return s}var Wc=!1;if(Fr)try{var an={};Object.defineProperty(an,"passive",{get:function(){Wc=!0}}),window.addEventListener("test",an,an),window.removeEventListener("test",an,an)}catch{Wc=!1}function rb(e,t,s,a,n,o,i,l,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(s,d)}catch(u){this.onError(u)}}var Cn=!1,ji=null,ki=!1,Hc=null,sb={onError:function(e){Cn=!0,ji=e}};function ab(e,t,s,a,n,o,i,l,c){Cn=!1,ji=null,rb.apply(sb,arguments)}function nb(e,t,s,a,n,o,i,l,c){if(ab.apply(this,arguments),Cn){if(Cn){var d=ji;Cn=!1,ji=null}else throw Error(W(198));ki||(ki=!0,Hc=d)}}function Ys(e){var t=e,s=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(s=t.return),e=t.return;while(e)}return t.tag===3?s:null}function Lf(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function U0(e){if(Ys(e)!==e)throw Error(W(188))}function ob(e){var t=e.alternate;if(!t){if(t=Ys(e),t===null)throw Error(W(188));return t!==e?null:e}for(var s=e,a=t;;){var n=s.return;if(n===null)break;var o=n.alternate;if(o===null){if(a=n.return,a!==null){s=a;continue}break}if(n.child===o.child){for(o=n.child;o;){if(o===s)return U0(n),e;if(o===a)return U0(n),t;o=o.sibling}throw Error(W(188))}if(s.return!==a.return)s=n,a=o;else{for(var i=!1,l=n.child;l;){if(l===s){i=!0,s=n,a=o;break}if(l===a){i=!0,a=n,s=o;break}l=l.sibling}if(!i){for(l=o.child;l;){if(l===s){i=!0,s=o,a=n;break}if(l===a){i=!0,a=o,s=n;break}l=l.sibling}if(!i)throw Error(W(189))}}if(s.alternate!==a)throw Error(W(190))}if(s.tag!==3)throw Error(W(188));return s.stateNode.current===s?e:t}function Af(e){return e=ob(e),e!==null?Df(e):null}function Df(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Df(e);if(t!==null)return t;e=e.sibling}return null}var If=Ht.unstable_scheduleCallback,B0=Ht.unstable_cancelCallback,ib=Ht.unstable_shouldYield,lb=Ht.unstable_requestPaint,Ve=Ht.unstable_now,cb=Ht.unstable_getCurrentPriorityLevel,au=Ht.unstable_ImmediatePriority,Mf=Ht.unstable_UserBlockingPriority,Ni=Ht.unstable_NormalPriority,db=Ht.unstable_LowPriority,Of=Ht.unstable_IdlePriority,ol=null,Nr=null;function ub(e){if(Nr&&typeof Nr.onCommitFiberRoot=="function")try{Nr.onCommitFiberRoot(ol,e,void 0,(e.current.flags&128)===128)}catch{}}var mr=Math.clz32?Math.clz32:fb,mb=Math.log,hb=Math.LN2;function fb(e){return e>>>=0,e===0?32:31-(mb(e)/hb|0)|0}var Lo=64,Ao=4194304;function wn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Si(e,t){var s=e.pendingLanes;if(s===0)return 0;var a=0,n=e.suspendedLanes,o=e.pingedLanes,i=s&268435455;if(i!==0){var l=i&~n;l!==0?a=wn(l):(o&=i,o!==0&&(a=wn(o)))}else i=s&~n,i!==0?a=wn(i):o!==0&&(a=wn(o));if(a===0)return 0;if(t!==0&&t!==a&&!(t&n)&&(n=a&-a,o=t&-t,n>=o||n===16&&(o&4194240)!==0))return t;if(a&4&&(a|=s&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=a;0<t;)s=31-mr(t),n=1<<s,a|=e[s],t&=~n;return a}function xb(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gb(e,t){for(var s=e.suspendedLanes,a=e.pingedLanes,n=e.expirationTimes,o=e.pendingLanes;0<o;){var i=31-mr(o),l=1<<i,c=n[i];c===-1?(!(l&s)||l&a)&&(n[i]=xb(l,t)):c<=t&&(e.expiredLanes|=l),o&=~l}}function qc(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function $f(){var e=Lo;return Lo<<=1,!(Lo&4194240)&&(Lo=64),e}function Hl(e){for(var t=[],s=0;31>s;s++)t.push(e);return t}function io(e,t,s){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-mr(t),e[t]=s}function pb(e,t){var s=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var a=e.eventTimes;for(e=e.expirationTimes;0<s;){var n=31-mr(s),o=1<<n;t[n]=0,a[n]=-1,e[n]=-1,s&=~o}}function nu(e,t){var s=e.entangledLanes|=t;for(e=e.entanglements;s;){var a=31-mr(s),n=1<<a;n&t|e[a]&t&&(e[a]|=t),s&=~n}}var Pe=0;function Ff(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var zf,ou,Uf,Bf,Wf,Vc=!1,Do=[],ns=null,os=null,is=null,$n=new Map,Fn=new Map,Zr=[],yb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function W0(e,t){switch(e){case"focusin":case"focusout":ns=null;break;case"dragenter":case"dragleave":os=null;break;case"mouseover":case"mouseout":is=null;break;case"pointerover":case"pointerout":$n.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fn.delete(t.pointerId)}}function nn(e,t,s,a,n,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:s,eventSystemFlags:a,nativeEvent:o,targetContainers:[n]},t!==null&&(t=co(t),t!==null&&ou(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,n!==null&&t.indexOf(n)===-1&&t.push(n),e)}function bb(e,t,s,a,n){switch(t){case"focusin":return ns=nn(ns,e,t,s,a,n),!0;case"dragenter":return os=nn(os,e,t,s,a,n),!0;case"mouseover":return is=nn(is,e,t,s,a,n),!0;case"pointerover":var o=n.pointerId;return $n.set(o,nn($n.get(o)||null,e,t,s,a,n)),!0;case"gotpointercapture":return o=n.pointerId,Fn.set(o,nn(Fn.get(o)||null,e,t,s,a,n)),!0}return!1}function Hf(e){var t=Ps(e.target);if(t!==null){var s=Ys(t);if(s!==null){if(t=s.tag,t===13){if(t=Lf(s),t!==null){e.blockedOn=t,Wf(e.priority,function(){Uf(s)});return}}else if(t===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ti(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var s=Qc(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(s===null){s=e.nativeEvent;var a=new s.constructor(s.type,s);Uc=a,s.target.dispatchEvent(a),Uc=null}else return t=co(s),t!==null&&ou(t),e.blockedOn=s,!1;t.shift()}return!0}function H0(e,t,s){ti(e)&&s.delete(t)}function vb(){Vc=!1,ns!==null&&ti(ns)&&(ns=null),os!==null&&ti(os)&&(os=null),is!==null&&ti(is)&&(is=null),$n.forEach(H0),Fn.forEach(H0)}function on(e,t){e.blockedOn===t&&(e.blockedOn=null,Vc||(Vc=!0,Ht.unstable_scheduleCallback(Ht.unstable_NormalPriority,vb)))}function zn(e){function t(n){return on(n,e)}if(0<Do.length){on(Do[0],e);for(var s=1;s<Do.length;s++){var a=Do[s];a.blockedOn===e&&(a.blockedOn=null)}}for(ns!==null&&on(ns,e),os!==null&&on(os,e),is!==null&&on(is,e),$n.forEach(t),Fn.forEach(t),s=0;s<Zr.length;s++)a=Zr[s],a.blockedOn===e&&(a.blockedOn=null);for(;0<Zr.length&&(s=Zr[0],s.blockedOn===null);)Hf(s),s.blockedOn===null&&Zr.shift()}var va=qr.ReactCurrentBatchConfig,Ci=!0;function wb(e,t,s,a){var n=Pe,o=va.transition;va.transition=null;try{Pe=1,iu(e,t,s,a)}finally{Pe=n,va.transition=o}}function jb(e,t,s,a){var n=Pe,o=va.transition;va.transition=null;try{Pe=4,iu(e,t,s,a)}finally{Pe=n,va.transition=o}}function iu(e,t,s,a){if(Ci){var n=Qc(e,t,s,a);if(n===null)ec(e,t,a,Ei,s),W0(e,a);else if(bb(n,e,t,s,a))a.stopPropagation();else if(W0(e,a),t&4&&-1<yb.indexOf(e)){for(;n!==null;){var o=co(n);if(o!==null&&zf(o),o=Qc(e,t,s,a),o===null&&ec(e,t,a,Ei,s),o===n)break;n=o}n!==null&&a.stopPropagation()}else ec(e,t,a,null,s)}}var Ei=null;function Qc(e,t,s,a){if(Ei=null,e=su(a),e=Ps(e),e!==null)if(t=Ys(e),t===null)e=null;else if(s=t.tag,s===13){if(e=Lf(t),e!==null)return e;e=null}else if(s===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ei=e,null}function qf(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(cb()){case au:return 1;case Mf:return 4;case Ni:case db:return 16;case Of:return 536870912;default:return 16}default:return 16}}var ts=null,lu=null,ri=null;function Vf(){if(ri)return ri;var e,t=lu,s=t.length,a,n="value"in ts?ts.value:ts.textContent,o=n.length;for(e=0;e<s&&t[e]===n[e];e++);var i=s-e;for(a=1;a<=i&&t[s-a]===n[o-a];a++);return ri=n.slice(e,1<a?1-a:void 0)}function si(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Io(){return!0}function q0(){return!1}function Qt(e){function t(s,a,n,o,i){this._reactName=s,this._targetInst=n,this.type=a,this.nativeEvent=o,this.target=i,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(s=e[l],this[l]=s?s(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Io:q0,this.isPropagationStopped=q0,this}return Ue(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Io)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Io)},persist:function(){},isPersistent:Io}),t}var Wa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cu=Qt(Wa),lo=Ue({},Wa,{view:0,detail:0}),kb=Qt(lo),ql,Vl,ln,il=Ue({},lo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:du,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&e.type==="mousemove"?(ql=e.screenX-ln.screenX,Vl=e.screenY-ln.screenY):Vl=ql=0,ln=e),ql)},movementY:function(e){return"movementY"in e?e.movementY:Vl}}),V0=Qt(il),Nb=Ue({},il,{dataTransfer:0}),Sb=Qt(Nb),Cb=Ue({},lo,{relatedTarget:0}),Ql=Qt(Cb),Eb=Ue({},Wa,{animationName:0,elapsedTime:0,pseudoElement:0}),_b=Qt(Eb),Pb=Ue({},Wa,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Rb=Qt(Pb),Tb=Ue({},Wa,{data:0}),Q0=Qt(Tb),Lb={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ab={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Db={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ib(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Db[e])?!!t[e]:!1}function du(){return Ib}var Mb=Ue({},lo,{key:function(e){if(e.key){var t=Lb[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=si(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Ab[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:du,charCode:function(e){return e.type==="keypress"?si(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?si(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Ob=Qt(Mb),$b=Ue({},il,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),G0=Qt($b),Fb=Ue({},lo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:du}),zb=Qt(Fb),Ub=Ue({},Wa,{propertyName:0,elapsedTime:0,pseudoElement:0}),Bb=Qt(Ub),Wb=Ue({},il,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Hb=Qt(Wb),qb=[9,13,27,32],uu=Fr&&"CompositionEvent"in window,En=null;Fr&&"documentMode"in document&&(En=document.documentMode);var Vb=Fr&&"TextEvent"in window&&!En,Qf=Fr&&(!uu||En&&8<En&&11>=En),Y0=String.fromCharCode(32),K0=!1;function Gf(e,t){switch(e){case"keyup":return qb.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Yf(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ia=!1;function Qb(e,t){switch(e){case"compositionend":return Yf(t);case"keypress":return t.which!==32?null:(K0=!0,Y0);case"textInput":return e=t.data,e===Y0&&K0?null:e;default:return null}}function Gb(e,t){if(ia)return e==="compositionend"||!uu&&Gf(e,t)?(e=Vf(),ri=lu=ts=null,ia=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Qf&&t.locale!=="ko"?null:t.data;default:return null}}var Yb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function J0(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Yb[e.type]:t==="textarea"}function Kf(e,t,s,a){Ef(a),t=_i(t,"onChange"),0<t.length&&(s=new cu("onChange","change",null,s,a),e.push({event:s,listeners:t}))}var _n=null,Un=null;function Kb(e){ix(e,0)}function ll(e){var t=da(e);if(vf(t))return e}function Jb(e,t){if(e==="change")return t}var Jf=!1;if(Fr){var Gl;if(Fr){var Yl="oninput"in document;if(!Yl){var X0=document.createElement("div");X0.setAttribute("oninput","return;"),Yl=typeof X0.oninput=="function"}Gl=Yl}else Gl=!1;Jf=Gl&&(!document.documentMode||9<document.documentMode)}function Z0(){_n&&(_n.detachEvent("onpropertychange",Xf),Un=_n=null)}function Xf(e){if(e.propertyName==="value"&&ll(Un)){var t=[];Kf(t,Un,e,su(e)),Tf(Kb,t)}}function Xb(e,t,s){e==="focusin"?(Z0(),_n=t,Un=s,_n.attachEvent("onpropertychange",Xf)):e==="focusout"&&Z0()}function Zb(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ll(Un)}function ev(e,t){if(e==="click")return ll(t)}function tv(e,t){if(e==="input"||e==="change")return ll(t)}function rv(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var gr=typeof Object.is=="function"?Object.is:rv;function Bn(e,t){if(gr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var s=Object.keys(e),a=Object.keys(t);if(s.length!==a.length)return!1;for(a=0;a<s.length;a++){var n=s[a];if(!Pc.call(t,n)||!gr(e[n],t[n]))return!1}return!0}function em(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function tm(e,t){var s=em(e);e=0;for(var a;s;){if(s.nodeType===3){if(a=e+s.textContent.length,e<=t&&a>=t)return{node:s,offset:t-e};e=a}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=em(s)}}function Zf(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Zf(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function ex(){for(var e=window,t=wi();t instanceof e.HTMLIFrameElement;){try{var s=typeof t.contentWindow.location.href=="string"}catch{s=!1}if(s)e=t.contentWindow;else break;t=wi(e.document)}return t}function mu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function sv(e){var t=ex(),s=e.focusedElem,a=e.selectionRange;if(t!==s&&s&&s.ownerDocument&&Zf(s.ownerDocument.documentElement,s)){if(a!==null&&mu(s)){if(t=a.start,e=a.end,e===void 0&&(e=t),"selectionStart"in s)s.selectionStart=t,s.selectionEnd=Math.min(e,s.value.length);else if(e=(t=s.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var n=s.textContent.length,o=Math.min(a.start,n);a=a.end===void 0?o:Math.min(a.end,n),!e.extend&&o>a&&(n=a,a=o,o=n),n=tm(s,o);var i=tm(s,a);n&&i&&(e.rangeCount!==1||e.anchorNode!==n.node||e.anchorOffset!==n.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(n.node,n.offset),e.removeAllRanges(),o>a?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=s;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<t.length;s++)e=t[s],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var av=Fr&&"documentMode"in document&&11>=document.documentMode,la=null,Gc=null,Pn=null,Yc=!1;function rm(e,t,s){var a=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Yc||la==null||la!==wi(a)||(a=la,"selectionStart"in a&&mu(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),Pn&&Bn(Pn,a)||(Pn=a,a=_i(Gc,"onSelect"),0<a.length&&(t=new cu("onSelect","select",null,t,s),e.push({event:t,listeners:a}),t.target=la)))}function Mo(e,t){var s={};return s[e.toLowerCase()]=t.toLowerCase(),s["Webkit"+e]="webkit"+t,s["Moz"+e]="moz"+t,s}var ca={animationend:Mo("Animation","AnimationEnd"),animationiteration:Mo("Animation","AnimationIteration"),animationstart:Mo("Animation","AnimationStart"),transitionend:Mo("Transition","TransitionEnd")},Kl={},tx={};Fr&&(tx=document.createElement("div").style,"AnimationEvent"in window||(delete ca.animationend.animation,delete ca.animationiteration.animation,delete ca.animationstart.animation),"TransitionEvent"in window||delete ca.transitionend.transition);function cl(e){if(Kl[e])return Kl[e];if(!ca[e])return e;var t=ca[e],s;for(s in t)if(t.hasOwnProperty(s)&&s in tx)return Kl[e]=t[s];return e}var rx=cl("animationend"),sx=cl("animationiteration"),ax=cl("animationstart"),nx=cl("transitionend"),ox=new Map,sm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ps(e,t){ox.set(e,t),Gs(t,[e])}for(var Jl=0;Jl<sm.length;Jl++){var Xl=sm[Jl],nv=Xl.toLowerCase(),ov=Xl[0].toUpperCase()+Xl.slice(1);ps(nv,"on"+ov)}ps(rx,"onAnimationEnd");ps(sx,"onAnimationIteration");ps(ax,"onAnimationStart");ps("dblclick","onDoubleClick");ps("focusin","onFocus");ps("focusout","onBlur");ps(nx,"onTransitionEnd");Ca("onMouseEnter",["mouseout","mouseover"]);Ca("onMouseLeave",["mouseout","mouseover"]);Ca("onPointerEnter",["pointerout","pointerover"]);Ca("onPointerLeave",["pointerout","pointerover"]);Gs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Gs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Gs("onBeforeInput",["compositionend","keypress","textInput","paste"]);Gs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Gs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Gs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),iv=new Set("cancel close invalid load scroll toggle".split(" ").concat(jn));function am(e,t,s){var a=e.type||"unknown-event";e.currentTarget=s,nb(a,t,void 0,e),e.currentTarget=null}function ix(e,t){t=(t&4)!==0;for(var s=0;s<e.length;s++){var a=e[s],n=a.event;a=a.listeners;e:{var o=void 0;if(t)for(var i=a.length-1;0<=i;i--){var l=a[i],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==o&&n.isPropagationStopped())break e;am(n,l,d),o=c}else for(i=0;i<a.length;i++){if(l=a[i],c=l.instance,d=l.currentTarget,l=l.listener,c!==o&&n.isPropagationStopped())break e;am(n,l,d),o=c}}}if(ki)throw e=Hc,ki=!1,Hc=null,e}function Ie(e,t){var s=t[ed];s===void 0&&(s=t[ed]=new Set);var a=e+"__bubble";s.has(a)||(lx(t,e,2,!1),s.add(a))}function Zl(e,t,s){var a=0;t&&(a|=4),lx(s,e,a,t)}var Oo="_reactListening"+Math.random().toString(36).slice(2);function Wn(e){if(!e[Oo]){e[Oo]=!0,xf.forEach(function(s){s!=="selectionchange"&&(iv.has(s)||Zl(s,!1,e),Zl(s,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Oo]||(t[Oo]=!0,Zl("selectionchange",!1,t))}}function lx(e,t,s,a){switch(qf(t)){case 1:var n=wb;break;case 4:n=jb;break;default:n=iu}s=n.bind(null,t,s,e),n=void 0,!Wc||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(n=!0),a?n!==void 0?e.addEventListener(t,s,{capture:!0,passive:n}):e.addEventListener(t,s,!0):n!==void 0?e.addEventListener(t,s,{passive:n}):e.addEventListener(t,s,!1)}function ec(e,t,s,a,n){var o=a;if(!(t&1)&&!(t&2)&&a!==null)e:for(;;){if(a===null)return;var i=a.tag;if(i===3||i===4){var l=a.stateNode.containerInfo;if(l===n||l.nodeType===8&&l.parentNode===n)break;if(i===4)for(i=a.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===n||c.nodeType===8&&c.parentNode===n))return;i=i.return}for(;l!==null;){if(i=Ps(l),i===null)return;if(c=i.tag,c===5||c===6){a=o=i;continue e}l=l.parentNode}}a=a.return}Tf(function(){var d=o,u=su(s),m=[];e:{var h=ox.get(e);if(h!==void 0){var v=cu,g=e;switch(e){case"keypress":if(si(s)===0)break e;case"keydown":case"keyup":v=Ob;break;case"focusin":g="focus",v=Ql;break;case"focusout":g="blur",v=Ql;break;case"beforeblur":case"afterblur":v=Ql;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=V0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=Sb;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=zb;break;case rx:case sx:case ax:v=_b;break;case nx:v=Bb;break;case"scroll":v=kb;break;case"wheel":v=Hb;break;case"copy":case"cut":case"paste":v=Rb;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=G0}var w=(t&4)!==0,x=!w&&e==="scroll",f=w?h!==null?h+"Capture":null:h;w=[];for(var b=d,p;b!==null;){p=b;var k=p.stateNode;if(p.tag===5&&k!==null&&(p=k,f!==null&&(k=On(b,f),k!=null&&w.push(Hn(b,k,p)))),x)break;b=b.return}0<w.length&&(h=new v(h,g,null,s,u),m.push({event:h,listeners:w}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",v=e==="mouseout"||e==="pointerout",h&&s!==Uc&&(g=s.relatedTarget||s.fromElement)&&(Ps(g)||g[zr]))break e;if((v||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,v?(g=s.relatedTarget||s.toElement,v=d,g=g?Ps(g):null,g!==null&&(x=Ys(g),g!==x||g.tag!==5&&g.tag!==6)&&(g=null)):(v=null,g=d),v!==g)){if(w=V0,k="onMouseLeave",f="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(w=G0,k="onPointerLeave",f="onPointerEnter",b="pointer"),x=v==null?h:da(v),p=g==null?h:da(g),h=new w(k,b+"leave",v,s,u),h.target=x,h.relatedTarget=p,k=null,Ps(u)===d&&(w=new w(f,b+"enter",g,s,u),w.target=p,w.relatedTarget=x,k=w),x=k,v&&g)t:{for(w=v,f=g,b=0,p=w;p;p=sa(p))b++;for(p=0,k=f;k;k=sa(k))p++;for(;0<b-p;)w=sa(w),b--;for(;0<p-b;)f=sa(f),p--;for(;b--;){if(w===f||f!==null&&w===f.alternate)break t;w=sa(w),f=sa(f)}w=null}else w=null;v!==null&&nm(m,h,v,w,!1),g!==null&&x!==null&&nm(m,x,g,w,!0)}}e:{if(h=d?da(d):window,v=h.nodeName&&h.nodeName.toLowerCase(),v==="select"||v==="input"&&h.type==="file")var E=Jb;else if(J0(h))if(Jf)E=tv;else{E=Zb;var _=Xb}else(v=h.nodeName)&&v.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(E=ev);if(E&&(E=E(e,d))){Kf(m,E,s,u);break e}_&&_(e,h,d),e==="focusout"&&(_=h._wrapperState)&&_.controlled&&h.type==="number"&&Mc(h,"number",h.value)}switch(_=d?da(d):window,e){case"focusin":(J0(_)||_.contentEditable==="true")&&(la=_,Gc=d,Pn=null);break;case"focusout":Pn=Gc=la=null;break;case"mousedown":Yc=!0;break;case"contextmenu":case"mouseup":case"dragend":Yc=!1,rm(m,s,u);break;case"selectionchange":if(av)break;case"keydown":case"keyup":rm(m,s,u)}var j;if(uu)e:{switch(e){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else ia?Gf(e,s)&&(N="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(N="onCompositionStart");N&&(Qf&&s.locale!=="ko"&&(ia||N!=="onCompositionStart"?N==="onCompositionEnd"&&ia&&(j=Vf()):(ts=u,lu="value"in ts?ts.value:ts.textContent,ia=!0)),_=_i(d,N),0<_.length&&(N=new Q0(N,e,null,s,u),m.push({event:N,listeners:_}),j?N.data=j:(j=Yf(s),j!==null&&(N.data=j)))),(j=Vb?Qb(e,s):Gb(e,s))&&(d=_i(d,"onBeforeInput"),0<d.length&&(u=new Q0("onBeforeInput","beforeinput",null,s,u),m.push({event:u,listeners:d}),u.data=j))}ix(m,t)})}function Hn(e,t,s){return{instance:e,listener:t,currentTarget:s}}function _i(e,t){for(var s=t+"Capture",a=[];e!==null;){var n=e,o=n.stateNode;n.tag===5&&o!==null&&(n=o,o=On(e,s),o!=null&&a.unshift(Hn(e,o,n)),o=On(e,t),o!=null&&a.push(Hn(e,o,n))),e=e.return}return a}function sa(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function nm(e,t,s,a,n){for(var o=t._reactName,i=[];s!==null&&s!==a;){var l=s,c=l.alternate,d=l.stateNode;if(c!==null&&c===a)break;l.tag===5&&d!==null&&(l=d,n?(c=On(s,o),c!=null&&i.unshift(Hn(s,c,l))):n||(c=On(s,o),c!=null&&i.push(Hn(s,c,l)))),s=s.return}i.length!==0&&e.push({event:t,listeners:i})}var lv=/\r\n?/g,cv=/\u0000|\uFFFD/g;function om(e){return(typeof e=="string"?e:""+e).replace(lv,`
`).replace(cv,"")}function $o(e,t,s){if(t=om(t),om(e)!==t&&s)throw Error(W(425))}function Pi(){}var Kc=null,Jc=null;function Xc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Zc=typeof setTimeout=="function"?setTimeout:void 0,dv=typeof clearTimeout=="function"?clearTimeout:void 0,im=typeof Promise=="function"?Promise:void 0,uv=typeof queueMicrotask=="function"?queueMicrotask:typeof im<"u"?function(e){return im.resolve(null).then(e).catch(mv)}:Zc;function mv(e){setTimeout(function(){throw e})}function tc(e,t){var s=t,a=0;do{var n=s.nextSibling;if(e.removeChild(s),n&&n.nodeType===8)if(s=n.data,s==="/$"){if(a===0){e.removeChild(n),zn(t);return}a--}else s!=="$"&&s!=="$?"&&s!=="$!"||a++;s=n}while(s);zn(t)}function ls(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function lm(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(t===0)return e;t--}else s==="/$"&&t++}e=e.previousSibling}return null}var Ha=Math.random().toString(36).slice(2),kr="__reactFiber$"+Ha,qn="__reactProps$"+Ha,zr="__reactContainer$"+Ha,ed="__reactEvents$"+Ha,hv="__reactListeners$"+Ha,fv="__reactHandles$"+Ha;function Ps(e){var t=e[kr];if(t)return t;for(var s=e.parentNode;s;){if(t=s[zr]||s[kr]){if(s=t.alternate,t.child!==null||s!==null&&s.child!==null)for(e=lm(e);e!==null;){if(s=e[kr])return s;e=lm(e)}return t}e=s,s=e.parentNode}return null}function co(e){return e=e[kr]||e[zr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function da(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(W(33))}function dl(e){return e[qn]||null}var td=[],ua=-1;function ys(e){return{current:e}}function Me(e){0>ua||(e.current=td[ua],td[ua]=null,ua--)}function De(e,t){ua++,td[ua]=e.current,e.current=t}var xs={},gt=ys(xs),Rt=ys(!1),$s=xs;function Ea(e,t){var s=e.type.contextTypes;if(!s)return xs;var a=e.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===t)return a.__reactInternalMemoizedMaskedChildContext;var n={},o;for(o in s)n[o]=t[o];return a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=n),n}function Tt(e){return e=e.childContextTypes,e!=null}function Ri(){Me(Rt),Me(gt)}function cm(e,t,s){if(gt.current!==xs)throw Error(W(168));De(gt,t),De(Rt,s)}function cx(e,t,s){var a=e.stateNode;if(t=t.childContextTypes,typeof a.getChildContext!="function")return s;a=a.getChildContext();for(var n in a)if(!(n in t))throw Error(W(108,Xy(e)||"Unknown",n));return Ue({},s,a)}function Ti(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||xs,$s=gt.current,De(gt,e),De(Rt,Rt.current),!0}function dm(e,t,s){var a=e.stateNode;if(!a)throw Error(W(169));s?(e=cx(e,t,$s),a.__reactInternalMemoizedMergedChildContext=e,Me(Rt),Me(gt),De(gt,e)):Me(Rt),De(Rt,s)}var Rr=null,ul=!1,rc=!1;function dx(e){Rr===null?Rr=[e]:Rr.push(e)}function xv(e){ul=!0,dx(e)}function bs(){if(!rc&&Rr!==null){rc=!0;var e=0,t=Pe;try{var s=Rr;for(Pe=1;e<s.length;e++){var a=s[e];do a=a(!0);while(a!==null)}Rr=null,ul=!1}catch(n){throw Rr!==null&&(Rr=Rr.slice(e+1)),If(au,bs),n}finally{Pe=t,rc=!1}}return null}var ma=[],ha=0,Li=null,Ai=0,Yt=[],Kt=0,Fs=null,Tr=1,Lr="";function Ns(e,t){ma[ha++]=Ai,ma[ha++]=Li,Li=e,Ai=t}function ux(e,t,s){Yt[Kt++]=Tr,Yt[Kt++]=Lr,Yt[Kt++]=Fs,Fs=e;var a=Tr;e=Lr;var n=32-mr(a)-1;a&=~(1<<n),s+=1;var o=32-mr(t)+n;if(30<o){var i=n-n%5;o=(a&(1<<i)-1).toString(32),a>>=i,n-=i,Tr=1<<32-mr(t)+n|s<<n|a,Lr=o+e}else Tr=1<<o|s<<n|a,Lr=e}function hu(e){e.return!==null&&(Ns(e,1),ux(e,1,0))}function fu(e){for(;e===Li;)Li=ma[--ha],ma[ha]=null,Ai=ma[--ha],ma[ha]=null;for(;e===Fs;)Fs=Yt[--Kt],Yt[Kt]=null,Lr=Yt[--Kt],Yt[Kt]=null,Tr=Yt[--Kt],Yt[Kt]=null}var Bt=null,Ut=null,$e=!1,lr=null;function mx(e,t){var s=Xt(5,null,null,0);s.elementType="DELETED",s.stateNode=t,s.return=e,t=e.deletions,t===null?(e.deletions=[s],e.flags|=16):t.push(s)}function um(e,t){switch(e.tag){case 5:var s=e.type;return t=t.nodeType!==1||s.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Bt=e,Ut=ls(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Bt=e,Ut=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(s=Fs!==null?{id:Tr,overflow:Lr}:null,e.memoizedState={dehydrated:t,treeContext:s,retryLane:1073741824},s=Xt(18,null,null,0),s.stateNode=t,s.return=e,e.child=s,Bt=e,Ut=null,!0):!1;default:return!1}}function rd(e){return(e.mode&1)!==0&&(e.flags&128)===0}function sd(e){if($e){var t=Ut;if(t){var s=t;if(!um(e,t)){if(rd(e))throw Error(W(418));t=ls(s.nextSibling);var a=Bt;t&&um(e,t)?mx(a,s):(e.flags=e.flags&-4097|2,$e=!1,Bt=e)}}else{if(rd(e))throw Error(W(418));e.flags=e.flags&-4097|2,$e=!1,Bt=e}}}function mm(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Bt=e}function Fo(e){if(e!==Bt)return!1;if(!$e)return mm(e),$e=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Xc(e.type,e.memoizedProps)),t&&(t=Ut)){if(rd(e))throw hx(),Error(W(418));for(;t;)mx(e,t),t=ls(t.nextSibling)}if(mm(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(W(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"){if(t===0){Ut=ls(e.nextSibling);break e}t--}else s!=="$"&&s!=="$!"&&s!=="$?"||t++}e=e.nextSibling}Ut=null}}else Ut=Bt?ls(e.stateNode.nextSibling):null;return!0}function hx(){for(var e=Ut;e;)e=ls(e.nextSibling)}function _a(){Ut=Bt=null,$e=!1}function xu(e){lr===null?lr=[e]:lr.push(e)}var gv=qr.ReactCurrentBatchConfig;function cn(e,t,s){if(e=s.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(W(309));var a=s.stateNode}if(!a)throw Error(W(147,e));var n=a,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(i){var l=n.refs;i===null?delete l[o]:l[o]=i},t._stringRef=o,t)}if(typeof e!="string")throw Error(W(284));if(!s._owner)throw Error(W(290,e))}return e}function zo(e,t){throw e=Object.prototype.toString.call(t),Error(W(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function hm(e){var t=e._init;return t(e._payload)}function fx(e){function t(f,b){if(e){var p=f.deletions;p===null?(f.deletions=[b],f.flags|=16):p.push(b)}}function s(f,b){if(!e)return null;for(;b!==null;)t(f,b),b=b.sibling;return null}function a(f,b){for(f=new Map;b!==null;)b.key!==null?f.set(b.key,b):f.set(b.index,b),b=b.sibling;return f}function n(f,b){return f=ms(f,b),f.index=0,f.sibling=null,f}function o(f,b,p){return f.index=p,e?(p=f.alternate,p!==null?(p=p.index,p<b?(f.flags|=2,b):p):(f.flags|=2,b)):(f.flags|=1048576,b)}function i(f){return e&&f.alternate===null&&(f.flags|=2),f}function l(f,b,p,k){return b===null||b.tag!==6?(b=cc(p,f.mode,k),b.return=f,b):(b=n(b,p),b.return=f,b)}function c(f,b,p,k){var E=p.type;return E===oa?u(f,b,p.props.children,k,p.key):b!==null&&(b.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Jr&&hm(E)===b.type)?(k=n(b,p.props),k.ref=cn(f,b,p),k.return=f,k):(k=di(p.type,p.key,p.props,null,f.mode,k),k.ref=cn(f,b,p),k.return=f,k)}function d(f,b,p,k){return b===null||b.tag!==4||b.stateNode.containerInfo!==p.containerInfo||b.stateNode.implementation!==p.implementation?(b=dc(p,f.mode,k),b.return=f,b):(b=n(b,p.children||[]),b.return=f,b)}function u(f,b,p,k,E){return b===null||b.tag!==7?(b=Ms(p,f.mode,k,E),b.return=f,b):(b=n(b,p),b.return=f,b)}function m(f,b,p){if(typeof b=="string"&&b!==""||typeof b=="number")return b=cc(""+b,f.mode,p),b.return=f,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Po:return p=di(b.type,b.key,b.props,null,f.mode,p),p.ref=cn(f,null,b),p.return=f,p;case na:return b=dc(b,f.mode,p),b.return=f,b;case Jr:var k=b._init;return m(f,k(b._payload),p)}if(vn(b)||sn(b))return b=Ms(b,f.mode,p,null),b.return=f,b;zo(f,b)}return null}function h(f,b,p,k){var E=b!==null?b.key:null;if(typeof p=="string"&&p!==""||typeof p=="number")return E!==null?null:l(f,b,""+p,k);if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Po:return p.key===E?c(f,b,p,k):null;case na:return p.key===E?d(f,b,p,k):null;case Jr:return E=p._init,h(f,b,E(p._payload),k)}if(vn(p)||sn(p))return E!==null?null:u(f,b,p,k,null);zo(f,p)}return null}function v(f,b,p,k,E){if(typeof k=="string"&&k!==""||typeof k=="number")return f=f.get(p)||null,l(b,f,""+k,E);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Po:return f=f.get(k.key===null?p:k.key)||null,c(b,f,k,E);case na:return f=f.get(k.key===null?p:k.key)||null,d(b,f,k,E);case Jr:var _=k._init;return v(f,b,p,_(k._payload),E)}if(vn(k)||sn(k))return f=f.get(p)||null,u(b,f,k,E,null);zo(b,k)}return null}function g(f,b,p,k){for(var E=null,_=null,j=b,N=b=0,S=null;j!==null&&N<p.length;N++){j.index>N?(S=j,j=null):S=j.sibling;var A=h(f,j,p[N],k);if(A===null){j===null&&(j=S);break}e&&j&&A.alternate===null&&t(f,j),b=o(A,b,N),_===null?E=A:_.sibling=A,_=A,j=S}if(N===p.length)return s(f,j),$e&&Ns(f,N),E;if(j===null){for(;N<p.length;N++)j=m(f,p[N],k),j!==null&&(b=o(j,b,N),_===null?E=j:_.sibling=j,_=j);return $e&&Ns(f,N),E}for(j=a(f,j);N<p.length;N++)S=v(j,f,N,p[N],k),S!==null&&(e&&S.alternate!==null&&j.delete(S.key===null?N:S.key),b=o(S,b,N),_===null?E=S:_.sibling=S,_=S);return e&&j.forEach(function(M){return t(f,M)}),$e&&Ns(f,N),E}function w(f,b,p,k){var E=sn(p);if(typeof E!="function")throw Error(W(150));if(p=E.call(p),p==null)throw Error(W(151));for(var _=E=null,j=b,N=b=0,S=null,A=p.next();j!==null&&!A.done;N++,A=p.next()){j.index>N?(S=j,j=null):S=j.sibling;var M=h(f,j,A.value,k);if(M===null){j===null&&(j=S);break}e&&j&&M.alternate===null&&t(f,j),b=o(M,b,N),_===null?E=M:_.sibling=M,_=M,j=S}if(A.done)return s(f,j),$e&&Ns(f,N),E;if(j===null){for(;!A.done;N++,A=p.next())A=m(f,A.value,k),A!==null&&(b=o(A,b,N),_===null?E=A:_.sibling=A,_=A);return $e&&Ns(f,N),E}for(j=a(f,j);!A.done;N++,A=p.next())A=v(j,f,N,A.value,k),A!==null&&(e&&A.alternate!==null&&j.delete(A.key===null?N:A.key),b=o(A,b,N),_===null?E=A:_.sibling=A,_=A);return e&&j.forEach(function(F){return t(f,F)}),$e&&Ns(f,N),E}function x(f,b,p,k){if(typeof p=="object"&&p!==null&&p.type===oa&&p.key===null&&(p=p.props.children),typeof p=="object"&&p!==null){switch(p.$$typeof){case Po:e:{for(var E=p.key,_=b;_!==null;){if(_.key===E){if(E=p.type,E===oa){if(_.tag===7){s(f,_.sibling),b=n(_,p.props.children),b.return=f,f=b;break e}}else if(_.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Jr&&hm(E)===_.type){s(f,_.sibling),b=n(_,p.props),b.ref=cn(f,_,p),b.return=f,f=b;break e}s(f,_);break}else t(f,_);_=_.sibling}p.type===oa?(b=Ms(p.props.children,f.mode,k,p.key),b.return=f,f=b):(k=di(p.type,p.key,p.props,null,f.mode,k),k.ref=cn(f,b,p),k.return=f,f=k)}return i(f);case na:e:{for(_=p.key;b!==null;){if(b.key===_)if(b.tag===4&&b.stateNode.containerInfo===p.containerInfo&&b.stateNode.implementation===p.implementation){s(f,b.sibling),b=n(b,p.children||[]),b.return=f,f=b;break e}else{s(f,b);break}else t(f,b);b=b.sibling}b=dc(p,f.mode,k),b.return=f,f=b}return i(f);case Jr:return _=p._init,x(f,b,_(p._payload),k)}if(vn(p))return g(f,b,p,k);if(sn(p))return w(f,b,p,k);zo(f,p)}return typeof p=="string"&&p!==""||typeof p=="number"?(p=""+p,b!==null&&b.tag===6?(s(f,b.sibling),b=n(b,p),b.return=f,f=b):(s(f,b),b=cc(p,f.mode,k),b.return=f,f=b),i(f)):s(f,b)}return x}var Pa=fx(!0),xx=fx(!1),Di=ys(null),Ii=null,fa=null,gu=null;function pu(){gu=fa=Ii=null}function yu(e){var t=Di.current;Me(Di),e._currentValue=t}function ad(e,t,s){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===s)break;e=e.return}}function wa(e,t){Ii=e,gu=fa=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Pt=!0),e.firstContext=null)}function er(e){var t=e._currentValue;if(gu!==e)if(e={context:e,memoizedValue:t,next:null},fa===null){if(Ii===null)throw Error(W(308));fa=e,Ii.dependencies={lanes:0,firstContext:e}}else fa=fa.next=e;return t}var Rs=null;function bu(e){Rs===null?Rs=[e]:Rs.push(e)}function gx(e,t,s,a){var n=t.interleaved;return n===null?(s.next=s,bu(t)):(s.next=n.next,n.next=s),t.interleaved=s,Ur(e,a)}function Ur(e,t){e.lanes|=t;var s=e.alternate;for(s!==null&&(s.lanes|=t),s=e,e=e.return;e!==null;)e.childLanes|=t,s=e.alternate,s!==null&&(s.childLanes|=t),s=e,e=e.return;return s.tag===3?s.stateNode:null}var Xr=!1;function vu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function px(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ir(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function cs(e,t,s){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,Se&2){var n=a.pending;return n===null?t.next=t:(t.next=n.next,n.next=t),a.pending=t,Ur(e,s)}return n=a.interleaved,n===null?(t.next=t,bu(a)):(t.next=n.next,n.next=t),a.interleaved=t,Ur(e,s)}function ai(e,t,s){if(t=t.updateQueue,t!==null&&(t=t.shared,(s&4194240)!==0)){var a=t.lanes;a&=e.pendingLanes,s|=a,t.lanes=s,nu(e,s)}}function fm(e,t){var s=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,s===a)){var n=null,o=null;if(s=s.firstBaseUpdate,s!==null){do{var i={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};o===null?n=o=i:o=o.next=i,s=s.next}while(s!==null);o===null?n=o=t:o=o.next=t}else n=o=t;s={baseState:a.baseState,firstBaseUpdate:n,lastBaseUpdate:o,shared:a.shared,effects:a.effects},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=t:e.next=t,s.lastBaseUpdate=t}function Mi(e,t,s,a){var n=e.updateQueue;Xr=!1;var o=n.firstBaseUpdate,i=n.lastBaseUpdate,l=n.shared.pending;if(l!==null){n.shared.pending=null;var c=l,d=c.next;c.next=null,i===null?o=d:i.next=d,i=c;var u=e.alternate;u!==null&&(u=u.updateQueue,l=u.lastBaseUpdate,l!==i&&(l===null?u.firstBaseUpdate=d:l.next=d,u.lastBaseUpdate=c))}if(o!==null){var m=n.baseState;i=0,u=d=c=null,l=o;do{var h=l.lane,v=l.eventTime;if((a&h)===h){u!==null&&(u=u.next={eventTime:v,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var g=e,w=l;switch(h=t,v=s,w.tag){case 1:if(g=w.payload,typeof g=="function"){m=g.call(v,m,h);break e}m=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=w.payload,h=typeof g=="function"?g.call(v,m,h):g,h==null)break e;m=Ue({},m,h);break e;case 2:Xr=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=n.effects,h===null?n.effects=[l]:h.push(l))}else v={eventTime:v,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},u===null?(d=u=v,c=m):u=u.next=v,i|=h;if(l=l.next,l===null){if(l=n.shared.pending,l===null)break;h=l,l=h.next,h.next=null,n.lastBaseUpdate=h,n.shared.pending=null}}while(1);if(u===null&&(c=m),n.baseState=c,n.firstBaseUpdate=d,n.lastBaseUpdate=u,t=n.shared.interleaved,t!==null){n=t;do i|=n.lane,n=n.next;while(n!==t)}else o===null&&(n.shared.lanes=0);Us|=i,e.lanes=i,e.memoizedState=m}}function xm(e,t,s){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var a=e[t],n=a.callback;if(n!==null){if(a.callback=null,a=s,typeof n!="function")throw Error(W(191,n));n.call(a)}}}var uo={},Sr=ys(uo),Vn=ys(uo),Qn=ys(uo);function Ts(e){if(e===uo)throw Error(W(174));return e}function wu(e,t){switch(De(Qn,t),De(Vn,e),De(Sr,uo),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:$c(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=$c(t,e)}Me(Sr),De(Sr,t)}function Ra(){Me(Sr),Me(Vn),Me(Qn)}function yx(e){Ts(Qn.current);var t=Ts(Sr.current),s=$c(t,e.type);t!==s&&(De(Vn,e),De(Sr,s))}function ju(e){Vn.current===e&&(Me(Sr),Me(Vn))}var Fe=ys(0);function Oi(e){for(var t=e;t!==null;){if(t.tag===13){var s=t.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var sc=[];function ku(){for(var e=0;e<sc.length;e++)sc[e]._workInProgressVersionPrimary=null;sc.length=0}var ni=qr.ReactCurrentDispatcher,ac=qr.ReactCurrentBatchConfig,zs=0,ze=null,Je=null,et=null,$i=!1,Rn=!1,Gn=0,pv=0;function ut(){throw Error(W(321))}function Nu(e,t){if(t===null)return!1;for(var s=0;s<t.length&&s<e.length;s++)if(!gr(e[s],t[s]))return!1;return!0}function Su(e,t,s,a,n,o){if(zs=o,ze=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ni.current=e===null||e.memoizedState===null?wv:jv,e=s(a,n),Rn){o=0;do{if(Rn=!1,Gn=0,25<=o)throw Error(W(301));o+=1,et=Je=null,t.updateQueue=null,ni.current=kv,e=s(a,n)}while(Rn)}if(ni.current=Fi,t=Je!==null&&Je.next!==null,zs=0,et=Je=ze=null,$i=!1,t)throw Error(W(300));return e}function Cu(){var e=Gn!==0;return Gn=0,e}function jr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return et===null?ze.memoizedState=et=e:et=et.next=e,et}function tr(){if(Je===null){var e=ze.alternate;e=e!==null?e.memoizedState:null}else e=Je.next;var t=et===null?ze.memoizedState:et.next;if(t!==null)et=t,Je=e;else{if(e===null)throw Error(W(310));Je=e,e={memoizedState:Je.memoizedState,baseState:Je.baseState,baseQueue:Je.baseQueue,queue:Je.queue,next:null},et===null?ze.memoizedState=et=e:et=et.next=e}return et}function Yn(e,t){return typeof t=="function"?t(e):t}function nc(e){var t=tr(),s=t.queue;if(s===null)throw Error(W(311));s.lastRenderedReducer=e;var a=Je,n=a.baseQueue,o=s.pending;if(o!==null){if(n!==null){var i=n.next;n.next=o.next,o.next=i}a.baseQueue=n=o,s.pending=null}if(n!==null){o=n.next,a=a.baseState;var l=i=null,c=null,d=o;do{var u=d.lane;if((zs&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),a=d.hasEagerState?d.eagerState:e(a,d.action);else{var m={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=m,i=a):c=c.next=m,ze.lanes|=u,Us|=u}d=d.next}while(d!==null&&d!==o);c===null?i=a:c.next=l,gr(a,t.memoizedState)||(Pt=!0),t.memoizedState=a,t.baseState=i,t.baseQueue=c,s.lastRenderedState=a}if(e=s.interleaved,e!==null){n=e;do o=n.lane,ze.lanes|=o,Us|=o,n=n.next;while(n!==e)}else n===null&&(s.lanes=0);return[t.memoizedState,s.dispatch]}function oc(e){var t=tr(),s=t.queue;if(s===null)throw Error(W(311));s.lastRenderedReducer=e;var a=s.dispatch,n=s.pending,o=t.memoizedState;if(n!==null){s.pending=null;var i=n=n.next;do o=e(o,i.action),i=i.next;while(i!==n);gr(o,t.memoizedState)||(Pt=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),s.lastRenderedState=o}return[o,a]}function bx(){}function vx(e,t){var s=ze,a=tr(),n=t(),o=!gr(a.memoizedState,n);if(o&&(a.memoizedState=n,Pt=!0),a=a.queue,Eu(kx.bind(null,s,a,e),[e]),a.getSnapshot!==t||o||et!==null&&et.memoizedState.tag&1){if(s.flags|=2048,Kn(9,jx.bind(null,s,a,n,t),void 0,null),rt===null)throw Error(W(349));zs&30||wx(s,t,n)}return n}function wx(e,t,s){e.flags|=16384,e={getSnapshot:t,value:s},t=ze.updateQueue,t===null?(t={lastEffect:null,stores:null},ze.updateQueue=t,t.stores=[e]):(s=t.stores,s===null?t.stores=[e]:s.push(e))}function jx(e,t,s,a){t.value=s,t.getSnapshot=a,Nx(t)&&Sx(e)}function kx(e,t,s){return s(function(){Nx(t)&&Sx(e)})}function Nx(e){var t=e.getSnapshot;e=e.value;try{var s=t();return!gr(e,s)}catch{return!0}}function Sx(e){var t=Ur(e,1);t!==null&&hr(t,e,1,-1)}function gm(e){var t=jr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Yn,lastRenderedState:e},t.queue=e,e=e.dispatch=vv.bind(null,ze,e),[t.memoizedState,e]}function Kn(e,t,s,a){return e={tag:e,create:t,destroy:s,deps:a,next:null},t=ze.updateQueue,t===null?(t={lastEffect:null,stores:null},ze.updateQueue=t,t.lastEffect=e.next=e):(s=t.lastEffect,s===null?t.lastEffect=e.next=e:(a=s.next,s.next=e,e.next=a,t.lastEffect=e)),e}function Cx(){return tr().memoizedState}function oi(e,t,s,a){var n=jr();ze.flags|=e,n.memoizedState=Kn(1|t,s,void 0,a===void 0?null:a)}function ml(e,t,s,a){var n=tr();a=a===void 0?null:a;var o=void 0;if(Je!==null){var i=Je.memoizedState;if(o=i.destroy,a!==null&&Nu(a,i.deps)){n.memoizedState=Kn(t,s,o,a);return}}ze.flags|=e,n.memoizedState=Kn(1|t,s,o,a)}function pm(e,t){return oi(8390656,8,e,t)}function Eu(e,t){return ml(2048,8,e,t)}function Ex(e,t){return ml(4,2,e,t)}function _x(e,t){return ml(4,4,e,t)}function Px(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Rx(e,t,s){return s=s!=null?s.concat([e]):null,ml(4,4,Px.bind(null,t,e),s)}function _u(){}function Tx(e,t){var s=tr();t=t===void 0?null:t;var a=s.memoizedState;return a!==null&&t!==null&&Nu(t,a[1])?a[0]:(s.memoizedState=[e,t],e)}function Lx(e,t){var s=tr();t=t===void 0?null:t;var a=s.memoizedState;return a!==null&&t!==null&&Nu(t,a[1])?a[0]:(e=e(),s.memoizedState=[e,t],e)}function Ax(e,t,s){return zs&21?(gr(s,t)||(s=$f(),ze.lanes|=s,Us|=s,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Pt=!0),e.memoizedState=s)}function yv(e,t){var s=Pe;Pe=s!==0&&4>s?s:4,e(!0);var a=ac.transition;ac.transition={};try{e(!1),t()}finally{Pe=s,ac.transition=a}}function Dx(){return tr().memoizedState}function bv(e,t,s){var a=us(e);if(s={lane:a,action:s,hasEagerState:!1,eagerState:null,next:null},Ix(e))Mx(t,s);else if(s=gx(e,t,s,a),s!==null){var n=yt();hr(s,e,a,n),Ox(s,t,a)}}function vv(e,t,s){var a=us(e),n={lane:a,action:s,hasEagerState:!1,eagerState:null,next:null};if(Ix(e))Mx(t,n);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var i=t.lastRenderedState,l=o(i,s);if(n.hasEagerState=!0,n.eagerState=l,gr(l,i)){var c=t.interleaved;c===null?(n.next=n,bu(t)):(n.next=c.next,c.next=n),t.interleaved=n;return}}catch{}finally{}s=gx(e,t,n,a),s!==null&&(n=yt(),hr(s,e,a,n),Ox(s,t,a))}}function Ix(e){var t=e.alternate;return e===ze||t!==null&&t===ze}function Mx(e,t){Rn=$i=!0;var s=e.pending;s===null?t.next=t:(t.next=s.next,s.next=t),e.pending=t}function Ox(e,t,s){if(s&4194240){var a=t.lanes;a&=e.pendingLanes,s|=a,t.lanes=s,nu(e,s)}}var Fi={readContext:er,useCallback:ut,useContext:ut,useEffect:ut,useImperativeHandle:ut,useInsertionEffect:ut,useLayoutEffect:ut,useMemo:ut,useReducer:ut,useRef:ut,useState:ut,useDebugValue:ut,useDeferredValue:ut,useTransition:ut,useMutableSource:ut,useSyncExternalStore:ut,useId:ut,unstable_isNewReconciler:!1},wv={readContext:er,useCallback:function(e,t){return jr().memoizedState=[e,t===void 0?null:t],e},useContext:er,useEffect:pm,useImperativeHandle:function(e,t,s){return s=s!=null?s.concat([e]):null,oi(4194308,4,Px.bind(null,t,e),s)},useLayoutEffect:function(e,t){return oi(4194308,4,e,t)},useInsertionEffect:function(e,t){return oi(4,2,e,t)},useMemo:function(e,t){var s=jr();return t=t===void 0?null:t,e=e(),s.memoizedState=[e,t],e},useReducer:function(e,t,s){var a=jr();return t=s!==void 0?s(t):t,a.memoizedState=a.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},a.queue=e,e=e.dispatch=bv.bind(null,ze,e),[a.memoizedState,e]},useRef:function(e){var t=jr();return e={current:e},t.memoizedState=e},useState:gm,useDebugValue:_u,useDeferredValue:function(e){return jr().memoizedState=e},useTransition:function(){var e=gm(!1),t=e[0];return e=yv.bind(null,e[1]),jr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,s){var a=ze,n=jr();if($e){if(s===void 0)throw Error(W(407));s=s()}else{if(s=t(),rt===null)throw Error(W(349));zs&30||wx(a,t,s)}n.memoizedState=s;var o={value:s,getSnapshot:t};return n.queue=o,pm(kx.bind(null,a,o,e),[e]),a.flags|=2048,Kn(9,jx.bind(null,a,o,s,t),void 0,null),s},useId:function(){var e=jr(),t=rt.identifierPrefix;if($e){var s=Lr,a=Tr;s=(a&~(1<<32-mr(a)-1)).toString(32)+s,t=":"+t+"R"+s,s=Gn++,0<s&&(t+="H"+s.toString(32)),t+=":"}else s=pv++,t=":"+t+"r"+s.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},jv={readContext:er,useCallback:Tx,useContext:er,useEffect:Eu,useImperativeHandle:Rx,useInsertionEffect:Ex,useLayoutEffect:_x,useMemo:Lx,useReducer:nc,useRef:Cx,useState:function(){return nc(Yn)},useDebugValue:_u,useDeferredValue:function(e){var t=tr();return Ax(t,Je.memoizedState,e)},useTransition:function(){var e=nc(Yn)[0],t=tr().memoizedState;return[e,t]},useMutableSource:bx,useSyncExternalStore:vx,useId:Dx,unstable_isNewReconciler:!1},kv={readContext:er,useCallback:Tx,useContext:er,useEffect:Eu,useImperativeHandle:Rx,useInsertionEffect:Ex,useLayoutEffect:_x,useMemo:Lx,useReducer:oc,useRef:Cx,useState:function(){return oc(Yn)},useDebugValue:_u,useDeferredValue:function(e){var t=tr();return Je===null?t.memoizedState=e:Ax(t,Je.memoizedState,e)},useTransition:function(){var e=oc(Yn)[0],t=tr().memoizedState;return[e,t]},useMutableSource:bx,useSyncExternalStore:vx,useId:Dx,unstable_isNewReconciler:!1};function nr(e,t){if(e&&e.defaultProps){t=Ue({},t),e=e.defaultProps;for(var s in e)t[s]===void 0&&(t[s]=e[s]);return t}return t}function nd(e,t,s,a){t=e.memoizedState,s=s(a,t),s=s==null?t:Ue({},t,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var hl={isMounted:function(e){return(e=e._reactInternals)?Ys(e)===e:!1},enqueueSetState:function(e,t,s){e=e._reactInternals;var a=yt(),n=us(e),o=Ir(a,n);o.payload=t,s!=null&&(o.callback=s),t=cs(e,o,n),t!==null&&(hr(t,e,n,a),ai(t,e,n))},enqueueReplaceState:function(e,t,s){e=e._reactInternals;var a=yt(),n=us(e),o=Ir(a,n);o.tag=1,o.payload=t,s!=null&&(o.callback=s),t=cs(e,o,n),t!==null&&(hr(t,e,n,a),ai(t,e,n))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var s=yt(),a=us(e),n=Ir(s,a);n.tag=2,t!=null&&(n.callback=t),t=cs(e,n,a),t!==null&&(hr(t,e,a,s),ai(t,e,a))}};function ym(e,t,s,a,n,o,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,o,i):t.prototype&&t.prototype.isPureReactComponent?!Bn(s,a)||!Bn(n,o):!0}function $x(e,t,s){var a=!1,n=xs,o=t.contextType;return typeof o=="object"&&o!==null?o=er(o):(n=Tt(t)?$s:gt.current,a=t.contextTypes,o=(a=a!=null)?Ea(e,n):xs),t=new t(s,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=hl,e.stateNode=t,t._reactInternals=e,a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=o),t}function bm(e,t,s,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(s,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(s,a),t.state!==e&&hl.enqueueReplaceState(t,t.state,null)}function od(e,t,s,a){var n=e.stateNode;n.props=s,n.state=e.memoizedState,n.refs={},vu(e);var o=t.contextType;typeof o=="object"&&o!==null?n.context=er(o):(o=Tt(t)?$s:gt.current,n.context=Ea(e,o)),n.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(nd(e,t,o,s),n.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof n.getSnapshotBeforeUpdate=="function"||typeof n.UNSAFE_componentWillMount!="function"&&typeof n.componentWillMount!="function"||(t=n.state,typeof n.componentWillMount=="function"&&n.componentWillMount(),typeof n.UNSAFE_componentWillMount=="function"&&n.UNSAFE_componentWillMount(),t!==n.state&&hl.enqueueReplaceState(n,n.state,null),Mi(e,s,n,a),n.state=e.memoizedState),typeof n.componentDidMount=="function"&&(e.flags|=4194308)}function Ta(e,t){try{var s="",a=t;do s+=Jy(a),a=a.return;while(a);var n=s}catch(o){n=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:n,digest:null}}function ic(e,t,s){return{value:e,source:null,stack:s??null,digest:t??null}}function id(e,t){try{console.error(t.value)}catch(s){setTimeout(function(){throw s})}}var Nv=typeof WeakMap=="function"?WeakMap:Map;function Fx(e,t,s){s=Ir(-1,s),s.tag=3,s.payload={element:null};var a=t.value;return s.callback=function(){Ui||(Ui=!0,pd=a),id(e,t)},s}function zx(e,t,s){s=Ir(-1,s),s.tag=3;var a=e.type.getDerivedStateFromError;if(typeof a=="function"){var n=t.value;s.payload=function(){return a(n)},s.callback=function(){id(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(s.callback=function(){id(e,t),typeof a!="function"&&(ds===null?ds=new Set([this]):ds.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),s}function vm(e,t,s){var a=e.pingCache;if(a===null){a=e.pingCache=new Nv;var n=new Set;a.set(t,n)}else n=a.get(t),n===void 0&&(n=new Set,a.set(t,n));n.has(s)||(n.add(s),e=$v.bind(null,e,t,s),t.then(e,e))}function wm(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function jm(e,t,s,a,n){return e.mode&1?(e.flags|=65536,e.lanes=n,e):(e===t?e.flags|=65536:(e.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(t=Ir(-1,1),t.tag=2,cs(s,t,1))),s.lanes|=1),e)}var Sv=qr.ReactCurrentOwner,Pt=!1;function pt(e,t,s,a){t.child=e===null?xx(t,null,s,a):Pa(t,e.child,s,a)}function km(e,t,s,a,n){s=s.render;var o=t.ref;return wa(t,n),a=Su(e,t,s,a,o,n),s=Cu(),e!==null&&!Pt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n,Br(e,t,n)):($e&&s&&hu(t),t.flags|=1,pt(e,t,a,n),t.child)}function Nm(e,t,s,a,n){if(e===null){var o=s.type;return typeof o=="function"&&!Mu(o)&&o.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(t.tag=15,t.type=o,Ux(e,t,o,a,n)):(e=di(s.type,null,a,t,t.mode,n),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&n)){var i=o.memoizedProps;if(s=s.compare,s=s!==null?s:Bn,s(i,a)&&e.ref===t.ref)return Br(e,t,n)}return t.flags|=1,e=ms(o,a),e.ref=t.ref,e.return=t,t.child=e}function Ux(e,t,s,a,n){if(e!==null){var o=e.memoizedProps;if(Bn(o,a)&&e.ref===t.ref)if(Pt=!1,t.pendingProps=a=o,(e.lanes&n)!==0)e.flags&131072&&(Pt=!0);else return t.lanes=e.lanes,Br(e,t,n)}return ld(e,t,s,a,n)}function Bx(e,t,s){var a=t.pendingProps,n=a.children,o=e!==null?e.memoizedState:null;if(a.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},De(ga,Ft),Ft|=s;else{if(!(s&1073741824))return e=o!==null?o.baseLanes|s:s,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,De(ga,Ft),Ft|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=o!==null?o.baseLanes:s,De(ga,Ft),Ft|=a}else o!==null?(a=o.baseLanes|s,t.memoizedState=null):a=s,De(ga,Ft),Ft|=a;return pt(e,t,n,s),t.child}function Wx(e,t){var s=t.ref;(e===null&&s!==null||e!==null&&e.ref!==s)&&(t.flags|=512,t.flags|=2097152)}function ld(e,t,s,a,n){var o=Tt(s)?$s:gt.current;return o=Ea(t,o),wa(t,n),s=Su(e,t,s,a,o,n),a=Cu(),e!==null&&!Pt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n,Br(e,t,n)):($e&&a&&hu(t),t.flags|=1,pt(e,t,s,n),t.child)}function Sm(e,t,s,a,n){if(Tt(s)){var o=!0;Ti(t)}else o=!1;if(wa(t,n),t.stateNode===null)ii(e,t),$x(t,s,a),od(t,s,a,n),a=!0;else if(e===null){var i=t.stateNode,l=t.memoizedProps;i.props=l;var c=i.context,d=s.contextType;typeof d=="object"&&d!==null?d=er(d):(d=Tt(s)?$s:gt.current,d=Ea(t,d));var u=s.getDerivedStateFromProps,m=typeof u=="function"||typeof i.getSnapshotBeforeUpdate=="function";m||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==a||c!==d)&&bm(t,i,a,d),Xr=!1;var h=t.memoizedState;i.state=h,Mi(t,a,i,n),c=t.memoizedState,l!==a||h!==c||Rt.current||Xr?(typeof u=="function"&&(nd(t,s,u,a),c=t.memoizedState),(l=Xr||ym(t,s,l,a,h,c,d))?(m||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=c),i.props=a,i.state=c,i.context=d,a=l):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{i=t.stateNode,px(e,t),l=t.memoizedProps,d=t.type===t.elementType?l:nr(t.type,l),i.props=d,m=t.pendingProps,h=i.context,c=s.contextType,typeof c=="object"&&c!==null?c=er(c):(c=Tt(s)?$s:gt.current,c=Ea(t,c));var v=s.getDerivedStateFromProps;(u=typeof v=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==m||h!==c)&&bm(t,i,a,c),Xr=!1,h=t.memoizedState,i.state=h,Mi(t,a,i,n);var g=t.memoizedState;l!==m||h!==g||Rt.current||Xr?(typeof v=="function"&&(nd(t,s,v,a),g=t.memoizedState),(d=Xr||ym(t,s,d,a,h,g,c)||!1)?(u||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(a,g,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(a,g,c)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=g),i.props=a,i.state=g,i.context=c,a=d):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),a=!1)}return cd(e,t,s,a,o,n)}function cd(e,t,s,a,n,o){Wx(e,t);var i=(t.flags&128)!==0;if(!a&&!i)return n&&dm(t,s,!1),Br(e,t,o);a=t.stateNode,Sv.current=t;var l=i&&typeof s.getDerivedStateFromError!="function"?null:a.render();return t.flags|=1,e!==null&&i?(t.child=Pa(t,e.child,null,o),t.child=Pa(t,null,l,o)):pt(e,t,l,o),t.memoizedState=a.state,n&&dm(t,s,!0),t.child}function Hx(e){var t=e.stateNode;t.pendingContext?cm(e,t.pendingContext,t.pendingContext!==t.context):t.context&&cm(e,t.context,!1),wu(e,t.containerInfo)}function Cm(e,t,s,a,n){return _a(),xu(n),t.flags|=256,pt(e,t,s,a),t.child}var dd={dehydrated:null,treeContext:null,retryLane:0};function ud(e){return{baseLanes:e,cachePool:null,transitions:null}}function qx(e,t,s){var a=t.pendingProps,n=Fe.current,o=!1,i=(t.flags&128)!==0,l;if((l=i)||(l=e!==null&&e.memoizedState===null?!1:(n&2)!==0),l?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(n|=1),De(Fe,n&1),e===null)return sd(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=a.children,e=a.fallback,o?(a=t.mode,o=t.child,i={mode:"hidden",children:i},!(a&1)&&o!==null?(o.childLanes=0,o.pendingProps=i):o=gl(i,a,0,null),e=Ms(e,a,s,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=ud(s),t.memoizedState=dd,e):Pu(t,i));if(n=e.memoizedState,n!==null&&(l=n.dehydrated,l!==null))return Cv(e,t,i,a,l,n,s);if(o){o=a.fallback,i=t.mode,n=e.child,l=n.sibling;var c={mode:"hidden",children:a.children};return!(i&1)&&t.child!==n?(a=t.child,a.childLanes=0,a.pendingProps=c,t.deletions=null):(a=ms(n,c),a.subtreeFlags=n.subtreeFlags&14680064),l!==null?o=ms(l,o):(o=Ms(o,i,s,null),o.flags|=2),o.return=t,a.return=t,a.sibling=o,t.child=a,a=o,o=t.child,i=e.child.memoizedState,i=i===null?ud(s):{baseLanes:i.baseLanes|s,cachePool:null,transitions:i.transitions},o.memoizedState=i,o.childLanes=e.childLanes&~s,t.memoizedState=dd,a}return o=e.child,e=o.sibling,a=ms(o,{mode:"visible",children:a.children}),!(t.mode&1)&&(a.lanes=s),a.return=t,a.sibling=null,e!==null&&(s=t.deletions,s===null?(t.deletions=[e],t.flags|=16):s.push(e)),t.child=a,t.memoizedState=null,a}function Pu(e,t){return t=gl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Uo(e,t,s,a){return a!==null&&xu(a),Pa(t,e.child,null,s),e=Pu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Cv(e,t,s,a,n,o,i){if(s)return t.flags&256?(t.flags&=-257,a=ic(Error(W(422))),Uo(e,t,i,a)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=a.fallback,n=t.mode,a=gl({mode:"visible",children:a.children},n,0,null),o=Ms(o,n,i,null),o.flags|=2,a.return=t,o.return=t,a.sibling=o,t.child=a,t.mode&1&&Pa(t,e.child,null,i),t.child.memoizedState=ud(i),t.memoizedState=dd,o);if(!(t.mode&1))return Uo(e,t,i,null);if(n.data==="$!"){if(a=n.nextSibling&&n.nextSibling.dataset,a)var l=a.dgst;return a=l,o=Error(W(419)),a=ic(o,a,void 0),Uo(e,t,i,a)}if(l=(i&e.childLanes)!==0,Pt||l){if(a=rt,a!==null){switch(i&-i){case 4:n=2;break;case 16:n=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:n=32;break;case 536870912:n=268435456;break;default:n=0}n=n&(a.suspendedLanes|i)?0:n,n!==0&&n!==o.retryLane&&(o.retryLane=n,Ur(e,n),hr(a,e,n,-1))}return Iu(),a=ic(Error(W(421))),Uo(e,t,i,a)}return n.data==="$?"?(t.flags|=128,t.child=e.child,t=Fv.bind(null,e),n._reactRetry=t,null):(e=o.treeContext,Ut=ls(n.nextSibling),Bt=t,$e=!0,lr=null,e!==null&&(Yt[Kt++]=Tr,Yt[Kt++]=Lr,Yt[Kt++]=Fs,Tr=e.id,Lr=e.overflow,Fs=t),t=Pu(t,a.children),t.flags|=4096,t)}function Em(e,t,s){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),ad(e.return,t,s)}function lc(e,t,s,a,n){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:s,tailMode:n}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=a,o.tail=s,o.tailMode=n)}function Vx(e,t,s){var a=t.pendingProps,n=a.revealOrder,o=a.tail;if(pt(e,t,a.children,s),a=Fe.current,a&2)a=a&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Em(e,s,t);else if(e.tag===19)Em(e,s,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}if(De(Fe,a),!(t.mode&1))t.memoizedState=null;else switch(n){case"forwards":for(s=t.child,n=null;s!==null;)e=s.alternate,e!==null&&Oi(e)===null&&(n=s),s=s.sibling;s=n,s===null?(n=t.child,t.child=null):(n=s.sibling,s.sibling=null),lc(t,!1,n,s,o);break;case"backwards":for(s=null,n=t.child,t.child=null;n!==null;){if(e=n.alternate,e!==null&&Oi(e)===null){t.child=n;break}e=n.sibling,n.sibling=s,s=n,n=e}lc(t,!0,s,null,o);break;case"together":lc(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ii(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Br(e,t,s){if(e!==null&&(t.dependencies=e.dependencies),Us|=t.lanes,!(s&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(W(153));if(t.child!==null){for(e=t.child,s=ms(e,e.pendingProps),t.child=s,s.return=t;e.sibling!==null;)e=e.sibling,s=s.sibling=ms(e,e.pendingProps),s.return=t;s.sibling=null}return t.child}function Ev(e,t,s){switch(t.tag){case 3:Hx(t),_a();break;case 5:yx(t);break;case 1:Tt(t.type)&&Ti(t);break;case 4:wu(t,t.stateNode.containerInfo);break;case 10:var a=t.type._context,n=t.memoizedProps.value;De(Di,a._currentValue),a._currentValue=n;break;case 13:if(a=t.memoizedState,a!==null)return a.dehydrated!==null?(De(Fe,Fe.current&1),t.flags|=128,null):s&t.child.childLanes?qx(e,t,s):(De(Fe,Fe.current&1),e=Br(e,t,s),e!==null?e.sibling:null);De(Fe,Fe.current&1);break;case 19:if(a=(s&t.childLanes)!==0,e.flags&128){if(a)return Vx(e,t,s);t.flags|=128}if(n=t.memoizedState,n!==null&&(n.rendering=null,n.tail=null,n.lastEffect=null),De(Fe,Fe.current),a)break;return null;case 22:case 23:return t.lanes=0,Bx(e,t,s)}return Br(e,t,s)}var Qx,md,Gx,Yx;Qx=function(e,t){for(var s=t.child;s!==null;){if(s.tag===5||s.tag===6)e.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return;s=s.return}s.sibling.return=s.return,s=s.sibling}};md=function(){};Gx=function(e,t,s,a){var n=e.memoizedProps;if(n!==a){e=t.stateNode,Ts(Sr.current);var o=null;switch(s){case"input":n=Dc(e,n),a=Dc(e,a),o=[];break;case"select":n=Ue({},n,{value:void 0}),a=Ue({},a,{value:void 0}),o=[];break;case"textarea":n=Oc(e,n),a=Oc(e,a),o=[];break;default:typeof n.onClick!="function"&&typeof a.onClick=="function"&&(e.onclick=Pi)}Fc(s,a);var i;s=null;for(d in n)if(!a.hasOwnProperty(d)&&n.hasOwnProperty(d)&&n[d]!=null)if(d==="style"){var l=n[d];for(i in l)l.hasOwnProperty(i)&&(s||(s={}),s[i]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(In.hasOwnProperty(d)?o||(o=[]):(o=o||[]).push(d,null));for(d in a){var c=a[d];if(l=n!=null?n[d]:void 0,a.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(s||(s={}),s[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(s||(s={}),s[i]=c[i])}else s||(o||(o=[]),o.push(d,s)),s=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(o=o||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(o=o||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(In.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&Ie("scroll",e),o||l===c||(o=[])):(o=o||[]).push(d,c))}s&&(o=o||[]).push("style",s);var d=o;(t.updateQueue=d)&&(t.flags|=4)}};Yx=function(e,t,s,a){s!==a&&(t.flags|=4)};function dn(e,t){if(!$e)switch(e.tailMode){case"hidden":t=e.tail;for(var s=null;t!==null;)t.alternate!==null&&(s=t),t=t.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function mt(e){var t=e.alternate!==null&&e.alternate.child===e.child,s=0,a=0;if(t)for(var n=e.child;n!==null;)s|=n.lanes|n.childLanes,a|=n.subtreeFlags&14680064,a|=n.flags&14680064,n.return=e,n=n.sibling;else for(n=e.child;n!==null;)s|=n.lanes|n.childLanes,a|=n.subtreeFlags,a|=n.flags,n.return=e,n=n.sibling;return e.subtreeFlags|=a,e.childLanes=s,t}function _v(e,t,s){var a=t.pendingProps;switch(fu(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return mt(t),null;case 1:return Tt(t.type)&&Ri(),mt(t),null;case 3:return a=t.stateNode,Ra(),Me(Rt),Me(gt),ku(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Fo(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,lr!==null&&(vd(lr),lr=null))),md(e,t),mt(t),null;case 5:ju(t);var n=Ts(Qn.current);if(s=t.type,e!==null&&t.stateNode!=null)Gx(e,t,s,a,n),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!a){if(t.stateNode===null)throw Error(W(166));return mt(t),null}if(e=Ts(Sr.current),Fo(t)){a=t.stateNode,s=t.type;var o=t.memoizedProps;switch(a[kr]=t,a[qn]=o,e=(t.mode&1)!==0,s){case"dialog":Ie("cancel",a),Ie("close",a);break;case"iframe":case"object":case"embed":Ie("load",a);break;case"video":case"audio":for(n=0;n<jn.length;n++)Ie(jn[n],a);break;case"source":Ie("error",a);break;case"img":case"image":case"link":Ie("error",a),Ie("load",a);break;case"details":Ie("toggle",a);break;case"input":M0(a,o),Ie("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!o.multiple},Ie("invalid",a);break;case"textarea":$0(a,o),Ie("invalid",a)}Fc(s,o),n=null;for(var i in o)if(o.hasOwnProperty(i)){var l=o[i];i==="children"?typeof l=="string"?a.textContent!==l&&(o.suppressHydrationWarning!==!0&&$o(a.textContent,l,e),n=["children",l]):typeof l=="number"&&a.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&$o(a.textContent,l,e),n=["children",""+l]):In.hasOwnProperty(i)&&l!=null&&i==="onScroll"&&Ie("scroll",a)}switch(s){case"input":Ro(a),O0(a,o,!0);break;case"textarea":Ro(a),F0(a);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(a.onclick=Pi)}a=n,t.updateQueue=a,a!==null&&(t.flags|=4)}else{i=n.nodeType===9?n:n.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=kf(s)),e==="http://www.w3.org/1999/xhtml"?s==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof a.is=="string"?e=i.createElement(s,{is:a.is}):(e=i.createElement(s),s==="select"&&(i=e,a.multiple?i.multiple=!0:a.size&&(i.size=a.size))):e=i.createElementNS(e,s),e[kr]=t,e[qn]=a,Qx(e,t,!1,!1),t.stateNode=e;e:{switch(i=zc(s,a),s){case"dialog":Ie("cancel",e),Ie("close",e),n=a;break;case"iframe":case"object":case"embed":Ie("load",e),n=a;break;case"video":case"audio":for(n=0;n<jn.length;n++)Ie(jn[n],e);n=a;break;case"source":Ie("error",e),n=a;break;case"img":case"image":case"link":Ie("error",e),Ie("load",e),n=a;break;case"details":Ie("toggle",e),n=a;break;case"input":M0(e,a),n=Dc(e,a),Ie("invalid",e);break;case"option":n=a;break;case"select":e._wrapperState={wasMultiple:!!a.multiple},n=Ue({},a,{value:void 0}),Ie("invalid",e);break;case"textarea":$0(e,a),n=Oc(e,a),Ie("invalid",e);break;default:n=a}Fc(s,n),l=n;for(o in l)if(l.hasOwnProperty(o)){var c=l[o];o==="style"?Cf(e,c):o==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Nf(e,c)):o==="children"?typeof c=="string"?(s!=="textarea"||c!=="")&&Mn(e,c):typeof c=="number"&&Mn(e,""+c):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(In.hasOwnProperty(o)?c!=null&&o==="onScroll"&&Ie("scroll",e):c!=null&&Zd(e,o,c,i))}switch(s){case"input":Ro(e),O0(e,a,!1);break;case"textarea":Ro(e),F0(e);break;case"option":a.value!=null&&e.setAttribute("value",""+fs(a.value));break;case"select":e.multiple=!!a.multiple,o=a.value,o!=null?pa(e,!!a.multiple,o,!1):a.defaultValue!=null&&pa(e,!!a.multiple,a.defaultValue,!0);break;default:typeof n.onClick=="function"&&(e.onclick=Pi)}switch(s){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return mt(t),null;case 6:if(e&&t.stateNode!=null)Yx(e,t,e.memoizedProps,a);else{if(typeof a!="string"&&t.stateNode===null)throw Error(W(166));if(s=Ts(Qn.current),Ts(Sr.current),Fo(t)){if(a=t.stateNode,s=t.memoizedProps,a[kr]=t,(o=a.nodeValue!==s)&&(e=Bt,e!==null))switch(e.tag){case 3:$o(a.nodeValue,s,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&$o(a.nodeValue,s,(e.mode&1)!==0)}o&&(t.flags|=4)}else a=(s.nodeType===9?s:s.ownerDocument).createTextNode(a),a[kr]=t,t.stateNode=a}return mt(t),null;case 13:if(Me(Fe),a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if($e&&Ut!==null&&t.mode&1&&!(t.flags&128))hx(),_a(),t.flags|=98560,o=!1;else if(o=Fo(t),a!==null&&a.dehydrated!==null){if(e===null){if(!o)throw Error(W(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(W(317));o[kr]=t}else _a(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;mt(t),o=!1}else lr!==null&&(vd(lr),lr=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=s,t):(a=a!==null,a!==(e!==null&&e.memoizedState!==null)&&a&&(t.child.flags|=8192,t.mode&1&&(e===null||Fe.current&1?Xe===0&&(Xe=3):Iu())),t.updateQueue!==null&&(t.flags|=4),mt(t),null);case 4:return Ra(),md(e,t),e===null&&Wn(t.stateNode.containerInfo),mt(t),null;case 10:return yu(t.type._context),mt(t),null;case 17:return Tt(t.type)&&Ri(),mt(t),null;case 19:if(Me(Fe),o=t.memoizedState,o===null)return mt(t),null;if(a=(t.flags&128)!==0,i=o.rendering,i===null)if(a)dn(o,!1);else{if(Xe!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=Oi(e),i!==null){for(t.flags|=128,dn(o,!1),a=i.updateQueue,a!==null&&(t.updateQueue=a,t.flags|=4),t.subtreeFlags=0,a=s,s=t.child;s!==null;)o=s,e=a,o.flags&=14680066,i=o.alternate,i===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,o.type=i.type,e=i.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),s=s.sibling;return De(Fe,Fe.current&1|2),t.child}e=e.sibling}o.tail!==null&&Ve()>La&&(t.flags|=128,a=!0,dn(o,!1),t.lanes=4194304)}else{if(!a)if(e=Oi(i),e!==null){if(t.flags|=128,a=!0,s=e.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),dn(o,!0),o.tail===null&&o.tailMode==="hidden"&&!i.alternate&&!$e)return mt(t),null}else 2*Ve()-o.renderingStartTime>La&&s!==1073741824&&(t.flags|=128,a=!0,dn(o,!1),t.lanes=4194304);o.isBackwards?(i.sibling=t.child,t.child=i):(s=o.last,s!==null?s.sibling=i:t.child=i,o.last=i)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Ve(),t.sibling=null,s=Fe.current,De(Fe,a?s&1|2:s&1),t):(mt(t),null);case 22:case 23:return Du(),a=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==a&&(t.flags|=8192),a&&t.mode&1?Ft&1073741824&&(mt(t),t.subtreeFlags&6&&(t.flags|=8192)):mt(t),null;case 24:return null;case 25:return null}throw Error(W(156,t.tag))}function Pv(e,t){switch(fu(t),t.tag){case 1:return Tt(t.type)&&Ri(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ra(),Me(Rt),Me(gt),ku(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return ju(t),null;case 13:if(Me(Fe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(W(340));_a()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Me(Fe),null;case 4:return Ra(),null;case 10:return yu(t.type._context),null;case 22:case 23:return Du(),null;case 24:return null;default:return null}}var Bo=!1,ft=!1,Rv=typeof WeakSet=="function"?WeakSet:Set,ee=null;function xa(e,t){var s=e.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(a){He(e,t,a)}else s.current=null}function hd(e,t,s){try{s()}catch(a){He(e,t,a)}}var _m=!1;function Tv(e,t){if(Kc=Ci,e=ex(),mu(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var a=s.getSelection&&s.getSelection();if(a&&a.rangeCount!==0){s=a.anchorNode;var n=a.anchorOffset,o=a.focusNode;a=a.focusOffset;try{s.nodeType,o.nodeType}catch{s=null;break e}var i=0,l=-1,c=-1,d=0,u=0,m=e,h=null;t:for(;;){for(var v;m!==s||n!==0&&m.nodeType!==3||(l=i+n),m!==o||a!==0&&m.nodeType!==3||(c=i+a),m.nodeType===3&&(i+=m.nodeValue.length),(v=m.firstChild)!==null;)h=m,m=v;for(;;){if(m===e)break t;if(h===s&&++d===n&&(l=i),h===o&&++u===a&&(c=i),(v=m.nextSibling)!==null)break;m=h,h=m.parentNode}m=v}s=l===-1||c===-1?null:{start:l,end:c}}else s=null}s=s||{start:0,end:0}}else s=null;for(Jc={focusedElem:e,selectionRange:s},Ci=!1,ee=t;ee!==null;)if(t=ee,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ee=e;else for(;ee!==null;){t=ee;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var w=g.memoizedProps,x=g.memoizedState,f=t.stateNode,b=f.getSnapshotBeforeUpdate(t.elementType===t.type?w:nr(t.type,w),x);f.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var p=t.stateNode.containerInfo;p.nodeType===1?p.textContent="":p.nodeType===9&&p.documentElement&&p.removeChild(p.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(W(163))}}catch(k){He(t,t.return,k)}if(e=t.sibling,e!==null){e.return=t.return,ee=e;break}ee=t.return}return g=_m,_m=!1,g}function Tn(e,t,s){var a=t.updateQueue;if(a=a!==null?a.lastEffect:null,a!==null){var n=a=a.next;do{if((n.tag&e)===e){var o=n.destroy;n.destroy=void 0,o!==void 0&&hd(t,s,o)}n=n.next}while(n!==a)}}function fl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var s=t=t.next;do{if((s.tag&e)===e){var a=s.create;s.destroy=a()}s=s.next}while(s!==t)}}function fd(e){var t=e.ref;if(t!==null){var s=e.stateNode;switch(e.tag){case 5:e=s;break;default:e=s}typeof t=="function"?t(e):t.current=e}}function Kx(e){var t=e.alternate;t!==null&&(e.alternate=null,Kx(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[kr],delete t[qn],delete t[ed],delete t[hv],delete t[fv])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Jx(e){return e.tag===5||e.tag===3||e.tag===4}function Pm(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Jx(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function xd(e,t,s){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?s.nodeType===8?s.parentNode.insertBefore(e,t):s.insertBefore(e,t):(s.nodeType===8?(t=s.parentNode,t.insertBefore(e,s)):(t=s,t.appendChild(e)),s=s._reactRootContainer,s!=null||t.onclick!==null||(t.onclick=Pi));else if(a!==4&&(e=e.child,e!==null))for(xd(e,t,s),e=e.sibling;e!==null;)xd(e,t,s),e=e.sibling}function gd(e,t,s){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?s.insertBefore(e,t):s.appendChild(e);else if(a!==4&&(e=e.child,e!==null))for(gd(e,t,s),e=e.sibling;e!==null;)gd(e,t,s),e=e.sibling}var it=null,or=!1;function Yr(e,t,s){for(s=s.child;s!==null;)Xx(e,t,s),s=s.sibling}function Xx(e,t,s){if(Nr&&typeof Nr.onCommitFiberUnmount=="function")try{Nr.onCommitFiberUnmount(ol,s)}catch{}switch(s.tag){case 5:ft||xa(s,t);case 6:var a=it,n=or;it=null,Yr(e,t,s),it=a,or=n,it!==null&&(or?(e=it,s=s.stateNode,e.nodeType===8?e.parentNode.removeChild(s):e.removeChild(s)):it.removeChild(s.stateNode));break;case 18:it!==null&&(or?(e=it,s=s.stateNode,e.nodeType===8?tc(e.parentNode,s):e.nodeType===1&&tc(e,s),zn(e)):tc(it,s.stateNode));break;case 4:a=it,n=or,it=s.stateNode.containerInfo,or=!0,Yr(e,t,s),it=a,or=n;break;case 0:case 11:case 14:case 15:if(!ft&&(a=s.updateQueue,a!==null&&(a=a.lastEffect,a!==null))){n=a=a.next;do{var o=n,i=o.destroy;o=o.tag,i!==void 0&&(o&2||o&4)&&hd(s,t,i),n=n.next}while(n!==a)}Yr(e,t,s);break;case 1:if(!ft&&(xa(s,t),a=s.stateNode,typeof a.componentWillUnmount=="function"))try{a.props=s.memoizedProps,a.state=s.memoizedState,a.componentWillUnmount()}catch(l){He(s,t,l)}Yr(e,t,s);break;case 21:Yr(e,t,s);break;case 22:s.mode&1?(ft=(a=ft)||s.memoizedState!==null,Yr(e,t,s),ft=a):Yr(e,t,s);break;default:Yr(e,t,s)}}function Rm(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var s=e.stateNode;s===null&&(s=e.stateNode=new Rv),t.forEach(function(a){var n=zv.bind(null,e,a);s.has(a)||(s.add(a),a.then(n,n))})}}function ar(e,t){var s=t.deletions;if(s!==null)for(var a=0;a<s.length;a++){var n=s[a];try{var o=e,i=t,l=i;e:for(;l!==null;){switch(l.tag){case 5:it=l.stateNode,or=!1;break e;case 3:it=l.stateNode.containerInfo,or=!0;break e;case 4:it=l.stateNode.containerInfo,or=!0;break e}l=l.return}if(it===null)throw Error(W(160));Xx(o,i,n),it=null,or=!1;var c=n.alternate;c!==null&&(c.return=null),n.return=null}catch(d){He(n,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Zx(t,e),t=t.sibling}function Zx(e,t){var s=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ar(t,e),vr(e),a&4){try{Tn(3,e,e.return),fl(3,e)}catch(w){He(e,e.return,w)}try{Tn(5,e,e.return)}catch(w){He(e,e.return,w)}}break;case 1:ar(t,e),vr(e),a&512&&s!==null&&xa(s,s.return);break;case 5:if(ar(t,e),vr(e),a&512&&s!==null&&xa(s,s.return),e.flags&32){var n=e.stateNode;try{Mn(n,"")}catch(w){He(e,e.return,w)}}if(a&4&&(n=e.stateNode,n!=null)){var o=e.memoizedProps,i=s!==null?s.memoizedProps:o,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&wf(n,o),zc(l,i);var d=zc(l,o);for(i=0;i<c.length;i+=2){var u=c[i],m=c[i+1];u==="style"?Cf(n,m):u==="dangerouslySetInnerHTML"?Nf(n,m):u==="children"?Mn(n,m):Zd(n,u,m,d)}switch(l){case"input":Ic(n,o);break;case"textarea":jf(n,o);break;case"select":var h=n._wrapperState.wasMultiple;n._wrapperState.wasMultiple=!!o.multiple;var v=o.value;v!=null?pa(n,!!o.multiple,v,!1):h!==!!o.multiple&&(o.defaultValue!=null?pa(n,!!o.multiple,o.defaultValue,!0):pa(n,!!o.multiple,o.multiple?[]:"",!1))}n[qn]=o}catch(w){He(e,e.return,w)}}break;case 6:if(ar(t,e),vr(e),a&4){if(e.stateNode===null)throw Error(W(162));n=e.stateNode,o=e.memoizedProps;try{n.nodeValue=o}catch(w){He(e,e.return,w)}}break;case 3:if(ar(t,e),vr(e),a&4&&s!==null&&s.memoizedState.isDehydrated)try{zn(t.containerInfo)}catch(w){He(e,e.return,w)}break;case 4:ar(t,e),vr(e);break;case 13:ar(t,e),vr(e),n=e.child,n.flags&8192&&(o=n.memoizedState!==null,n.stateNode.isHidden=o,!o||n.alternate!==null&&n.alternate.memoizedState!==null||(Lu=Ve())),a&4&&Rm(e);break;case 22:if(u=s!==null&&s.memoizedState!==null,e.mode&1?(ft=(d=ft)||u,ar(t,e),ft=d):ar(t,e),vr(e),a&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!u&&e.mode&1)for(ee=e,u=e.child;u!==null;){for(m=ee=u;ee!==null;){switch(h=ee,v=h.child,h.tag){case 0:case 11:case 14:case 15:Tn(4,h,h.return);break;case 1:xa(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){a=h,s=h.return;try{t=a,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(w){He(a,s,w)}}break;case 5:xa(h,h.return);break;case 22:if(h.memoizedState!==null){Lm(m);continue}}v!==null?(v.return=h,ee=v):Lm(m)}u=u.sibling}e:for(u=null,m=e;;){if(m.tag===5){if(u===null){u=m;try{n=m.stateNode,d?(o=n.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=m.stateNode,c=m.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=Sf("display",i))}catch(w){He(e,e.return,w)}}}else if(m.tag===6){if(u===null)try{m.stateNode.nodeValue=d?"":m.memoizedProps}catch(w){He(e,e.return,w)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===e)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;m.sibling===null;){if(m.return===null||m.return===e)break e;u===m&&(u=null),m=m.return}u===m&&(u=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:ar(t,e),vr(e),a&4&&Rm(e);break;case 21:break;default:ar(t,e),vr(e)}}function vr(e){var t=e.flags;if(t&2){try{e:{for(var s=e.return;s!==null;){if(Jx(s)){var a=s;break e}s=s.return}throw Error(W(160))}switch(a.tag){case 5:var n=a.stateNode;a.flags&32&&(Mn(n,""),a.flags&=-33);var o=Pm(e);gd(e,o,n);break;case 3:case 4:var i=a.stateNode.containerInfo,l=Pm(e);xd(e,l,i);break;default:throw Error(W(161))}}catch(c){He(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Lv(e,t,s){ee=e,eg(e)}function eg(e,t,s){for(var a=(e.mode&1)!==0;ee!==null;){var n=ee,o=n.child;if(n.tag===22&&a){var i=n.memoizedState!==null||Bo;if(!i){var l=n.alternate,c=l!==null&&l.memoizedState!==null||ft;l=Bo;var d=ft;if(Bo=i,(ft=c)&&!d)for(ee=n;ee!==null;)i=ee,c=i.child,i.tag===22&&i.memoizedState!==null?Am(n):c!==null?(c.return=i,ee=c):Am(n);for(;o!==null;)ee=o,eg(o),o=o.sibling;ee=n,Bo=l,ft=d}Tm(e)}else n.subtreeFlags&8772&&o!==null?(o.return=n,ee=o):Tm(e)}}function Tm(e){for(;ee!==null;){var t=ee;if(t.flags&8772){var s=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ft||fl(5,t);break;case 1:var a=t.stateNode;if(t.flags&4&&!ft)if(s===null)a.componentDidMount();else{var n=t.elementType===t.type?s.memoizedProps:nr(t.type,s.memoizedProps);a.componentDidUpdate(n,s.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&xm(t,o,a);break;case 3:var i=t.updateQueue;if(i!==null){if(s=null,t.child!==null)switch(t.child.tag){case 5:s=t.child.stateNode;break;case 1:s=t.child.stateNode}xm(t,i,s)}break;case 5:var l=t.stateNode;if(s===null&&t.flags&4){s=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&s.focus();break;case"img":c.src&&(s.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var m=u.dehydrated;m!==null&&zn(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(W(163))}ft||t.flags&512&&fd(t)}catch(h){He(t,t.return,h)}}if(t===e){ee=null;break}if(s=t.sibling,s!==null){s.return=t.return,ee=s;break}ee=t.return}}function Lm(e){for(;ee!==null;){var t=ee;if(t===e){ee=null;break}var s=t.sibling;if(s!==null){s.return=t.return,ee=s;break}ee=t.return}}function Am(e){for(;ee!==null;){var t=ee;try{switch(t.tag){case 0:case 11:case 15:var s=t.return;try{fl(4,t)}catch(c){He(t,s,c)}break;case 1:var a=t.stateNode;if(typeof a.componentDidMount=="function"){var n=t.return;try{a.componentDidMount()}catch(c){He(t,n,c)}}var o=t.return;try{fd(t)}catch(c){He(t,o,c)}break;case 5:var i=t.return;try{fd(t)}catch(c){He(t,i,c)}}}catch(c){He(t,t.return,c)}if(t===e){ee=null;break}var l=t.sibling;if(l!==null){l.return=t.return,ee=l;break}ee=t.return}}var Av=Math.ceil,zi=qr.ReactCurrentDispatcher,Ru=qr.ReactCurrentOwner,Zt=qr.ReactCurrentBatchConfig,Se=0,rt=null,Ge=null,lt=0,Ft=0,ga=ys(0),Xe=0,Jn=null,Us=0,xl=0,Tu=0,Ln=null,_t=null,Lu=0,La=1/0,_r=null,Ui=!1,pd=null,ds=null,Wo=!1,rs=null,Bi=0,An=0,yd=null,li=-1,ci=0;function yt(){return Se&6?Ve():li!==-1?li:li=Ve()}function us(e){return e.mode&1?Se&2&&lt!==0?lt&-lt:gv.transition!==null?(ci===0&&(ci=$f()),ci):(e=Pe,e!==0||(e=window.event,e=e===void 0?16:qf(e.type)),e):1}function hr(e,t,s,a){if(50<An)throw An=0,yd=null,Error(W(185));io(e,s,a),(!(Se&2)||e!==rt)&&(e===rt&&(!(Se&2)&&(xl|=s),Xe===4&&es(e,lt)),Lt(e,a),s===1&&Se===0&&!(t.mode&1)&&(La=Ve()+500,ul&&bs()))}function Lt(e,t){var s=e.callbackNode;gb(e,t);var a=Si(e,e===rt?lt:0);if(a===0)s!==null&&B0(s),e.callbackNode=null,e.callbackPriority=0;else if(t=a&-a,e.callbackPriority!==t){if(s!=null&&B0(s),t===1)e.tag===0?xv(Dm.bind(null,e)):dx(Dm.bind(null,e)),uv(function(){!(Se&6)&&bs()}),s=null;else{switch(Ff(a)){case 1:s=au;break;case 4:s=Mf;break;case 16:s=Ni;break;case 536870912:s=Of;break;default:s=Ni}s=lg(s,tg.bind(null,e))}e.callbackPriority=t,e.callbackNode=s}}function tg(e,t){if(li=-1,ci=0,Se&6)throw Error(W(327));var s=e.callbackNode;if(ja()&&e.callbackNode!==s)return null;var a=Si(e,e===rt?lt:0);if(a===0)return null;if(a&30||a&e.expiredLanes||t)t=Wi(e,a);else{t=a;var n=Se;Se|=2;var o=sg();(rt!==e||lt!==t)&&(_r=null,La=Ve()+500,Is(e,t));do try{Mv();break}catch(l){rg(e,l)}while(1);pu(),zi.current=o,Se=n,Ge!==null?t=0:(rt=null,lt=0,t=Xe)}if(t!==0){if(t===2&&(n=qc(e),n!==0&&(a=n,t=bd(e,n))),t===1)throw s=Jn,Is(e,0),es(e,a),Lt(e,Ve()),s;if(t===6)es(e,a);else{if(n=e.current.alternate,!(a&30)&&!Dv(n)&&(t=Wi(e,a),t===2&&(o=qc(e),o!==0&&(a=o,t=bd(e,o))),t===1))throw s=Jn,Is(e,0),es(e,a),Lt(e,Ve()),s;switch(e.finishedWork=n,e.finishedLanes=a,t){case 0:case 1:throw Error(W(345));case 2:Ss(e,_t,_r);break;case 3:if(es(e,a),(a&130023424)===a&&(t=Lu+500-Ve(),10<t)){if(Si(e,0)!==0)break;if(n=e.suspendedLanes,(n&a)!==a){yt(),e.pingedLanes|=e.suspendedLanes&n;break}e.timeoutHandle=Zc(Ss.bind(null,e,_t,_r),t);break}Ss(e,_t,_r);break;case 4:if(es(e,a),(a&4194240)===a)break;for(t=e.eventTimes,n=-1;0<a;){var i=31-mr(a);o=1<<i,i=t[i],i>n&&(n=i),a&=~o}if(a=n,a=Ve()-a,a=(120>a?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*Av(a/1960))-a,10<a){e.timeoutHandle=Zc(Ss.bind(null,e,_t,_r),a);break}Ss(e,_t,_r);break;case 5:Ss(e,_t,_r);break;default:throw Error(W(329))}}}return Lt(e,Ve()),e.callbackNode===s?tg.bind(null,e):null}function bd(e,t){var s=Ln;return e.current.memoizedState.isDehydrated&&(Is(e,t).flags|=256),e=Wi(e,t),e!==2&&(t=_t,_t=s,t!==null&&vd(t)),e}function vd(e){_t===null?_t=e:_t.push.apply(_t,e)}function Dv(e){for(var t=e;;){if(t.flags&16384){var s=t.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var a=0;a<s.length;a++){var n=s[a],o=n.getSnapshot;n=n.value;try{if(!gr(o(),n))return!1}catch{return!1}}}if(s=t.child,t.subtreeFlags&16384&&s!==null)s.return=t,t=s;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function es(e,t){for(t&=~Tu,t&=~xl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var s=31-mr(t),a=1<<s;e[s]=-1,t&=~a}}function Dm(e){if(Se&6)throw Error(W(327));ja();var t=Si(e,0);if(!(t&1))return Lt(e,Ve()),null;var s=Wi(e,t);if(e.tag!==0&&s===2){var a=qc(e);a!==0&&(t=a,s=bd(e,a))}if(s===1)throw s=Jn,Is(e,0),es(e,t),Lt(e,Ve()),s;if(s===6)throw Error(W(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ss(e,_t,_r),Lt(e,Ve()),null}function Au(e,t){var s=Se;Se|=1;try{return e(t)}finally{Se=s,Se===0&&(La=Ve()+500,ul&&bs())}}function Bs(e){rs!==null&&rs.tag===0&&!(Se&6)&&ja();var t=Se;Se|=1;var s=Zt.transition,a=Pe;try{if(Zt.transition=null,Pe=1,e)return e()}finally{Pe=a,Zt.transition=s,Se=t,!(Se&6)&&bs()}}function Du(){Ft=ga.current,Me(ga)}function Is(e,t){e.finishedWork=null,e.finishedLanes=0;var s=e.timeoutHandle;if(s!==-1&&(e.timeoutHandle=-1,dv(s)),Ge!==null)for(s=Ge.return;s!==null;){var a=s;switch(fu(a),a.tag){case 1:a=a.type.childContextTypes,a!=null&&Ri();break;case 3:Ra(),Me(Rt),Me(gt),ku();break;case 5:ju(a);break;case 4:Ra();break;case 13:Me(Fe);break;case 19:Me(Fe);break;case 10:yu(a.type._context);break;case 22:case 23:Du()}s=s.return}if(rt=e,Ge=e=ms(e.current,null),lt=Ft=t,Xe=0,Jn=null,Tu=xl=Us=0,_t=Ln=null,Rs!==null){for(t=0;t<Rs.length;t++)if(s=Rs[t],a=s.interleaved,a!==null){s.interleaved=null;var n=a.next,o=s.pending;if(o!==null){var i=o.next;o.next=n,a.next=i}s.pending=a}Rs=null}return e}function rg(e,t){do{var s=Ge;try{if(pu(),ni.current=Fi,$i){for(var a=ze.memoizedState;a!==null;){var n=a.queue;n!==null&&(n.pending=null),a=a.next}$i=!1}if(zs=0,et=Je=ze=null,Rn=!1,Gn=0,Ru.current=null,s===null||s.return===null){Xe=1,Jn=t,Ge=null;break}e:{var o=e,i=s.return,l=s,c=t;if(t=lt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=l,m=u.tag;if(!(u.mode&1)&&(m===0||m===11||m===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var v=wm(i);if(v!==null){v.flags&=-257,jm(v,i,l,o,t),v.mode&1&&vm(o,d,t),t=v,c=d;var g=t.updateQueue;if(g===null){var w=new Set;w.add(c),t.updateQueue=w}else g.add(c);break e}else{if(!(t&1)){vm(o,d,t),Iu();break e}c=Error(W(426))}}else if($e&&l.mode&1){var x=wm(i);if(x!==null){!(x.flags&65536)&&(x.flags|=256),jm(x,i,l,o,t),xu(Ta(c,l));break e}}o=c=Ta(c,l),Xe!==4&&(Xe=2),Ln===null?Ln=[o]:Ln.push(o),o=i;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var f=Fx(o,c,t);fm(o,f);break e;case 1:l=c;var b=o.type,p=o.stateNode;if(!(o.flags&128)&&(typeof b.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(ds===null||!ds.has(p)))){o.flags|=65536,t&=-t,o.lanes|=t;var k=zx(o,l,t);fm(o,k);break e}}o=o.return}while(o!==null)}ng(s)}catch(E){t=E,Ge===s&&s!==null&&(Ge=s=s.return);continue}break}while(1)}function sg(){var e=zi.current;return zi.current=Fi,e===null?Fi:e}function Iu(){(Xe===0||Xe===3||Xe===2)&&(Xe=4),rt===null||!(Us&268435455)&&!(xl&268435455)||es(rt,lt)}function Wi(e,t){var s=Se;Se|=2;var a=sg();(rt!==e||lt!==t)&&(_r=null,Is(e,t));do try{Iv();break}catch(n){rg(e,n)}while(1);if(pu(),Se=s,zi.current=a,Ge!==null)throw Error(W(261));return rt=null,lt=0,Xe}function Iv(){for(;Ge!==null;)ag(Ge)}function Mv(){for(;Ge!==null&&!ib();)ag(Ge)}function ag(e){var t=ig(e.alternate,e,Ft);e.memoizedProps=e.pendingProps,t===null?ng(e):Ge=t,Ru.current=null}function ng(e){var t=e;do{var s=t.alternate;if(e=t.return,t.flags&32768){if(s=Pv(s,t),s!==null){s.flags&=32767,Ge=s;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Xe=6,Ge=null;return}}else if(s=_v(s,t,Ft),s!==null){Ge=s;return}if(t=t.sibling,t!==null){Ge=t;return}Ge=t=e}while(t!==null);Xe===0&&(Xe=5)}function Ss(e,t,s){var a=Pe,n=Zt.transition;try{Zt.transition=null,Pe=1,Ov(e,t,s,a)}finally{Zt.transition=n,Pe=a}return null}function Ov(e,t,s,a){do ja();while(rs!==null);if(Se&6)throw Error(W(327));s=e.finishedWork;var n=e.finishedLanes;if(s===null)return null;if(e.finishedWork=null,e.finishedLanes=0,s===e.current)throw Error(W(177));e.callbackNode=null,e.callbackPriority=0;var o=s.lanes|s.childLanes;if(pb(e,o),e===rt&&(Ge=rt=null,lt=0),!(s.subtreeFlags&2064)&&!(s.flags&2064)||Wo||(Wo=!0,lg(Ni,function(){return ja(),null})),o=(s.flags&15990)!==0,s.subtreeFlags&15990||o){o=Zt.transition,Zt.transition=null;var i=Pe;Pe=1;var l=Se;Se|=4,Ru.current=null,Tv(e,s),Zx(s,e),sv(Jc),Ci=!!Kc,Jc=Kc=null,e.current=s,Lv(s),lb(),Se=l,Pe=i,Zt.transition=o}else e.current=s;if(Wo&&(Wo=!1,rs=e,Bi=n),o=e.pendingLanes,o===0&&(ds=null),ub(s.stateNode),Lt(e,Ve()),t!==null)for(a=e.onRecoverableError,s=0;s<t.length;s++)n=t[s],a(n.value,{componentStack:n.stack,digest:n.digest});if(Ui)throw Ui=!1,e=pd,pd=null,e;return Bi&1&&e.tag!==0&&ja(),o=e.pendingLanes,o&1?e===yd?An++:(An=0,yd=e):An=0,bs(),null}function ja(){if(rs!==null){var e=Ff(Bi),t=Zt.transition,s=Pe;try{if(Zt.transition=null,Pe=16>e?16:e,rs===null)var a=!1;else{if(e=rs,rs=null,Bi=0,Se&6)throw Error(W(331));var n=Se;for(Se|=4,ee=e.current;ee!==null;){var o=ee,i=o.child;if(ee.flags&16){var l=o.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(ee=d;ee!==null;){var u=ee;switch(u.tag){case 0:case 11:case 15:Tn(8,u,o)}var m=u.child;if(m!==null)m.return=u,ee=m;else for(;ee!==null;){u=ee;var h=u.sibling,v=u.return;if(Kx(u),u===d){ee=null;break}if(h!==null){h.return=v,ee=h;break}ee=v}}}var g=o.alternate;if(g!==null){var w=g.child;if(w!==null){g.child=null;do{var x=w.sibling;w.sibling=null,w=x}while(w!==null)}}ee=o}}if(o.subtreeFlags&2064&&i!==null)i.return=o,ee=i;else e:for(;ee!==null;){if(o=ee,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Tn(9,o,o.return)}var f=o.sibling;if(f!==null){f.return=o.return,ee=f;break e}ee=o.return}}var b=e.current;for(ee=b;ee!==null;){i=ee;var p=i.child;if(i.subtreeFlags&2064&&p!==null)p.return=i,ee=p;else e:for(i=b;ee!==null;){if(l=ee,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:fl(9,l)}}catch(E){He(l,l.return,E)}if(l===i){ee=null;break e}var k=l.sibling;if(k!==null){k.return=l.return,ee=k;break e}ee=l.return}}if(Se=n,bs(),Nr&&typeof Nr.onPostCommitFiberRoot=="function")try{Nr.onPostCommitFiberRoot(ol,e)}catch{}a=!0}return a}finally{Pe=s,Zt.transition=t}}return!1}function Im(e,t,s){t=Ta(s,t),t=Fx(e,t,1),e=cs(e,t,1),t=yt(),e!==null&&(io(e,1,t),Lt(e,t))}function He(e,t,s){if(e.tag===3)Im(e,e,s);else for(;t!==null;){if(t.tag===3){Im(t,e,s);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(ds===null||!ds.has(a))){e=Ta(s,e),e=zx(t,e,1),t=cs(t,e,1),e=yt(),t!==null&&(io(t,1,e),Lt(t,e));break}}t=t.return}}function $v(e,t,s){var a=e.pingCache;a!==null&&a.delete(t),t=yt(),e.pingedLanes|=e.suspendedLanes&s,rt===e&&(lt&s)===s&&(Xe===4||Xe===3&&(lt&130023424)===lt&&500>Ve()-Lu?Is(e,0):Tu|=s),Lt(e,t)}function og(e,t){t===0&&(e.mode&1?(t=Ao,Ao<<=1,!(Ao&130023424)&&(Ao=4194304)):t=1);var s=yt();e=Ur(e,t),e!==null&&(io(e,t,s),Lt(e,s))}function Fv(e){var t=e.memoizedState,s=0;t!==null&&(s=t.retryLane),og(e,s)}function zv(e,t){var s=0;switch(e.tag){case 13:var a=e.stateNode,n=e.memoizedState;n!==null&&(s=n.retryLane);break;case 19:a=e.stateNode;break;default:throw Error(W(314))}a!==null&&a.delete(t),og(e,s)}var ig;ig=function(e,t,s){if(e!==null)if(e.memoizedProps!==t.pendingProps||Rt.current)Pt=!0;else{if(!(e.lanes&s)&&!(t.flags&128))return Pt=!1,Ev(e,t,s);Pt=!!(e.flags&131072)}else Pt=!1,$e&&t.flags&1048576&&ux(t,Ai,t.index);switch(t.lanes=0,t.tag){case 2:var a=t.type;ii(e,t),e=t.pendingProps;var n=Ea(t,gt.current);wa(t,s),n=Su(null,t,a,e,n,s);var o=Cu();return t.flags|=1,typeof n=="object"&&n!==null&&typeof n.render=="function"&&n.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Tt(a)?(o=!0,Ti(t)):o=!1,t.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,vu(t),n.updater=hl,t.stateNode=n,n._reactInternals=t,od(t,a,e,s),t=cd(null,t,a,!0,o,s)):(t.tag=0,$e&&o&&hu(t),pt(null,t,n,s),t=t.child),t;case 16:a=t.elementType;e:{switch(ii(e,t),e=t.pendingProps,n=a._init,a=n(a._payload),t.type=a,n=t.tag=Bv(a),e=nr(a,e),n){case 0:t=ld(null,t,a,e,s);break e;case 1:t=Sm(null,t,a,e,s);break e;case 11:t=km(null,t,a,e,s);break e;case 14:t=Nm(null,t,a,nr(a.type,e),s);break e}throw Error(W(306,a,""))}return t;case 0:return a=t.type,n=t.pendingProps,n=t.elementType===a?n:nr(a,n),ld(e,t,a,n,s);case 1:return a=t.type,n=t.pendingProps,n=t.elementType===a?n:nr(a,n),Sm(e,t,a,n,s);case 3:e:{if(Hx(t),e===null)throw Error(W(387));a=t.pendingProps,o=t.memoizedState,n=o.element,px(e,t),Mi(t,a,null,s);var i=t.memoizedState;if(a=i.element,o.isDehydrated)if(o={element:a,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){n=Ta(Error(W(423)),t),t=Cm(e,t,a,s,n);break e}else if(a!==n){n=Ta(Error(W(424)),t),t=Cm(e,t,a,s,n);break e}else for(Ut=ls(t.stateNode.containerInfo.firstChild),Bt=t,$e=!0,lr=null,s=xx(t,null,a,s),t.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(_a(),a===n){t=Br(e,t,s);break e}pt(e,t,a,s)}t=t.child}return t;case 5:return yx(t),e===null&&sd(t),a=t.type,n=t.pendingProps,o=e!==null?e.memoizedProps:null,i=n.children,Xc(a,n)?i=null:o!==null&&Xc(a,o)&&(t.flags|=32),Wx(e,t),pt(e,t,i,s),t.child;case 6:return e===null&&sd(t),null;case 13:return qx(e,t,s);case 4:return wu(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=Pa(t,null,a,s):pt(e,t,a,s),t.child;case 11:return a=t.type,n=t.pendingProps,n=t.elementType===a?n:nr(a,n),km(e,t,a,n,s);case 7:return pt(e,t,t.pendingProps,s),t.child;case 8:return pt(e,t,t.pendingProps.children,s),t.child;case 12:return pt(e,t,t.pendingProps.children,s),t.child;case 10:e:{if(a=t.type._context,n=t.pendingProps,o=t.memoizedProps,i=n.value,De(Di,a._currentValue),a._currentValue=i,o!==null)if(gr(o.value,i)){if(o.children===n.children&&!Rt.current){t=Br(e,t,s);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var l=o.dependencies;if(l!==null){i=o.child;for(var c=l.firstContext;c!==null;){if(c.context===a){if(o.tag===1){c=Ir(-1,s&-s),c.tag=2;var d=o.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}o.lanes|=s,c=o.alternate,c!==null&&(c.lanes|=s),ad(o.return,s,t),l.lanes|=s;break}c=c.next}}else if(o.tag===10)i=o.type===t.type?null:o.child;else if(o.tag===18){if(i=o.return,i===null)throw Error(W(341));i.lanes|=s,l=i.alternate,l!==null&&(l.lanes|=s),ad(i,s,t),i=o.sibling}else i=o.child;if(i!==null)i.return=o;else for(i=o;i!==null;){if(i===t){i=null;break}if(o=i.sibling,o!==null){o.return=i.return,i=o;break}i=i.return}o=i}pt(e,t,n.children,s),t=t.child}return t;case 9:return n=t.type,a=t.pendingProps.children,wa(t,s),n=er(n),a=a(n),t.flags|=1,pt(e,t,a,s),t.child;case 14:return a=t.type,n=nr(a,t.pendingProps),n=nr(a.type,n),Nm(e,t,a,n,s);case 15:return Ux(e,t,t.type,t.pendingProps,s);case 17:return a=t.type,n=t.pendingProps,n=t.elementType===a?n:nr(a,n),ii(e,t),t.tag=1,Tt(a)?(e=!0,Ti(t)):e=!1,wa(t,s),$x(t,a,n),od(t,a,n,s),cd(null,t,a,!0,e,s);case 19:return Vx(e,t,s);case 22:return Bx(e,t,s)}throw Error(W(156,t.tag))};function lg(e,t){return If(e,t)}function Uv(e,t,s,a){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xt(e,t,s,a){return new Uv(e,t,s,a)}function Mu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Bv(e){if(typeof e=="function")return Mu(e)?1:0;if(e!=null){if(e=e.$$typeof,e===tu)return 11;if(e===ru)return 14}return 2}function ms(e,t){var s=e.alternate;return s===null?(s=Xt(e.tag,t,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=t,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&14680064,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,t=e.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s}function di(e,t,s,a,n,o){var i=2;if(a=e,typeof e=="function")Mu(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case oa:return Ms(s.children,n,o,t);case eu:i=8,n|=8;break;case Rc:return e=Xt(12,s,t,n|2),e.elementType=Rc,e.lanes=o,e;case Tc:return e=Xt(13,s,t,n),e.elementType=Tc,e.lanes=o,e;case Lc:return e=Xt(19,s,t,n),e.elementType=Lc,e.lanes=o,e;case yf:return gl(s,n,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case gf:i=10;break e;case pf:i=9;break e;case tu:i=11;break e;case ru:i=14;break e;case Jr:i=16,a=null;break e}throw Error(W(130,e==null?e:typeof e,""))}return t=Xt(i,s,t,n),t.elementType=e,t.type=a,t.lanes=o,t}function Ms(e,t,s,a){return e=Xt(7,e,a,t),e.lanes=s,e}function gl(e,t,s,a){return e=Xt(22,e,a,t),e.elementType=yf,e.lanes=s,e.stateNode={isHidden:!1},e}function cc(e,t,s){return e=Xt(6,e,null,t),e.lanes=s,e}function dc(e,t,s){return t=Xt(4,e.children!==null?e.children:[],e.key,t),t.lanes=s,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Wv(e,t,s,a,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Hl(0),this.expirationTimes=Hl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hl(0),this.identifierPrefix=a,this.onRecoverableError=n,this.mutableSourceEagerHydrationData=null}function Ou(e,t,s,a,n,o,i,l,c){return e=new Wv(e,t,s,l,c),t===1?(t=1,o===!0&&(t|=8)):t=0,o=Xt(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:a,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},vu(o),e}function Hv(e,t,s){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:na,key:a==null?null:""+a,children:e,containerInfo:t,implementation:s}}function cg(e){if(!e)return xs;e=e._reactInternals;e:{if(Ys(e)!==e||e.tag!==1)throw Error(W(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Tt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(W(171))}if(e.tag===1){var s=e.type;if(Tt(s))return cx(e,s,t)}return t}function dg(e,t,s,a,n,o,i,l,c){return e=Ou(s,a,!0,e,n,o,i,l,c),e.context=cg(null),s=e.current,a=yt(),n=us(s),o=Ir(a,n),o.callback=t??null,cs(s,o,n),e.current.lanes=n,io(e,n,a),Lt(e,a),e}function pl(e,t,s,a){var n=t.current,o=yt(),i=us(n);return s=cg(s),t.context===null?t.context=s:t.pendingContext=s,t=Ir(o,i),t.payload={element:e},a=a===void 0?null:a,a!==null&&(t.callback=a),e=cs(n,t,i),e!==null&&(hr(e,n,i,o),ai(e,n,i)),i}function Hi(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Mm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<t?s:t}}function $u(e,t){Mm(e,t),(e=e.alternate)&&Mm(e,t)}function qv(){return null}var ug=typeof reportError=="function"?reportError:function(e){console.error(e)};function Fu(e){this._internalRoot=e}yl.prototype.render=Fu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(W(409));pl(e,t,null,null)};yl.prototype.unmount=Fu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Bs(function(){pl(null,e,null,null)}),t[zr]=null}};function yl(e){this._internalRoot=e}yl.prototype.unstable_scheduleHydration=function(e){if(e){var t=Bf();e={blockedOn:null,target:e,priority:t};for(var s=0;s<Zr.length&&t!==0&&t<Zr[s].priority;s++);Zr.splice(s,0,e),s===0&&Hf(e)}};function zu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function bl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Om(){}function Vv(e,t,s,a,n){if(n){if(typeof a=="function"){var o=a;a=function(){var d=Hi(i);o.call(d)}}var i=dg(t,a,e,0,null,!1,!1,"",Om);return e._reactRootContainer=i,e[zr]=i.current,Wn(e.nodeType===8?e.parentNode:e),Bs(),i}for(;n=e.lastChild;)e.removeChild(n);if(typeof a=="function"){var l=a;a=function(){var d=Hi(c);l.call(d)}}var c=Ou(e,0,!1,null,null,!1,!1,"",Om);return e._reactRootContainer=c,e[zr]=c.current,Wn(e.nodeType===8?e.parentNode:e),Bs(function(){pl(t,c,s,a)}),c}function vl(e,t,s,a,n){var o=s._reactRootContainer;if(o){var i=o;if(typeof n=="function"){var l=n;n=function(){var c=Hi(i);l.call(c)}}pl(t,i,e,n)}else i=Vv(s,t,e,n,a);return Hi(i)}zf=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var s=wn(t.pendingLanes);s!==0&&(nu(t,s|1),Lt(t,Ve()),!(Se&6)&&(La=Ve()+500,bs()))}break;case 13:Bs(function(){var a=Ur(e,1);if(a!==null){var n=yt();hr(a,e,1,n)}}),$u(e,1)}};ou=function(e){if(e.tag===13){var t=Ur(e,134217728);if(t!==null){var s=yt();hr(t,e,134217728,s)}$u(e,134217728)}};Uf=function(e){if(e.tag===13){var t=us(e),s=Ur(e,t);if(s!==null){var a=yt();hr(s,e,t,a)}$u(e,t)}};Bf=function(){return Pe};Wf=function(e,t){var s=Pe;try{return Pe=e,t()}finally{Pe=s}};Bc=function(e,t,s){switch(t){case"input":if(Ic(e,s),t=s.name,s.type==="radio"&&t!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<s.length;t++){var a=s[t];if(a!==e&&a.form===e.form){var n=dl(a);if(!n)throw Error(W(90));vf(a),Ic(a,n)}}}break;case"textarea":jf(e,s);break;case"select":t=s.value,t!=null&&pa(e,!!s.multiple,t,!1)}};Pf=Au;Rf=Bs;var Qv={usingClientEntryPoint:!1,Events:[co,da,dl,Ef,_f,Au]},un={findFiberByHostInstance:Ps,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Gv={bundleType:un.bundleType,version:un.version,rendererPackageName:un.rendererPackageName,rendererConfig:un.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:qr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Af(e),e===null?null:e.stateNode},findFiberByHostInstance:un.findFiberByHostInstance||qv,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ho=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ho.isDisabled&&Ho.supportsFiber)try{ol=Ho.inject(Gv),Nr=Ho}catch{}}Vt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Qv;Vt.createPortal=function(e,t){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!zu(t))throw Error(W(200));return Hv(e,t,null,s)};Vt.createRoot=function(e,t){if(!zu(e))throw Error(W(299));var s=!1,a="",n=ug;return t!=null&&(t.unstable_strictMode===!0&&(s=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onRecoverableError!==void 0&&(n=t.onRecoverableError)),t=Ou(e,1,!1,null,null,s,!1,a,n),e[zr]=t.current,Wn(e.nodeType===8?e.parentNode:e),new Fu(t)};Vt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(W(188)):(e=Object.keys(e).join(","),Error(W(268,e)));return e=Af(t),e=e===null?null:e.stateNode,e};Vt.flushSync=function(e){return Bs(e)};Vt.hydrate=function(e,t,s){if(!bl(t))throw Error(W(200));return vl(null,e,t,!0,s)};Vt.hydrateRoot=function(e,t,s){if(!zu(e))throw Error(W(405));var a=s!=null&&s.hydratedSources||null,n=!1,o="",i=ug;if(s!=null&&(s.unstable_strictMode===!0&&(n=!0),s.identifierPrefix!==void 0&&(o=s.identifierPrefix),s.onRecoverableError!==void 0&&(i=s.onRecoverableError)),t=dg(t,null,e,1,s??null,n,!1,o,i),e[zr]=t.current,Wn(e),a)for(e=0;e<a.length;e++)s=a[e],n=s._getVersion,n=n(s._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[s,n]:t.mutableSourceEagerHydrationData.push(s,n);return new yl(t)};Vt.render=function(e,t,s){if(!bl(t))throw Error(W(200));return vl(null,e,t,!1,s)};Vt.unmountComponentAtNode=function(e){if(!bl(e))throw Error(W(40));return e._reactRootContainer?(Bs(function(){vl(null,null,e,!1,function(){e._reactRootContainer=null,e[zr]=null})}),!0):!1};Vt.unstable_batchedUpdates=Au;Vt.unstable_renderSubtreeIntoContainer=function(e,t,s,a){if(!bl(s))throw Error(W(200));if(e==null||e._reactInternals===void 0)throw Error(W(38));return vl(e,t,s,!1,a)};Vt.version="18.3.1-next-f1338f8080-20240426";function mg(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(mg)}catch(e){console.error(e)}}mg(),mf.exports=Vt;var wl=mf.exports;const Yv=Vd(wl),Kv=Zh({__proto__:null,default:Yv},[wl]);var $m=wl;_c.createRoot=$m.createRoot,_c.hydrateRoot=$m.hydrateRoot;var hg={exports:{}},fg={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mo=y;function Jv(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Xv=typeof Object.is=="function"?Object.is:Jv,Zv=mo.useSyncExternalStore,ew=mo.useRef,tw=mo.useEffect,rw=mo.useMemo,sw=mo.useDebugValue;fg.useSyncExternalStoreWithSelector=function(e,t,s,a,n){var o=ew(null);if(o.current===null){var i={hasValue:!1,value:null};o.current=i}else i=o.current;o=rw(function(){function c(v){if(!d){if(d=!0,u=v,v=a(v),n!==void 0&&i.hasValue){var g=i.value;if(n(g,v))return m=g}return m=v}if(g=m,Xv(u,v))return g;var w=a(v);return n!==void 0&&n(g,w)?(u=v,g):(u=v,m=w)}var d=!1,u,m,h=s===void 0?null:s;return[function(){return c(t())},h===null?void 0:function(){return c(h())}]},[t,s,a,n]);var l=Zv(e,o[0],o[1]);return tw(function(){i.hasValue=!0,i.value=l},[l]),sw(l),l};hg.exports=fg;var aw=hg.exports;function nw(e){e()}function ow(){let e=null,t=null;return{clear(){e=null,t=null},notify(){nw(()=>{let s=e;for(;s;)s.callback(),s=s.next})},get(){const s=[];let a=e;for(;a;)s.push(a),a=a.next;return s},subscribe(s){let a=!0;const n=t={callback:s,next:null,prev:t};return n.prev?n.prev.next=n:e=n,function(){!a||e===null||(a=!1,n.next?n.next.prev=n.prev:t=n.prev,n.prev?n.prev.next=n.next:e=n.next)}}}}var Fm={notify(){},get:()=>[]};function iw(e,t){let s,a=Fm,n=0,o=!1;function i(w){u();const x=a.subscribe(w);let f=!1;return()=>{f||(f=!0,x(),m())}}function l(){a.notify()}function c(){g.onStateChange&&g.onStateChange()}function d(){return o}function u(){n++,s||(s=t?t.addNestedSub(c):e.subscribe(c),a=ow())}function m(){n--,s&&n===0&&(s(),s=void 0,a.clear(),a=Fm)}function h(){o||(o=!0,u())}function v(){o&&(o=!1,m())}const g={addNestedSub:i,notifyNestedSubs:l,handleChangeWrapper:c,isSubscribed:d,trySubscribe:h,tryUnsubscribe:v,getListeners:()=>a};return g}var lw=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",cw=lw(),dw=()=>typeof navigator<"u"&&navigator.product==="ReactNative",uw=dw(),mw=()=>cw||uw?y.useLayoutEffect:y.useEffect,hw=mw(),uc=Symbol.for("react-redux-context"),mc=typeof globalThis<"u"?globalThis:{};function fw(){if(!y.createContext)return{};const e=mc[uc]??(mc[uc]=new Map);let t=e.get(y.createContext);return t||(t=y.createContext(null),e.set(y.createContext,t)),t}var gs=fw();function xw(e){const{children:t,context:s,serverState:a,store:n}=e,o=y.useMemo(()=>{const c=iw(n);return{store:n,subscription:c,getServerState:a?()=>a:void 0}},[n,a]),i=y.useMemo(()=>n.getState(),[n]);hw(()=>{const{subscription:c}=o;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),i!==n.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[o,i]);const l=s||gs;return y.createElement(l.Provider,{value:o},t)}var gw=xw;function Uu(e=gs){return function(){return y.useContext(e)}}var xg=Uu();function gg(e=gs){const t=e===gs?xg:Uu(e),s=()=>{const{store:a}=t();return a};return Object.assign(s,{withTypes:()=>s}),s}var pw=gg();function yw(e=gs){const t=e===gs?pw:gg(e),s=()=>t().dispatch;return Object.assign(s,{withTypes:()=>s}),s}var st=yw(),bw=(e,t)=>e===t;function vw(e=gs){const t=e===gs?xg:Uu(e),s=(a,n={})=>{const{equalityFn:o=bw}=typeof n=="function"?{equalityFn:n}:n,i=t(),{store:l,subscription:c,getServerState:d}=i;y.useRef(!0);const u=y.useCallback({[a.name](h){return a(h)}}[a.name],[a]),m=aw.useSyncExternalStoreWithSelector(c.addNestedSub,l.getState,d||l.getState,u,o);return y.useDebugValue(m),m};return Object.assign(s,{withTypes:()=>s}),s}var ve=vw();function ui(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ui=function(s){return typeof s}:ui=function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},ui(e)}function ww(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zm(e,t){for(var s=0;s<t.length;s++){var a=t[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function jw(e,t,s){return t&&zm(e.prototype,t),s&&zm(e,s),e}function kw(e,t){return t&&(ui(t)==="object"||typeof t=="function")?t:mi(e)}function wd(e){return wd=Object.setPrototypeOf?Object.getPrototypeOf:function(s){return s.__proto__||Object.getPrototypeOf(s)},wd(e)}function mi(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Nw(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&jd(e,t)}function jd(e,t){return jd=Object.setPrototypeOf||function(a,n){return a.__proto__=n,a},jd(e,t)}function hi(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var pg=function(e){Nw(t,e);function t(){var s,a;ww(this,t);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return a=kw(this,(s=wd(t)).call.apply(s,[this].concat(o))),hi(mi(a),"state",{bootstrapped:!1}),hi(mi(a),"_unsubscribe",void 0),hi(mi(a),"handlePersistorState",function(){var l=a.props.persistor,c=l.getState(),d=c.bootstrapped;d&&(a.props.onBeforeLift?Promise.resolve(a.props.onBeforeLift()).finally(function(){return a.setState({bootstrapped:!0})}):a.setState({bootstrapped:!0}),a._unsubscribe&&a._unsubscribe())}),a}return jw(t,[{key:"componentDidMount",value:function(){this._unsubscribe=this.props.persistor.subscribe(this.handlePersistorState),this.handlePersistorState()}},{key:"componentWillUnmount",value:function(){this._unsubscribe&&this._unsubscribe()}},{key:"render",value:function(){return typeof this.props.children=="function"?this.props.children(this.state.bootstrapped):this.state.bootstrapped?this.props.children:this.props.loading}}]),t}(y.PureComponent);hi(pg,"defaultProps",{children:null,loading:null});/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Oe(){return Oe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},Oe.apply(this,arguments)}var qe;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(qe||(qe={}));const Um="popstate";function Sw(e){e===void 0&&(e={});function t(a,n){let{pathname:o,search:i,hash:l}=a.location;return Xn("",{pathname:o,search:i,hash:l},n.state&&n.state.usr||null,n.state&&n.state.key||"default")}function s(a,n){return typeof n=="string"?n:Ws(n)}return Ew(t,s,null,e)}function we(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Aa(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Cw(){return Math.random().toString(36).substr(2,8)}function Bm(e,t){return{usr:e.state,key:e.key,idx:t}}function Xn(e,t,s,a){return s===void 0&&(s=null),Oe({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Vr(t):t,{state:s,key:t&&t.key||a||Cw()})}function Ws(e){let{pathname:t="/",search:s="",hash:a=""}=e;return s&&s!=="?"&&(t+=s.charAt(0)==="?"?s:"?"+s),a&&a!=="#"&&(t+=a.charAt(0)==="#"?a:"#"+a),t}function Vr(e){let t={};if(e){let s=e.indexOf("#");s>=0&&(t.hash=e.substr(s),e=e.substr(0,s));let a=e.indexOf("?");a>=0&&(t.search=e.substr(a),e=e.substr(0,a)),e&&(t.pathname=e)}return t}function Ew(e,t,s,a){a===void 0&&(a={});let{window:n=document.defaultView,v5Compat:o=!1}=a,i=n.history,l=qe.Pop,c=null,d=u();d==null&&(d=0,i.replaceState(Oe({},i.state,{idx:d}),""));function u(){return(i.state||{idx:null}).idx}function m(){l=qe.Pop;let x=u(),f=x==null?null:x-d;d=x,c&&c({action:l,location:w.location,delta:f})}function h(x,f){l=qe.Push;let b=Xn(w.location,x,f);s&&s(b,x),d=u()+1;let p=Bm(b,d),k=w.createHref(b);try{i.pushState(p,"",k)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;n.location.assign(k)}o&&c&&c({action:l,location:w.location,delta:1})}function v(x,f){l=qe.Replace;let b=Xn(w.location,x,f);s&&s(b,x),d=u();let p=Bm(b,d),k=w.createHref(b);i.replaceState(p,"",k),o&&c&&c({action:l,location:w.location,delta:0})}function g(x){let f=n.location.origin!=="null"?n.location.origin:n.location.href,b=typeof x=="string"?x:Ws(x);return b=b.replace(/ $/,"%20"),we(f,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,f)}let w={get action(){return l},get location(){return e(n,i)},listen(x){if(c)throw new Error("A history only accepts one active listener");return n.addEventListener(Um,m),c=x,()=>{n.removeEventListener(Um,m),c=null}},createHref(x){return t(n,x)},createURL:g,encodeLocation(x){let f=g(x);return{pathname:f.pathname,search:f.search,hash:f.hash}},push:h,replace:v,go(x){return i.go(x)}};return w}var _e;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(_e||(_e={}));const _w=new Set(["lazy","caseSensitive","path","id","index","children"]);function Pw(e){return e.index===!0}function qi(e,t,s,a){return s===void 0&&(s=[]),a===void 0&&(a={}),e.map((n,o)=>{let i=[...s,String(o)],l=typeof n.id=="string"?n.id:i.join("-");if(we(n.index!==!0||!n.children,"Cannot specify children on an index route"),we(!a[l],'Found a route id collision on id "'+l+`".  Route id's must be globally unique within Data Router usages`),Pw(n)){let c=Oe({},n,t(n),{id:l});return a[l]=c,c}else{let c=Oe({},n,t(n),{id:l,children:void 0});return a[l]=c,n.children&&(c.children=qi(n.children,t,i,a)),c}})}function Es(e,t,s){return s===void 0&&(s="/"),fi(e,t,s,!1)}function fi(e,t,s,a){let n=typeof t=="string"?Vr(t):t,o=qa(n.pathname||"/",s);if(o==null)return null;let i=yg(e);Tw(i);let l=null;for(let c=0;l==null&&c<i.length;++c){let d=Bw(o);l=zw(i[c],d,a)}return l}function Rw(e,t){let{route:s,pathname:a,params:n}=e;return{id:s.id,pathname:a,params:n,data:t[s.id],handle:s.handle}}function yg(e,t,s,a){t===void 0&&(t=[]),s===void 0&&(s=[]),a===void 0&&(a="");let n=(o,i,l)=>{let c={relativePath:l===void 0?o.path||"":l,caseSensitive:o.caseSensitive===!0,childrenIndex:i,route:o};c.relativePath.startsWith("/")&&(we(c.relativePath.startsWith(a),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+a+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(a.length));let d=Mr([a,c.relativePath]),u=s.concat(c);o.children&&o.children.length>0&&(we(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),yg(o.children,t,u,d)),!(o.path==null&&!o.index)&&t.push({path:d,score:$w(d,o.index),routesMeta:u})};return e.forEach((o,i)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))n(o,i);else for(let c of bg(o.path))n(o,i,c)}),t}function bg(e){let t=e.split("/");if(t.length===0)return[];let[s,...a]=t,n=s.endsWith("?"),o=s.replace(/\?$/,"");if(a.length===0)return n?[o,""]:[o];let i=bg(a.join("/")),l=[];return l.push(...i.map(c=>c===""?o:[o,c].join("/"))),n&&l.push(...i),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function Tw(e){e.sort((t,s)=>t.score!==s.score?s.score-t.score:Fw(t.routesMeta.map(a=>a.childrenIndex),s.routesMeta.map(a=>a.childrenIndex)))}const Lw=/^:[\w-]+$/,Aw=3,Dw=2,Iw=1,Mw=10,Ow=-2,Wm=e=>e==="*";function $w(e,t){let s=e.split("/"),a=s.length;return s.some(Wm)&&(a+=Ow),t&&(a+=Dw),s.filter(n=>!Wm(n)).reduce((n,o)=>n+(Lw.test(o)?Aw:o===""?Iw:Mw),a)}function Fw(e,t){return e.length===t.length&&e.slice(0,-1).every((a,n)=>a===t[n])?e[e.length-1]-t[t.length-1]:0}function zw(e,t,s){s===void 0&&(s=!1);let{routesMeta:a}=e,n={},o="/",i=[];for(let l=0;l<a.length;++l){let c=a[l],d=l===a.length-1,u=o==="/"?t:t.slice(o.length)||"/",m=Hm({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},u),h=c.route;if(!m&&d&&s&&!a[a.length-1].route.index&&(m=Hm({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},u)),!m)return null;Object.assign(n,m.params),i.push({params:n,pathname:Mr([o,m.pathname]),pathnameBase:qw(Mr([o,m.pathnameBase])),route:h}),m.pathnameBase!=="/"&&(o=Mr([o,m.pathnameBase]))}return i}function Hm(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[s,a]=Uw(e.path,e.caseSensitive,e.end),n=t.match(s);if(!n)return null;let o=n[0],i=o.replace(/(.)\/+$/,"$1"),l=n.slice(1);return{params:a.reduce((d,u,m)=>{let{paramName:h,isOptional:v}=u;if(h==="*"){let w=l[m]||"";i=o.slice(0,o.length-w.length).replace(/(.)\/+$/,"$1")}const g=l[m];return v&&!g?d[h]=void 0:d[h]=(g||"").replace(/%2F/g,"/"),d},{}),pathname:o,pathnameBase:i,pattern:e}}function Uw(e,t,s){t===void 0&&(t=!1),s===void 0&&(s=!0),Aa(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let a=[],n="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,l,c)=>(a.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(a.push({paramName:"*"}),n+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?n+="\\/*$":e!==""&&e!=="/"&&(n+="(?:(?=\\/|$))"),[new RegExp(n,t?void 0:"i"),a]}function Bw(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Aa(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function qa(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let s=t.endsWith("/")?t.length-1:t.length,a=e.charAt(s);return a&&a!=="/"?null:e.slice(s)||"/"}function Ww(e,t){t===void 0&&(t="/");let{pathname:s,search:a="",hash:n=""}=typeof e=="string"?Vr(e):e;return{pathname:s?s.startsWith("/")?s:Hw(s,t):t,search:Vw(a),hash:Qw(n)}}function Hw(e,t){let s=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(n=>{n===".."?s.length>1&&s.pop():n!=="."&&s.push(n)}),s.length>1?s.join("/"):"/"}function hc(e,t,s,a){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(a)+"].  Please separate it out to the ")+("`to."+s+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function vg(e){return e.filter((t,s)=>s===0||t.route.path&&t.route.path.length>0)}function Bu(e,t){let s=vg(e);return t?s.map((a,n)=>n===s.length-1?a.pathname:a.pathnameBase):s.map(a=>a.pathnameBase)}function Wu(e,t,s,a){a===void 0&&(a=!1);let n;typeof e=="string"?n=Vr(e):(n=Oe({},e),we(!n.pathname||!n.pathname.includes("?"),hc("?","pathname","search",n)),we(!n.pathname||!n.pathname.includes("#"),hc("#","pathname","hash",n)),we(!n.search||!n.search.includes("#"),hc("#","search","hash",n)));let o=e===""||n.pathname==="",i=o?"/":n.pathname,l;if(i==null)l=s;else{let m=t.length-1;if(!a&&i.startsWith("..")){let h=i.split("/");for(;h[0]==="..";)h.shift(),m-=1;n.pathname=h.join("/")}l=m>=0?t[m]:"/"}let c=Ww(n,l),d=i&&i!=="/"&&i.endsWith("/"),u=(o||i===".")&&s.endsWith("/");return!c.pathname.endsWith("/")&&(d||u)&&(c.pathname+="/"),c}const Mr=e=>e.join("/").replace(/\/\/+/g,"/"),qw=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Vw=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Qw=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;class Vi{constructor(t,s,a,n){n===void 0&&(n=!1),this.status=t,this.statusText=s||"",this.internal=n,a instanceof Error?(this.data=a.toString(),this.error=a):this.data=a}}function Zn(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const wg=["post","put","patch","delete"],Gw=new Set(wg),Yw=["get",...wg],Kw=new Set(Yw),Jw=new Set([301,302,303,307,308]),Xw=new Set([307,308]),fc={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Zw={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},mn={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Hu=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ej=e=>({hasErrorBoundary:!!e.hasErrorBoundary}),jg="remix-router-transitions";function tj(e){const t=e.window?e.window:typeof window<"u"?window:void 0,s=typeof t<"u"&&typeof t.document<"u"&&typeof t.document.createElement<"u",a=!s;we(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let n;if(e.mapRouteProperties)n=e.mapRouteProperties;else if(e.detectErrorBoundary){let C=e.detectErrorBoundary;n=P=>({hasErrorBoundary:C(P)})}else n=ej;let o={},i=qi(e.routes,n,void 0,o),l,c=e.basename||"/",d=e.dataStrategy||nj,u=e.patchRoutesOnNavigation,m=Oe({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},e.future),h=null,v=new Set,g=null,w=null,x=null,f=e.hydrationData!=null,b=Es(i,e.history.location,c),p=!1,k=null;if(b==null&&!u){let C=Et(404,{pathname:e.history.location.pathname}),{matches:P,route:I}=th(i);b=P,k={[I.id]:C}}b&&!e.hydrationData&&No(b,i,e.history.location.pathname).active&&(b=null);let E;if(b)if(b.some(C=>C.route.lazy))E=!1;else if(!b.some(C=>C.route.loader))E=!0;else if(m.v7_partialHydration){let C=e.hydrationData?e.hydrationData.loaderData:null,P=e.hydrationData?e.hydrationData.errors:null;if(P){let I=b.findIndex(z=>P[z.route.id]!==void 0);E=b.slice(0,I+1).every(z=>!Nd(z.route,C,P))}else E=b.every(I=>!Nd(I.route,C,P))}else E=e.hydrationData!=null;else if(E=!1,b=[],m.v7_partialHydration){let C=No(null,i,e.history.location.pathname);C.active&&C.matches&&(p=!0,b=C.matches)}let _,j={historyAction:e.history.action,location:e.history.location,matches:b,initialized:E,navigation:fc,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||k,fetchers:new Map,blockers:new Map},N=qe.Pop,S=!1,A,M=!1,F=new Map,U=null,X=!1,me=!1,de=[],te=new Set,O=new Map,se=0,V=-1,T=new Map,$=new Set,Y=new Map,Q=new Map,pe=new Set,B=new Map,Z=new Map,ue;function he(){if(h=e.history.listen(C=>{let{action:P,location:I,delta:z}=C;if(ue){ue(),ue=void 0;return}Aa(Z.size===0||z!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let K=C0({currentLocation:j.location,nextLocation:I,historyAction:P});if(K&&z!=null){let ce=new Promise(xe=>{ue=xe});e.history.go(z*-1),ko(K,{state:"blocked",location:I,proceed(){ko(K,{state:"proceeding",proceed:void 0,reset:void 0,location:I}),ce.then(()=>e.history.go(z))},reset(){let xe=new Map(j.blockers);xe.set(K,mn),L({blockers:xe})}});return}return R(P,I)}),s){bj(t,F);let C=()=>vj(t,F);t.addEventListener("pagehide",C),U=()=>t.removeEventListener("pagehide",C)}return j.initialized||R(qe.Pop,j.location,{initialHydration:!0}),_}function dt(){h&&h(),U&&U(),v.clear(),A&&A.abort(),j.fetchers.forEach((C,P)=>jo(P)),j.blockers.forEach((C,P)=>S0(P))}function kt(C){return v.add(C),()=>v.delete(C)}function L(C,P){P===void 0&&(P={}),j=Oe({},j,C);let I=[],z=[];m.v7_fetcherPersist&&j.fetchers.forEach((K,ce)=>{K.state==="idle"&&(pe.has(ce)?z.push(ce):I.push(ce))}),pe.forEach(K=>{!j.fetchers.has(K)&&!O.has(K)&&z.push(K)}),[...v].forEach(K=>K(j,{deletedFetchers:z,viewTransitionOpts:P.viewTransitionOpts,flushSync:P.flushSync===!0})),m.v7_fetcherPersist?(I.forEach(K=>j.fetchers.delete(K)),z.forEach(K=>jo(K))):z.forEach(K=>pe.delete(K))}function G(C,P,I){var z,K;let{flushSync:ce}=I===void 0?{}:I,xe=j.actionData!=null&&j.navigation.formMethod!=null&&ir(j.navigation.formMethod)&&j.navigation.state==="loading"&&((z=C.state)==null?void 0:z._isRedirect)!==!0,ae;P.actionData?Object.keys(P.actionData).length>0?ae=P.actionData:ae=null:xe?ae=j.actionData:ae=null;let ie=P.loaderData?Zm(j.loaderData,P.loaderData,P.matches||[],P.errors):j.loaderData,re=j.blockers;re.size>0&&(re=new Map(re),re.forEach((Ne,nt)=>re.set(nt,mn)));let le=S===!0||j.navigation.formMethod!=null&&ir(j.navigation.formMethod)&&((K=C.state)==null?void 0:K._isRedirect)!==!0;l&&(i=l,l=void 0),X||N===qe.Pop||(N===qe.Push?e.history.push(C,C.state):N===qe.Replace&&e.history.replace(C,C.state));let be;if(N===qe.Pop){let Ne=F.get(j.location.pathname);Ne&&Ne.has(C.pathname)?be={currentLocation:j.location,nextLocation:C}:F.has(C.pathname)&&(be={currentLocation:C,nextLocation:j.location})}else if(M){let Ne=F.get(j.location.pathname);Ne?Ne.add(C.pathname):(Ne=new Set([C.pathname]),F.set(j.location.pathname,Ne)),be={currentLocation:j.location,nextLocation:C}}L(Oe({},P,{actionData:ae,loaderData:ie,historyAction:N,location:C,initialized:!0,navigation:fc,revalidation:"idle",restoreScrollPosition:_0(C,P.matches||j.matches),preventScrollReset:le,blockers:re}),{viewTransitionOpts:be,flushSync:ce===!0}),N=qe.Pop,S=!1,M=!1,X=!1,me=!1,de=[]}async function ge(C,P){if(typeof C=="number"){e.history.go(C);return}let I=kd(j.location,j.matches,c,m.v7_prependBasename,C,m.v7_relativeSplatPath,P==null?void 0:P.fromRouteId,P==null?void 0:P.relative),{path:z,submission:K,error:ce}=qm(m.v7_normalizeFormMethod,!1,I,P),xe=j.location,ae=Xn(j.location,z,P&&P.state);ae=Oe({},ae,e.history.encodeLocation(ae));let ie=P&&P.replace!=null?P.replace:void 0,re=qe.Push;ie===!0?re=qe.Replace:ie===!1||K!=null&&ir(K.formMethod)&&K.formAction===j.location.pathname+j.location.search&&(re=qe.Replace);let le=P&&"preventScrollReset"in P?P.preventScrollReset===!0:void 0,be=(P&&P.flushSync)===!0,Ne=C0({currentLocation:xe,nextLocation:ae,historyAction:re});if(Ne){ko(Ne,{state:"blocked",location:ae,proceed(){ko(Ne,{state:"proceeding",proceed:void 0,reset:void 0,location:ae}),ge(C,P)},reset(){let nt=new Map(j.blockers);nt.set(Ne,mn),L({blockers:nt})}});return}return await R(re,ae,{submission:K,pendingError:ce,preventScrollReset:le,replace:P&&P.replace,enableViewTransition:P&&P.viewTransition,flushSync:be})}function H(){if(Js(),L({revalidation:"loading"}),j.navigation.state!=="submitting"){if(j.navigation.state==="idle"){R(j.historyAction,j.location,{startUninterruptedRevalidation:!0});return}R(N||j.historyAction,j.navigation.location,{overrideNavigation:j.navigation,enableViewTransition:M===!0})}}async function R(C,P,I){A&&A.abort(),A=null,N=C,X=(I&&I.startUninterruptedRevalidation)===!0,py(j.location,j.matches),S=(I&&I.preventScrollReset)===!0,M=(I&&I.enableViewTransition)===!0;let z=l||i,K=I&&I.overrideNavigation,ce=I!=null&&I.initialHydration&&j.matches&&j.matches.length>0&&!p?j.matches:Es(z,P,c),xe=(I&&I.flushSync)===!0;if(ce&&j.initialized&&!me&&uj(j.location,P)&&!(I&&I.submission&&ir(I.submission.formMethod))){G(P,{matches:ce},{flushSync:xe});return}let ae=No(ce,z,P.pathname);if(ae.active&&ae.matches&&(ce=ae.matches),!ce){let{error:Ae,notFoundMatches:Ee,route:Be}=Ml(P.pathname);G(P,{matches:Ee,loaderData:{},errors:{[Be.id]:Ae}},{flushSync:xe});return}A=new AbortController;let ie=aa(e.history,P,A.signal,I&&I.submission),re;if(I&&I.pendingError)re=[_s(ce).route.id,{type:_e.error,error:I.pendingError}];else if(I&&I.submission&&ir(I.submission.formMethod)){let Ae=await q(ie,P,I.submission,ce,ae.active,{replace:I.replace,flushSync:xe});if(Ae.shortCircuited)return;if(Ae.pendingActionResult){let[Ee,Be]=Ae.pendingActionResult;if(zt(Be)&&Zn(Be.error)&&Be.error.status===404){A=null,G(P,{matches:Ae.matches,loaderData:{},errors:{[Ee]:Be.error}});return}}ce=Ae.matches||ce,re=Ae.pendingActionResult,K=xc(P,I.submission),xe=!1,ae.active=!1,ie=aa(e.history,ie.url,ie.signal)}let{shortCircuited:le,matches:be,loaderData:Ne,errors:nt}=await oe(ie,P,ce,ae.active,K,I&&I.submission,I&&I.fetcherSubmission,I&&I.replace,I&&I.initialHydration===!0,xe,re);le||(A=null,G(P,Oe({matches:be||ce},eh(re),{loaderData:Ne,errors:nt})))}async function q(C,P,I,z,K,ce){ce===void 0&&(ce={}),Js();let xe=pj(P,I);if(L({navigation:xe},{flushSync:ce.flushSync===!0}),K){let re=await So(z,P.pathname,C.signal);if(re.type==="aborted")return{shortCircuited:!0};if(re.type==="error"){let le=_s(re.partialMatches).route.id;return{matches:re.partialMatches,pendingActionResult:[le,{type:_e.error,error:re.error}]}}else if(re.matches)z=re.matches;else{let{notFoundMatches:le,error:be,route:Ne}=Ml(P.pathname);return{matches:le,pendingActionResult:[Ne.id,{type:_e.error,error:be}]}}}let ae,ie=kn(z,P);if(!ie.route.action&&!ie.route.lazy)ae={type:_e.error,error:Et(405,{method:C.method,pathname:P.pathname,routeId:ie.route.id})};else if(ae=(await St("action",j,C,[ie],z,null))[ie.route.id],C.signal.aborted)return{shortCircuited:!0};if(Ls(ae)){let re;return ce&&ce.replace!=null?re=ce.replace:re=Km(ae.response.headers.get("Location"),new URL(C.url),c)===j.location.pathname+j.location.search,await Nt(C,ae,!0,{submission:I,replace:re}),{shortCircuited:!0}}if(ss(ae))throw Et(400,{type:"defer-action"});if(zt(ae)){let re=_s(z,ie.route.id);return(ce&&ce.replace)!==!0&&(N=qe.Push),{matches:z,pendingActionResult:[re.route.id,ae]}}return{matches:z,pendingActionResult:[ie.route.id,ae]}}async function oe(C,P,I,z,K,ce,xe,ae,ie,re,le){let be=K||xc(P,ce),Ne=ce||xe||sh(be),nt=!X&&(!m.v7_partialHydration||!ie);if(z){if(nt){let We=ke(le);L(Oe({navigation:be},We!==void 0?{actionData:We}:{}),{flushSync:re})}let Ce=await So(I,P.pathname,C.signal);if(Ce.type==="aborted")return{shortCircuited:!0};if(Ce.type==="error"){let We=_s(Ce.partialMatches).route.id;return{matches:Ce.partialMatches,loaderData:{},errors:{[We]:Ce.error}}}else if(Ce.matches)I=Ce.matches;else{let{error:We,notFoundMatches:ea,route:rn}=Ml(P.pathname);return{matches:ea,loaderData:{},errors:{[rn.id]:We}}}}let Ae=l||i,[Ee,Be]=Qm(e.history,j,I,Ne,P,m.v7_partialHydration&&ie===!0,m.v7_skipActionErrorRevalidation,me,de,te,pe,Y,$,Ae,c,le);if(Ol(Ce=>!(I&&I.some(We=>We.route.id===Ce))||Ee&&Ee.some(We=>We.route.id===Ce)),V=++se,Ee.length===0&&Be.length===0){let Ce=k0();return G(P,Oe({matches:I,loaderData:{},errors:le&&zt(le[1])?{[le[0]]:le[1].error}:null},eh(le),Ce?{fetchers:new Map(j.fetchers)}:{}),{flushSync:re}),{shortCircuited:!0}}if(nt){let Ce={};if(!z){Ce.navigation=be;let We=ke(le);We!==void 0&&(Ce.actionData=We)}Be.length>0&&(Ce.fetchers=at(Be)),L(Ce,{flushSync:re})}Be.forEach(Ce=>{Gr(Ce.key),Ce.controller&&O.set(Ce.key,Ce.controller)});let Zs=()=>Be.forEach(Ce=>Gr(Ce.key));A&&A.signal.addEventListener("abort",Zs);let{loaderResults:en,fetcherResults:Cr}=await Za(j,I,Ee,Be,C);if(C.signal.aborted)return{shortCircuited:!0};A&&A.signal.removeEventListener("abort",Zs),Be.forEach(Ce=>O.delete(Ce.key));let br=qo(en);if(br)return await Nt(C,br.result,!0,{replace:ae}),{shortCircuited:!0};if(br=qo(Cr),br)return $.add(br.key),await Nt(C,br.result,!0,{replace:ae}),{shortCircuited:!0};let{loaderData:$l,errors:tn}=Xm(j,I,en,le,Be,Cr,B);B.forEach((Ce,We)=>{Ce.subscribe(ea=>{(ea||Ce.done)&&B.delete(We)})}),m.v7_partialHydration&&ie&&j.errors&&(tn=Oe({},j.errors,tn));let js=k0(),Co=N0(V),Eo=js||Co||Be.length>0;return Oe({matches:I,loaderData:$l,errors:tn},Eo?{fetchers:new Map(j.fetchers)}:{})}function ke(C){if(C&&!zt(C[1]))return{[C[0]]:C[1].data};if(j.actionData)return Object.keys(j.actionData).length===0?null:j.actionData}function at(C){return C.forEach(P=>{let I=j.fetchers.get(P.key),z=hn(void 0,I?I.data:void 0);j.fetchers.set(P.key,z)}),new Map(j.fetchers)}function $t(C,P,I,z){if(a)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");Gr(C);let K=(z&&z.flushSync)===!0,ce=l||i,xe=kd(j.location,j.matches,c,m.v7_prependBasename,I,m.v7_relativeSplatPath,P,z==null?void 0:z.relative),ae=Es(ce,xe,c),ie=No(ae,ce,xe);if(ie.active&&ie.matches&&(ae=ie.matches),!ae){Gt(C,P,Et(404,{pathname:xe}),{flushSync:K});return}let{path:re,submission:le,error:be}=qm(m.v7_normalizeFormMethod,!0,xe,z);if(be){Gt(C,P,be,{flushSync:K});return}let Ne=kn(ae,re),nt=(z&&z.preventScrollReset)===!0;if(le&&ir(le.formMethod)){fe(C,P,re,Ne,ae,ie.active,K,nt,le);return}Y.set(C,{routeId:P,path:re}),Ze(C,P,re,Ne,ae,ie.active,K,nt,le)}async function fe(C,P,I,z,K,ce,xe,ae,ie){Js(),Y.delete(C);function re(Qe){if(!Qe.route.action&&!Qe.route.lazy){let ta=Et(405,{method:ie.formMethod,pathname:I,routeId:P});return Gt(C,P,ta,{flushSync:xe}),!0}return!1}if(!ce&&re(z))return;let le=j.fetchers.get(C);sr(C,yj(ie,le),{flushSync:xe});let be=new AbortController,Ne=aa(e.history,I,be.signal,ie);if(ce){let Qe=await So(K,new URL(Ne.url).pathname,Ne.signal,C);if(Qe.type==="aborted")return;if(Qe.type==="error"){Gt(C,P,Qe.error,{flushSync:xe});return}else if(Qe.matches){if(K=Qe.matches,z=kn(K,I),re(z))return}else{Gt(C,P,Et(404,{pathname:I}),{flushSync:xe});return}}O.set(C,be);let nt=se,Ee=(await St("action",j,Ne,[z],K,C))[z.route.id];if(Ne.signal.aborted){O.get(C)===be&&O.delete(C);return}if(m.v7_fetcherPersist&&pe.has(C)){if(Ls(Ee)||zt(Ee)){sr(C,Kr(void 0));return}}else{if(Ls(Ee))if(O.delete(C),V>nt){sr(C,Kr(void 0));return}else return $.add(C),sr(C,hn(ie)),Nt(Ne,Ee,!1,{fetcherSubmission:ie,preventScrollReset:ae});if(zt(Ee)){Gt(C,P,Ee.error);return}}if(ss(Ee))throw Et(400,{type:"defer-action"});let Be=j.navigation.location||j.location,Zs=aa(e.history,Be,be.signal),en=l||i,Cr=j.navigation.state!=="idle"?Es(en,j.navigation.location,c):j.matches;we(Cr,"Didn't find any matches after fetcher action");let br=++se;T.set(C,br);let $l=hn(ie,Ee.data);j.fetchers.set(C,$l);let[tn,js]=Qm(e.history,j,Cr,ie,Be,!1,m.v7_skipActionErrorRevalidation,me,de,te,pe,Y,$,en,c,[z.route.id,Ee]);js.filter(Qe=>Qe.key!==C).forEach(Qe=>{let ta=Qe.key,P0=j.fetchers.get(ta),vy=hn(void 0,P0?P0.data:void 0);j.fetchers.set(ta,vy),Gr(ta),Qe.controller&&O.set(ta,Qe.controller)}),L({fetchers:new Map(j.fetchers)});let Co=()=>js.forEach(Qe=>Gr(Qe.key));be.signal.addEventListener("abort",Co);let{loaderResults:Eo,fetcherResults:Ce}=await Za(j,Cr,tn,js,Zs);if(be.signal.aborted)return;be.signal.removeEventListener("abort",Co),T.delete(C),O.delete(C),js.forEach(Qe=>O.delete(Qe.key));let We=qo(Eo);if(We)return Nt(Zs,We.result,!1,{preventScrollReset:ae});if(We=qo(Ce),We)return $.add(We.key),Nt(Zs,We.result,!1,{preventScrollReset:ae});let{loaderData:ea,errors:rn}=Xm(j,Cr,Eo,void 0,js,Ce,B);if(j.fetchers.has(C)){let Qe=Kr(Ee.data);j.fetchers.set(C,Qe)}N0(br),j.navigation.state==="loading"&&br>V?(we(N,"Expected pending action"),A&&A.abort(),G(j.navigation.location,{matches:Cr,loaderData:ea,errors:rn,fetchers:new Map(j.fetchers)})):(L({errors:rn,loaderData:Zm(j.loaderData,ea,Cr,rn),fetchers:new Map(j.fetchers)}),me=!1)}async function Ze(C,P,I,z,K,ce,xe,ae,ie){let re=j.fetchers.get(C);sr(C,hn(ie,re?re.data:void 0),{flushSync:xe});let le=new AbortController,be=aa(e.history,I,le.signal);if(ce){let Ee=await So(K,new URL(be.url).pathname,be.signal,C);if(Ee.type==="aborted")return;if(Ee.type==="error"){Gt(C,P,Ee.error,{flushSync:xe});return}else if(Ee.matches)K=Ee.matches,z=kn(K,I);else{Gt(C,P,Et(404,{pathname:I}),{flushSync:xe});return}}O.set(C,le);let Ne=se,Ae=(await St("loader",j,be,[z],K,C))[z.route.id];if(ss(Ae)&&(Ae=await qu(Ae,be.signal,!0)||Ae),O.get(C)===le&&O.delete(C),!be.signal.aborted){if(pe.has(C)){sr(C,Kr(void 0));return}if(Ls(Ae))if(V>Ne){sr(C,Kr(void 0));return}else{$.add(C),await Nt(be,Ae,!1,{preventScrollReset:ae});return}if(zt(Ae)){Gt(C,P,Ae.error);return}we(!ss(Ae),"Unhandled fetcher deferred data"),sr(C,Kr(Ae.data))}}async function Nt(C,P,I,z){let{submission:K,fetcherSubmission:ce,preventScrollReset:xe,replace:ae}=z===void 0?{}:z;P.response.headers.has("X-Remix-Revalidate")&&(me=!0);let ie=P.response.headers.get("Location");we(ie,"Expected a Location header on the redirect Response"),ie=Km(ie,new URL(C.url),c);let re=Xn(j.location,ie,{_isRedirect:!0});if(s){let Ee=!1;if(P.response.headers.has("X-Remix-Reload-Document"))Ee=!0;else if(Hu.test(ie)){const Be=e.history.createURL(ie);Ee=Be.origin!==t.location.origin||qa(Be.pathname,c)==null}if(Ee){ae?t.location.replace(ie):t.location.assign(ie);return}}A=null;let le=ae===!0||P.response.headers.has("X-Remix-Replace")?qe.Replace:qe.Push,{formMethod:be,formAction:Ne,formEncType:nt}=j.navigation;!K&&!ce&&be&&Ne&&nt&&(K=sh(j.navigation));let Ae=K||ce;if(Xw.has(P.response.status)&&Ae&&ir(Ae.formMethod))await R(le,re,{submission:Oe({},Ae,{formAction:ie}),preventScrollReset:xe||S,enableViewTransition:I?M:void 0});else{let Ee=xc(re,K);await R(le,re,{overrideNavigation:Ee,fetcherSubmission:ce,preventScrollReset:xe||S,enableViewTransition:I?M:void 0})}}async function St(C,P,I,z,K,ce){let xe,ae={};try{xe=await oj(d,C,P,I,z,K,ce,o,n)}catch(ie){return z.forEach(re=>{ae[re.route.id]={type:_e.error,error:ie}}),ae}for(let[ie,re]of Object.entries(xe))if(mj(re)){let le=re.result;ae[ie]={type:_e.redirect,response:cj(le,I,ie,K,c,m.v7_relativeSplatPath)}}else ae[ie]=await lj(re);return ae}async function Za(C,P,I,z,K){let ce=C.matches,xe=St("loader",C,K,I,P,null),ae=Promise.all(z.map(async le=>{if(le.matches&&le.match&&le.controller){let Ne=(await St("loader",C,aa(e.history,le.path,le.controller.signal),[le.match],le.matches,le.key))[le.match.route.id];return{[le.key]:Ne}}else return Promise.resolve({[le.key]:{type:_e.error,error:Et(404,{pathname:le.path})}})})),ie=await xe,re=(await ae).reduce((le,be)=>Object.assign(le,be),{});return await Promise.all([xj(P,ie,K.signal,ce,C.loaderData),gj(P,re,z)]),{loaderResults:ie,fetcherResults:re}}function Js(){me=!0,de.push(...Ol()),Y.forEach((C,P)=>{O.has(P)&&te.add(P),Gr(P)})}function sr(C,P,I){I===void 0&&(I={}),j.fetchers.set(C,P),L({fetchers:new Map(j.fetchers)},{flushSync:(I&&I.flushSync)===!0})}function Gt(C,P,I,z){z===void 0&&(z={});let K=_s(j.matches,P);jo(C),L({errors:{[K.route.id]:I},fetchers:new Map(j.fetchers)},{flushSync:(z&&z.flushSync)===!0})}function Xs(C){return Q.set(C,(Q.get(C)||0)+1),pe.has(C)&&pe.delete(C),j.fetchers.get(C)||Zw}function jo(C){let P=j.fetchers.get(C);O.has(C)&&!(P&&P.state==="loading"&&T.has(C))&&Gr(C),Y.delete(C),T.delete(C),$.delete(C),m.v7_fetcherPersist&&pe.delete(C),te.delete(C),j.fetchers.delete(C)}function fy(C){let P=(Q.get(C)||0)-1;P<=0?(Q.delete(C),pe.add(C),m.v7_fetcherPersist||jo(C)):Q.set(C,P),L({fetchers:new Map(j.fetchers)})}function Gr(C){let P=O.get(C);P&&(P.abort(),O.delete(C))}function j0(C){for(let P of C){let I=Xs(P),z=Kr(I.data);j.fetchers.set(P,z)}}function k0(){let C=[],P=!1;for(let I of $){let z=j.fetchers.get(I);we(z,"Expected fetcher: "+I),z.state==="loading"&&($.delete(I),C.push(I),P=!0)}return j0(C),P}function N0(C){let P=[];for(let[I,z]of T)if(z<C){let K=j.fetchers.get(I);we(K,"Expected fetcher: "+I),K.state==="loading"&&(Gr(I),T.delete(I),P.push(I))}return j0(P),P.length>0}function xy(C,P){let I=j.blockers.get(C)||mn;return Z.get(C)!==P&&Z.set(C,P),I}function S0(C){j.blockers.delete(C),Z.delete(C)}function ko(C,P){let I=j.blockers.get(C)||mn;we(I.state==="unblocked"&&P.state==="blocked"||I.state==="blocked"&&P.state==="blocked"||I.state==="blocked"&&P.state==="proceeding"||I.state==="blocked"&&P.state==="unblocked"||I.state==="proceeding"&&P.state==="unblocked","Invalid blocker state transition: "+I.state+" -> "+P.state);let z=new Map(j.blockers);z.set(C,P),L({blockers:z})}function C0(C){let{currentLocation:P,nextLocation:I,historyAction:z}=C;if(Z.size===0)return;Z.size>1&&Aa(!1,"A router only supports one blocker at a time");let K=Array.from(Z.entries()),[ce,xe]=K[K.length-1],ae=j.blockers.get(ce);if(!(ae&&ae.state==="proceeding")&&xe({currentLocation:P,nextLocation:I,historyAction:z}))return ce}function Ml(C){let P=Et(404,{pathname:C}),I=l||i,{matches:z,route:K}=th(I);return Ol(),{notFoundMatches:z,route:K,error:P}}function Ol(C){let P=[];return B.forEach((I,z)=>{(!C||C(z))&&(I.cancel(),P.push(z),B.delete(z))}),P}function gy(C,P,I){if(g=C,x=P,w=I||null,!f&&j.navigation===fc){f=!0;let z=_0(j.location,j.matches);z!=null&&L({restoreScrollPosition:z})}return()=>{g=null,x=null,w=null}}function E0(C,P){return w&&w(C,P.map(z=>Rw(z,j.loaderData)))||C.key}function py(C,P){if(g&&x){let I=E0(C,P);g[I]=x()}}function _0(C,P){if(g){let I=E0(C,P),z=g[I];if(typeof z=="number")return z}return null}function No(C,P,I){if(u)if(C){if(Object.keys(C[0].params).length>0)return{active:!0,matches:fi(P,I,c,!0)}}else return{active:!0,matches:fi(P,I,c,!0)||[]};return{active:!1,matches:null}}async function So(C,P,I,z){if(!u)return{type:"success",matches:C};let K=C;for(;;){let ce=l==null,xe=l||i,ae=o;try{await u({signal:I,path:P,matches:K,fetcherKey:z,patch:(le,be)=>{I.aborted||Ym(le,be,xe,ae,n)}})}catch(le){return{type:"error",error:le,partialMatches:K}}finally{ce&&!I.aborted&&(i=[...i])}if(I.aborted)return{type:"aborted"};let ie=Es(xe,P,c);if(ie)return{type:"success",matches:ie};let re=fi(xe,P,c,!0);if(!re||K.length===re.length&&K.every((le,be)=>le.route.id===re[be].route.id))return{type:"success",matches:null};K=re}}function yy(C){o={},l=qi(C,n,void 0,o)}function by(C,P){let I=l==null;Ym(C,P,l||i,o,n),I&&(i=[...i],L({}))}return _={get basename(){return c},get future(){return m},get state(){return j},get routes(){return i},get window(){return t},initialize:he,subscribe:kt,enableScrollRestoration:gy,navigate:ge,fetch:$t,revalidate:H,createHref:C=>e.history.createHref(C),encodeLocation:C=>e.history.encodeLocation(C),getFetcher:Xs,deleteFetcher:fy,dispose:dt,getBlocker:xy,deleteBlocker:S0,patchRoutes:by,_internalFetchControllers:O,_internalActiveDeferreds:B,_internalSetRoutes:yy},_}function rj(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function kd(e,t,s,a,n,o,i,l){let c,d;if(i){c=[];for(let m of t)if(c.push(m),m.route.id===i){d=m;break}}else c=t,d=t[t.length-1];let u=Wu(n||".",Bu(c,o),qa(e.pathname,s)||e.pathname,l==="path");if(n==null&&(u.search=e.search,u.hash=e.hash),(n==null||n===""||n===".")&&d){let m=Vu(u.search);if(d.route.index&&!m)u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index";else if(!d.route.index&&m){let h=new URLSearchParams(u.search),v=h.getAll("index");h.delete("index"),v.filter(w=>w).forEach(w=>h.append("index",w));let g=h.toString();u.search=g?"?"+g:""}}return a&&s!=="/"&&(u.pathname=u.pathname==="/"?s:Mr([s,u.pathname])),Ws(u)}function qm(e,t,s,a){if(!a||!rj(a))return{path:s};if(a.formMethod&&!fj(a.formMethod))return{path:s,error:Et(405,{method:a.formMethod})};let n=()=>({path:s,error:Et(400,{type:"invalid-body"})}),o=a.formMethod||"get",i=e?o.toUpperCase():o.toLowerCase(),l=Sg(s);if(a.body!==void 0){if(a.formEncType==="text/plain"){if(!ir(i))return n();let h=typeof a.body=="string"?a.body:a.body instanceof FormData||a.body instanceof URLSearchParams?Array.from(a.body.entries()).reduce((v,g)=>{let[w,x]=g;return""+v+w+"="+x+`
`},""):String(a.body);return{path:s,submission:{formMethod:i,formAction:l,formEncType:a.formEncType,formData:void 0,json:void 0,text:h}}}else if(a.formEncType==="application/json"){if(!ir(i))return n();try{let h=typeof a.body=="string"?JSON.parse(a.body):a.body;return{path:s,submission:{formMethod:i,formAction:l,formEncType:a.formEncType,formData:void 0,json:h,text:void 0}}}catch{return n()}}}we(typeof FormData=="function","FormData is not available in this environment");let c,d;if(a.formData)c=Sd(a.formData),d=a.formData;else if(a.body instanceof FormData)c=Sd(a.body),d=a.body;else if(a.body instanceof URLSearchParams)c=a.body,d=Jm(c);else if(a.body==null)c=new URLSearchParams,d=new FormData;else try{c=new URLSearchParams(a.body),d=Jm(c)}catch{return n()}let u={formMethod:i,formAction:l,formEncType:a&&a.formEncType||"application/x-www-form-urlencoded",formData:d,json:void 0,text:void 0};if(ir(u.formMethod))return{path:s,submission:u};let m=Vr(s);return t&&m.search&&Vu(m.search)&&c.append("index",""),m.search="?"+c,{path:Ws(m),submission:u}}function Vm(e,t,s){s===void 0&&(s=!1);let a=e.findIndex(n=>n.route.id===t);return a>=0?e.slice(0,s?a+1:a):e}function Qm(e,t,s,a,n,o,i,l,c,d,u,m,h,v,g,w){let x=w?zt(w[1])?w[1].error:w[1].data:void 0,f=e.createURL(t.location),b=e.createURL(n),p=s;o&&t.errors?p=Vm(s,Object.keys(t.errors)[0],!0):w&&zt(w[1])&&(p=Vm(s,w[0]));let k=w?w[1].statusCode:void 0,E=i&&k&&k>=400,_=p.filter((N,S)=>{let{route:A}=N;if(A.lazy)return!0;if(A.loader==null)return!1;if(o)return Nd(A,t.loaderData,t.errors);if(sj(t.loaderData,t.matches[S],N)||c.some(U=>U===N.route.id))return!0;let M=t.matches[S],F=N;return Gm(N,Oe({currentUrl:f,currentParams:M.params,nextUrl:b,nextParams:F.params},a,{actionResult:x,actionStatus:k,defaultShouldRevalidate:E?!1:l||f.pathname+f.search===b.pathname+b.search||f.search!==b.search||kg(M,F)}))}),j=[];return m.forEach((N,S)=>{if(o||!s.some(X=>X.route.id===N.routeId)||u.has(S))return;let A=Es(v,N.path,g);if(!A){j.push({key:S,routeId:N.routeId,path:N.path,matches:null,match:null,controller:null});return}let M=t.fetchers.get(S),F=kn(A,N.path),U=!1;h.has(S)?U=!1:d.has(S)?(d.delete(S),U=!0):M&&M.state!=="idle"&&M.data===void 0?U=l:U=Gm(F,Oe({currentUrl:f,currentParams:t.matches[t.matches.length-1].params,nextUrl:b,nextParams:s[s.length-1].params},a,{actionResult:x,actionStatus:k,defaultShouldRevalidate:E?!1:l})),U&&j.push({key:S,routeId:N.routeId,path:N.path,matches:A,match:F,controller:new AbortController})}),[_,j]}function Nd(e,t,s){if(e.lazy)return!0;if(!e.loader)return!1;let a=t!=null&&t[e.id]!==void 0,n=s!=null&&s[e.id]!==void 0;return!a&&n?!1:typeof e.loader=="function"&&e.loader.hydrate===!0?!0:!a&&!n}function sj(e,t,s){let a=!t||s.route.id!==t.route.id,n=e[s.route.id]===void 0;return a||n}function kg(e,t){let s=e.route.path;return e.pathname!==t.pathname||s!=null&&s.endsWith("*")&&e.params["*"]!==t.params["*"]}function Gm(e,t){if(e.route.shouldRevalidate){let s=e.route.shouldRevalidate(t);if(typeof s=="boolean")return s}return t.defaultShouldRevalidate}function Ym(e,t,s,a,n){var o;let i;if(e){let d=a[e];we(d,"No route found to patch children into: routeId = "+e),d.children||(d.children=[]),i=d.children}else i=s;let l=t.filter(d=>!i.some(u=>Ng(d,u))),c=qi(l,n,[e||"_","patch",String(((o=i)==null?void 0:o.length)||"0")],a);i.push(...c)}function Ng(e,t){return"id"in e&&"id"in t&&e.id===t.id?!0:e.index===t.index&&e.path===t.path&&e.caseSensitive===t.caseSensitive?(!e.children||e.children.length===0)&&(!t.children||t.children.length===0)?!0:e.children.every((s,a)=>{var n;return(n=t.children)==null?void 0:n.some(o=>Ng(s,o))}):!1}async function aj(e,t,s){if(!e.lazy)return;let a=await e.lazy();if(!e.lazy)return;let n=s[e.id];we(n,"No route found in manifest");let o={};for(let i in a){let c=n[i]!==void 0&&i!=="hasErrorBoundary";Aa(!c,'Route "'+n.id+'" has a static property "'+i+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+i+'" will be ignored.')),!c&&!_w.has(i)&&(o[i]=a[i])}Object.assign(n,o),Object.assign(n,Oe({},t(n),{lazy:void 0}))}async function nj(e){let{matches:t}=e,s=t.filter(n=>n.shouldLoad);return(await Promise.all(s.map(n=>n.resolve()))).reduce((n,o,i)=>Object.assign(n,{[s[i].route.id]:o}),{})}async function oj(e,t,s,a,n,o,i,l,c,d){let u=o.map(v=>v.route.lazy?aj(v.route,c,l):void 0),m=o.map((v,g)=>{let w=u[g],x=n.some(b=>b.route.id===v.route.id);return Oe({},v,{shouldLoad:x,resolve:async b=>(b&&a.method==="GET"&&(v.route.lazy||v.route.loader)&&(x=!0),x?ij(t,a,v,w,b,d):Promise.resolve({type:_e.data,result:void 0}))})}),h=await e({matches:m,request:a,params:o[0].params,fetcherKey:i,context:d});try{await Promise.all(u)}catch{}return h}async function ij(e,t,s,a,n,o){let i,l,c=d=>{let u,m=new Promise((g,w)=>u=w);l=()=>u(),t.signal.addEventListener("abort",l);let h=g=>typeof d!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+e+'" [routeId: '+s.route.id+"]"))):d({request:t,params:s.params,context:o},...g!==void 0?[g]:[]),v=(async()=>{try{return{type:"data",result:await(n?n(w=>h(w)):h())}}catch(g){return{type:"error",result:g}}})();return Promise.race([v,m])};try{let d=s.route[e];if(a)if(d){let u,[m]=await Promise.all([c(d).catch(h=>{u=h}),a]);if(u!==void 0)throw u;i=m}else if(await a,d=s.route[e],d)i=await c(d);else if(e==="action"){let u=new URL(t.url),m=u.pathname+u.search;throw Et(405,{method:t.method,pathname:m,routeId:s.route.id})}else return{type:_e.data,result:void 0};else if(d)i=await c(d);else{let u=new URL(t.url),m=u.pathname+u.search;throw Et(404,{pathname:m})}we(i.result!==void 0,"You defined "+(e==="action"?"an action":"a loader")+" for route "+('"'+s.route.id+"\" but didn't return anything from your `"+e+"` ")+"function. Please return a value or `null`.")}catch(d){return{type:_e.error,result:d}}finally{l&&t.signal.removeEventListener("abort",l)}return i}async function lj(e){let{result:t,type:s}=e;if(Cg(t)){let m;try{let h=t.headers.get("Content-Type");h&&/\bapplication\/json\b/.test(h)?t.body==null?m=null:m=await t.json():m=await t.text()}catch(h){return{type:_e.error,error:h}}return s===_e.error?{type:_e.error,error:new Vi(t.status,t.statusText,m),statusCode:t.status,headers:t.headers}:{type:_e.data,data:m,statusCode:t.status,headers:t.headers}}if(s===_e.error){if(rh(t)){var a,n;if(t.data instanceof Error){var o,i;return{type:_e.error,error:t.data,statusCode:(o=t.init)==null?void 0:o.status,headers:(i=t.init)!=null&&i.headers?new Headers(t.init.headers):void 0}}return{type:_e.error,error:new Vi(((a=t.init)==null?void 0:a.status)||500,void 0,t.data),statusCode:Zn(t)?t.status:void 0,headers:(n=t.init)!=null&&n.headers?new Headers(t.init.headers):void 0}}return{type:_e.error,error:t,statusCode:Zn(t)?t.status:void 0}}if(hj(t)){var l,c;return{type:_e.deferred,deferredData:t,statusCode:(l=t.init)==null?void 0:l.status,headers:((c=t.init)==null?void 0:c.headers)&&new Headers(t.init.headers)}}if(rh(t)){var d,u;return{type:_e.data,data:t.data,statusCode:(d=t.init)==null?void 0:d.status,headers:(u=t.init)!=null&&u.headers?new Headers(t.init.headers):void 0}}return{type:_e.data,data:t}}function cj(e,t,s,a,n,o){let i=e.headers.get("Location");if(we(i,"Redirects returned/thrown from loaders/actions must have a Location header"),!Hu.test(i)){let l=a.slice(0,a.findIndex(c=>c.route.id===s)+1);i=kd(new URL(t.url),l,n,!0,i,o),e.headers.set("Location",i)}return e}function Km(e,t,s){if(Hu.test(e)){let a=e,n=a.startsWith("//")?new URL(t.protocol+a):new URL(a),o=qa(n.pathname,s)!=null;if(n.origin===t.origin&&o)return n.pathname+n.search+n.hash}return e}function aa(e,t,s,a){let n=e.createURL(Sg(t)).toString(),o={signal:s};if(a&&ir(a.formMethod)){let{formMethod:i,formEncType:l}=a;o.method=i.toUpperCase(),l==="application/json"?(o.headers=new Headers({"Content-Type":l}),o.body=JSON.stringify(a.json)):l==="text/plain"?o.body=a.text:l==="application/x-www-form-urlencoded"&&a.formData?o.body=Sd(a.formData):o.body=a.formData}return new Request(n,o)}function Sd(e){let t=new URLSearchParams;for(let[s,a]of e.entries())t.append(s,typeof a=="string"?a:a.name);return t}function Jm(e){let t=new FormData;for(let[s,a]of e.entries())t.append(s,a);return t}function dj(e,t,s,a,n){let o={},i=null,l,c=!1,d={},u=s&&zt(s[1])?s[1].error:void 0;return e.forEach(m=>{if(!(m.route.id in t))return;let h=m.route.id,v=t[h];if(we(!Ls(v),"Cannot handle redirect results in processLoaderData"),zt(v)){let g=v.error;if(u!==void 0&&(g=u,u=void 0),i=i||{},n)i[h]=g;else{let w=_s(e,h);i[w.route.id]==null&&(i[w.route.id]=g)}o[h]=void 0,c||(c=!0,l=Zn(v.error)?v.error.status:500),v.headers&&(d[h]=v.headers)}else ss(v)?(a.set(h,v.deferredData),o[h]=v.deferredData.data,v.statusCode!=null&&v.statusCode!==200&&!c&&(l=v.statusCode),v.headers&&(d[h]=v.headers)):(o[h]=v.data,v.statusCode&&v.statusCode!==200&&!c&&(l=v.statusCode),v.headers&&(d[h]=v.headers))}),u!==void 0&&s&&(i={[s[0]]:u},o[s[0]]=void 0),{loaderData:o,errors:i,statusCode:l||200,loaderHeaders:d}}function Xm(e,t,s,a,n,o,i){let{loaderData:l,errors:c}=dj(t,s,a,i,!1);return n.forEach(d=>{let{key:u,match:m,controller:h}=d,v=o[u];if(we(v,"Did not find corresponding fetcher result"),!(h&&h.signal.aborted))if(zt(v)){let g=_s(e.matches,m==null?void 0:m.route.id);c&&c[g.route.id]||(c=Oe({},c,{[g.route.id]:v.error})),e.fetchers.delete(u)}else if(Ls(v))we(!1,"Unhandled fetcher revalidation redirect");else if(ss(v))we(!1,"Unhandled fetcher deferred data");else{let g=Kr(v.data);e.fetchers.set(u,g)}}),{loaderData:l,errors:c}}function Zm(e,t,s,a){let n=Oe({},t);for(let o of s){let i=o.route.id;if(t.hasOwnProperty(i)?t[i]!==void 0&&(n[i]=t[i]):e[i]!==void 0&&o.route.loader&&(n[i]=e[i]),a&&a.hasOwnProperty(i))break}return n}function eh(e){return e?zt(e[1])?{actionData:{}}:{actionData:{[e[0]]:e[1].data}}:{}}function _s(e,t){return(t?e.slice(0,e.findIndex(a=>a.route.id===t)+1):[...e]).reverse().find(a=>a.route.hasErrorBoundary===!0)||e[0]}function th(e){let t=e.length===1?e[0]:e.find(s=>s.index||!s.path||s.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function Et(e,t){let{pathname:s,routeId:a,method:n,type:o,message:i}=t===void 0?{}:t,l="Unknown Server Error",c="Unknown @remix-run/router error";return e===400?(l="Bad Request",n&&s&&a?c="You made a "+n+' request to "'+s+'" but '+('did not provide a `loader` for route "'+a+'", ')+"so there is no way to handle the request.":o==="defer-action"?c="defer() is not supported in actions":o==="invalid-body"&&(c="Unable to encode submission body")):e===403?(l="Forbidden",c='Route "'+a+'" does not match URL "'+s+'"'):e===404?(l="Not Found",c='No route matches URL "'+s+'"'):e===405&&(l="Method Not Allowed",n&&s&&a?c="You made a "+n.toUpperCase()+' request to "'+s+'" but '+('did not provide an `action` for route "'+a+'", ')+"so there is no way to handle the request.":n&&(c='Invalid request method "'+n.toUpperCase()+'"')),new Vi(e||500,l,new Error(c),!0)}function qo(e){let t=Object.entries(e);for(let s=t.length-1;s>=0;s--){let[a,n]=t[s];if(Ls(n))return{key:a,result:n}}}function Sg(e){let t=typeof e=="string"?Vr(e):e;return Ws(Oe({},t,{hash:""}))}function uj(e,t){return e.pathname!==t.pathname||e.search!==t.search?!1:e.hash===""?t.hash!=="":e.hash===t.hash?!0:t.hash!==""}function mj(e){return Cg(e.result)&&Jw.has(e.result.status)}function ss(e){return e.type===_e.deferred}function zt(e){return e.type===_e.error}function Ls(e){return(e&&e.type)===_e.redirect}function rh(e){return typeof e=="object"&&e!=null&&"type"in e&&"data"in e&&"init"in e&&e.type==="DataWithResponseInit"}function hj(e){let t=e;return t&&typeof t=="object"&&typeof t.data=="object"&&typeof t.subscribe=="function"&&typeof t.cancel=="function"&&typeof t.resolveData=="function"}function Cg(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body<"u"}function fj(e){return Kw.has(e.toLowerCase())}function ir(e){return Gw.has(e.toLowerCase())}async function xj(e,t,s,a,n){let o=Object.entries(t);for(let i=0;i<o.length;i++){let[l,c]=o[i],d=e.find(h=>(h==null?void 0:h.route.id)===l);if(!d)continue;let u=a.find(h=>h.route.id===d.route.id),m=u!=null&&!kg(u,d)&&(n&&n[d.route.id])!==void 0;ss(c)&&m&&await qu(c,s,!1).then(h=>{h&&(t[l]=h)})}}async function gj(e,t,s){for(let a=0;a<s.length;a++){let{key:n,routeId:o,controller:i}=s[a],l=t[n];e.find(d=>(d==null?void 0:d.route.id)===o)&&ss(l)&&(we(i,"Expected an AbortController for revalidating fetcher deferred result"),await qu(l,i.signal,!0).then(d=>{d&&(t[n]=d)}))}}async function qu(e,t,s){if(s===void 0&&(s=!1),!await e.deferredData.resolveData(t)){if(s)try{return{type:_e.data,data:e.deferredData.unwrappedData}}catch(n){return{type:_e.error,error:n}}return{type:_e.data,data:e.deferredData.data}}}function Vu(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function kn(e,t){let s=typeof t=="string"?Vr(t).search:t.search;if(e[e.length-1].route.index&&Vu(s||""))return e[e.length-1];let a=vg(e);return a[a.length-1]}function sh(e){let{formMethod:t,formAction:s,formEncType:a,text:n,formData:o,json:i}=e;if(!(!t||!s||!a)){if(n!=null)return{formMethod:t,formAction:s,formEncType:a,formData:void 0,json:void 0,text:n};if(o!=null)return{formMethod:t,formAction:s,formEncType:a,formData:o,json:void 0,text:void 0};if(i!==void 0)return{formMethod:t,formAction:s,formEncType:a,formData:void 0,json:i,text:void 0}}}function xc(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function pj(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function hn(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function yj(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0}}function Kr(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function bj(e,t){try{let s=e.sessionStorage.getItem(jg);if(s){let a=JSON.parse(s);for(let[n,o]of Object.entries(a||{}))o&&Array.isArray(o)&&t.set(n,new Set(o||[]))}}catch{}}function vj(e,t){if(t.size>0){let s={};for(let[a,n]of t)s[a]=[...n];try{e.sessionStorage.setItem(jg,JSON.stringify(s))}catch(a){Aa(!1,"Failed to save applied view transitions in sessionStorage ("+a+").")}}}/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function eo(){return eo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},eo.apply(this,arguments)}const jl=y.createContext(null),Eg=y.createContext(null),Ks=y.createContext(null),kl=y.createContext(null),Qr=y.createContext({outlet:null,matches:[],isDataRoute:!1}),_g=y.createContext(null);function wj(e,t){let{relative:s}=t===void 0?{}:t;ho()||we(!1);let{basename:a,navigator:n}=y.useContext(Ks),{hash:o,pathname:i,search:l}=Rg(e,{relative:s}),c=i;return a!=="/"&&(c=i==="/"?a:Mr([a,i])),n.createHref({pathname:c,search:l,hash:o})}function ho(){return y.useContext(kl)!=null}function vs(){return ho()||we(!1),y.useContext(kl).location}function Pg(e){y.useContext(Ks).static||y.useLayoutEffect(e)}function rr(){let{isDataRoute:e}=y.useContext(Qr);return e?Ij():jj()}function jj(){ho()||we(!1);let e=y.useContext(jl),{basename:t,future:s,navigator:a}=y.useContext(Ks),{matches:n}=y.useContext(Qr),{pathname:o}=vs(),i=JSON.stringify(Bu(n,s.v7_relativeSplatPath)),l=y.useRef(!1);return Pg(()=>{l.current=!0}),y.useCallback(function(d,u){if(u===void 0&&(u={}),!l.current)return;if(typeof d=="number"){a.go(d);return}let m=Wu(d,JSON.parse(i),o,u.relative==="path");e==null&&t!=="/"&&(m.pathname=m.pathname==="/"?t:Mr([t,m.pathname])),(u.replace?a.replace:a.push)(m,u.state,u)},[t,a,i,o,e])}const kj=y.createContext(null);function Nj(e){let t=y.useContext(Qr).outlet;return t&&y.createElement(kj.Provider,{value:e},t)}function Va(){let{matches:e}=y.useContext(Qr),t=e[e.length-1];return t?t.params:{}}function Rg(e,t){let{relative:s}=t===void 0?{}:t,{future:a}=y.useContext(Ks),{matches:n}=y.useContext(Qr),{pathname:o}=vs(),i=JSON.stringify(Bu(n,a.v7_relativeSplatPath));return y.useMemo(()=>Wu(e,JSON.parse(i),o,s==="path"),[e,i,o,s])}function Sj(e,t,s,a){ho()||we(!1);let{navigator:n}=y.useContext(Ks),{matches:o}=y.useContext(Qr),i=o[o.length-1],l=i?i.params:{};i&&i.pathname;let c=i?i.pathnameBase:"/";i&&i.route;let d=vs(),u;if(t){var m;let x=typeof t=="string"?Vr(t):t;c==="/"||(m=x.pathname)!=null&&m.startsWith(c)||we(!1),u=x}else u=d;let h=u.pathname||"/",v=h;if(c!=="/"){let x=c.replace(/^\//,"").split("/");v="/"+h.replace(/^\//,"").split("/").slice(x.length).join("/")}let g=Es(e,{pathname:v}),w=Rj(g&&g.map(x=>Object.assign({},x,{params:Object.assign({},l,x.params),pathname:Mr([c,n.encodeLocation?n.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?c:Mr([c,n.encodeLocation?n.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),o,s,a);return t&&w?y.createElement(kl.Provider,{value:{location:eo({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:qe.Pop}},w):w}function Cj(){let e=Dj(),t=Zn(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),s=e instanceof Error?e.stack:null,n={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},o=null;return y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},t),s?y.createElement("pre",{style:n},s):null,o)}const Ej=y.createElement(Cj,null);class _j extends y.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,s){return s.location!==t.location||s.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:s.error,location:s.location,revalidation:t.revalidation||s.revalidation}}componentDidCatch(t,s){console.error("React Router caught the following error during render",t,s)}render(){return this.state.error!==void 0?y.createElement(Qr.Provider,{value:this.props.routeContext},y.createElement(_g.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Pj(e){let{routeContext:t,match:s,children:a}=e,n=y.useContext(jl);return n&&n.static&&n.staticContext&&(s.route.errorElement||s.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=s.route.id),y.createElement(Qr.Provider,{value:t},a)}function Rj(e,t,s,a){var n;if(t===void 0&&(t=[]),s===void 0&&(s=null),a===void 0&&(a=null),e==null){var o;if(!s)return null;if(s.errors)e=s.matches;else if((o=a)!=null&&o.v7_partialHydration&&t.length===0&&!s.initialized&&s.matches.length>0)e=s.matches;else return null}let i=e,l=(n=s)==null?void 0:n.errors;if(l!=null){let u=i.findIndex(m=>m.route.id&&(l==null?void 0:l[m.route.id])!==void 0);u>=0||we(!1),i=i.slice(0,Math.min(i.length,u+1))}let c=!1,d=-1;if(s&&a&&a.v7_partialHydration)for(let u=0;u<i.length;u++){let m=i[u];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(d=u),m.route.id){let{loaderData:h,errors:v}=s,g=m.route.loader&&h[m.route.id]===void 0&&(!v||v[m.route.id]===void 0);if(m.route.lazy||g){c=!0,d>=0?i=i.slice(0,d+1):i=[i[0]];break}}}return i.reduceRight((u,m,h)=>{let v,g=!1,w=null,x=null;s&&(v=l&&m.route.id?l[m.route.id]:void 0,w=m.route.errorElement||Ej,c&&(d<0&&h===0?(Mj("route-fallback",!1),g=!0,x=null):d===h&&(g=!0,x=m.route.hydrateFallbackElement||null)));let f=t.concat(i.slice(0,h+1)),b=()=>{let p;return v?p=w:g?p=x:m.route.Component?p=y.createElement(m.route.Component,null):m.route.element?p=m.route.element:p=u,y.createElement(Pj,{match:m,routeContext:{outlet:u,matches:f,isDataRoute:s!=null},children:p})};return s&&(m.route.ErrorBoundary||m.route.errorElement||h===0)?y.createElement(_j,{location:s.location,revalidation:s.revalidation,component:w,error:v,children:b(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):b()},null)}var Tg=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Tg||{}),Qi=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Qi||{});function Tj(e){let t=y.useContext(jl);return t||we(!1),t}function Lj(e){let t=y.useContext(Eg);return t||we(!1),t}function Aj(e){let t=y.useContext(Qr);return t||we(!1),t}function Lg(e){let t=Aj(),s=t.matches[t.matches.length-1];return s.route.id||we(!1),s.route.id}function Dj(){var e;let t=y.useContext(_g),s=Lj(Qi.UseRouteError),a=Lg(Qi.UseRouteError);return t!==void 0?t:(e=s.errors)==null?void 0:e[a]}function Ij(){let{router:e}=Tj(Tg.UseNavigateStable),t=Lg(Qi.UseNavigateStable),s=y.useRef(!1);return Pg(()=>{s.current=!0}),y.useCallback(function(n,o){o===void 0&&(o={}),s.current&&(typeof n=="number"?e.navigate(n):e.navigate(n,eo({fromRouteId:t},o)))},[e,t])}const ah={};function Mj(e,t,s){!t&&!ah[e]&&(ah[e]=!0)}function Oj(e,t){e==null||e.v7_startTransition,(e==null?void 0:e.v7_relativeSplatPath)===void 0&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}function $j(e){return Nj(e.context)}function Fj(e){let{basename:t="/",children:s=null,location:a,navigationType:n=qe.Pop,navigator:o,static:i=!1,future:l}=e;ho()&&we(!1);let c=t.replace(/^\/*/,"/"),d=y.useMemo(()=>({basename:c,navigator:o,static:i,future:eo({v7_relativeSplatPath:!1},l)}),[c,l,o,i]);typeof a=="string"&&(a=Vr(a));let{pathname:u="/",search:m="",hash:h="",state:v=null,key:g="default"}=a,w=y.useMemo(()=>{let x=qa(u,c);return x==null?null:{location:{pathname:x,search:m,hash:h,state:v,key:g},navigationType:n}},[c,u,m,h,v,g,n]);return w==null?null:y.createElement(Ks.Provider,{value:d},y.createElement(kl.Provider,{children:s,value:w}))}new Promise(()=>{});function zj(e){let t={hasErrorBoundary:e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&Object.assign(t,{element:y.createElement(e.Component),Component:void 0}),e.HydrateFallback&&Object.assign(t,{hydrateFallbackElement:y.createElement(e.HydrateFallback),HydrateFallback:void 0}),e.ErrorBoundary&&Object.assign(t,{errorElement:y.createElement(e.ErrorBoundary),ErrorBoundary:void 0}),t}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function to(){return to=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},to.apply(this,arguments)}function Uj(e,t){if(e==null)return{};var s={},a=Object.keys(e),n,o;for(o=0;o<a.length;o++)n=a[o],!(t.indexOf(n)>=0)&&(s[n]=e[n]);return s}function Bj(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Wj(e,t){return e.button===0&&(!t||t==="_self")&&!Bj(e)}function Cd(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,s)=>{let a=e[s];return t.concat(Array.isArray(a)?a.map(n=>[s,n]):[[s,a]])},[]))}function Hj(e,t){let s=Cd(e);return t&&t.forEach((a,n)=>{s.has(n)||t.getAll(n).forEach(o=>{s.append(n,o)})}),s}const qj=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Vj="6";try{window.__reactRouterVersion=Vj}catch{}function Qj(e,t){return tj({basename:t==null?void 0:t.basename,future:to({},t==null?void 0:t.future,{v7_prependBasename:!0}),history:Sw({window:t==null?void 0:t.window}),hydrationData:(t==null?void 0:t.hydrationData)||Gj(),routes:e,mapRouteProperties:zj,dataStrategy:t==null?void 0:t.dataStrategy,patchRoutesOnNavigation:t==null?void 0:t.patchRoutesOnNavigation,window:t==null?void 0:t.window}).initialize()}function Gj(){var e;let t=(e=window)==null?void 0:e.__staticRouterHydrationData;return t&&t.errors&&(t=to({},t,{errors:Yj(t.errors)})),t}function Yj(e){if(!e)return null;let t=Object.entries(e),s={};for(let[a,n]of t)if(n&&n.__type==="RouteErrorResponse")s[a]=new Vi(n.status,n.statusText,n.data,n.internal===!0);else if(n&&n.__type==="Error"){if(n.__subType){let o=window[n.__subType];if(typeof o=="function")try{let i=new o(n.message);i.stack="",s[a]=i}catch{}}if(s[a]==null){let o=new Error(n.message);o.stack="",s[a]=o}}else s[a]=n;return s}const Kj=y.createContext({isTransitioning:!1}),Jj=y.createContext(new Map),Xj="startTransition",nh=$y[Xj],Zj="flushSync",oh=Kv[Zj];function e1(e){nh?nh(e):e()}function fn(e){oh?oh(e):e()}class t1{constructor(){this.status="pending",this.promise=new Promise((t,s)=>{this.resolve=a=>{this.status==="pending"&&(this.status="resolved",t(a))},this.reject=a=>{this.status==="pending"&&(this.status="rejected",s(a))}})}}function r1(e){let{fallbackElement:t,router:s,future:a}=e,[n,o]=y.useState(s.state),[i,l]=y.useState(),[c,d]=y.useState({isTransitioning:!1}),[u,m]=y.useState(),[h,v]=y.useState(),[g,w]=y.useState(),x=y.useRef(new Map),{v7_startTransition:f}=a||{},b=y.useCallback(N=>{f?e1(N):N()},[f]),p=y.useCallback((N,S)=>{let{deletedFetchers:A,flushSync:M,viewTransitionOpts:F}=S;N.fetchers.forEach((X,me)=>{X.data!==void 0&&x.current.set(me,X.data)}),A.forEach(X=>x.current.delete(X));let U=s.window==null||s.window.document==null||typeof s.window.document.startViewTransition!="function";if(!F||U){M?fn(()=>o(N)):b(()=>o(N));return}if(M){fn(()=>{h&&(u&&u.resolve(),h.skipTransition()),d({isTransitioning:!0,flushSync:!0,currentLocation:F.currentLocation,nextLocation:F.nextLocation})});let X=s.window.document.startViewTransition(()=>{fn(()=>o(N))});X.finished.finally(()=>{fn(()=>{m(void 0),v(void 0),l(void 0),d({isTransitioning:!1})})}),fn(()=>v(X));return}h?(u&&u.resolve(),h.skipTransition(),w({state:N,currentLocation:F.currentLocation,nextLocation:F.nextLocation})):(l(N),d({isTransitioning:!0,flushSync:!1,currentLocation:F.currentLocation,nextLocation:F.nextLocation}))},[s.window,h,u,x,b]);y.useLayoutEffect(()=>s.subscribe(p),[s,p]),y.useEffect(()=>{c.isTransitioning&&!c.flushSync&&m(new t1)},[c]),y.useEffect(()=>{if(u&&i&&s.window){let N=i,S=u.promise,A=s.window.document.startViewTransition(async()=>{b(()=>o(N)),await S});A.finished.finally(()=>{m(void 0),v(void 0),l(void 0),d({isTransitioning:!1})}),v(A)}},[b,i,u,s.window]),y.useEffect(()=>{u&&i&&n.location.key===i.location.key&&u.resolve()},[u,h,n.location,i]),y.useEffect(()=>{!c.isTransitioning&&g&&(l(g.state),d({isTransitioning:!0,flushSync:!1,currentLocation:g.currentLocation,nextLocation:g.nextLocation}),w(void 0))},[c.isTransitioning,g]),y.useEffect(()=>{},[]);let k=y.useMemo(()=>({createHref:s.createHref,encodeLocation:s.encodeLocation,go:N=>s.navigate(N),push:(N,S,A)=>s.navigate(N,{state:S,preventScrollReset:A==null?void 0:A.preventScrollReset}),replace:(N,S,A)=>s.navigate(N,{replace:!0,state:S,preventScrollReset:A==null?void 0:A.preventScrollReset})}),[s]),E=s.basename||"/",_=y.useMemo(()=>({router:s,navigator:k,static:!1,basename:E}),[s,k,E]),j=y.useMemo(()=>({v7_relativeSplatPath:s.future.v7_relativeSplatPath}),[s.future.v7_relativeSplatPath]);return y.useEffect(()=>Oj(a,s.future),[a,s.future]),y.createElement(y.Fragment,null,y.createElement(jl.Provider,{value:_},y.createElement(Eg.Provider,{value:n},y.createElement(Jj.Provider,{value:x.current},y.createElement(Kj.Provider,{value:c},y.createElement(Fj,{basename:E,location:n.location,navigationType:n.historyAction,navigator:k,future:j},n.initialized||s.future.v7_partialHydration?y.createElement(s1,{routes:s.routes,future:s.future,state:n}):t))))),null)}const s1=y.memo(a1);function a1(e){let{routes:t,future:s,state:a}=e;return Sj(t,void 0,a,s)}const n1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",o1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,J=y.forwardRef(function(t,s){let{onClick:a,relative:n,reloadDocument:o,replace:i,state:l,target:c,to:d,preventScrollReset:u,viewTransition:m}=t,h=Uj(t,qj),{basename:v}=y.useContext(Ks),g,w=!1;if(typeof d=="string"&&o1.test(d)&&(g=d,n1))try{let p=new URL(window.location.href),k=d.startsWith("//")?new URL(p.protocol+d):new URL(d),E=qa(k.pathname,v);k.origin===p.origin&&E!=null?d=E+k.search+k.hash:w=!0}catch{}let x=wj(d,{relative:n}),f=i1(d,{replace:i,state:l,target:c,preventScrollReset:u,relative:n,viewTransition:m});function b(p){a&&a(p),p.defaultPrevented||f(p)}return y.createElement("a",to({},h,{href:g||x,onClick:w||o?a:b,ref:s,target:c}))});var ih;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(ih||(ih={}));var lh;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(lh||(lh={}));function i1(e,t){let{target:s,replace:a,state:n,preventScrollReset:o,relative:i,viewTransition:l}=t===void 0?{}:t,c=rr(),d=vs(),u=Rg(e,{relative:i});return y.useCallback(m=>{if(Wj(m,s)){m.preventDefault();let h=a!==void 0?a:Ws(d)===Ws(u);c(e,{replace:h,state:n,preventScrollReset:o,relative:i,viewTransition:l})}},[d,c,u,a,n,s,e,o,i,l])}function fo(e){let t=y.useRef(Cd(e)),s=y.useRef(!1),a=vs(),n=y.useMemo(()=>Hj(a.search,s.current?null:t.current),[a.search]),o=rr(),i=y.useCallback((l,c)=>{const d=Cd(typeof l=="function"?l(n):l);s.current=!0,o("?"+d,c)},[o,n]);return[n,i]}function ot(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var l1=(()=>typeof Symbol=="function"&&Symbol.observable||"@@observable")(),ch=l1,gc=()=>Math.random().toString(36).substring(7).split("").join("."),c1={INIT:`@@redux/INIT${gc()}`,REPLACE:`@@redux/REPLACE${gc()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${gc()}`},Gi=c1;function Qu(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function Gu(e,t,s){if(typeof e!="function")throw new Error(ot(2));if(typeof t=="function"&&typeof s=="function"||typeof s=="function"&&typeof arguments[3]=="function")throw new Error(ot(0));if(typeof t=="function"&&typeof s>"u"&&(s=t,t=void 0),typeof s<"u"){if(typeof s!="function")throw new Error(ot(1));return s(Gu)(e,t)}let a=e,n=t,o=new Map,i=o,l=0,c=!1;function d(){i===o&&(i=new Map,o.forEach((x,f)=>{i.set(f,x)}))}function u(){if(c)throw new Error(ot(3));return n}function m(x){if(typeof x!="function")throw new Error(ot(4));if(c)throw new Error(ot(5));let f=!0;d();const b=l++;return i.set(b,x),function(){if(f){if(c)throw new Error(ot(6));f=!1,d(),i.delete(b),o=null}}}function h(x){if(!Qu(x))throw new Error(ot(7));if(typeof x.type>"u")throw new Error(ot(8));if(typeof x.type!="string")throw new Error(ot(17));if(c)throw new Error(ot(9));try{c=!0,n=a(n,x)}finally{c=!1}return(o=i).forEach(b=>{b()}),x}function v(x){if(typeof x!="function")throw new Error(ot(10));a=x,h({type:Gi.REPLACE})}function g(){const x=m;return{subscribe(f){if(typeof f!="object"||f===null)throw new Error(ot(11));function b(){const k=f;k.next&&k.next(u())}return b(),{unsubscribe:x(b)}},[ch](){return this}}}return h({type:Gi.INIT}),{dispatch:h,subscribe:m,getState:u,replaceReducer:v,[ch]:g}}function d1(e){Object.keys(e).forEach(t=>{const s=e[t];if(typeof s(void 0,{type:Gi.INIT})>"u")throw new Error(ot(12));if(typeof s(void 0,{type:Gi.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(ot(13))})}function Ag(e){const t=Object.keys(e),s={};for(let o=0;o<t.length;o++){const i=t[o];typeof e[i]=="function"&&(s[i]=e[i])}const a=Object.keys(s);let n;try{d1(s)}catch(o){n=o}return function(i={},l){if(n)throw n;let c=!1;const d={};for(let u=0;u<a.length;u++){const m=a[u],h=s[m],v=i[m],g=h(v,l);if(typeof g>"u")throw l&&l.type,new Error(ot(14));d[m]=g,c=c||g!==v}return c=c||a.length!==Object.keys(i).length,c?d:i}}function Yi(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,s)=>(...a)=>t(s(...a)))}function u1(...e){return t=>(s,a)=>{const n=t(s,a);let o=()=>{throw new Error(ot(15))};const i={getState:n.getState,dispatch:(c,...d)=>o(c,...d)},l=e.map(c=>c(i));return o=Yi(...l)(n.dispatch),{...n,dispatch:o}}}function m1(e){return Qu(e)&&"type"in e&&typeof e.type=="string"}var Dg=Symbol.for("immer-nothing"),dh=Symbol.for("immer-draftable"),qt=Symbol.for("immer-state");function cr(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Da=Object.getPrototypeOf;function Hs(e){return!!e&&!!e[qt]}function Wr(e){var t;return e?Ig(e)||Array.isArray(e)||!!e[dh]||!!((t=e.constructor)!=null&&t[dh])||xo(e)||Sl(e):!1}var h1=Object.prototype.constructor.toString();function Ig(e){if(!e||typeof e!="object")return!1;const t=Da(e);if(t===null)return!0;const s=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return s===Object?!0:typeof s=="function"&&Function.toString.call(s)===h1}function Ki(e,t){Nl(e)===0?Reflect.ownKeys(e).forEach(s=>{t(s,e[s],e)}):e.forEach((s,a)=>t(a,s,e))}function Nl(e){const t=e[qt];return t?t.type_:Array.isArray(e)?1:xo(e)?2:Sl(e)?3:0}function Ed(e,t){return Nl(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function Mg(e,t,s){const a=Nl(e);a===2?e.set(t,s):a===3?e.add(s):e[t]=s}function f1(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function xo(e){return e instanceof Map}function Sl(e){return e instanceof Set}function Cs(e){return e.copy_||e.base_}function _d(e,t){if(xo(e))return new Map(e);if(Sl(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const s=Ig(e);if(t===!0||t==="class_only"&&!s){const a=Object.getOwnPropertyDescriptors(e);delete a[qt];let n=Reflect.ownKeys(a);for(let o=0;o<n.length;o++){const i=n[o],l=a[i];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(a[i]={configurable:!0,writable:!0,enumerable:l.enumerable,value:e[i]})}return Object.create(Da(e),a)}else{const a=Da(e);if(a!==null&&s)return{...e};const n=Object.create(a);return Object.assign(n,e)}}function Yu(e,t=!1){return Cl(e)||Hs(e)||!Wr(e)||(Nl(e)>1&&Object.defineProperties(e,{set:{value:Vo},add:{value:Vo},clear:{value:Vo},delete:{value:Vo}}),Object.freeze(e),t&&Object.values(e).forEach(s=>Yu(s,!0))),e}function Vo(){cr(2)}function Cl(e){return Object.isFrozen(e)}var x1={};function qs(e){const t=x1[e];return t||cr(0,e),t}var ro;function Og(){return ro}function g1(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function uh(e,t){t&&(qs("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Pd(e){Rd(e),e.drafts_.forEach(p1),e.drafts_=null}function Rd(e){e===ro&&(ro=e.parent_)}function mh(e){return ro=g1(ro,e)}function p1(e){const t=e[qt];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function hh(e,t){t.unfinalizedDrafts_=t.drafts_.length;const s=t.drafts_[0];return e!==void 0&&e!==s?(s[qt].modified_&&(Pd(t),cr(4)),Wr(e)&&(e=Ji(t,e),t.parent_||Xi(t,e)),t.patches_&&qs("Patches").generateReplacementPatches_(s[qt].base_,e,t.patches_,t.inversePatches_)):e=Ji(t,s,[]),Pd(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==Dg?e:void 0}function Ji(e,t,s){if(Cl(t))return t;const a=t[qt];if(!a)return Ki(t,(n,o)=>fh(e,a,t,n,o,s)),t;if(a.scope_!==e)return t;if(!a.modified_)return Xi(e,a.base_,!0),a.base_;if(!a.finalized_){a.finalized_=!0,a.scope_.unfinalizedDrafts_--;const n=a.copy_;let o=n,i=!1;a.type_===3&&(o=new Set(n),n.clear(),i=!0),Ki(o,(l,c)=>fh(e,a,n,l,c,s,i)),Xi(e,n,!1),s&&e.patches_&&qs("Patches").generatePatches_(a,s,e.patches_,e.inversePatches_)}return a.copy_}function fh(e,t,s,a,n,o,i){if(Hs(n)){const l=o&&t&&t.type_!==3&&!Ed(t.assigned_,a)?o.concat(a):void 0,c=Ji(e,n,l);if(Mg(s,a,c),Hs(c))e.canAutoFreeze_=!1;else return}else i&&s.add(n);if(Wr(n)&&!Cl(n)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;Ji(e,n),(!t||!t.scope_.parent_)&&typeof a!="symbol"&&(xo(s)?s.has(a):Object.prototype.propertyIsEnumerable.call(s,a))&&Xi(e,n)}}function Xi(e,t,s=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Yu(t,s)}function y1(e,t){const s=Array.isArray(e),a={type_:s?1:0,scope_:t?t.scope_:Og(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let n=a,o=Ku;s&&(n=[a],o=so);const{revoke:i,proxy:l}=Proxy.revocable(n,o);return a.draft_=l,a.revoke_=i,l}var Ku={get(e,t){if(t===qt)return e;const s=Cs(e);if(!Ed(s,t))return b1(e,s,t);const a=s[t];return e.finalized_||!Wr(a)?a:a===pc(e.base_,t)?(yc(e),e.copy_[t]=Ld(a,e)):a},has(e,t){return t in Cs(e)},ownKeys(e){return Reflect.ownKeys(Cs(e))},set(e,t,s){const a=$g(Cs(e),t);if(a!=null&&a.set)return a.set.call(e.draft_,s),!0;if(!e.modified_){const n=pc(Cs(e),t),o=n==null?void 0:n[qt];if(o&&o.base_===s)return e.copy_[t]=s,e.assigned_[t]=!1,!0;if(f1(s,n)&&(s!==void 0||Ed(e.base_,t)))return!0;yc(e),Td(e)}return e.copy_[t]===s&&(s!==void 0||t in e.copy_)||Number.isNaN(s)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=s,e.assigned_[t]=!0),!0},deleteProperty(e,t){return pc(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,yc(e),Td(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const s=Cs(e),a=Reflect.getOwnPropertyDescriptor(s,t);return a&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:a.enumerable,value:s[t]}},defineProperty(){cr(11)},getPrototypeOf(e){return Da(e.base_)},setPrototypeOf(){cr(12)}},so={};Ki(Ku,(e,t)=>{so[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});so.deleteProperty=function(e,t){return so.set.call(this,e,t,void 0)};so.set=function(e,t,s){return Ku.set.call(this,e[0],t,s,e[0])};function pc(e,t){const s=e[qt];return(s?Cs(s):e)[t]}function b1(e,t,s){var n;const a=$g(t,s);return a?"value"in a?a.value:(n=a.get)==null?void 0:n.call(e.draft_):void 0}function $g(e,t){if(!(t in e))return;let s=Da(e);for(;s;){const a=Object.getOwnPropertyDescriptor(s,t);if(a)return a;s=Da(s)}}function Td(e){e.modified_||(e.modified_=!0,e.parent_&&Td(e.parent_))}function yc(e){e.copy_||(e.copy_=_d(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var v1=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,s,a)=>{if(typeof t=="function"&&typeof s!="function"){const o=s;s=t;const i=this;return function(c=o,...d){return i.produce(c,u=>s.call(this,u,...d))}}typeof s!="function"&&cr(6),a!==void 0&&typeof a!="function"&&cr(7);let n;if(Wr(t)){const o=mh(this),i=Ld(t,void 0);let l=!0;try{n=s(i),l=!1}finally{l?Pd(o):Rd(o)}return uh(o,a),hh(n,o)}else if(!t||typeof t!="object"){if(n=s(t),n===void 0&&(n=t),n===Dg&&(n=void 0),this.autoFreeze_&&Yu(n,!0),a){const o=[],i=[];qs("Patches").generateReplacementPatches_(t,n,o,i),a(o,i)}return n}else cr(1,t)},this.produceWithPatches=(t,s)=>{if(typeof t=="function")return(i,...l)=>this.produceWithPatches(i,c=>t(c,...l));let a,n;return[this.produce(t,s,(i,l)=>{a=i,n=l}),a,n]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){Wr(e)||cr(8),Hs(e)&&(e=w1(e));const t=mh(this),s=Ld(e,void 0);return s[qt].isManual_=!0,Rd(t),s}finishDraft(e,t){const s=e&&e[qt];(!s||!s.isManual_)&&cr(9);const{scope_:a}=s;return uh(a,t),hh(void 0,a)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let s;for(s=t.length-1;s>=0;s--){const n=t[s];if(n.path.length===0&&n.op==="replace"){e=n.value;break}}s>-1&&(t=t.slice(s+1));const a=qs("Patches").applyPatches_;return Hs(e)?a(e,t):this.produce(e,n=>a(n,t))}};function Ld(e,t){const s=xo(e)?qs("MapSet").proxyMap_(e,t):Sl(e)?qs("MapSet").proxySet_(e,t):y1(e,t);return(t?t.scope_:Og()).drafts_.push(s),s}function w1(e){return Hs(e)||cr(10,e),Fg(e)}function Fg(e){if(!Wr(e)||Cl(e))return e;const t=e[qt];let s;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,s=_d(e,t.scope_.immer_.useStrictShallowCopy_)}else s=_d(e,!0);return Ki(s,(a,n)=>{Mg(s,a,Fg(n))}),t&&(t.finalized_=!1),s}var j1=new v1,zg=j1.produce;function Ug(e){return({dispatch:s,getState:a})=>n=>o=>typeof o=="function"?o(s,a,e):n(o)}var k1=Ug(),N1=Ug,S1=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Yi:Yi.apply(null,arguments)},C1=e=>e&&typeof e.match=="function";function Dn(e,t){function s(...a){if(t){let n=t(...a);if(!n)throw new Error(Or(0));return{type:e,payload:n.payload,..."meta"in n&&{meta:n.meta},..."error"in n&&{error:n.error}}}return{type:e,payload:a[0]}}return s.toString=()=>`${e}`,s.type=e,s.match=a=>m1(a)&&a.type===e,s}var Bg=class Nn extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Nn.prototype)}static get[Symbol.species](){return Nn}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Nn(...t[0].concat(this)):new Nn(...t.concat(this))}};function xh(e){return Wr(e)?zg(e,()=>{}):e}function Qo(e,t,s){return e.has(t)?e.get(t):e.set(t,s(t)).get(t)}function E1(e){return typeof e=="boolean"}var _1=()=>function(t){const{thunk:s=!0,immutableCheck:a=!0,serializableCheck:n=!0,actionCreatorCheck:o=!0}=t??{};let i=new Bg;return s&&(E1(s)?i.push(k1):i.push(N1(s.extraArgument))),i},P1="RTK_autoBatch",gh=e=>t=>{setTimeout(t,e)},R1=(e={type:"raf"})=>t=>(...s)=>{const a=t(...s);let n=!0,o=!1,i=!1;const l=new Set,c=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:gh(10):e.type==="callback"?e.queueNotification:gh(e.timeout),d=()=>{i=!1,o&&(o=!1,l.forEach(u=>u()))};return Object.assign({},a,{subscribe(u){const m=()=>n&&u(),h=a.subscribe(m);return l.add(u),()=>{h(),l.delete(u)}},dispatch(u){var m;try{return n=!((m=u==null?void 0:u.meta)!=null&&m[P1]),o=!n,o&&(i||(i=!0,c(d))),a.dispatch(u)}finally{n=!0}}})},T1=e=>function(s){const{autoBatch:a=!0}=s??{};let n=new Bg(e);return a&&n.push(R1(typeof a=="object"?a:void 0)),n};function L1(e){const t=_1(),{reducer:s=void 0,middleware:a,devTools:n=!0,duplicateMiddlewareCheck:o=!0,preloadedState:i=void 0,enhancers:l=void 0}=e||{};let c;if(typeof s=="function")c=s;else if(Qu(s))c=Ag(s);else throw new Error(Or(1));let d;typeof a=="function"?d=a(t):d=t();let u=Yi;n&&(u=S1({trace:!1,...typeof n=="object"&&n}));const m=u1(...d),h=T1(m);let v=typeof l=="function"?l(h):h();const g=u(...v);return Gu(c,i,g)}function Wg(e){const t={},s=[];let a;const n={addCase(o,i){const l=typeof o=="string"?o:o.type;if(!l)throw new Error(Or(28));if(l in t)throw new Error(Or(29));return t[l]=i,n},addAsyncThunk(o,i){return i.pending&&(t[o.pending.type]=i.pending),i.rejected&&(t[o.rejected.type]=i.rejected),i.fulfilled&&(t[o.fulfilled.type]=i.fulfilled),i.settled&&s.push({matcher:o.settled,reducer:i.settled}),n},addMatcher(o,i){return s.push({matcher:o,reducer:i}),n},addDefaultCase(o){return a=o,n}};return e(n),[t,s,a]}function A1(e){return typeof e=="function"}function D1(e,t){let[s,a,n]=Wg(t),o;if(A1(e))o=()=>xh(e());else{const l=xh(e);o=()=>l}function i(l=o(),c){let d=[s[c.type],...a.filter(({matcher:u})=>u(c)).map(({reducer:u})=>u)];return d.filter(u=>!!u).length===0&&(d=[n]),d.reduce((u,m)=>{if(m)if(Hs(u)){const v=m(u,c);return v===void 0?u:v}else{if(Wr(u))return zg(u,h=>m(h,c));{const h=m(u,c);if(h===void 0){if(u===null)return u;throw Error("A case reducer on a non-draftable value must not return undefined")}return h}}return u},l)}return i.getInitialState=o,i}var I1=(e,t)=>C1(e)?e.match(t):e(t);function M1(...e){return t=>e.some(s=>I1(s,t))}var O1="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",$1=(e=21)=>{let t="",s=e;for(;s--;)t+=O1[Math.random()*64|0];return t},F1=["name","message","stack","code"],bc=class{constructor(e,t){ra(this,"_type");this.payload=e,this.meta=t}},ph=class{constructor(e,t){ra(this,"_type");this.payload=e,this.meta=t}},z1=e=>{if(typeof e=="object"&&e!==null){const t={};for(const s of F1)typeof e[s]=="string"&&(t[s]=e[s]);return t}return{message:String(e)}},yh="External signal was aborted",Hg=(()=>{function e(t,s,a){const n=Dn(t+"/fulfilled",(c,d,u,m)=>({payload:c,meta:{...m||{},arg:u,requestId:d,requestStatus:"fulfilled"}})),o=Dn(t+"/pending",(c,d,u)=>({payload:void 0,meta:{...u||{},arg:d,requestId:c,requestStatus:"pending"}})),i=Dn(t+"/rejected",(c,d,u,m,h)=>({payload:m,error:(a&&a.serializeError||z1)(c||"Rejected"),meta:{...h||{},arg:u,requestId:d,rejectedWithValue:!!m,requestStatus:"rejected",aborted:(c==null?void 0:c.name)==="AbortError",condition:(c==null?void 0:c.name)==="ConditionError"}}));function l(c,{signal:d}={}){return(u,m,h)=>{const v=a!=null&&a.idGenerator?a.idGenerator(c):$1(),g=new AbortController;let w,x;function f(p){x=p,g.abort()}d&&(d.aborted?f(yh):d.addEventListener("abort",()=>f(yh),{once:!0}));const b=async function(){var E,_;let p;try{let j=(E=a==null?void 0:a.condition)==null?void 0:E.call(a,c,{getState:m,extra:h});if(B1(j)&&(j=await j),j===!1||g.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const N=new Promise((S,A)=>{w=()=>{A({name:"AbortError",message:x||"Aborted"})},g.signal.addEventListener("abort",w)});u(o(v,c,(_=a==null?void 0:a.getPendingMeta)==null?void 0:_.call(a,{requestId:v,arg:c},{getState:m,extra:h}))),p=await Promise.race([N,Promise.resolve(s(c,{dispatch:u,getState:m,extra:h,requestId:v,signal:g.signal,abort:f,rejectWithValue:(S,A)=>new bc(S,A),fulfillWithValue:(S,A)=>new ph(S,A)})).then(S=>{if(S instanceof bc)throw S;return S instanceof ph?n(S.payload,v,c,S.meta):n(S,v,c)})])}catch(j){p=j instanceof bc?i(null,v,c,j.payload,j.meta):i(j,v,c)}finally{w&&g.signal.removeEventListener("abort",w)}return a&&!a.dispatchConditionRejection&&i.match(p)&&p.meta.condition||u(p),p}();return Object.assign(b,{abort:f,requestId:v,arg:c,unwrap(){return b.then(U1)}})}}return Object.assign(l,{pending:o,rejected:i,fulfilled:n,settled:M1(i,n),typePrefix:t})}return e.withTypes=()=>e,e})();function U1(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}function B1(e){return e!==null&&typeof e=="object"&&typeof e.then=="function"}var W1=Symbol.for("rtk-slice-createasyncthunk");function H1(e,t){return`${e}/${t}`}function q1({creators:e}={}){var s;const t=(s=e==null?void 0:e.asyncThunk)==null?void 0:s[W1];return function(n){const{name:o,reducerPath:i=o}=n;if(!o)throw new Error(Or(11));typeof process<"u";const l=(typeof n.reducers=="function"?n.reducers(Q1()):n.reducers)||{},c=Object.keys(l),d={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},u={addCase(k,E){const _=typeof k=="string"?k:k.type;if(!_)throw new Error(Or(12));if(_ in d.sliceCaseReducersByType)throw new Error(Or(13));return d.sliceCaseReducersByType[_]=E,u},addMatcher(k,E){return d.sliceMatchers.push({matcher:k,reducer:E}),u},exposeAction(k,E){return d.actionCreators[k]=E,u},exposeCaseReducer(k,E){return d.sliceCaseReducersByName[k]=E,u}};c.forEach(k=>{const E=l[k],_={reducerName:k,type:H1(o,k),createNotation:typeof n.reducers=="function"};Y1(E)?J1(_,E,u,t):G1(_,E,u)});function m(){const[k={},E=[],_=void 0]=typeof n.extraReducers=="function"?Wg(n.extraReducers):[n.extraReducers],j={...k,...d.sliceCaseReducersByType};return D1(n.initialState,N=>{for(let S in j)N.addCase(S,j[S]);for(let S of d.sliceMatchers)N.addMatcher(S.matcher,S.reducer);for(let S of E)N.addMatcher(S.matcher,S.reducer);_&&N.addDefaultCase(_)})}const h=k=>k,v=new Map,g=new WeakMap;let w;function x(k,E){return w||(w=m()),w(k,E)}function f(){return w||(w=m()),w.getInitialState()}function b(k,E=!1){function _(N){let S=N[k];return typeof S>"u"&&E&&(S=Qo(g,_,f)),S}function j(N=h){const S=Qo(v,E,()=>new WeakMap);return Qo(S,N,()=>{const A={};for(const[M,F]of Object.entries(n.selectors??{}))A[M]=V1(F,N,()=>Qo(g,N,f),E);return A})}return{reducerPath:k,getSelectors:j,get selectors(){return j(_)},selectSlice:_}}const p={name:o,reducer:x,actions:d.actionCreators,caseReducers:d.sliceCaseReducersByName,getInitialState:f,...b(i),injectInto(k,{reducerPath:E,..._}={}){const j=E??i;return k.inject({reducerPath:j,reducer:x},_),{...p,...b(j,!0)}}};return p}}function V1(e,t,s,a){function n(o,...i){let l=t(o);return typeof l>"u"&&a&&(l=s()),e(l,...i)}return n.unwrapped=e,n}var ws=q1();function Q1(){function e(t,s){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...s}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...s){return t(...s)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,s){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:s}},asyncThunk:e}}function G1({type:e,reducerName:t,createNotation:s},a,n){let o,i;if("reducer"in a){if(s&&!K1(a))throw new Error(Or(17));o=a.reducer,i=a.prepare}else o=a;n.addCase(e,o).exposeCaseReducer(t,o).exposeAction(t,i?Dn(e,i):Dn(e))}function Y1(e){return e._reducerDefinitionType==="asyncThunk"}function K1(e){return e._reducerDefinitionType==="reducerWithPrepare"}function J1({type:e,reducerName:t},s,a,n){if(!n)throw new Error(Or(18));const{payloadCreator:o,fulfilled:i,pending:l,rejected:c,settled:d,options:u}=s,m=n(e,o,u);a.exposeAction(t,m),i&&a.addCase(m.fulfilled,i),l&&a.addCase(m.pending,l),c&&a.addCase(m.rejected,c),d&&a.addMatcher(m.settled,d),a.exposeCaseReducer(t,{fulfilled:i||Go,pending:l||Go,rejected:c||Go,settled:d||Go})}function Go(){}function Or(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Ju="persist:",qg="persist/FLUSH",Xu="persist/REHYDRATE",Vg="persist/PAUSE",Qg="persist/PERSIST",Gg="persist/PURGE",Yg="persist/REGISTER",X1=-1;function xi(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?xi=function(s){return typeof s}:xi=function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},xi(e)}function bh(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function Z1(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?bh(s,!0).forEach(function(a){ek(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):bh(s).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function ek(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function tk(e,t,s,a){a.debug;var n=Z1({},s);return e&&xi(e)==="object"&&Object.keys(e).forEach(function(o){o!=="_persist"&&t[o]===s[o]&&(n[o]=e[o])}),n}function rk(e){var t=e.blacklist||null,s=e.whitelist||null,a=e.transforms||[],n=e.throttle||0,o="".concat(e.keyPrefix!==void 0?e.keyPrefix:Ju).concat(e.key),i=e.storage,l;e.serialize===!1?l=function(E){return E}:typeof e.serialize=="function"?l=e.serialize:l=sk;var c=e.writeFailHandler||null,d={},u={},m=[],h=null,v=null,g=function(E){Object.keys(E).forEach(function(_){f(_)&&d[_]!==E[_]&&m.indexOf(_)===-1&&m.push(_)}),Object.keys(d).forEach(function(_){E[_]===void 0&&f(_)&&m.indexOf(_)===-1&&d[_]!==void 0&&m.push(_)}),h===null&&(h=setInterval(w,n)),d=E};function w(){if(m.length===0){h&&clearInterval(h),h=null;return}var k=m.shift(),E=a.reduce(function(_,j){return j.in(_,k,d)},d[k]);if(E!==void 0)try{u[k]=l(E)}catch(_){console.error("redux-persist/createPersistoid: error serializing state",_)}else delete u[k];m.length===0&&x()}function x(){Object.keys(u).forEach(function(k){d[k]===void 0&&delete u[k]}),v=i.setItem(o,l(u)).catch(b)}function f(k){return!(s&&s.indexOf(k)===-1&&k!=="_persist"||t&&t.indexOf(k)!==-1)}function b(k){c&&c(k)}var p=function(){for(;m.length!==0;)w();return v||Promise.resolve()};return{update:g,flush:p}}function sk(e){return JSON.stringify(e)}function ak(e){var t=e.transforms||[],s="".concat(e.keyPrefix!==void 0?e.keyPrefix:Ju).concat(e.key),a=e.storage;e.debug;var n;return e.deserialize===!1?n=function(i){return i}:typeof e.deserialize=="function"?n=e.deserialize:n=nk,a.getItem(s).then(function(o){if(o)try{var i={},l=n(o);return Object.keys(l).forEach(function(c){i[c]=t.reduceRight(function(d,u){return u.out(d,c,l)},n(l[c]))}),i}catch(c){throw c}else return})}function nk(e){return JSON.parse(e)}function ok(e){var t=e.storage,s="".concat(e.keyPrefix!==void 0?e.keyPrefix:Ju).concat(e.key);return t.removeItem(s,ik)}function ik(e){}function vh(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function Er(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?vh(s,!0).forEach(function(a){lk(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):vh(s).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function lk(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function ck(e,t){if(e==null)return{};var s=dk(e,t),a,n;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function dk(e,t){if(e==null)return{};var s={},a=Object.keys(e),n,o;for(o=0;o<a.length;o++)n=a[o],!(t.indexOf(n)>=0)&&(s[n]=e[n]);return s}var uk=5e3;function mk(e,t){var s=e.version!==void 0?e.version:X1;e.debug;var a=e.stateReconciler===void 0?tk:e.stateReconciler,n=e.getStoredState||ak,o=e.timeout!==void 0?e.timeout:uk,i=null,l=!1,c=!0,d=function(m){return m._persist.rehydrated&&i&&!c&&i.update(m),m};return function(u,m){var h=u||{},v=h._persist,g=ck(h,["_persist"]),w=g;if(m.type===Qg){var x=!1,f=function(N,S){x||(m.rehydrate(e.key,N,S),x=!0)};if(o&&setTimeout(function(){!x&&f(void 0,new Error('redux-persist: persist timed out for persist key "'.concat(e.key,'"')))},o),c=!1,i||(i=rk(e)),v)return Er({},t(w,m),{_persist:v});if(typeof m.rehydrate!="function"||typeof m.register!="function")throw new Error("redux-persist: either rehydrate or register is not a function on the PERSIST action. This can happen if the action is being replayed. This is an unexplored use case, please open an issue and we will figure out a resolution.");return m.register(e.key),n(e).then(function(j){var N=e.migrate||function(S,A){return Promise.resolve(S)};N(j,s).then(function(S){f(S)},function(S){f(void 0,S)})},function(j){f(void 0,j)}),Er({},t(w,m),{_persist:{version:s,rehydrated:!1}})}else{if(m.type===Gg)return l=!0,m.result(ok(e)),Er({},t(w,m),{_persist:v});if(m.type===qg)return m.result(i&&i.flush()),Er({},t(w,m),{_persist:v});if(m.type===Vg)c=!0;else if(m.type===Xu){if(l)return Er({},w,{_persist:Er({},v,{rehydrated:!0})});if(m.key===e.key){var b=t(w,m),p=m.payload,k=a!==!1&&p!==void 0?a(p,u,b,e):b,E=Er({},k,{_persist:Er({},v,{rehydrated:!0})});return d(E)}}}if(!v)return t(u,m);var _=t(w,m);return _===w?u:d(Er({},_,{_persist:v}))}}function wh(e){return xk(e)||fk(e)||hk()}function hk(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function fk(e){if(Symbol.iterator in Object(e)||Object.prototype.toString.call(e)==="[object Arguments]")return Array.from(e)}function xk(e){if(Array.isArray(e)){for(var t=0,s=new Array(e.length);t<e.length;t++)s[t]=e[t];return s}}function jh(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function Ad(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?jh(s,!0).forEach(function(a){gk(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):jh(s).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function gk(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var Kg={registry:[],bootstrapped:!1},pk=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Kg,s=arguments.length>1?arguments[1]:void 0;switch(s.type){case Yg:return Ad({},t,{registry:[].concat(wh(t.registry),[s.key])});case Xu:var a=t.registry.indexOf(s.key),n=wh(t.registry);return n.splice(a,1),Ad({},t,{registry:n,bootstrapped:n.length===0});default:return t}};function yk(e,t,s){var a=s||!1,n=Gu(pk,Kg,t&&t.enhancer?t.enhancer:void 0),o=function(d){n.dispatch({type:Yg,key:d})},i=function(d,u,m){var h={type:Xu,payload:u,err:m,key:d};e.dispatch(h),n.dispatch(h),a&&l.getState().bootstrapped&&(a(),a=!1)},l=Ad({},n,{purge:function(){var d=[];return e.dispatch({type:Gg,result:function(m){d.push(m)}}),Promise.all(d)},flush:function(){var d=[];return e.dispatch({type:qg,result:function(m){d.push(m)}}),Promise.all(d)},pause:function(){e.dispatch({type:Vg})},persist:function(){e.dispatch({type:Qg,register:o,rehydrate:i})}});return t&&t.manualPersist||l.persist(),l}var Zu={},e0={};e0.__esModule=!0;e0.default=wk;function gi(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?gi=function(s){return typeof s}:gi=function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},gi(e)}function vc(){}var bk={getItem:vc,setItem:vc,removeItem:vc};function vk(e){if((typeof self>"u"?"undefined":gi(self))!=="object"||!(e in self))return!1;try{var t=self[e],s="redux-persist ".concat(e," test");t.setItem(s,"test"),t.getItem(s),t.removeItem(s)}catch{return!1}return!0}function wk(e){var t="".concat(e,"Storage");return vk(t)?self[t]:bk}Zu.__esModule=!0;Zu.default=Nk;var jk=kk(e0);function kk(e){return e&&e.__esModule?e:{default:e}}function Nk(e){var t=(0,jk.default)(e);return{getItem:function(a){return new Promise(function(n,o){n(t.getItem(a))})},setItem:function(a,n){return new Promise(function(o,i){o(t.setItem(a,n))})},removeItem:function(a){return new Promise(function(n,o){n(t.removeItem(a))})}}}var Jg=void 0,Sk=Ck(Zu);function Ck(e){return e&&e.__esModule?e:{default:e}}var Ek=(0,Sk.default)("local");Jg=Ek;const _k={userCarts:{}},Xg=ws({name:"cart",initialState:_k,reducers:{addToCart:(e,t)=>{const{productId:s,qty:a=1,userId:n="guest"}=t.payload;e.userCarts[n]||(e.userCarts[n]={items:[],shippingCost:0,coupon:void 0});const o=e.userCarts[n],i=o.items.find(l=>l.productId===s);i?i.qty+=a:o.items.push({productId:s,qty:a})},removeFromCart:(e,t)=>{const{productId:s,userId:a="guest"}=t.payload;e.userCarts[a]&&(e.userCarts[a].items=e.userCarts[a].items.filter(n=>n.productId!==s))},updateQuantity:(e,t)=>{const{productId:s,qty:a,userId:n="guest"}=t.payload;if(e.userCarts[n]){const o=e.userCarts[n],i=o.items.find(l=>l.productId===s);i&&(a<=0?o.items=o.items.filter(l=>l.productId!==s):i.qty=a)}},clearCart:(e,t)=>{const{userId:s="guest"}=t.payload;e.userCarts[s]&&(e.userCarts[s]={items:[],shippingCost:0})},setCoupon:(e,t)=>{const{coupon:s,userId:a="guest"}=t.payload;e.userCarts[a]||(e.userCarts[a]={items:[],shippingCost:0,coupon:void 0}),e.userCarts[a].coupon=s},setShippingCost:(e,t)=>{const{shippingCost:s,userId:a="guest"}=t.payload;e.userCarts[a]||(e.userCarts[a]={items:[],shippingCost:0,coupon:void 0}),e.userCarts[a].shippingCost=s},validateCartItems:(e,t)=>{const{validProducts:s,userId:a="guest"}=t.payload;e.userCarts[a]&&(e.userCarts[a].items=e.userCarts[a].items.filter(n=>s.includes(Number(n.productId))))},refreshCart:(e,t)=>{const{cartData:s,userId:a="guest"}=t.payload;s&&s.items&&(e.userCarts[a]={items:s.items,shippingCost:s.shippingCost||0,coupon:s.coupon})}}}),{addToCart:t0,removeFromCart:Pk,updateQuantity:kh,clearCart:Dd,setCoupon:eC,setShippingCost:Rk,validateCartItems:Tk,refreshCart:tC}=Xg.actions,Zg=(e="guest")=>t=>{var a,n,o;return((o=(n=(a=t.cart)==null?void 0:a.userCarts)==null?void 0:n[e])==null?void 0:o.items)||[]},ep=(e="guest")=>t=>{var n,o,i;const s=((i=(o=(n=t.cart)==null?void 0:n.userCarts)==null?void 0:o[e])==null?void 0:i.items)||[],{items:a}=t.products;return s.reduce((l,c)=>{const d=a.find(u=>Number(u.id)===Number(c.productId));return l+(d?d.price*c.qty:0)},0)},r0=(e="guest")=>t=>{var a,n,o;return(((o=(n=(a=t.cart)==null?void 0:a.userCarts)==null?void 0:n[e])==null?void 0:o.items)||[]).reduce((i,l)=>i+l.qty,0)},Lk=Xg.reducer,Ak={userWishlists:{}},tp=ws({name:"wishlist",initialState:Ak,reducers:{addToWishlist:(e,t)=>{const{productId:s,userId:a="guest"}=t.payload;console.log("ADD TO WISHLIST:",{productId:s,productIdType:typeof s,userId:a}),e.userWishlists[a]||(e.userWishlists[a]=[]);const n=e.userWishlists[a];n.find(i=>i.productId===s)?console.log("Item already in wishlist:",s):(n.push({productId:s,addedAt:new Date().toISOString()}),console.log("Added to wishlist:",{productId:s,addedAt:new Date().toISOString()})),console.log("Wishlist after add:",n)},removeFromWishlist:(e,t)=>{const{productId:s,userId:a="guest"}=t.payload;e.userWishlists[a]&&(e.userWishlists[a]=e.userWishlists[a].filter(n=>n.productId!==s))},clearWishlist:(e,t)=>{const{userId:s="guest"}=t.payload;e.userWishlists[s]&&(e.userWishlists[s]=[])}}}),{addToWishlist:rp,removeFromWishlist:Zi,clearWishlist:rC}=tp.actions,Dk=(e="guest")=>t=>{var s,a;return((a=(s=t.wishlist)==null?void 0:s.userWishlists)==null?void 0:a[e])||[]},sp=(e="guest")=>t=>{var s,a,n;return((n=(a=(s=t.wishlist)==null?void 0:s.userWishlists)==null?void 0:a[e])==null?void 0:n.length)||0},ap=(e,t="guest")=>s=>{var n,o;return(((o=(n=s.wishlist)==null?void 0:n.userWishlists)==null?void 0:o[t])||[]).some(i=>i.productId===e)},Ik=tp.reducer,Mk={currentUser:null,orders:[],isLoading:!1,error:null},Ok=Hg("user/signInWithData",async(e,{dispatch:t})=>(e.email,e)),np=Hg("user/signUpWithData",async(e,{dispatch:t})=>(e.email,e)),op=ws({name:"user",initialState:Mk,reducers:{signIn:(e,t)=>{const{email:s,name:a,username:n,profilePicture:o}=t.payload,i=s;e.currentUser={id:i,email:s,name:a,username:n,profilePicture:o,isAuthenticated:!0,createdAt:new Date().toISOString(),lastLogin:new Date().toISOString()},e.isLoading=!1,e.error=null},signUp:(e,t)=>{const{email:s,name:a,username:n}=t.payload,o=s;e.currentUser={id:o,email:s,name:a,username:n,isAuthenticated:!0,createdAt:new Date().toISOString(),lastLogin:new Date().toISOString()},e.isLoading=!1,e.error=null},signOut:e=>{e.currentUser=null,e.error=null,localStorage.removeItem("auth"),localStorage.removeItem("access_token")},updateProfile:(e,t)=>{e.currentUser&&(e.currentUser={...e.currentUser,...t.payload})},setLoading:(e,t)=>{e.isLoading=t.payload},setError:(e,t)=>{e.error=t.payload,e.isLoading=!1},addOrder:(e,t)=>{e.orders.unshift(t.payload)},updateOrderStatus:(e,t)=>{const{orderId:s,status:a}=t.payload,n=e.orders.find(o=>o.id===s);n&&(n.status=a)}},extraReducers:e=>{e.addCase(Ok.fulfilled,(t,s)=>{const{email:a,name:n,username:o,profilePicture:i}=s.payload,l=a;t.currentUser={id:l,email:a,name:n,username:o,profilePicture:i,isAuthenticated:!0,createdAt:new Date().toISOString(),lastLogin:new Date().toISOString()},t.isLoading=!1,t.error=null}).addCase(np.fulfilled,(t,s)=>{const{email:a,name:n,username:o}=s.payload,i=a;t.currentUser={id:i,email:a,name:n,username:o,isAuthenticated:!0,createdAt:new Date().toISOString(),lastLogin:new Date().toISOString()},t.isLoading=!1,t.error=null})}}),{signIn:el,signUp:sC,signOut:s0,updateProfile:aC,setLoading:nC,setError:oC,addOrder:iC,updateOrderStatus:lC}=op.actions,wt=e=>e.user.currentUser,a0=e=>{var t;return((t=e.user.currentUser)==null?void 0:t.isAuthenticated)??!1},$k=e=>e.user.orders,Fk=op.reducer,zk={currency:"GBP",theme:"dark",toasts:[]},ip=ws({name:"ui",initialState:zk,reducers:{setCurrency:(e,t)=>{e.currency=t.payload},setTheme:(e,t)=>{e.theme=t.payload},addToast:(e,t)=>{const s={...t.payload,id:Date.now().toString()};e.toasts.push(s)},removeToast:(e,t)=>{e.toasts=e.toasts.filter(s=>s.id!==t.payload)},clearToasts:e=>{e.toasts=[]}}}),{setCurrency:cC,setTheme:dC,addToast:Te,removeToast:uC,clearToasts:mC}=ip.actions,Uk=ip.reducer,Bk={items:[],categories:[],brands:[],loading:!1,error:null,filters:{},sortBy:"popularity",searchQuery:""},lp=ws({name:"products",initialState:Bk,reducers:{setProducts:(e,t)=>{e.items=t.payload},setCategories:(e,t)=>{e.categories=t.payload},setBrands:(e,t)=>{e.brands=t.payload},setLoading:(e,t)=>{e.loading=t.payload},setError:(e,t)=>{e.error=t.payload},setFilters:(e,t)=>{e.filters=t.payload},setSortBy:(e,t)=>{e.sortBy=t.payload},setSearchQuery:(e,t)=>{e.searchQuery=t.payload},clearFilters:e=>{e.filters={},e.sortBy="popularity",e.searchQuery=""}}}),{setProducts:ka,setCategories:cp,setBrands:Wk,setLoading:hC,setError:fC,setFilters:xC,setSortBy:Hk,setSearchQuery:qk,clearFilters:gC}=lp.actions,Qa=e=>e.products.items,dp=e=>e.products.categories,Vk=lp.reducer,Qk={storeSettings:null,loading:!1,error:null},up=ws({name:"storeSettings",initialState:Qk,reducers:{setStoreSettings:(e,t)=>{e.storeSettings=t.payload,e.loading=!1,e.error=null},setLoading:(e,t)=>{e.loading=t.payload},setError:(e,t)=>{e.error=t.payload,e.loading=!1},clearError:e=>{e.error=null}}}),{setStoreSettings:Gk,setLoading:pC,setError:Yk,clearError:yC}=up.actions,Kk=up.reducer,Jk={key:"storefront",storage:Jg,whitelist:["cart","wishlist","user","ui"]},Xk=Ag({cart:Lk,wishlist:Ik,user:Fk,ui:Uk,products:Vk,storeSettings:Kk}),Zk=mk(Jk,Xk),mp=L1({reducer:Zk,middleware:e=>e({serializableCheck:{ignoredActions:["persist/PERSIST","persist/REHYDRATE"]}})}),eN=yk(mp);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tN=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),rN=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,s,a)=>a?a.toUpperCase():s.toLowerCase()),Nh=e=>{const t=rN(e);return t.charAt(0).toUpperCase()+t.slice(1)},hp=(...e)=>e.filter((t,s,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===s).join(" ").trim(),sN=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var aN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nN=y.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:s=2,absoluteStrokeWidth:a,className:n="",children:o,iconNode:i,...l},c)=>y.createElement("svg",{ref:c,...aN,width:t,height:t,stroke:e,strokeWidth:a?Number(s)*24/Number(t):s,className:hp("lucide",n),...!o&&!sN(l)&&{"aria-hidden":"true"},...l},[...i.map(([d,u])=>y.createElement(d,u)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ne=(e,t)=>{const s=y.forwardRef(({className:a,...n},o)=>y.createElement(nN,{ref:o,iconNode:t,className:hp(`lucide-${tN(Nh(e))}`,`lucide-${e}`,a),...n}));return s.displayName=Nh(e),s};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oN=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],fr=ne("arrow-left",oN);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iN=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],n0=ne("arrow-right",iN);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lN=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],cN=ne("award",lN);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dN=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],uN=ne("bell",dN);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mN=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],go=ne("calendar",mN);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hN=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],fN=ne("camera",hN);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xN=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],fp=ne("chevron-down",xN);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gN=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],pN=ne("chevron-left",gN);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yN=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Jt=ne("chevron-right",yN);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],vN=ne("circle-alert",bN);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wN=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],dr=ne("circle-check-big",wN);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],kN=ne("circle-question-mark",jN);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NN=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Ot=ne("clock",NN);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SN=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],tl=ne("copy",SN);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CN=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],ao=ne("credit-card",CN);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EN=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],_N=ne("dollar-sign",EN);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PN=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Na=ne("eye-off",PN);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RN=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],$r=ne("eye",RN);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TN=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],LN=ne("facebook",TN);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AN=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Id=ne("funnel",AN);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DN=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],Md=ne("grid-3x3",DN);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IN=[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]],MN=ne("headphones",IN);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ON=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],as=ne("heart",ON);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $N=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],o0=ne("house",$N);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FN=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],zN=ne("image",FN);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UN=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],BN=ne("instagram",UN);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WN=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],xp=ne("list",WN);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HN=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],As=ne("lock",HN);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qN=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],gp=ne("log-out",qN);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VN=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Wt=ne("mail",VN);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QN=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Ia=ne("map-pin",QN);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GN=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],YN=ne("menu",GN);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KN=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],tt=ne("message-circle",KN);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JN=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],pp=ne("message-square",JN);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XN=[["path",{d:"M5 12h14",key:"1ays0h"}]],yp=ne("minus",XN);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZN=[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]],e2=ne("navigation",ZN);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t2=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],ur=ne("package",t2);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r2=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],At=ne("phone",r2);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s2=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],bp=ne("plus",s2);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a2=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Od=ne("refresh-cw",a2);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n2=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],i0=ne("rotate-ccw",n2);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o2=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Sh=ne("save",o2);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i2=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Vs=ne("search",i2);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l2=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],El=ne("send",l2);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c2=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],d2=ne("settings",c2);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u2=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Ga=ne("shield",u2);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m2=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],Sa=ne("shopping-bag",m2);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h2=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],Ar=ne("shopping-cart",h2);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f2=[["path",{d:"M10 5H3",key:"1qgfaw"}],["path",{d:"M12 19H3",key:"yhmn1j"}],["path",{d:"M14 3v4",key:"1sua03"}],["path",{d:"M16 17v4",key:"1q0r14"}],["path",{d:"M21 12h-9",key:"1o4lsq"}],["path",{d:"M21 19h-5",key:"1rlt1p"}],["path",{d:"M21 5h-7",key:"1oszz2"}],["path",{d:"M8 10v4",key:"tgpxqk"}],["path",{d:"M8 12H3",key:"a7s4jb"}]],x2=ne("sliders-horizontal",f2);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g2=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],p2=ne("sparkles",g2);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y2=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Dt=ne("star",y2);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b2=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],$d=ne("trash-2",b2);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v2=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],w2=ne("triangle-alert",v2);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j2=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],Ma=ne("truck",j2);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k2=[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]],N2=ne("twitter",k2);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S2=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],It=ne("user",S2);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C2=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],E2=ne("users",C2);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _2=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z",key:"1ngwbx"}]],P2=ne("wrench",_2);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R2=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Oa=ne("x",R2);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T2=[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]],L2=ne("youtube",T2);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A2=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],no=ne("zap",A2),vp=y.createContext(),D2=({children:e})=>{const[t,s]=y.useState(!0);y.useEffect(()=>{const o=localStorage.getItem("theme");s(o?o==="dark":!0)},[]),y.useEffect(()=>{t?(document.documentElement.classList.add("dark"),localStorage.setItem("theme","dark")):(document.documentElement.classList.remove("dark"),localStorage.setItem("theme","light"))},[t]);const n={isDark:t,toggleTheme:()=>{s(!t)},setIsDark:s};return r.jsx(vp.Provider,{value:n,children:e})},l0=()=>{const e=y.useContext(vp);if(!e)throw new Error("useTheme must be used within a ThemeProvider");return e},po=({className:e="",size:t="sm"})=>{const{isDark:s,toggleTheme:a}=l0(),n={sm:"px-3 py-2 text-sm",md:"px-4 py-3 text-base",lg:"px-6 py-4 text-lg"};return r.jsx("button",{onClick:a,className:`
        rounded-xl border px-3 py-2 text-sm 
        hover:bg-slate-100 dark:hover:bg-slate-800 
        transition-colors
        ${n[t]}
        ${e}
      `,"aria-label":"Toggle theme",title:`Switch to ${s?"light":"dark"} mode`,children:s?" Dark":" Light"})},$a={code:"GBP",symbol:"",name:"British Pound"},Dr=[{code:"USD",symbol:"$",name:"US Dollar"},{code:"GBP",symbol:"",name:"British Pound"},{code:"EUR",symbol:"",name:"Euro"},{code:"CAD",symbol:"C$",name:"Canadian Dollar"},{code:"AUD",symbol:"A$",name:"Australian Dollar"}],hs=(e,t=$a)=>(typeof e!="number"&&(e=parseFloat(e)||0),`${t.symbol||$a.symbol}${e.toFixed(2)}`),Fd=(e=$a)=>e.symbol||$a.symbol,Le=(e,t=$a)=>(typeof e!="number"&&(e=parseFloat(e)||0),`${t.symbol||$a.symbol}${e.toFixed(2)} ${t.code}`),I2=()=>{var c;const[e,t]=y.useState({phone:"",email:"",city:"",country:"",businessHours:{mondayFriday:"Monday - Friday: 9:00 AM - 6:00 PM",saturday:"Saturday: 10:00 AM - 4:00 PM",sunday:"Sunday: Closed"}}),[s,a]=y.useState(null),[n,o]=y.useState(!0),[i,l]=y.useState(!0);return y.useEffect(()=>{(async()=>{try{const u=await fetch("http://127.0.0.1:8001/api/public/store-settings/");if(u.ok){const m=await u.json();t({phone:m.phone||"",email:m.email||"",city:m.city||"",country:m.country||"",businessHours:{mondayFriday:m.monday_friday_hours||"Monday - Friday: 9:00 AM - 6:00 PM",saturday:m.saturday_hours||"Saturday: 10:00 AM - 4:00 PM",sunday:m.sunday_hours||"Sunday: Closed"}}),a({id:m.id,currency:m.currency||"USD",tax_rate:m.tax_rate||0,shipping_rate:m.shipping_rate||0,standard_shipping_rate:m.standard_shipping_rate||0,express_shipping_rate:m.express_shipping_rate||0})}}catch(u){console.error("Error loading store settings:",u)}finally{o(!1),l(!1)}})()},[]),r.jsx("div",{className:"bg-gradient-to-r from-red-600 via-red-700 to-red-800 dark:from-blue-800 dark:via-blue-900 dark:to-blue-950 text-white border-b border-red-500/20 dark:border-blue-600/30 shadow-sm relative z-30",children:r.jsx("div",{className:"container mx-auto px-8 sm:px-12 lg:px-16 xl:px-20",children:r.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-center py-2 lg:py-3 space-y-2 lg:space-y-0",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row items-center space-y-2 sm:space-y-0 sm:space-x-6 text-xs sm:text-sm",children:[r.jsxs("div",{className:"flex items-center space-x-2 group",children:[r.jsx("div",{className:"p-1 rounded-full bg-white/10 group-hover:bg-white/20 transition-colors duration-200",children:r.jsx(At,{className:"w-3 h-3 sm:w-4 sm:h-4"})}),r.jsx("span",{className:"font-medium",children:n?"Loading...":e.phone||"Phone not set"})]}),r.jsxs("div",{className:"hidden sm:flex items-center space-x-2 group",children:[r.jsx("div",{className:"p-1 rounded-full bg-white/10 group-hover:bg-white/20 transition-colors duration-200",children:r.jsx(Wt,{className:"w-3 h-3 sm:w-4 sm:h-4"})}),r.jsx("span",{className:"font-medium",children:n?"Loading...":e.email||"Email not set"})]}),r.jsxs("div",{className:"hidden lg:flex items-center space-x-2 group",children:[r.jsx("div",{className:"p-1 rounded-full bg-white/10 group-hover:bg-white/20 transition-colors duration-200",children:r.jsx(Ia,{className:"w-3 h-3 sm:w-4 sm:h-4"})}),r.jsx("span",{className:"font-medium",children:n?"Loading...":e.city&&e.country?`${e.city}, ${e.country}`:"Location not set"})]}),r.jsxs("div",{className:"hidden md:flex items-center space-x-2 group",children:[r.jsx("div",{className:"p-1 rounded-full bg-white/10 group-hover:bg-white/20 transition-colors duration-200",children:r.jsx(Ot,{className:"w-3 h-3 sm:w-4 sm:h-4"})}),r.jsx("span",{className:"font-medium",children:n?"Loading...":(c=e.businessHours)!=null&&c.mondayFriday?e.businessHours.mondayFriday.replace("Monday - Friday: ","Mon-Fri: "):"Mon-Fri: 9AM-6PM"})]}),r.jsxs("div",{className:"hidden md:flex items-center space-x-2 group",children:[r.jsx("div",{className:"p-1 rounded-full bg-white/10 group-hover:bg-white/20 transition-colors duration-200",children:r.jsx("span",{className:"text-xs",children:""})}),r.jsxs("span",{className:"font-medium",children:["Free shipping above ",Fd(Dr.find(d=>d.code===(s==null?void 0:s.currency))||Dr[0]),"8"]})]})]}),r.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[r.jsxs("div",{className:"flex items-center justify-center space-x-2 bg-white/10 rounded-lg px-3 py-1.5 backdrop-blur-sm border border-white/20",children:[r.jsx("span",{className:"text-sm font-bold",children:i?"...":Fd(Dr.find(d=>d.code===(s==null?void 0:s.currency))||Dr[0])}),r.jsx("span",{className:"text-xs font-medium opacity-90",children:i?"Loading...":(s==null?void 0:s.currency)||"USD"})]}),r.jsx("div",{className:"bg-white/10 rounded-lg p-1 backdrop-blur-sm border border-white/20",children:r.jsx(po,{size:"sm"})})]})]})})})},M2="http://127.0.0.1:8001/api/public",jt=()=>{const[e,t]=y.useState(null),[s,a]=y.useState(!0),[n,o]=y.useState(null),i=async()=>{try{a(!0),o(null);const l=await fetch(`${M2}/store-settings/?t=${Date.now()}&r=${Math.random()}`,{headers:{"Cache-Control":"no-cache",Pragma:"no-cache"}});if(!l.ok)throw new Error(`Failed to fetch store settings: ${l.status}`);const c=await l.json();t(c)}catch(l){o(l instanceof Error?l.message:"Failed to fetch store settings"),console.error("Error fetching store settings:",l)}finally{a(!1)}};return y.useEffect(()=>{i()},[]),{settings:e,loading:s,error:n,refetch:i}},O2=e=>e?e.startsWith("http")?e:`http://127.0.0.1:8001${e}`:null,wp=({src:e,alt:t,className:s="w-8 h-8 rounded-full object-cover",fallbackText:a="S"})=>{const n=O2(e);return n?r.jsx("img",{src:n,alt:t,className:s,onError:o=>{console.error("Logo failed to load:",e);const i=o.target;i.style.display="none"}}):r.jsx("div",{className:`${s} bg-red-600 dark:bg-blue-600 flex items-center justify-center`,children:r.jsx("span",{className:"text-white font-bold text-lg",children:a})})},$2=()=>{const[e,t]=y.useState(""),s=ve(wt),a=(s==null?void 0:s.id)||"guest",n=ve(r0(a)),o=ve(sp(a)),{settings:i}=jt(),l=c=>{c.preventDefault(),e.trim()&&(window.location.href=`/search?q=${encodeURIComponent(e)}`)};return r.jsx("div",{className:"bg-white dark:bg-slate-800 border-b border-gray-200 dark:border-slate-700",children:r.jsx("div",{className:"container mx-auto px-8 sm:px-12 lg:px-16 xl:px-20 py-4",children:r.jsxs("div",{className:"flex flex-col lg:flex-row items-center justify-between space-y-4 lg:space-y-0",children:[r.jsxs(J,{to:"/",className:"flex items-center space-x-2",children:[r.jsx(wp,{src:i==null?void 0:i.store_logo,alt:(i==null?void 0:i.store_name)||"Store",className:"w-8 h-8 rounded-full object-cover",fallbackText:i!=null&&i.store_name?i.store_name.charAt(0).toUpperCase():"S"}),r.jsxs("span",{className:"text-xl sm:text-2xl font-bold text-gray-900 dark:text-white",children:[(i==null?void 0:i.store_name)||"Store",r.jsx("span",{className:"text-red-600 dark:text-blue-400",children:"."})]})]}),r.jsx("form",{onSubmit:l,className:"w-full lg:flex-1 lg:max-w-lg lg:mx-8",children:r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"text",value:e,onChange:c=>t(c.target.value),placeholder:"Search for products...",className:"w-full px-4 py-2 border border-gray-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-red-500 dark:focus:ring-blue-500 focus:border-transparent bg-white dark:bg-slate-800 text-gray-900 dark:text-white text-sm sm:text-base"}),r.jsx("button",{type:"submit",className:"absolute right-2 top-1/2 transform -translate-y-1/2 p-1 text-gray-400 dark:text-gray-500 hover:text-gray-600 dark:hover:text-gray-300",children:r.jsx(Vs,{className:"w-4 h-4 sm:w-5 sm:h-5"})})]})}),r.jsxs("div",{className:"flex items-center space-x-3 sm:space-x-4",children:[r.jsxs(J,{to:"/wishlist",className:"relative p-2 text-gray-600 dark:text-gray-300 hover:text-red-600 dark:hover:text-blue-400 transition-colors",children:[r.jsx(as,{className:"w-5 h-5 sm:w-6 sm:h-6"}),o>0&&r.jsx("span",{className:"absolute -top-1 -right-1 bg-red-600 dark:bg-blue-500 text-white text-xs rounded-full w-4 h-4 sm:w-5 sm:h-5 flex items-center justify-center text-xs",children:o})]}),r.jsxs(J,{to:"/cart",className:"relative p-2 text-gray-600 dark:text-gray-300 hover:text-red-600 dark:hover:text-blue-400 transition-colors",children:[r.jsx(Ar,{className:"w-5 h-5 sm:w-6 sm:h-6"}),n>0&&r.jsx("span",{className:"absolute -top-1 -right-1 bg-red-600 dark:bg-blue-500 text-white text-xs rounded-full w-4 h-4 sm:w-5 sm:h-5 flex items-center justify-center text-xs",children:n})]}),r.jsx(J,{to:s?"/user/dashboard":"/user/sign-in",className:"relative p-2 text-gray-600 dark:text-gray-300 hover:text-red-600 dark:hover:text-blue-400 transition-colors",children:r.jsx(It,{className:"w-5 h-5 sm:w-6 sm:h-6"})})]})]})})})};function jp(e){var t,s,a="";if(typeof e=="string"||typeof e=="number")a+=e;else if(typeof e=="object")if(Array.isArray(e)){var n=e.length;for(t=0;t<n;t++)e[t]&&(s=jp(e[t]))&&(a&&(a+=" "),a+=s)}else for(s in e)e[s]&&(a&&(a+=" "),a+=s);return a}function ht(){for(var e,t,s=0,a="",n=arguments.length;s<n;s++)(e=arguments[s])&&(t=jp(e))&&(a&&(a+=" "),a+=t);return a}const kp="http://127.0.0.1:8001/api/public",F2=()=>{const[e,t]=y.useState([]),[s,a]=y.useState(!0),[n,o]=y.useState(null),i=async()=>{try{a(!0),o(null);const l=await fetch(`${kp}/categories/with-hierarchy/`);if(!l.ok)throw new Error(`Failed to fetch categories: ${l.status}`);const c=await l.json();t(c)}catch(l){o(l instanceof Error?l.message:"Failed to fetch categories"),console.error("Error fetching categories with hierarchy:",l)}finally{a(!1)}};return y.useEffect(()=>{i()},[]),{categories:e,loading:s,error:n,refetch:i}},z2=()=>{const[e,t]=y.useState([]),[s,a]=y.useState(!0),[n,o]=y.useState(null),i=async()=>{try{a(!0),o(null);const l=await fetch(`${kp}/categories/`);if(!l.ok)throw new Error(`Failed to fetch categories: ${l.status}`);const c=await l.json(),d=c.results||c;t(d)}catch(l){o(l instanceof Error?l.message:"Failed to fetch categories"),console.error("Error fetching all categories:",l)}finally{a(!1)}};return y.useEffect(()=>{i()},[]),{categories:e,loading:s,error:n,refetch:i}},Np=y.createContext(void 0),c0=()=>{const e=y.useContext(Np);return e||{activeDropdown:null,setActiveDropdown:()=>{},closeAllDropdowns:()=>{}}},U2=({children:e})=>{const[t,s]=y.useState(null),a=()=>{s(null)};return r.jsx(Np.Provider,{value:{activeDropdown:t,setActiveDropdown:s,closeAllDropdowns:a},children:e})},B2=({category:e,isActive:t,className:s})=>{var A;Ba.useEffect(()=>{const M=document.createElement("style");return M.textContent=`
      .scrollbar-hide {
        -ms-overflow-style: none;
        scrollbar-width: none;
      }
      .scrollbar-hide::-webkit-scrollbar {
        display: none;
      }
    `,document.head.appendChild(M),()=>{document.head.removeChild(M)}},[]);const{activeDropdown:a,setActiveDropdown:n}=c0(),o=`category-${e.id}`,i=a===o,[l,c]=y.useState(null),[d,u]=y.useState(!1),[m,h]=y.useState(null),[v,g]=y.useState(!1),[w,x]=y.useState({top:0,left:0,width:"auto"}),f=y.useRef(null),b=y.useRef(null),p=y.useRef(null),k=()=>{if(b.current){const M=b.current.getBoundingClientRect(),F=window.innerWidth,U=320,X=1200,me=F-M.left,de=M.right;let te=M.left+window.scrollX,O="auto";me<U?me>=280?O=`${Math.max(280,me-20)}px`:(te=Math.max(20,M.right-U)+window.scrollX,O=`${Math.min(X,de-20)}px`):O=`${Math.min(X,Math.max(U,me-20))}px`,x({top:M.bottom+window.scrollY,left:te,width:O})}},E=()=>{p.current&&clearTimeout(p.current),k(),n(o)},_=()=>{p.current=setTimeout(()=>{n(null),c(null),window.innerWidth>=1024&&(u(!1),h(null),g(!1))},200)},j=M=>{M.preventDefault(),M.stopPropagation(),g(!0)},N=()=>{u(!1),h(null)},S=()=>{g(!1),u(!1),h(null)};return y.useEffect(()=>{const M=U=>{f.current&&!f.current.contains(U.target)&&(n(null),c(null),u(!1),h(null),g(!1))},F=()=>{i&&k()};return i&&(document.addEventListener("mousedown",M),window.addEventListener("resize",F,{passive:!0})),()=>{p.current&&clearTimeout(p.current),document.removeEventListener("mousedown",M),window.removeEventListener("resize",F)}},[i,n]),!e.children||e.children.length===0?r.jsxs(J,{to:`/allsubcategories?category=${e.id}&name=${encodeURIComponent(e.name)}`,className:s,children:[r.jsx("span",{className:"relative z-10 flex items-center gap-2 group-hover:scale-105 transition-transform duration-300",children:e.name}),t&&r.jsx("div",{className:"absolute inset-0 rounded-lg bg-gradient-to-r from-white/35 to-white/25 dark:from-blue-400/35 dark:to-blue-400/25 shadow-xl backdrop-blur-sm border border-white/25 dark:border-blue-400/25"}),t&&r.jsx("div",{className:"absolute bottom-0 left-1/2 transform -translate-x-1/2 w-12 h-1 bg-gradient-to-r from-white via-white/95 to-white dark:from-blue-400 dark:via-blue-300 dark:to-blue-400 rounded-full shadow-lg animate-pulse"}),r.jsx("div",{className:"absolute inset-0 rounded-lg opacity-0 group-hover:opacity-100 transition-all duration-500 bg-gradient-to-r from-white/20 via-white/10 to-white/20 dark:from-blue-400/20 dark:via-blue-300/10 dark:to-blue-400/20"}),r.jsx("div",{className:"absolute inset-0 rounded-lg opacity-0 group-hover:opacity-100 transition-opacity duration-500 border border-white/25 dark:border-blue-400/25"}),r.jsx("div",{className:"absolute inset-0 rounded-lg opacity-0 group-hover:opacity-100 transition-opacity duration-700",children:r.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-gradient-to-r from-transparent via-white/5 to-transparent dark:via-blue-400/5 animate-pulse"})})]}):r.jsxs("div",{className:"relative group",onMouseEnter:E,onMouseLeave:_,ref:b,children:[r.jsxs(J,{to:`/allsubcategories?category=${e.id}&name=${encodeURIComponent(e.name)}`,className:s,children:[r.jsxs("span",{className:"relative z-10 flex items-center gap-2 group-hover:scale-105 transition-transform duration-300",children:[e.name,e.children&&e.children.length>0&&r.jsx(Jt,{className:"w-4 h-4 opacity-60 group-hover:opacity-100 group-hover:translate-x-1 transition-all duration-300"})]}),t&&r.jsx("div",{className:"absolute inset-0 rounded-lg bg-gradient-to-r from-white/35 to-white/25 dark:from-blue-400/35 dark:to-blue-400/25 shadow-xl backdrop-blur-sm border border-white/25 dark:border-blue-400/25"}),t&&r.jsx("div",{className:"absolute bottom-0 left-1/2 transform -translate-x-1/2 w-12 h-1 bg-gradient-to-r from-white via-white/95 to-white dark:from-blue-400 dark:via-blue-300 dark:to-blue-400 rounded-full shadow-lg animate-pulse"}),r.jsx("div",{className:"absolute inset-0 rounded-lg opacity-0 group-hover:opacity-100 transition-all duration-500 bg-gradient-to-r from-white/20 via-white/10 to-white/20 dark:from-blue-400/20 dark:via-blue-300/10 dark:to-blue-400/20"}),r.jsx("div",{className:"absolute inset-0 rounded-lg opacity-0 group-hover:opacity-100 transition-opacity duration-500 border border-white/25 dark:border-blue-400/25"}),r.jsx("div",{className:"absolute inset-0 rounded-lg opacity-0 group-hover:opacity-100 transition-opacity duration-700",children:r.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-gradient-to-r from-transparent via-white/5 to-transparent dark:via-blue-400/5 animate-pulse"})})]}),i&&wl.createPortal(r.jsxs("div",{className:ht("absolute bg-white dark:bg-slate-800 shadow-2xl border-t-2 border-red-600 dark:border-blue-600 transition-all duration-500 ease-out z-[60] rounded-b-xl overflow-hidden",i?"opacity-100 visible translate-y-0 scale-100":"opacity-0 invisible -translate-y-4 scale-95"),style:{top:`${w.top}px`,left:`${w.left}px`,width:w.width},ref:f,children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/8 via-white/3 to-transparent dark:from-blue-400/8 dark:via-blue-300/3 dark:to-transparent pointer-events-none"}),r.jsx("div",{className:"absolute inset-0 opacity-30 dark:opacity-20",children:r.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-gradient-to-r from-red-500/5 via-transparent to-blue-500/5 dark:from-blue-400/5 dark:via-transparent dark:to-red-500/5 animate-pulse"})}),r.jsxs("div",{className:"relative px-3 sm:px-8 py-3 sm:py-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3 sm:mb-6 pb-2 sm:pb-4 border-b border-gray-200/60 dark:border-slate-700/60",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[(d||v)&&r.jsxs("button",{onClick:d?N:S,className:"lg:hidden flex items-center gap-2 px-2 py-1 rounded-md hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors duration-200",children:[r.jsx(fr,{className:"w-4 h-4 text-gray-700 dark:text-gray-300"}),r.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Back to main menu"})]}),!d&&!v&&r.jsxs("h3",{className:"text-base sm:text-xl font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[r.jsx("div",{className:"relative",children:r.jsx(no,{className:"w-4 h-4 sm:w-5 sm:h-5 text-red-600 dark:text-blue-400"})}),e.name]})]}),!d&&!v&&r.jsxs(J,{to:`/allsubcategories?category=${e.id}&name=${encodeURIComponent(e.name)}`,className:"group flex items-center gap-2 text-xs sm:text-sm text-red-600 dark:text-blue-400 hover:text-red-700 dark:hover:text-blue-300 font-medium transition-all duration-300 hover:scale-105 px-2 sm:px-3 py-1 rounded-lg hover:bg-red-50 dark:hover:bg-blue-900/20",children:["View All",r.jsx(Jt,{className:"w-3 h-3 sm:w-4 sm:h-4 group-hover:translate-x-1 transition-transform duration-300"})]})]}),r.jsxs("div",{className:"max-h-80 sm:max-h-96 overflow-y-auto scrollbar-hide pb-4",children:[d&&m?r.jsxs("div",{className:"space-y-0",children:[r.jsx("div",{className:"px-3 py-3 bg-gray-100 dark:bg-slate-700 border-b border-gray-200 dark:border-slate-600",children:r.jsx("h4",{className:"text-base font-semibold text-gray-900 dark:text-white",children:m.name})}),(A=m.children)==null?void 0:A.map((M,F)=>{var U;return r.jsxs("div",{children:[r.jsxs(J,{to:`/allsubcategories?category=${M.id}&name=${encodeURIComponent(M.name)}`,className:"flex items-center justify-between px-3 py-3 bg-white dark:bg-slate-800 hover:bg-gray-50 dark:hover:bg-slate-700 transition-colors duration-200",children:[r.jsx("span",{className:"text-gray-900 dark:text-white font-medium",children:M.name}),r.jsx(Jt,{className:"w-4 h-4 text-gray-500 dark:text-slate-400"})]}),F<(((U=m.children)==null?void 0:U.length)||0)-1&&r.jsx("div",{className:"border-b border-gray-100 dark:border-slate-700"})]},M.id)})]}):v?r.jsx("div",{className:"lg:hidden",children:r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 pr-1",children:e.children.map(M=>r.jsxs("div",{className:"group/subcategory space-y-3 p-4 rounded-lg hover:bg-gray-50/70 dark:hover:bg-slate-700/70 transition-all duration-300 hover:shadow-lg hover:scale-[1.02] border border-transparent hover:border-gray-200/50 dark:hover:border-slate-600/50",onMouseEnter:()=>c(M.id),onMouseLeave:()=>c(null),children:[r.jsx(J,{to:`/allsubcategories?category=${M.id}&name=${encodeURIComponent(M.name)}`,className:ht("block text-base font-semibold text-gray-900 dark:text-white transition-all duration-300 group-hover/subcategory:scale-105",l===M.id?"text-red-600 dark:text-blue-400":"hover:text-red-600 dark:hover:text-blue-400"),children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{children:M.name}),r.jsx(Jt,{className:ht("w-4 h-4 transition-all duration-300",l===M.id?"opacity-100 translate-x-1":"opacity-0 group-hover/subcategory:opacity-60 group-hover/subcategory:translate-x-1")})]})}),r.jsx("div",{className:"ml-2",children:M.children&&M.children.length>0&&r.jsxs("div",{className:"space-y-1",children:[M.children.map(F=>r.jsx(J,{to:`/allsubcategories?category=${F.id}&name=${encodeURIComponent(F.name)}`,className:"block text-sm text-gray-600 dark:text-gray-300 hover:text-red-600 dark:hover:text-blue-400 transition-all duration-200 py-1.5 px-3 rounded-md hover:bg-white/60 dark:hover:bg-slate-600/60 hover:shadow-sm group/grandchild hover:scale-105",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-1.5 h-1.5 bg-gray-400 dark:bg-slate-500 rounded-full group-hover/grandchild:bg-red-600 dark:group-hover/grandchild:bg-blue-400 transition-all duration-200 group-hover/grandchild:scale-125"}),r.jsx("span",{children:F.name})]})},F.id)),r.jsxs("div",{className:"text-xs text-gray-500 dark:text-slate-400 mt-2 text-center",children:[M.children.length," items"]})]})})]},M.id))})}):r.jsx("div",{className:"lg:hidden",children:r.jsx("div",{className:"space-y-0",children:e.children.map((M,F)=>{var U;return r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between px-3 py-3 bg-white dark:bg-slate-800 hover:bg-gray-50 dark:hover:bg-slate-700 transition-colors duration-200 cursor-pointer",onClick:j,children:[r.jsx("span",{className:"text-gray-900 dark:text-white font-medium",children:M.name}),r.jsx(Jt,{className:"w-4 h-4 text-gray-500 dark:text-slate-400"})]}),F<(((U=e.children)==null?void 0:U.length)||0)-1&&r.jsx("div",{className:"border-b border-gray-100 dark:border-slate-700"})]},M.id)})})}),r.jsx("div",{className:"hidden lg:block",children:r.jsx("div",{className:"grid gap-6 pr-2 pb-4",style:{gridTemplateColumns:"repeat(auto-fit, minmax(280px, 1fr))"},children:e.children.map(M=>r.jsxs("div",{className:"group/subcategory space-y-3 p-4 rounded-lg hover:bg-gray-50/70 dark:hover:bg-slate-700/70 transition-all duration-300 hover:shadow-lg hover:scale-[1.02] border border-transparent hover:border-gray-200/50 dark:hover:border-slate-600/50",onMouseEnter:()=>c(M.id),onMouseLeave:()=>c(null),children:[r.jsx(J,{to:M.children&&M.children.length>0?`/allsubcategories?category=${M.id}&name=${encodeURIComponent(M.name)}`:`/category/${M.slug}`,className:ht("block text-base font-semibold text-gray-900 dark:text-white transition-all duration-300 group-hover/subcategory:scale-105",l===M.id?"text-red-600 dark:text-blue-400":"hover:text-red-600 dark:hover:text-blue-400"),children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{children:M.name}),r.jsx(Jt,{className:ht("w-4 h-4 transition-all duration-300",l===M.id?"opacity-100 translate-x-1":"opacity-0 group-hover/subcategory:opacity-60 group-hover/subcategory:translate-x-1")})]})}),r.jsx("div",{className:"ml-2",children:M.children&&M.children.length>0&&r.jsxs("div",{className:"space-y-1",children:[M.children.map(F=>r.jsx(J,{to:`/category/${F.slug}`,className:"block text-sm text-gray-600 dark:text-gray-300 hover:text-red-600 dark:hover:text-blue-400 transition-all duration-200 py-1.5 px-3 rounded-md hover:bg-white/60 dark:hover:bg-slate-600/60 hover:shadow-sm group/grandchild hover:scale-105",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-1.5 h-1.5 bg-gray-400 dark:bg-slate-500 rounded-full group-hover/grandchild:bg-red-600 dark:group-hover/grandchild:bg-blue-400 transition-all duration-200 group-hover/grandchild:scale-125"}),r.jsx("span",{children:F.name})]})},F.id)),r.jsxs("div",{className:"text-xs text-gray-500 dark:text-slate-400 mt-2 text-center",children:[M.children.length," items"]})]})})]},M.id))})})]})]})]}),document.body)]})},W2=()=>{const[e,t]=y.useState(!1),s=vs(),{categories:a,loading:n}=F2(),o=[{label:"Home",href:"/",hasDropdown:!1},{label:"Services",href:"/services",hasDropdown:!1},...a.map(l=>({label:l.name,href:`/allsubcategories?category=${l.id}&name=${encodeURIComponent(l.name)}`,hasDropdown:Array.isArray(l.children)&&l.children.length>0}))],i=l=>l==="/"?s.pathname==="/":s.pathname.startsWith(l);return r.jsx(U2,{children:r.jsx("nav",{className:"bg-gradient-to-r from-red-600 via-red-700 to-red-800 dark:from-blue-800 dark:via-blue-900 dark:to-blue-950 sticky top-0 z-50 shadow-lg backdrop-blur-sm border-b border-red-500/20 dark:border-blue-600/30",children:r.jsxs("div",{className:"container mx-auto px-8 sm:px-12 lg:px-16 xl:px-20 relative",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("div",{className:"hidden lg:flex items-center space-x-1",children:n?r.jsx("div",{className:"px-6 py-4 text-sm font-semibold text-red-100 dark:text-blue-200",children:"Loading..."}):o.map(l=>{if(l.label==="Home"||l.label==="Services")return r.jsxs(J,{to:l.href,className:ht("relative py-4 text-sm font-semibold transition-all duration-300 ease-in-out group",l.label==="Services"?"px-8":"px-6",i(l.href)?"text-white":"text-red-100 dark:text-blue-200 hover:text-white"),children:[r.jsx("span",{className:"relative z-10",children:l.label}),r.jsx("div",{className:ht("absolute inset-0 rounded-lg transition-all duration-300 ease-in-out",i(l.href)?"bg-white/20 shadow-lg":"bg-transparent group-hover:bg-white/10 group-hover:shadow-md")}),i(l.href)&&r.jsx("div",{className:"absolute bottom-0 left-1/2 transform -translate-x-1/2 w-8 h-1 bg-white rounded-full shadow-lg"}),r.jsx("div",{className:"absolute inset-0 rounded-lg opacity-0 group-hover:opacity-100 transition-opacity duration-300 bg-gradient-to-r from-white/5 to-white/10"})]},l.href);const c=a.find(d=>d.name===l.label);return c?l.hasDropdown&&c.children&&c.children.length>0?r.jsx(B2,{category:c,isActive:i(l.href),className:ht("relative py-4 text-sm font-semibold transition-all duration-300 ease-in-out group",l.label==="Electrical & Lights"?"px-8":"px-6",i(l.href)?"text-white":"text-red-100 dark:text-blue-200 hover:text-white")},l.href):r.jsxs(J,{to:l.href,className:ht("relative py-4 text-sm font-semibold transition-all duration-300 ease-in-out group",l.label==="Electrical & Lights"?"px-8":"px-6",i(l.href)?"text-white":"text-red-100 dark:text-blue-200 hover:text-white"),children:[r.jsx("span",{className:"relative z-10",children:l.label}),r.jsx("div",{className:ht("absolute inset-0 rounded-lg transition-all duration-300 ease-in-out",i(l.href)?"bg-white/20 shadow-lg":"bg-transparent group-hover:bg-white/10 group-hover:shadow-md")}),i(l.href)&&r.jsx("div",{className:"absolute bottom-0 left-1/2 transform -translate-x-1/2 w-8 h-1 bg-white rounded-full shadow-lg"}),r.jsx("div",{className:"absolute inset-0 rounded-lg opacity-0 group-hover:opacity-100 transition-opacity duration-300 bg-gradient-to-r from-white/5 to-white/10"})]},l.href):null})}),r.jsx("button",{onClick:()=>t(!e),className:"lg:hidden p-2 sm:p-3 rounded-lg bg-white/10 text-white hover:bg-white/20 transition-all duration-300 backdrop-blur-sm border border-white/20 shadow-sm mr-4","aria-label":"Toggle mobile menu",children:r.jsxs("div",{className:"relative w-5 h-5 sm:w-6 sm:h-6",children:[r.jsx("div",{className:ht("absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 transition-all duration-300",e?"opacity-0 rotate-90":"opacity-100 rotate-0"),children:r.jsx(YN,{className:"w-5 h-5 sm:w-6 sm:h-6"})}),r.jsx("div",{className:ht("absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 transition-all duration-300",e?"opacity-100 rotate-0":"opacity-0 -rotate-90"),children:r.jsx(Oa,{className:"w-5 h-5 sm:w-6 sm:h-6"})})]})})]}),r.jsx("div",{className:ht("lg:hidden transition-all duration-500 ease-in-out overflow-hidden",e?"max-h-screen opacity-100":"max-h-0 opacity-0"),children:r.jsx("div",{className:"py-4 sm:py-6 space-y-1 sm:space-y-2 border-t border-white/20 bg-gradient-to-b from-red-600 via-red-700 to-red-800 dark:from-blue-800 dark:via-blue-900 dark:to-blue-950",children:n?r.jsx("div",{className:"py-2 sm:py-3 px-4 sm:px-6 text-sm sm:text-base font-semibold text-red-100 dark:text-blue-200",children:"Loading..."}):o.map((l,c)=>r.jsxs(J,{to:l.href,className:ht("block py-3 sm:py-4 px-4 sm:px-6 text-base sm:text-lg font-semibold transition-all duration-300 ease-in-out rounded-lg mx-2 group",i(l.href)?"text-white bg-white/20 shadow-lg":"text-red-100 hover:text-white hover:bg-white/10 hover:shadow-md"),style:{animationDelay:`${c*50}ms`,animation:e?"slideInDown 0.3s ease-out forwards":"none"},onClick:()=>t(!1),children:[r.jsx("span",{className:"relative z-10",children:l.label}),i(l.href)&&r.jsx("div",{className:"absolute left-0 top-1/2 transform -translate-y-1/2 w-1 h-6 bg-white rounded-r-full"})]},l.href))})})]})})})},H2=()=>{const[e,t]=y.useState([]),[s,a]=y.useState(!0);y.useEffect(()=>{(async()=>{try{const i=await fetch("http://127.0.0.1:8001/api/public/categories/?top=true");if(i.ok){const l=await i.json(),c=l.results||l;t(c)}}catch(i){console.error("Failed to load categories:",i)}finally{a(!1)}})()},[]);const n=[{title:"About",links:[{label:"About Us",href:"/about"},{label:"Contact",href:"/contact"},{label:"Careers",href:"/careers"},{label:"Find Us",href:"/findus"}]},{title:"Categories",links:s?[]:e.map(o=>({label:o.name,href:`/allsubcategories?category=${o.id}&name=${encodeURIComponent(o.name)}`}))},{title:"Information",links:[{label:"Privacy Policy",href:"/privacy"},{label:"Terms of Service",href:"/terms"},{label:"Help Center",href:"/help"},{label:"Track Your Order",href:"/track-order"}]},{title:"Service",links:[{label:"Shipping Info",href:"/shipping"},{label:"Returns",href:"/returns"},{label:"Warranty",href:"/warranty"},{label:"Support",href:"/support"}]}];return r.jsx("div",{className:"w-full bg-gray-50 dark:bg-slate-800",children:r.jsx("div",{className:"container mx-auto px-4 py-8 sm:py-12 max-w-7xl",children:r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6 lg:gap-8",children:n.map(o=>r.jsxs("div",{className:"text-center sm:text-left",children:[r.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 dark:text-white mb-3 sm:mb-4 md:mb-6",children:o.title}),r.jsx("ul",{className:"space-y-2 sm:space-y-3",children:o.links.map(i=>r.jsx("li",{children:r.jsx(J,{to:i.href,className:"text-xs sm:text-sm md:text-base text-gray-600 dark:text-gray-300 hover:text-red-600 dark:hover:text-blue-400 transition-colors duration-200 block py-1",children:i.label})},i.href))})]},o.title))})})})},Sp=y.createContext(void 0),Ya=()=>{const e=y.useContext(Sp);if(!e)throw new Error("useStore must be used within a StoreProvider");return e},q2=({children:e})=>{const[t,s]=y.useState({store_name:"sppix",store_logo:null,about_us_picture:null,favicon:null,currency:"GBP",tax_rate:0,shipping_rate:0}),[a,n]=y.useState(!0),[o,i]=y.useState(null);y.useEffect(()=>{(async()=>{try{n(!0);const d=await fetch(`http://127.0.0.1:8001/api/public/store-settings/?t=${Date.now()}&r=${Math.random()}`,{headers:{"Cache-Control":"no-cache",Pragma:"no-cache"}});if(d.ok){const u=await d.json();console.log("StoreContext: Fetched store settings:",u),console.log("StoreContext: store_logo:",u.store_logo),s(u)}else console.warn("Failed to fetch store settings, using defaults")}catch(d){console.error("Error fetching store settings:",d),i(d instanceof Error?d.message:"An error occurred")}finally{n(!1)}})()},[]);const l={storeSettings:t,loading:a,error:o,refreshStoreSettings:()=>{(async()=>{try{n(!0);const d=await fetch(`http://127.0.0.1:8001/api/public/store-settings/?t=${Date.now()}&r=${Math.random()}`,{headers:{"Cache-Control":"no-cache",Pragma:"no-cache"}});if(d.ok){const u=await d.json();s(u)}}catch(d){console.error("Error fetching store settings:",d),i(d instanceof Error?d.message:"An error occurred")}finally{n(!1)}})()}};return r.jsx(Sp.Provider,{value:l,children:e})},V2=()=>{const{storeSettings:e}=Ya(),t=[{name:"Visa",icon:""},{name:"Mastercard",icon:""},{name:"PayPal",icon:""},{name:"Apple Pay",icon:""},{name:"Google Pay",icon:"G"}],s=[{icon:Ma,text:"Free Shipping"},{icon:Ga,text:"Secure Payment"},{icon:MN,text:"24/7 Support"}];return r.jsx("div",{className:"bg-gray-900 dark:bg-slate-900 text-white",children:r.jsx("div",{className:"container mx-auto px-4 py-6 max-w-7xl",children:r.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-center space-y-4 lg:space-y-0",children:[r.jsxs("div",{className:"text-sm text-gray-400 dark:text-gray-300",children:[" 2024 ",(e==null?void 0:e.store_name)||"Store",". All rights reserved."]}),r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("span",{className:"text-sm text-gray-400 dark:text-gray-300 mr-2",children:"We accept:"}),r.jsx("div",{className:"flex items-center space-x-2",children:t.map(a=>r.jsx("div",{className:"w-8 h-8 bg-white dark:bg-slate-700 rounded flex items-center justify-center text-xs font-medium text-gray-700 dark:text-gray-300",title:a.name,children:a.icon},a.name))})]}),r.jsx("div",{className:"flex items-center space-x-6",children:s.map(a=>r.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-300 dark:text-gray-400",children:[r.jsx(a.icon,{className:"w-4 h-4"}),r.jsx("span",{children:a.text})]},a.text))})]})})})};function Cp(e,t){return function(){return e.apply(t,arguments)}}const{toString:Q2}=Object.prototype,{getPrototypeOf:d0}=Object,{iterator:_l,toStringTag:Ep}=Symbol,Pl=(e=>t=>{const s=Q2.call(t);return e[s]||(e[s]=s.slice(8,-1).toLowerCase())})(Object.create(null)),pr=e=>(e=e.toLowerCase(),t=>Pl(t)===e),Rl=e=>t=>typeof t===e,{isArray:Ka}=Array,Fa=Rl("undefined");function yo(e){return e!==null&&!Fa(e)&&e.constructor!==null&&!Fa(e.constructor)&&Mt(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const _p=pr("ArrayBuffer");function G2(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&_p(e.buffer),t}const Y2=Rl("string"),Mt=Rl("function"),Pp=Rl("number"),bo=e=>e!==null&&typeof e=="object",K2=e=>e===!0||e===!1,pi=e=>{if(Pl(e)!=="object")return!1;const t=d0(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Ep in e)&&!(_l in e)},J2=e=>{if(!bo(e)||yo(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},X2=pr("Date"),Z2=pr("File"),e4=pr("Blob"),t4=pr("FileList"),r4=e=>bo(e)&&Mt(e.pipe),s4=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Mt(e.append)&&((t=Pl(e))==="formdata"||t==="object"&&Mt(e.toString)&&e.toString()==="[object FormData]"))},a4=pr("URLSearchParams"),[n4,o4,i4,l4]=["ReadableStream","Request","Response","Headers"].map(pr),c4=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function vo(e,t,{allOwnKeys:s=!1}={}){if(e===null||typeof e>"u")return;let a,n;if(typeof e!="object"&&(e=[e]),Ka(e))for(a=0,n=e.length;a<n;a++)t.call(null,e[a],a,e);else{if(yo(e))return;const o=s?Object.getOwnPropertyNames(e):Object.keys(e),i=o.length;let l;for(a=0;a<i;a++)l=o[a],t.call(null,e[l],l,e)}}function Rp(e,t){if(yo(e))return null;t=t.toLowerCase();const s=Object.keys(e);let a=s.length,n;for(;a-- >0;)if(n=s[a],t===n.toLowerCase())return n;return null}const Ds=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),Tp=e=>!Fa(e)&&e!==Ds;function zd(){const{caseless:e,skipUndefined:t}=Tp(this)&&this||{},s={},a=(n,o)=>{const i=e&&Rp(s,o)||o;pi(s[i])&&pi(n)?s[i]=zd(s[i],n):pi(n)?s[i]=zd({},n):Ka(n)?s[i]=n.slice():(!t||!Fa(n))&&(s[i]=n)};for(let n=0,o=arguments.length;n<o;n++)arguments[n]&&vo(arguments[n],a);return s}const d4=(e,t,s,{allOwnKeys:a}={})=>(vo(t,(n,o)=>{s&&Mt(n)?e[o]=Cp(n,s):e[o]=n},{allOwnKeys:a}),e),u4=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),m4=(e,t,s,a)=>{e.prototype=Object.create(t.prototype,a),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),s&&Object.assign(e.prototype,s)},h4=(e,t,s,a)=>{let n,o,i;const l={};if(t=t||{},e==null)return t;do{for(n=Object.getOwnPropertyNames(e),o=n.length;o-- >0;)i=n[o],(!a||a(i,e,t))&&!l[i]&&(t[i]=e[i],l[i]=!0);e=s!==!1&&d0(e)}while(e&&(!s||s(e,t))&&e!==Object.prototype);return t},f4=(e,t,s)=>{e=String(e),(s===void 0||s>e.length)&&(s=e.length),s-=t.length;const a=e.indexOf(t,s);return a!==-1&&a===s},x4=e=>{if(!e)return null;if(Ka(e))return e;let t=e.length;if(!Pp(t))return null;const s=new Array(t);for(;t-- >0;)s[t]=e[t];return s},g4=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&d0(Uint8Array)),p4=(e,t)=>{const a=(e&&e[_l]).call(e);let n;for(;(n=a.next())&&!n.done;){const o=n.value;t.call(e,o[0],o[1])}},y4=(e,t)=>{let s;const a=[];for(;(s=e.exec(t))!==null;)a.push(s);return a},b4=pr("HTMLFormElement"),v4=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(s,a,n){return a.toUpperCase()+n}),Ch=(({hasOwnProperty:e})=>(t,s)=>e.call(t,s))(Object.prototype),w4=pr("RegExp"),Lp=(e,t)=>{const s=Object.getOwnPropertyDescriptors(e),a={};vo(s,(n,o)=>{let i;(i=t(n,o,e))!==!1&&(a[o]=i||n)}),Object.defineProperties(e,a)},j4=e=>{Lp(e,(t,s)=>{if(Mt(e)&&["arguments","caller","callee"].indexOf(s)!==-1)return!1;const a=e[s];if(Mt(a)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+s+"'")})}})},k4=(e,t)=>{const s={},a=n=>{n.forEach(o=>{s[o]=!0})};return Ka(e)?a(e):a(String(e).split(t)),s},N4=()=>{},S4=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function C4(e){return!!(e&&Mt(e.append)&&e[Ep]==="FormData"&&e[_l])}const E4=e=>{const t=new Array(10),s=(a,n)=>{if(bo(a)){if(t.indexOf(a)>=0)return;if(yo(a))return a;if(!("toJSON"in a)){t[n]=a;const o=Ka(a)?[]:{};return vo(a,(i,l)=>{const c=s(i,n+1);!Fa(c)&&(o[l]=c)}),t[n]=void 0,o}}return a};return s(e,0)},_4=pr("AsyncFunction"),P4=e=>e&&(bo(e)||Mt(e))&&Mt(e.then)&&Mt(e.catch),Ap=((e,t)=>e?setImmediate:t?((s,a)=>(Ds.addEventListener("message",({source:n,data:o})=>{n===Ds&&o===s&&a.length&&a.shift()()},!1),n=>{a.push(n),Ds.postMessage(s,"*")}))(`axios@${Math.random()}`,[]):s=>setTimeout(s))(typeof setImmediate=="function",Mt(Ds.postMessage)),R4=typeof queueMicrotask<"u"?queueMicrotask.bind(Ds):typeof process<"u"&&process.nextTick||Ap,T4=e=>e!=null&&Mt(e[_l]),D={isArray:Ka,isArrayBuffer:_p,isBuffer:yo,isFormData:s4,isArrayBufferView:G2,isString:Y2,isNumber:Pp,isBoolean:K2,isObject:bo,isPlainObject:pi,isEmptyObject:J2,isReadableStream:n4,isRequest:o4,isResponse:i4,isHeaders:l4,isUndefined:Fa,isDate:X2,isFile:Z2,isBlob:e4,isRegExp:w4,isFunction:Mt,isStream:r4,isURLSearchParams:a4,isTypedArray:g4,isFileList:t4,forEach:vo,merge:zd,extend:d4,trim:c4,stripBOM:u4,inherits:m4,toFlatObject:h4,kindOf:Pl,kindOfTest:pr,endsWith:f4,toArray:x4,forEachEntry:p4,matchAll:y4,isHTMLForm:b4,hasOwnProperty:Ch,hasOwnProp:Ch,reduceDescriptors:Lp,freezeMethods:j4,toObjectSet:k4,toCamelCase:v4,noop:N4,toFiniteNumber:S4,findKey:Rp,global:Ds,isContextDefined:Tp,isSpecCompliantForm:C4,toJSONObject:E4,isAsyncFn:_4,isThenable:P4,setImmediate:Ap,asap:R4,isIterable:T4};function ye(e,t,s,a,n){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),s&&(this.config=s),a&&(this.request=a),n&&(this.response=n,this.status=n.status?n.status:null)}D.inherits(ye,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:D.toJSONObject(this.config),code:this.code,status:this.status}}});const Dp=ye.prototype,Ip={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Ip[e]={value:e}});Object.defineProperties(ye,Ip);Object.defineProperty(Dp,"isAxiosError",{value:!0});ye.from=(e,t,s,a,n,o)=>{const i=Object.create(Dp);D.toFlatObject(e,i,function(u){return u!==Error.prototype},d=>d!=="isAxiosError");const l=e&&e.message?e.message:"Error",c=t==null&&e?e.code:t;return ye.call(i,l,c,s,a,n),e&&i.cause==null&&Object.defineProperty(i,"cause",{value:e,configurable:!0}),i.name=e&&e.name||"Error",o&&Object.assign(i,o),i};const L4=null;function Ud(e){return D.isPlainObject(e)||D.isArray(e)}function Mp(e){return D.endsWith(e,"[]")?e.slice(0,-2):e}function Eh(e,t,s){return e?e.concat(t).map(function(n,o){return n=Mp(n),!s&&o?"["+n+"]":n}).join(s?".":""):t}function A4(e){return D.isArray(e)&&!e.some(Ud)}const D4=D.toFlatObject(D,{},null,function(t){return/^is[A-Z]/.test(t)});function Tl(e,t,s){if(!D.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,s=D.toFlatObject(s,{metaTokens:!0,dots:!1,indexes:!1},!1,function(w,x){return!D.isUndefined(x[w])});const a=s.metaTokens,n=s.visitor||u,o=s.dots,i=s.indexes,c=(s.Blob||typeof Blob<"u"&&Blob)&&D.isSpecCompliantForm(t);if(!D.isFunction(n))throw new TypeError("visitor must be a function");function d(g){if(g===null)return"";if(D.isDate(g))return g.toISOString();if(D.isBoolean(g))return g.toString();if(!c&&D.isBlob(g))throw new ye("Blob is not supported. Use a Buffer instead.");return D.isArrayBuffer(g)||D.isTypedArray(g)?c&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function u(g,w,x){let f=g;if(g&&!x&&typeof g=="object"){if(D.endsWith(w,"{}"))w=a?w:w.slice(0,-2),g=JSON.stringify(g);else if(D.isArray(g)&&A4(g)||(D.isFileList(g)||D.endsWith(w,"[]"))&&(f=D.toArray(g)))return w=Mp(w),f.forEach(function(p,k){!(D.isUndefined(p)||p===null)&&t.append(i===!0?Eh([w],k,o):i===null?w:w+"[]",d(p))}),!1}return Ud(g)?!0:(t.append(Eh(x,w,o),d(g)),!1)}const m=[],h=Object.assign(D4,{defaultVisitor:u,convertValue:d,isVisitable:Ud});function v(g,w){if(!D.isUndefined(g)){if(m.indexOf(g)!==-1)throw Error("Circular reference detected in "+w.join("."));m.push(g),D.forEach(g,function(f,b){(!(D.isUndefined(f)||f===null)&&n.call(t,f,D.isString(b)?b.trim():b,w,h))===!0&&v(f,w?w.concat(b):[b])}),m.pop()}}if(!D.isObject(e))throw new TypeError("data must be an object");return v(e),t}function _h(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(a){return t[a]})}function u0(e,t){this._pairs=[],e&&Tl(e,this,t)}const Op=u0.prototype;Op.append=function(t,s){this._pairs.push([t,s])};Op.toString=function(t){const s=t?function(a){return t.call(this,a,_h)}:_h;return this._pairs.map(function(n){return s(n[0])+"="+s(n[1])},"").join("&")};function I4(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function $p(e,t,s){if(!t)return e;const a=s&&s.encode||I4;D.isFunction(s)&&(s={serialize:s});const n=s&&s.serialize;let o;if(n?o=n(t,s):o=D.isURLSearchParams(t)?t.toString():new u0(t,s).toString(a),o){const i=e.indexOf("#");i!==-1&&(e=e.slice(0,i)),e+=(e.indexOf("?")===-1?"?":"&")+o}return e}class M4{constructor(){this.handlers=[]}use(t,s,a){return this.handlers.push({fulfilled:t,rejected:s,synchronous:a?a.synchronous:!1,runWhen:a?a.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){D.forEach(this.handlers,function(a){a!==null&&t(a)})}}const Ph=M4,Fp={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},O4=typeof URLSearchParams<"u"?URLSearchParams:u0,$4=typeof FormData<"u"?FormData:null,F4=typeof Blob<"u"?Blob:null,z4={isBrowser:!0,classes:{URLSearchParams:O4,FormData:$4,Blob:F4},protocols:["http","https","file","blob","url","data"]},m0=typeof window<"u"&&typeof document<"u",Bd=typeof navigator=="object"&&navigator||void 0,U4=m0&&(!Bd||["ReactNative","NativeScript","NS"].indexOf(Bd.product)<0),B4=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),W4=m0&&window.location.href||"http://localhost",H4=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:m0,hasStandardBrowserEnv:U4,hasStandardBrowserWebWorkerEnv:B4,navigator:Bd,origin:W4},Symbol.toStringTag,{value:"Module"})),xt={...H4,...z4};function q4(e,t){return Tl(e,new xt.classes.URLSearchParams,{visitor:function(s,a,n,o){return xt.isNode&&D.isBuffer(s)?(this.append(a,s.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)},...t})}function V4(e){return D.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function Q4(e){const t={},s=Object.keys(e);let a;const n=s.length;let o;for(a=0;a<n;a++)o=s[a],t[o]=e[o];return t}function zp(e){function t(s,a,n,o){let i=s[o++];if(i==="__proto__")return!0;const l=Number.isFinite(+i),c=o>=s.length;return i=!i&&D.isArray(n)?n.length:i,c?(D.hasOwnProp(n,i)?n[i]=[n[i],a]:n[i]=a,!l):((!n[i]||!D.isObject(n[i]))&&(n[i]=[]),t(s,a,n[i],o)&&D.isArray(n[i])&&(n[i]=Q4(n[i])),!l)}if(D.isFormData(e)&&D.isFunction(e.entries)){const s={};return D.forEachEntry(e,(a,n)=>{t(V4(a),n,s,0)}),s}return null}function G4(e,t,s){if(D.isString(e))try{return(t||JSON.parse)(e),D.trim(e)}catch(a){if(a.name!=="SyntaxError")throw a}return(s||JSON.stringify)(e)}const h0={transitional:Fp,adapter:["xhr","http","fetch"],transformRequest:[function(t,s){const a=s.getContentType()||"",n=a.indexOf("application/json")>-1,o=D.isObject(t);if(o&&D.isHTMLForm(t)&&(t=new FormData(t)),D.isFormData(t))return n?JSON.stringify(zp(t)):t;if(D.isArrayBuffer(t)||D.isBuffer(t)||D.isStream(t)||D.isFile(t)||D.isBlob(t)||D.isReadableStream(t))return t;if(D.isArrayBufferView(t))return t.buffer;if(D.isURLSearchParams(t))return s.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(o){if(a.indexOf("application/x-www-form-urlencoded")>-1)return q4(t,this.formSerializer).toString();if((l=D.isFileList(t))||a.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Tl(l?{"files[]":t}:t,c&&new c,this.formSerializer)}}return o||n?(s.setContentType("application/json",!1),G4(t)):t}],transformResponse:[function(t){const s=this.transitional||h0.transitional,a=s&&s.forcedJSONParsing,n=this.responseType==="json";if(D.isResponse(t)||D.isReadableStream(t))return t;if(t&&D.isString(t)&&(a&&!this.responseType||n)){const i=!(s&&s.silentJSONParsing)&&n;try{return JSON.parse(t,this.parseReviver)}catch(l){if(i)throw l.name==="SyntaxError"?ye.from(l,ye.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:xt.classes.FormData,Blob:xt.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};D.forEach(["delete","get","head","post","put","patch"],e=>{h0.headers[e]={}});const f0=h0,Y4=D.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),K4=e=>{const t={};let s,a,n;return e&&e.split(`
`).forEach(function(i){n=i.indexOf(":"),s=i.substring(0,n).trim().toLowerCase(),a=i.substring(n+1).trim(),!(!s||t[s]&&Y4[s])&&(s==="set-cookie"?t[s]?t[s].push(a):t[s]=[a]:t[s]=t[s]?t[s]+", "+a:a)}),t},Rh=Symbol("internals");function xn(e){return e&&String(e).trim().toLowerCase()}function yi(e){return e===!1||e==null?e:D.isArray(e)?e.map(yi):String(e)}function J4(e){const t=Object.create(null),s=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let a;for(;a=s.exec(e);)t[a[1]]=a[2];return t}const X4=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function wc(e,t,s,a,n){if(D.isFunction(a))return a.call(this,t,s);if(n&&(t=s),!!D.isString(t)){if(D.isString(a))return t.indexOf(a)!==-1;if(D.isRegExp(a))return a.test(t)}}function Z4(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,s,a)=>s.toUpperCase()+a)}function e3(e,t){const s=D.toCamelCase(" "+t);["get","set","has"].forEach(a=>{Object.defineProperty(e,a+s,{value:function(n,o,i){return this[a].call(this,t,n,o,i)},configurable:!0})})}class Ll{constructor(t){t&&this.set(t)}set(t,s,a){const n=this;function o(l,c,d){const u=xn(c);if(!u)throw new Error("header name must be a non-empty string");const m=D.findKey(n,u);(!m||n[m]===void 0||d===!0||d===void 0&&n[m]!==!1)&&(n[m||c]=yi(l))}const i=(l,c)=>D.forEach(l,(d,u)=>o(d,u,c));if(D.isPlainObject(t)||t instanceof this.constructor)i(t,s);else if(D.isString(t)&&(t=t.trim())&&!X4(t))i(K4(t),s);else if(D.isObject(t)&&D.isIterable(t)){let l={},c,d;for(const u of t){if(!D.isArray(u))throw TypeError("Object iterator must return a key-value pair");l[d=u[0]]=(c=l[d])?D.isArray(c)?[...c,u[1]]:[c,u[1]]:u[1]}i(l,s)}else t!=null&&o(s,t,a);return this}get(t,s){if(t=xn(t),t){const a=D.findKey(this,t);if(a){const n=this[a];if(!s)return n;if(s===!0)return J4(n);if(D.isFunction(s))return s.call(this,n,a);if(D.isRegExp(s))return s.exec(n);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,s){if(t=xn(t),t){const a=D.findKey(this,t);return!!(a&&this[a]!==void 0&&(!s||wc(this,this[a],a,s)))}return!1}delete(t,s){const a=this;let n=!1;function o(i){if(i=xn(i),i){const l=D.findKey(a,i);l&&(!s||wc(a,a[l],l,s))&&(delete a[l],n=!0)}}return D.isArray(t)?t.forEach(o):o(t),n}clear(t){const s=Object.keys(this);let a=s.length,n=!1;for(;a--;){const o=s[a];(!t||wc(this,this[o],o,t,!0))&&(delete this[o],n=!0)}return n}normalize(t){const s=this,a={};return D.forEach(this,(n,o)=>{const i=D.findKey(a,o);if(i){s[i]=yi(n),delete s[o];return}const l=t?Z4(o):String(o).trim();l!==o&&delete s[o],s[l]=yi(n),a[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const s=Object.create(null);return D.forEach(this,(a,n)=>{a!=null&&a!==!1&&(s[n]=t&&D.isArray(a)?a.join(", "):a)}),s}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,s])=>t+": "+s).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...s){const a=new this(t);return s.forEach(n=>a.set(n)),a}static accessor(t){const a=(this[Rh]=this[Rh]={accessors:{}}).accessors,n=this.prototype;function o(i){const l=xn(i);a[l]||(e3(n,i),a[l]=!0)}return D.isArray(t)?t.forEach(o):o(t),this}}Ll.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);D.reduceDescriptors(Ll.prototype,({value:e},t)=>{let s=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(a){this[s]=a}}});D.freezeMethods(Ll);const xr=Ll;function jc(e,t){const s=this||f0,a=t||s,n=xr.from(a.headers);let o=a.data;return D.forEach(e,function(l){o=l.call(s,o,n.normalize(),t?t.status:void 0)}),n.normalize(),o}function Up(e){return!!(e&&e.__CANCEL__)}function Ja(e,t,s){ye.call(this,e??"canceled",ye.ERR_CANCELED,t,s),this.name="CanceledError"}D.inherits(Ja,ye,{__CANCEL__:!0});function Bp(e,t,s){const a=s.config.validateStatus;!s.status||!a||a(s.status)?e(s):t(new ye("Request failed with status code "+s.status,[ye.ERR_BAD_REQUEST,ye.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s))}function t3(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function r3(e,t){e=e||10;const s=new Array(e),a=new Array(e);let n=0,o=0,i;return t=t!==void 0?t:1e3,function(c){const d=Date.now(),u=a[o];i||(i=d),s[n]=c,a[n]=d;let m=o,h=0;for(;m!==n;)h+=s[m++],m=m%e;if(n=(n+1)%e,n===o&&(o=(o+1)%e),d-i<t)return;const v=u&&d-u;return v?Math.round(h*1e3/v):void 0}}function s3(e,t){let s=0,a=1e3/t,n,o;const i=(d,u=Date.now())=>{s=u,n=null,o&&(clearTimeout(o),o=null),e(...d)};return[(...d)=>{const u=Date.now(),m=u-s;m>=a?i(d,u):(n=d,o||(o=setTimeout(()=>{o=null,i(n)},a-m)))},()=>n&&i(n)]}const rl=(e,t,s=3)=>{let a=0;const n=r3(50,250);return s3(o=>{const i=o.loaded,l=o.lengthComputable?o.total:void 0,c=i-a,d=n(c),u=i<=l;a=i;const m={loaded:i,total:l,progress:l?i/l:void 0,bytes:c,rate:d||void 0,estimated:d&&l&&u?(l-i)/d:void 0,event:o,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(m)},s)},Th=(e,t)=>{const s=e!=null;return[a=>t[0]({lengthComputable:s,total:e,loaded:a}),t[1]]},Lh=e=>(...t)=>D.asap(()=>e(...t)),a3=xt.hasStandardBrowserEnv?((e,t)=>s=>(s=new URL(s,xt.origin),e.protocol===s.protocol&&e.host===s.host&&(t||e.port===s.port)))(new URL(xt.origin),xt.navigator&&/(msie|trident)/i.test(xt.navigator.userAgent)):()=>!0,n3=xt.hasStandardBrowserEnv?{write(e,t,s,a,n,o){const i=[e+"="+encodeURIComponent(t)];D.isNumber(s)&&i.push("expires="+new Date(s).toGMTString()),D.isString(a)&&i.push("path="+a),D.isString(n)&&i.push("domain="+n),o===!0&&i.push("secure"),document.cookie=i.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function o3(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function i3(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function Wp(e,t,s){let a=!o3(t);return e&&(a||s==!1)?i3(e,t):t}const Ah=e=>e instanceof xr?{...e}:e;function Qs(e,t){t=t||{};const s={};function a(d,u,m,h){return D.isPlainObject(d)&&D.isPlainObject(u)?D.merge.call({caseless:h},d,u):D.isPlainObject(u)?D.merge({},u):D.isArray(u)?u.slice():u}function n(d,u,m,h){if(D.isUndefined(u)){if(!D.isUndefined(d))return a(void 0,d,m,h)}else return a(d,u,m,h)}function o(d,u){if(!D.isUndefined(u))return a(void 0,u)}function i(d,u){if(D.isUndefined(u)){if(!D.isUndefined(d))return a(void 0,d)}else return a(void 0,u)}function l(d,u,m){if(m in t)return a(d,u);if(m in e)return a(void 0,d)}const c={url:o,method:o,data:o,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:l,headers:(d,u,m)=>n(Ah(d),Ah(u),m,!0)};return D.forEach(Object.keys({...e,...t}),function(u){const m=c[u]||n,h=m(e[u],t[u],u);D.isUndefined(h)&&m!==l||(s[u]=h)}),s}const Hp=e=>{const t=Qs({},e);let{data:s,withXSRFToken:a,xsrfHeaderName:n,xsrfCookieName:o,headers:i,auth:l}=t;if(t.headers=i=xr.from(i),t.url=$p(Wp(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&i.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),D.isFormData(s)){if(xt.hasStandardBrowserEnv||xt.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if(D.isFunction(s.getHeaders)){const c=s.getHeaders(),d=["content-type","content-length"];Object.entries(c).forEach(([u,m])=>{d.includes(u.toLowerCase())&&i.set(u,m)})}}if(xt.hasStandardBrowserEnv&&(a&&D.isFunction(a)&&(a=a(t)),a||a!==!1&&a3(t.url))){const c=n&&o&&n3.read(o);c&&i.set(n,c)}return t},l3=typeof XMLHttpRequest<"u",c3=l3&&function(e){return new Promise(function(s,a){const n=Hp(e);let o=n.data;const i=xr.from(n.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:d}=n,u,m,h,v,g;function w(){v&&v(),g&&g(),n.cancelToken&&n.cancelToken.unsubscribe(u),n.signal&&n.signal.removeEventListener("abort",u)}let x=new XMLHttpRequest;x.open(n.method.toUpperCase(),n.url,!0),x.timeout=n.timeout;function f(){if(!x)return;const p=xr.from("getAllResponseHeaders"in x&&x.getAllResponseHeaders()),E={data:!l||l==="text"||l==="json"?x.responseText:x.response,status:x.status,statusText:x.statusText,headers:p,config:e,request:x};Bp(function(j){s(j),w()},function(j){a(j),w()},E),x=null}"onloadend"in x?x.onloadend=f:x.onreadystatechange=function(){!x||x.readyState!==4||x.status===0&&!(x.responseURL&&x.responseURL.indexOf("file:")===0)||setTimeout(f)},x.onabort=function(){x&&(a(new ye("Request aborted",ye.ECONNABORTED,e,x)),x=null)},x.onerror=function(k){const E=k&&k.message?k.message:"Network Error",_=new ye(E,ye.ERR_NETWORK,e,x);_.event=k||null,a(_),x=null},x.ontimeout=function(){let k=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const E=n.transitional||Fp;n.timeoutErrorMessage&&(k=n.timeoutErrorMessage),a(new ye(k,E.clarifyTimeoutError?ye.ETIMEDOUT:ye.ECONNABORTED,e,x)),x=null},o===void 0&&i.setContentType(null),"setRequestHeader"in x&&D.forEach(i.toJSON(),function(k,E){x.setRequestHeader(E,k)}),D.isUndefined(n.withCredentials)||(x.withCredentials=!!n.withCredentials),l&&l!=="json"&&(x.responseType=n.responseType),d&&([h,g]=rl(d,!0),x.addEventListener("progress",h)),c&&x.upload&&([m,v]=rl(c),x.upload.addEventListener("progress",m),x.upload.addEventListener("loadend",v)),(n.cancelToken||n.signal)&&(u=p=>{x&&(a(!p||p.type?new Ja(null,e,x):p),x.abort(),x=null)},n.cancelToken&&n.cancelToken.subscribe(u),n.signal&&(n.signal.aborted?u():n.signal.addEventListener("abort",u)));const b=t3(n.url);if(b&&xt.protocols.indexOf(b)===-1){a(new ye("Unsupported protocol "+b+":",ye.ERR_BAD_REQUEST,e));return}x.send(o||null)})},d3=(e,t)=>{const{length:s}=e=e?e.filter(Boolean):[];if(t||s){let a=new AbortController,n;const o=function(d){if(!n){n=!0,l();const u=d instanceof Error?d:this.reason;a.abort(u instanceof ye?u:new Ja(u instanceof Error?u.message:u))}};let i=t&&setTimeout(()=>{i=null,o(new ye(`timeout ${t} of ms exceeded`,ye.ETIMEDOUT))},t);const l=()=>{e&&(i&&clearTimeout(i),i=null,e.forEach(d=>{d.unsubscribe?d.unsubscribe(o):d.removeEventListener("abort",o)}),e=null)};e.forEach(d=>d.addEventListener("abort",o));const{signal:c}=a;return c.unsubscribe=()=>D.asap(l),c}},u3=d3,m3=function*(e,t){let s=e.byteLength;if(!t||s<t){yield e;return}let a=0,n;for(;a<s;)n=a+t,yield e.slice(a,n),a=n},h3=async function*(e,t){for await(const s of f3(e))yield*m3(s,t)},f3=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:s,value:a}=await t.read();if(s)break;yield a}}finally{await t.cancel()}},Dh=(e,t,s,a)=>{const n=h3(e,t);let o=0,i,l=c=>{i||(i=!0,a&&a(c))};return new ReadableStream({async pull(c){try{const{done:d,value:u}=await n.next();if(d){l(),c.close();return}let m=u.byteLength;if(s){let h=o+=m;s(h)}c.enqueue(new Uint8Array(u))}catch(d){throw l(d),d}},cancel(c){return l(c),n.return()}},{highWaterMark:2})},Ih=64*1024,{isFunction:Yo}=D,x3=(({Request:e,Response:t})=>({Request:e,Response:t}))(D.global),{ReadableStream:Mh,TextEncoder:Oh}=D.global,$h=(e,...t)=>{try{return!!e(...t)}catch{return!1}},g3=e=>{e=D.merge.call({skipUndefined:!0},x3,e);const{fetch:t,Request:s,Response:a}=e,n=t?Yo(t):typeof fetch=="function",o=Yo(s),i=Yo(a);if(!n)return!1;const l=n&&Yo(Mh),c=n&&(typeof Oh=="function"?(g=>w=>g.encode(w))(new Oh):async g=>new Uint8Array(await new s(g).arrayBuffer())),d=o&&l&&$h(()=>{let g=!1;const w=new s(xt.origin,{body:new Mh,method:"POST",get duplex(){return g=!0,"half"}}).headers.has("Content-Type");return g&&!w}),u=i&&l&&$h(()=>D.isReadableStream(new a("").body)),m={stream:u&&(g=>g.body)};n&&["text","arrayBuffer","blob","formData","stream"].forEach(g=>{!m[g]&&(m[g]=(w,x)=>{let f=w&&w[g];if(f)return f.call(w);throw new ye(`Response type '${g}' is not supported`,ye.ERR_NOT_SUPPORT,x)})});const h=async g=>{if(g==null)return 0;if(D.isBlob(g))return g.size;if(D.isSpecCompliantForm(g))return(await new s(xt.origin,{method:"POST",body:g}).arrayBuffer()).byteLength;if(D.isArrayBufferView(g)||D.isArrayBuffer(g))return g.byteLength;if(D.isURLSearchParams(g)&&(g=g+""),D.isString(g))return(await c(g)).byteLength},v=async(g,w)=>{const x=D.toFiniteNumber(g.getContentLength());return x??h(w)};return async g=>{let{url:w,method:x,data:f,signal:b,cancelToken:p,timeout:k,onDownloadProgress:E,onUploadProgress:_,responseType:j,headers:N,withCredentials:S="same-origin",fetchOptions:A}=Hp(g),M=t||fetch;j=j?(j+"").toLowerCase():"text";let F=u3([b,p&&p.toAbortSignal()],k),U=null;const X=F&&F.unsubscribe&&(()=>{F.unsubscribe()});let me;try{if(_&&d&&x!=="get"&&x!=="head"&&(me=await v(N,f))!==0){let T=new s(w,{method:"POST",body:f,duplex:"half"}),$;if(D.isFormData(f)&&($=T.headers.get("content-type"))&&N.setContentType($),T.body){const[Y,Q]=Th(me,rl(Lh(_)));f=Dh(T.body,Ih,Y,Q)}}D.isString(S)||(S=S?"include":"omit");const de=o&&"credentials"in s.prototype,te={...A,signal:F,method:x.toUpperCase(),headers:N.normalize().toJSON(),body:f,duplex:"half",credentials:de?S:void 0};U=o&&new s(w,te);let O=await(o?M(U,A):M(w,te));const se=u&&(j==="stream"||j==="response");if(u&&(E||se&&X)){const T={};["status","statusText","headers"].forEach(pe=>{T[pe]=O[pe]});const $=D.toFiniteNumber(O.headers.get("content-length")),[Y,Q]=E&&Th($,rl(Lh(E),!0))||[];O=new a(Dh(O.body,Ih,Y,()=>{Q&&Q(),X&&X()}),T)}j=j||"text";let V=await m[D.findKey(m,j)||"text"](O,g);return!se&&X&&X(),await new Promise((T,$)=>{Bp(T,$,{data:V,headers:xr.from(O.headers),status:O.status,statusText:O.statusText,config:g,request:U})})}catch(de){throw X&&X(),de&&de.name==="TypeError"&&/Load failed|fetch/i.test(de.message)?Object.assign(new ye("Network Error",ye.ERR_NETWORK,g,U),{cause:de.cause||de}):ye.from(de,de&&de.code,g,U)}}},p3=new Map,qp=e=>{let t=e?e.env:{};const{fetch:s,Request:a,Response:n}=t,o=[a,n,s];let i=o.length,l=i,c,d,u=p3;for(;l--;)c=o[l],d=u.get(c),d===void 0&&u.set(c,d=l?new Map:g3(t)),u=d;return d};qp();const Wd={http:L4,xhr:c3,fetch:{get:qp}};D.forEach(Wd,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const Fh=e=>`- ${e}`,y3=e=>D.isFunction(e)||e===null||e===!1,Vp={getAdapter:(e,t)=>{e=D.isArray(e)?e:[e];const{length:s}=e;let a,n;const o={};for(let i=0;i<s;i++){a=e[i];let l;if(n=a,!y3(a)&&(n=Wd[(l=String(a)).toLowerCase()],n===void 0))throw new ye(`Unknown adapter '${l}'`);if(n&&(D.isFunction(n)||(n=n.get(t))))break;o[l||"#"+i]=n}if(!n){const i=Object.entries(o).map(([c,d])=>`adapter ${c} `+(d===!1?"is not supported by the environment":"is not available in the build"));let l=s?i.length>1?`since :
`+i.map(Fh).join(`
`):" "+Fh(i[0]):"as no adapter specified";throw new ye("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return n},adapters:Wd};function kc(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Ja(null,e)}function zh(e){return kc(e),e.headers=xr.from(e.headers),e.data=jc.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Vp.getAdapter(e.adapter||f0.adapter,e)(e).then(function(a){return kc(e),a.data=jc.call(e,e.transformResponse,a),a.headers=xr.from(a.headers),a},function(a){return Up(a)||(kc(e),a&&a.response&&(a.response.data=jc.call(e,e.transformResponse,a.response),a.response.headers=xr.from(a.response.headers))),Promise.reject(a)})}const Qp="1.12.2",Al={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Al[e]=function(a){return typeof a===e||"a"+(t<1?"n ":" ")+e}});const Uh={};Al.transitional=function(t,s,a){function n(o,i){return"[Axios v"+Qp+"] Transitional option '"+o+"'"+i+(a?". "+a:"")}return(o,i,l)=>{if(t===!1)throw new ye(n(i," has been removed"+(s?" in "+s:"")),ye.ERR_DEPRECATED);return s&&!Uh[i]&&(Uh[i]=!0,console.warn(n(i," has been deprecated since v"+s+" and will be removed in the near future"))),t?t(o,i,l):!0}};Al.spelling=function(t){return(s,a)=>(console.warn(`${a} is likely a misspelling of ${t}`),!0)};function b3(e,t,s){if(typeof e!="object")throw new ye("options must be an object",ye.ERR_BAD_OPTION_VALUE);const a=Object.keys(e);let n=a.length;for(;n-- >0;){const o=a[n],i=t[o];if(i){const l=e[o],c=l===void 0||i(l,o,e);if(c!==!0)throw new ye("option "+o+" must be "+c,ye.ERR_BAD_OPTION_VALUE);continue}if(s!==!0)throw new ye("Unknown option "+o,ye.ERR_BAD_OPTION)}}const bi={assertOptions:b3,validators:Al},wr=bi.validators;class sl{constructor(t){this.defaults=t||{},this.interceptors={request:new Ph,response:new Ph}}async request(t,s){try{return await this._request(t,s)}catch(a){if(a instanceof Error){let n={};Error.captureStackTrace?Error.captureStackTrace(n):n=new Error;const o=n.stack?n.stack.replace(/^.+\n/,""):"";try{a.stack?o&&!String(a.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(a.stack+=`
`+o):a.stack=o}catch{}}throw a}}_request(t,s){typeof t=="string"?(s=s||{},s.url=t):s=t||{},s=Qs(this.defaults,s);const{transitional:a,paramsSerializer:n,headers:o}=s;a!==void 0&&bi.assertOptions(a,{silentJSONParsing:wr.transitional(wr.boolean),forcedJSONParsing:wr.transitional(wr.boolean),clarifyTimeoutError:wr.transitional(wr.boolean)},!1),n!=null&&(D.isFunction(n)?s.paramsSerializer={serialize:n}:bi.assertOptions(n,{encode:wr.function,serialize:wr.function},!0)),s.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?s.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:s.allowAbsoluteUrls=!0),bi.assertOptions(s,{baseUrl:wr.spelling("baseURL"),withXsrfToken:wr.spelling("withXSRFToken")},!0),s.method=(s.method||this.defaults.method||"get").toLowerCase();let i=o&&D.merge(o.common,o[s.method]);o&&D.forEach(["delete","get","head","post","put","patch","common"],g=>{delete o[g]}),s.headers=xr.concat(i,o);const l=[];let c=!0;this.interceptors.request.forEach(function(w){typeof w.runWhen=="function"&&w.runWhen(s)===!1||(c=c&&w.synchronous,l.unshift(w.fulfilled,w.rejected))});const d=[];this.interceptors.response.forEach(function(w){d.push(w.fulfilled,w.rejected)});let u,m=0,h;if(!c){const g=[zh.bind(this),void 0];for(g.unshift(...l),g.push(...d),h=g.length,u=Promise.resolve(s);m<h;)u=u.then(g[m++],g[m++]);return u}h=l.length;let v=s;for(;m<h;){const g=l[m++],w=l[m++];try{v=g(v)}catch(x){w.call(this,x);break}}try{u=zh.call(this,v)}catch(g){return Promise.reject(g)}for(m=0,h=d.length;m<h;)u=u.then(d[m++],d[m++]);return u}getUri(t){t=Qs(this.defaults,t);const s=Wp(t.baseURL,t.url,t.allowAbsoluteUrls);return $p(s,t.params,t.paramsSerializer)}}D.forEach(["delete","get","head","options"],function(t){sl.prototype[t]=function(s,a){return this.request(Qs(a||{},{method:t,url:s,data:(a||{}).data}))}});D.forEach(["post","put","patch"],function(t){function s(a){return function(o,i,l){return this.request(Qs(l||{},{method:t,headers:a?{"Content-Type":"multipart/form-data"}:{},url:o,data:i}))}}sl.prototype[t]=s(),sl.prototype[t+"Form"]=s(!0)});const vi=sl;class x0{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let s;this.promise=new Promise(function(o){s=o});const a=this;this.promise.then(n=>{if(!a._listeners)return;let o=a._listeners.length;for(;o-- >0;)a._listeners[o](n);a._listeners=null}),this.promise.then=n=>{let o;const i=new Promise(l=>{a.subscribe(l),o=l}).then(n);return i.cancel=function(){a.unsubscribe(o)},i},t(function(o,i,l){a.reason||(a.reason=new Ja(o,i,l),s(a.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const s=this._listeners.indexOf(t);s!==-1&&this._listeners.splice(s,1)}toAbortSignal(){const t=new AbortController,s=a=>{t.abort(a)};return this.subscribe(s),t.signal.unsubscribe=()=>this.unsubscribe(s),t.signal}static source(){let t;return{token:new x0(function(n){t=n}),cancel:t}}}const v3=x0;function w3(e){return function(s){return e.apply(null,s)}}function j3(e){return D.isObject(e)&&e.isAxiosError===!0}const Hd={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Hd).forEach(([e,t])=>{Hd[t]=e});const k3=Hd;function Gp(e){const t=new vi(e),s=Cp(vi.prototype.request,t);return D.extend(s,vi.prototype,t,{allOwnKeys:!0}),D.extend(s,t,null,{allOwnKeys:!0}),s.create=function(n){return Gp(Qs(e,n))},s}const Ke=Gp(f0);Ke.Axios=vi;Ke.CanceledError=Ja;Ke.CancelToken=v3;Ke.isCancel=Up;Ke.VERSION=Qp;Ke.toFormData=Tl;Ke.AxiosError=ye;Ke.Cancel=Ke.CanceledError;Ke.all=function(t){return Promise.all(t)};Ke.spread=w3;Ke.isAxiosError=j3;Ke.mergeConfig=Qs;Ke.AxiosHeaders=xr;Ke.formToJSON=e=>zp(D.isHTMLForm(e)?new FormData(e):e);Ke.getAdapter=Vp.getAdapter;Ke.HttpStatusCode=k3;Ke.default=Ke;const N3=Ke,S3={}.VITE_API_BASE_URL||"http://127.0.0.1:8001/api/public",C3=async()=>{try{return(await N3.get(`${S3}/store-settings/?t=${Date.now()}`,{headers:{"Cache-Control":"no-cache",Pragma:"no-cache"}})).data}catch(e){throw console.error("Error fetching store settings:",e),e}},E3=()=>{const e=st();return y.useEffect(()=>{(async()=>{try{const s=await C3();e(Gk(s))}catch(s){console.error("Failed to load store settings:",s),e(Yk("Failed to load store settings"))}})()},[e]),null},Ye=({pageTitle:e})=>{const t=ve(s=>s.storeSettings.storeSettings);return y.useEffect(()=>{const s=(t==null?void 0:t.store_name)||"Storefront";e?document.title=`${s} - ${e}`:document.title=s},[t==null?void 0:t.store_name,e]),null},_3=()=>{const{pathname:e}=vs();return y.useEffect(()=>{requestAnimationFrame(()=>{window.scrollY>0&&window.scrollTo({top:0,left:0,behavior:"smooth"})})},[e]),null},P3=()=>r.jsxs("div",{className:"min-h-screen flex flex-col bg-white dark:bg-slate-900",children:[r.jsx(_3,{}),r.jsx(E3,{}),r.jsx(Ye,{}),r.jsx(I2,{}),r.jsx($2,{}),r.jsx(W2,{}),r.jsx("main",{className:"flex-1",children:r.jsx($j,{})}),r.jsxs("footer",{className:"w-full",children:[r.jsx(H2,{}),r.jsx(V2,{})]})]}),g0={async findAll(e={}){try{console.log(" ProductRepo: Fetching all products...");const t=await fetch("http://127.0.0.1:8001/api/public/products/");if(!t.ok)throw new Error(`HTTP ${t.status}: ${t.statusText}`);const s=await t.json(),a=s.results||s;return console.log(" ProductRepo: Loaded products:",a.length),Array.isArray(a)?a:[]}catch(t){return console.error(" ProductRepo: Failed to fetch products:",t),[]}},async findById(e){try{const t=await fetch(`http://127.0.0.1:8001/api/public/products/${e}/`);if(!t.ok)throw new Error(`HTTP ${t.status}: ${t.statusText}`);return await t.json()}catch(t){return console.error(" ProductRepo: Failed to fetch product:",t),null}},async search(e){try{const t=await fetch(`http://127.0.0.1:8001/api/public/products/?search=${encodeURIComponent(e)}`);if(!t.ok)throw new Error(`HTTP ${t.status}: ${t.statusText}`);const s=await t.json();return s.results||s}catch(t){return console.error(" ProductRepo: Failed to search products:",t),[]}}},R3={async findAll(){try{console.log(" CategoryRepo: Fetching all categories...");let e=await fetch("http://127.0.0.1:8001/api/public/categories/?top=true");if(e.ok){const n=await e.json(),o=n.results||n;if(o.length>0)return console.log(" CategoryRepo: Loaded top categories:",o.length),Array.isArray(o)?o:[]}if(e=await fetch("http://127.0.0.1:8001/api/public/categories/"),!e.ok)throw new Error(`HTTP ${e.status}: ${e.statusText}`);const t=await e.json();let s=t.results||t;if(t.next){let n=t.next;for(;n;){const o=await fetch(n);if(o.ok){const i=await o.json();s=[...s,...i.results||[]],n=i.next}else break}}console.log(" CategoryRepo: Loaded all categories:",s.length),console.log(" CategoryRepo: Sample category:",s[0]);const a=s.filter(n=>!n.parent&&!n.parent_id&&!n.parentId);return console.log(" CategoryRepo: Parent categories found:",a.length),a.length>0?a:s.slice(0,10)}catch(e){return console.error(" CategoryRepo: Failed to fetch categories:",e),[]}},async findById(e){try{const t=await fetch(`http://127.0.0.1:8001/api/public/categories/${e}/`);if(!t.ok)throw new Error(`HTTP ${t.status}: ${t.statusText}`);return await t.json()}catch(t){return console.error(" CategoryRepo: Failed to fetch category:",t),null}}},T3={async findAll(){try{console.log(" BrandRepo: Fetching all brands...");const e=await fetch("http://127.0.0.1:8001/api/public/brands/");if(!e.ok)throw new Error(`HTTP ${e.status}: ${e.statusText}`);const t=await e.json(),s=t.results||t;return console.log(" BrandRepo: Loaded brands:",s.length),Array.isArray(s)?s:[]}catch(e){return console.error(" BrandRepo: Failed to fetch brands:",e),[]}},async findById(e){try{const t=await fetch(`http://127.0.0.1:8001/api/public/brands/${e}/`);if(!t.ok)throw new Error(`HTTP ${t.status}: ${t.statusText}`);return await t.json()}catch(t){return console.error(" BrandRepo: Failed to fetch brand:",t),null}}},L3={async getContactInfo(){try{console.log("contentRepo - Fetching contact info from API...");const e=await fetch("http://127.0.0.1:8001/api/public/store-settings/",{headers:{"Cache-Control":"no-cache",Pragma:"no-cache"}});if(!e.ok)throw new Error(`Failed to fetch store settings: ${e.status}`);const t=await e.json();return console.log("contentRepo - Store settings data:",t),{phone:t.phone||"",email:t.email||"",city:t.city||"",country:t.country||"",address:t.street_address||"",businessHours:{mondayFriday:t.monday_friday_hours||"Monday - Friday: 9:00 AM - 6:00 PM",saturday:t.saturday_hours||"Saturday: 10:00 AM - 4:00 PM",sunday:t.sunday_hours||"Sunday: Closed"}}}catch(e){return console.error("contentRepo - Error fetching contact info:",e),{phone:"",email:"",city:"",country:"",address:"",businessHours:{mondayFriday:"Monday - Friday: 9:00 AM - 6:00 PM",saturday:"Saturday: 10:00 AM - 4:00 PM",sunday:"Sunday: Closed"}}}}},p0=()=>{const[e,t]=y.useState(null),[s,a]=y.useState(!0),[n,o]=y.useState(null),i=async()=>{try{a(!0),o(null);const l=await fetch("http://127.0.0.1:8001/api/public/website-content/1/");if(!l.ok)throw new Error(`HTTP ${l.status}: ${l.statusText}`);const c=await l.json();t(c)}catch(l){const c=l instanceof Error?l.message:"Failed to load content";o(c),console.error("Failed to fetch website content:",l)}finally{a(!1)}};return y.useEffect(()=>{i()},[]),{content:e,loading:s,error:n,refetch:i}},Yp=y.createContext(void 0),A3=({children:e})=>{const[t,s]=y.useState({isLoading:!1,message:"Loading...",progress:0,showProgress:!1}),l={loadingState:t,showLoading:(c="Loading...",d=!1)=>{s({isLoading:!0,message:c,progress:0,showProgress:d})},hideLoading:()=>{s(c=>({...c,isLoading:!1}))},updateProgress:c=>{s(d=>({...d,progress:Math.max(0,Math.min(100,c))}))},updateMessage:c=>{s(d=>({...d,message:c}))}};return r.jsx(Yp.Provider,{value:l,children:e})},Kp=()=>{const e=y.useContext(Yp);if(e===void 0)throw new Error("useLoading must be used within a LoadingProvider");return e},D3=()=>{const{showLoading:e,hideLoading:t}=Kp(),s=y.useCallback((o="Loading...")=>{e(o,!1)},[e]),a=y.useCallback(()=>{t()},[t]),n=y.useCallback(async(o,i={})=>{const{message:l="Loading..."}=i;try{s(l),await o()}catch(c){console.error("Error during loading operation:",c)}finally{a()}},[s,a]);return{startLoading:s,stopLoading:a,executeWithLoading:n}},qd=e=>e?e.startsWith("http")?e.replace("http://127.0.0.1:8001",""):e:null,I3=e=>e?e.startsWith("http")?e:`http://127.0.0.1:8001${e}`:null,Nc=e=>I3(e),M3=({endDate:e})=>{const[t,s]=y.useState({days:0,hours:0,minutes:0,seconds:0});y.useEffect(()=>{if(!e)return;const n=()=>{const i=new Date().getTime(),c=new Date(e).getTime()-i;c>0?s({days:Math.floor(c/(1e3*60*60*24)),hours:Math.floor(c%(1e3*60*60*24)/(1e3*60*60)),minutes:Math.floor(c%(1e3*60*60)/(1e3*60)),seconds:Math.floor(c%(1e3*60)/1e3)}):s({days:0,hours:0,minutes:0,seconds:0})};n();const o=setInterval(n,1e3);return()=>clearInterval(o)},[e]);const a=({value:n,label:o})=>r.jsxs("div",{className:"flex flex-col items-center",children:[r.jsx("div",{className:"w-20 h-20 rounded-full flex items-center justify-center shadow-lg border-4",style:{backgroundColor:"var(--color-primary)",borderColor:"var(--color-primary-600)"},children:r.jsx("span",{className:"text-2xl font-bold text-white",children:n.toString().padStart(2,"0")})}),r.jsx("span",{className:"text-sm font-semibold mt-2 uppercase tracking-wide",style:{color:"var(--color-ink-secondary)"},children:o})]});return e?r.jsxs("div",{className:"flex justify-center space-x-6 mb-8",children:[r.jsx(a,{value:t.days,label:"Days"}),r.jsx(a,{value:t.hours,label:"Hours"}),r.jsx(a,{value:t.minutes,label:"Mins"}),r.jsx(a,{value:t.seconds,label:"Secs"})]}):null},O3=()=>{const{content:e,loading:t,error:s}=p0();if(t)return r.jsx("div",{className:"py-16",style:{backgroundColor:"var(--color-surface)"},children:r.jsx("div",{className:"container mx-auto px-4",children:r.jsx("div",{className:"text-center",children:r.jsxs("div",{className:"animate-pulse",children:[r.jsx("div",{className:"h-8 bg-gray-200 dark:bg-gray-700 rounded w-1/3 mx-auto mb-4"}),r.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-1/2 mx-auto mb-8"})]})})})});if(s)return console.error("Error loading deals:",s),null;if(!e||!(e.deal1_title||e.deal1_discount||e.deal1_description))return null;const n={title:e.deal1_title||"Product 1",subtitle:e.deal1_subtitle||"Hot Deal This Week",discount:e.deal1_discount||"Up to 50% Off",description:e.deal1_description||"Don't miss out on these amazing deals!",image:e.deal1_image,endDate:e.deal1_end_date},o={title:n.title,image:e.deal2_image};return r.jsxs("div",{className:"py-20 relative overflow-hidden",style:{backgroundColor:"var(--color-surface)"},children:[r.jsx("div",{className:"container mx-auto px-4",children:r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 items-center",children:[r.jsx("div",{className:"lg:col-span-1 flex justify-center lg:justify-end",children:r.jsxs("div",{className:"relative",children:[n.image?r.jsx("img",{src:Nc(n.image)||"",alt:n.title,className:"w-80 h-80 object-cover rounded-2xl shadow-2xl transform hover:scale-105 transition-transform duration-300"}):r.jsx("div",{className:"w-80 h-80 bg-gradient-to-br from-gray-800 to-gray-900 dark:from-gray-700 dark:to-gray-800 rounded-2xl shadow-2xl flex items-center justify-center",children:r.jsxs("div",{className:"text-center text-white",children:[r.jsx("div",{className:"w-24 h-24 bg-gray-600 dark:bg-gray-500 rounded-lg mb-4 mx-auto flex items-center justify-center",children:r.jsx("span",{className:"text-2xl",children:""})}),r.jsx("p",{className:"text-lg font-semibold",children:n.title})]})}),r.jsx("div",{className:"absolute -bottom-4 -right-4 w-8 h-8 bg-green-500 rounded-full opacity-80"})]})}),r.jsxs("div",{className:"lg:col-span-1 text-center",children:[r.jsx("div",{className:"mb-8",children:r.jsx(M3,{endDate:n.endDate})}),r.jsxs("div",{className:"flex items-center justify-center mb-6",children:[r.jsx(Ot,{className:"w-8 h-8 mr-3",style:{color:"var(--color-primary)"}}),r.jsx("span",{className:"text-xl font-bold uppercase tracking-wide",style:{color:"var(--color-ink)"},children:n.subtitle})]}),r.jsx("h2",{className:"text-4xl lg:text-5xl font-bold mb-4",style:{color:"var(--color-ink)"},children:n.discount}),n.description&&r.jsx("p",{className:"text-lg mb-8 max-w-md mx-auto",style:{color:"var(--color-ink-secondary)"},children:n.description}),r.jsxs(J,{to:"/shop?discounted=true",className:"inline-flex items-center space-x-3 text-white px-10 py-4 rounded-xl font-bold text-lg transition-all duration-300 shadow-lg hover:shadow-xl transform hover:-translate-y-1",style:{background:"linear-gradient(135deg, var(--color-primary) 0%, var(--color-primary-600) 50%, var(--color-primary-700) 100%)",boxShadow:"0 4px 14px 0 rgba(220, 38, 38, 0.3)"},onMouseEnter:i=>{i.currentTarget.style.background="linear-gradient(135deg, var(--color-primary-400) 0%, var(--color-primary) 50%, var(--color-primary-600) 100%)",i.currentTarget.style.boxShadow="0 8px 25px 0 rgba(220, 38, 38, 0.4), 0 0 0 1px rgba(255, 255, 255, 0.1)"},onMouseLeave:i=>{i.currentTarget.style.background="linear-gradient(135deg, var(--color-primary) 0%, var(--color-primary-600) 50%, var(--color-primary-700) 100%)",i.currentTarget.style.boxShadow="0 4px 14px 0 rgba(220, 38, 38, 0.3)"},children:[r.jsx("span",{children:"Shop Now"}),r.jsx(n0,{className:"w-5 h-5"})]})]}),r.jsx("div",{className:"lg:col-span-1 flex justify-center lg:justify-start",children:r.jsxs("div",{className:"relative",children:[o.image?r.jsx("img",{src:Nc(o.image)||"",alt:o.title,className:"w-80 h-80 object-cover rounded-2xl shadow-2xl transform hover:scale-105 transition-transform duration-300"}):n.image?r.jsx("img",{src:Nc(n.image)||"",alt:n.title,className:"w-80 h-80 object-cover rounded-2xl shadow-2xl transform hover:scale-105 transition-transform duration-300"}):r.jsx("div",{className:"w-80 h-80 bg-gradient-to-br from-gray-800 to-gray-900 dark:from-gray-700 dark:to-gray-800 rounded-2xl shadow-2xl flex items-center justify-center",children:r.jsxs("div",{className:"text-center text-white",children:[r.jsx("div",{className:"w-24 h-24 bg-gray-600 dark:bg-gray-500 rounded-lg mb-4 mx-auto flex items-center justify-center",children:r.jsx("span",{className:"text-2xl",children:""})}),r.jsx("p",{className:"text-lg font-semibold",children:o.title})]})}),r.jsx("div",{className:"absolute -top-4 -left-4 w-8 h-8 bg-red-500 rounded-full opacity-80"})]})})]})}),r.jsxs("div",{className:"absolute top-0 left-0 w-full h-full overflow-hidden pointer-events-none",children:[r.jsx("div",{className:"absolute top-20 left-20 w-32 h-32 rounded-full opacity-30",style:{backgroundColor:"var(--color-primary-100)"}}),r.jsx("div",{className:"absolute bottom-20 right-20 w-24 h-24 rounded-full opacity-30",style:{backgroundColor:"var(--color-primary-200)"}})]})]})},$3="http://127.0.0.1:8001/api/public",Dl=async(e,t={})=>{const s=localStorage.getItem("authToken"),a={headers:{"Content-Type":"application/json",...s&&{Authorization:`Bearer ${s}`},...t.headers},...t};try{const n=await fetch(`${$3}${e}`,a);if(!n.ok){const o=await n.json().catch(()=>({detail:"Network error"}));throw new Error(o.detail||`HTTP ${n.status}: ${n.statusText}`)}return await n.json()}catch(n){throw console.error(`Services API Error [${e}]:`,n),n}},Jp=async(e={})=>{const t=new URLSearchParams(e).toString(),s=t?`/services/?${t}`:"/services/";return Dl(s)},al=async()=>Dl("/service-categories/"),F3=async e=>Dl(`/service-reviews/check-user-review/?service=${e}`),z3=async e=>Dl(`/services/${e}/increment_view/`,{method:"POST"}),U3=()=>{const e=st(),t=ve(Qa),s=ve(dp),{storeSettings:a}=Ya(),{content:n}=p0(),{executeWithLoading:o}=D3(),[,i]=y.useState([]),[l,c]=y.useState([]),[d,u]=y.useState(!0),m=y.useRef([]);y.useEffect(()=>{const w=[];return m.current.forEach((x,f)=>{if(x){const b=(f+1)*100,p=setTimeout(()=>{x.classList.add("animation-complete")},b+600);w.push(p)}}),()=>{w.forEach(x=>clearTimeout(x))}},[]),y.useEffect(()=>{const w=document.createElement("style");return w.textContent=`
      .horizontal-scroll-container {
        overflow-x: auto;
        overflow-y: hidden;
        scroll-behavior: smooth;
        -webkit-overflow-scrolling: touch;
        scrollbar-width: none;
        -ms-overflow-style: none;
        overscroll-behavior-x: contain;
        width: 100%;
      }
      .horizontal-scroll-container::-webkit-scrollbar {
        display: none;
      }
      
      /* Mobile and tablet specific fixes */
      @media (max-width: 1024px) {
        .horizontal-scroll-container {
          touch-action: pan-x;
          overflow-x: auto;
          overflow-y: hidden;
        }
      }
      .scrollbar-hide {
        scrollbar-width: thin;
        -ms-overflow-style: auto;
      }
      .scrollbar-hide::-webkit-scrollbar {
        height: 8px;
        display: block;
      }
      .scrollbar-hide::-webkit-scrollbar-track {
        background: #f1f1f1;
        border-radius: 4px;
      }
      .scrollbar-hide::-webkit-scrollbar-thumb {
        background: #c1c1c1;
        border-radius: 4px;
      }
      .scrollbar-hide::-webkit-scrollbar-thumb:hover {
        background: #a8a8a8;
      }
      /* Dark mode scrollbar styling */
      .dark .scrollbar-hide::-webkit-scrollbar-track {
        background: #374151;
      }
      .dark .scrollbar-hide::-webkit-scrollbar-thumb {
        background: #6b7280;
      }
      .dark .scrollbar-hide::-webkit-scrollbar-thumb:hover {
        background: #9ca3af;
      }
      .category-card {
        flex-shrink: 0;
        min-width: 280px;
        max-width: 280px;
      }
      .category-card img {
        max-width: 100%;
        height: auto;
        object-fit: cover;
        display: block;
      }
      .category-card-container {
        flex-shrink: 0;
        width: 280px;
      }
    `,document.head.appendChild(w),()=>{document.head.removeChild(w)}},[]);const h=w=>{const x=["from-blue-500 to-purple-600","from-green-500 to-teal-600","from-orange-500 to-red-600","from-purple-500 to-pink-600","from-indigo-500 to-blue-600","from-yellow-500 to-orange-600","from-pink-500 to-rose-600","from-cyan-500 to-blue-600"],f=[r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"}),r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"}),r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"}),r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"}),r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18.364 5.636l-3.536 3.536m0 5.656l3.536 3.536M9.172 9.172L5.636 5.636m3.536 9.192L5.636 18.364M12 2.25a9.75 9.75 0 100 19.5 9.75 9.75 0 000-19.5z"}),r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"}),r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"}),r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})];return{gradient:x[w%x.length],icon:f[w%f.length]}},v=w=>{const x=["from-blue-500 to-purple-600","from-green-500 to-teal-600","from-orange-500 to-red-600","from-purple-500 to-pink-600","from-indigo-500 to-blue-600","from-yellow-500 to-orange-600","from-pink-500 to-rose-600","from-cyan-500 to-blue-600"],f=[r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"}),r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"}),r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"}),r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"}),r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18.364 5.636l-3.536 3.536m0 5.656l3.536 3.536M9.172 9.172L5.636 5.636m3.536 9.192L5.636 18.364M12 2.25a9.75 9.75 0 100 19.5 9.75 9.75 0 000-19.5z"}),r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"}),r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"}),r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})];return{gradient:x[w%x.length],icon:f[w%f.length]}};y.useEffect(()=>{(async()=>{try{u(!0);const[x,f]=await Promise.all([al(),Jp()]),b=Array.isArray(x)?x:x.results||[],p=Array.isArray(f)?f:f.results||[],E=b.filter(_=>!_.parent).filter(_=>p.some(j=>{const N=j.category;return N?N.id===_.id||N.parent===_.id:!1}));c(E)}catch(x){console.error("Failed to fetch service data:",x),c([])}finally{u(!1)}})()},[]),y.useEffect(()=>{if(t.length>0&&s.length>0)return;o(async()=>{const[x,f,b]=await Promise.all([g0.findAll(),R3.findAll(),T3.findAll()]);console.log("Loaded categories from API:",f),e(ka(x)),e(cp(f)),e(Wk(b)),i(f)},{message:"Loading..."})},[e,t.length,s.length]),s.length>0&&(console.log("Sample category to analyze:",s[0]),console.log("All categories with parent info:",s.map(w=>({id:w.id,name:w.name,parent:w.parent,parentId:w.parentId}))));const g=s.filter(w=>{console.log(` Checking category: ${w.name}`,{id:w.id,parent:w.parent,parentId:w.parentId,parent_id:w.parent_id});const x=!w.parent&&!w.parent_id&&!w.parentId;return x&&console.log(` Found parent category: ${w.name}`),x});return console.log(" Categories Summary:",{totalCategories:s.length,parentCategories:g.length,parentCategoryNames:g.map(w=>w.name)}),console.log(" Homepage Display Debug:",{showingCategories:g.length>0,willShowFallback:g.length===0,categoriesFromRedux:s.length,firstCategory:s[0]||"No categories"}),console.log("Total products loaded:",t.length),console.log("Total categories loaded:",s.length),console.log("Categories data:",s),console.log("Parent categories:",g),r.jsxs("div",{className:"min-h-screen bg-white dark:bg-slate-900",children:[r.jsx(Ye,{pageTitle:"Home"}),r.jsx("section",{className:"py-16 relative overflow-hidden bg-white dark:bg-slate-900",children:r.jsx("div",{className:"container relative z-10",children:r.jsxs("div",{className:"text-center mb-8 sm:mb-12",children:[r.jsxs("h1",{className:"text-3xl sm:text-4xl lg:text-5xl font-bold text-gray-900 dark:text-white mb-4",children:["Welcome to ",r.jsx("span",{className:"text-red-600 dark:text-blue-400",children:(a==null?void 0:a.store_name)||"Store"})]}),r.jsx("p",{className:"text-lg sm:text-xl text-gray-600 dark:text-gray-300 max-w-2xl mx-auto px-4",children:(n==null?void 0:n.home_hero_subtitle)||"Discover the latest in technology with our premium selection of electronics, gadgets, and accessories."})]})})}),r.jsx("section",{className:"py-12 sm:py-16 bg-gray-50 dark:bg-slate-800",children:r.jsxs("div",{className:"container",children:[r.jsxs("div",{className:"text-center mb-12 sm:mb-16",children:[r.jsx("h2",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-gray-900 dark:text-white mb-4 sm:mb-6",children:r.jsx("span",{className:"text-red-600 dark:text-blue-400",children:"Services"})}),r.jsx("p",{className:"text-base sm:text-lg text-gray-600 dark:text-gray-300 mb-6 sm:mb-8 max-w-2xl mx-auto px-4",children:(n==null?void 0:n.home_services_description)||"We provide comprehensive services to meet all your technology needs with expert support and quality assurance."})]}),r.jsx("div",{className:"overflow-x-auto pb-4",children:r.jsx("div",{className:"flex gap-6 sm:gap-8 min-w-max px-4",children:d?Array.from({length:3}).map((w,x)=>r.jsx("div",{className:"flex-shrink-0 w-64 sm:w-72",children:r.jsxs("div",{className:"bg-white dark:bg-slate-700 rounded-xl shadow-lg overflow-hidden",children:[r.jsx("div",{className:"h-48 bg-gray-200 dark:bg-slate-600 animate-pulse flex items-center justify-center",children:r.jsx("div",{className:"w-16 h-16 bg-gray-300 dark:bg-slate-500 rounded-full"})}),r.jsxs("div",{className:"p-6",children:[r.jsx("div",{className:"h-6 bg-gray-200 dark:bg-slate-600 rounded animate-pulse mb-2"}),r.jsx("div",{className:"h-4 bg-gray-200 dark:bg-slate-600 rounded animate-pulse"})]})]})},`loading-${x}`)):l.length>0?l.map((w,x)=>{const f=h(x);return r.jsx("div",{className:"flex-shrink-0 w-64 sm:w-72",children:r.jsx(J,{to:`/services/${w.name.toLowerCase().replace(/\s+/g,"-")}?category=${encodeURIComponent(w.name)}`,children:r.jsxs("div",{className:"bg-white dark:bg-slate-700 rounded-xl shadow-lg hover:shadow-xl transition-shadow duration-300 overflow-hidden cursor-pointer",children:[r.jsx("div",{className:`h-48 bg-gradient-to-br ${f.gradient} flex items-center justify-center`,children:r.jsx("svg",{className:"w-16 h-16 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.icon})}),r.jsxs("div",{className:"p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:w.name}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:w.description||`Browse our ${w.name} services`})]})]})})},w.id)}):r.jsx("div",{className:"flex-shrink-0 w-64 sm:w-72",children:r.jsxs("div",{className:"bg-white dark:bg-slate-700 rounded-xl shadow-lg hover:shadow-xl transition-shadow duration-300 overflow-hidden",children:[r.jsx("div",{className:"h-48 bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center",children:r.jsx("svg",{className:"w-16 h-16 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),r.jsxs("div",{className:"p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Our Services"}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Comprehensive services to meet all your technology needs"})]})]})})})})]})}),r.jsx("section",{className:"py-12 sm:py-16 bg-gray-50 dark:bg-slate-800",children:r.jsxs("div",{className:"container",children:[r.jsxs("div",{className:"text-center mb-12 sm:mb-16",children:[r.jsx("h2",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-gray-900 dark:text-white mb-4 sm:mb-6",children:r.jsx("span",{className:"text-red-600 dark:text-blue-400",children:"PRODUCT CATEGORIES"})}),r.jsx("p",{className:"text-base sm:text-lg text-gray-600 dark:text-gray-300 mb-6 sm:mb-8 max-w-2xl mx-auto px-4",children:(n==null?void 0:n.home_categories_description)||"Explore our wide range of product categories to find exactly what you need"})]}),g.length>0?r.jsx("div",{className:"relative w-full",children:r.jsx("div",{className:"overflow-x-auto overflow-y-hidden scrollbar-hide w-full pb-2",style:{scrollBehavior:"smooth"},children:r.jsx("div",{className:"flex gap-6 pb-6",style:{width:"max-content",minWidth:"100%"},children:g.map((w,x)=>{const f=v(x);return r.jsx("div",{className:"flex-shrink-0 category-card-container",children:r.jsx(J,{to:`/allsubcategories?category=${w.id}&name=${encodeURIComponent(w.name)}`,children:r.jsxs("div",{className:"bg-white dark:bg-slate-700 rounded-xl shadow-lg hover:shadow-xl transition-shadow duration-300 overflow-hidden cursor-pointer group category-card",children:[r.jsx("div",{className:`h-48 bg-gradient-to-br ${f.gradient} flex items-center justify-center`,children:r.jsx("svg",{className:"w-16 h-16 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.icon})}),r.jsxs("div",{className:"p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2 group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors duration-200",children:w.name}),r.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:["Browse our ",w.name.toLowerCase()," products"]})]})]})})},w.id)})})})}):r.jsxs("div",{className:"text-center py-12",children:[r.jsx("div",{className:"text-gray-500 dark:text-gray-400 text-lg mb-4",children:"No product categories available yet."}),r.jsx("p",{className:"text-gray-400 dark:text-gray-500 text-sm",children:"Categories will appear here when products are added to the system."})]}),r.jsx("div",{className:"text-center mt-8 sm:mt-12",children:r.jsxs(J,{to:"/categories",className:"btn-primary inline-flex items-center gap-2 sm:gap-3 px-6 sm:px-10 py-3 sm:py-5 text-sm sm:text-lg font-semibold rounded-xl shadow-lg hover:shadow-2xl transition-all duration-500 group relative overflow-hidden",children:[r.jsxs("span",{className:"relative z-10 flex items-center gap-2 sm:gap-3",children:["View All Categories",r.jsx("svg",{className:"w-4 h-4 sm:w-5 sm:h-5 transition-transform duration-300 group-hover:translate-x-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 8l4 4m0 0l-4 4m4-4H3"})})]}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/10 to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-1000 ease-out"}),r.jsx("div",{className:"absolute inset-0 rounded-xl bg-gradient-to-r from-red-400/20 to-red-600/20 opacity-0 group-hover:opacity-100 transition-opacity duration-500 blur-sm"})]})})]})}),r.jsx(O3,{}),r.jsx("section",{className:"py-16 bg-red-600 dark:bg-blue-800",children:r.jsx("div",{className:"container mx-auto px-4",children:r.jsxs("div",{className:"max-w-2xl mx-auto text-center text-white",children:[r.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Stay Updated"}),r.jsx("p",{className:"text-lg mb-8 opacity-90",children:"Subscribe to our newsletter and get the latest deals and product updates."}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 max-w-md mx-auto",children:[r.jsx("input",{type:"email",placeholder:"Enter your email",className:"flex-1 px-4 py-3 rounded-md text-gray-900 focus:outline-none focus:ring-2 focus:ring-white"}),r.jsx("button",{className:"bg-white text-red-600 dark:text-blue-800 px-6 py-3 rounded-md font-semibold hover:bg-gray-100 transition-colors",children:"Subscribe"})]}),r.jsxs("div",{className:"flex justify-center space-x-4 mt-8",children:[r.jsx("a",{href:"#",className:"text-white hover:text-gray-300 transition-colors",children:r.jsx(LN,{className:"w-6 h-6"})}),r.jsx("a",{href:"#",className:"text-white hover:text-gray-300 transition-colors",children:r.jsx(N2,{className:"w-6 h-6"})}),r.jsx("a",{href:"#",className:"text-white hover:text-gray-300 transition-colors",children:r.jsx(BN,{className:"w-6 h-6"})}),r.jsx("a",{href:"#",className:"text-white hover:text-gray-300 transition-colors",children:r.jsx(L2,{className:"w-6 h-6"})})]})]})})})]})},B3="http://127.0.0.1:8001/api/public",Xa=async(e,t={})=>{const s=localStorage.getItem("authToken"),a={headers:{"Content-Type":"application/json",...s&&{Authorization:`Bearer ${s}`},...t.headers},...t};try{const n=await fetch(`${B3}${e}`,a);if(!n.ok){const o=await n.json().catch(()=>({detail:"Network error"})),i=new Error(o.detail||`HTTP ${n.status}: ${n.statusText}`);throw i.status=n.status,i.response={data:o},i}return await n.json()}catch(n){throw console.error(`Products API Error [${e}]:`,n),n}},W3=async e=>Xa(`/products/${e}/`),H3=async(e,t={})=>{const s={product:e,...t},n=`/reviews/?${new URLSearchParams(s).toString()}`;console.log("productsApi: getProductReviews called with:",{productId:e,params:t,endpoint:n});try{const o=await Xa(n);return console.log("productsApi: getProductReviews success:",o),o.results||[]}catch(o){throw console.error("productsApi: getProductReviews error:",o),o}},q3=async e=>{console.log("productsApi: createProductReview called with:",e);try{const t=await Xa("/reviews/",{method:"POST",body:JSON.stringify(e)});return console.log("productsApi: createProductReview success:",t),t}catch(t){throw console.error("productsApi: createProductReview error:",t),t}},V3=async e=>Xa(`/products/${e}/reviews/check/`),Xp=async e=>Xa(`/products/${e}/increment_view/`,{method:"POST"}),y0=async(e={})=>{const t=new URLSearchParams(e).toString(),s=t?`/products/?${t}`:"/products/";return Xa(s)},Re=({items:e=[],className:t=""})=>{const s=vs(),{activeDropdown:a}=c0();if(a)return null;const n=s.pathname.split("/").filter(Boolean),o=[{label:"Home",href:"/"},...n.map((l,c)=>({label:l.charAt(0).toUpperCase()+l.slice(1).replace(/-/g," "),href:c===n.length-1?void 0:`/${n.slice(0,c+1).join("/")}`}))],i=e.length>0?e:o;return r.jsx("nav",{className:`flex items-center space-x-1 text-sm text-gray-500 dark:text-gray-400 ${t}`,"aria-label":"Breadcrumb",children:i.map((l,c)=>r.jsxs(Ba.Fragment,{children:[c===0&&r.jsx(o0,{className:"h-4 w-4","aria-hidden":"true"}),c>0&&r.jsx(Jt,{className:"h-4 w-4 text-gray-400","aria-hidden":"true"}),l.href?r.jsx(J,{to:l.href,className:"hover:text-gray-700 dark:hover:text-gray-300 transition-colors",children:l.label}):r.jsx("span",{className:"text-gray-900 dark:text-white font-medium","aria-current":"page",children:l.label})]},c))})},b0=({product:e,className:t=""})=>{const s=st(),a=ve(wt),n=(a==null?void 0:a.id)||"guest",o=ve(ap(e.id,n)),{settings:i}=jt(),l=u=>{u.preventDefault(),u.stopPropagation();try{s(t0({productId:e.id,qty:1,userId:n})),s(Te({message:"Added to cart!",type:"success"}))}catch(m){console.error("Error in handleAddToCart:",m)}},c=u=>{u.preventDefault(),u.stopPropagation(),o?(s(Zi({productId:e.id,userId:n})),s(Te({message:"Removed from wishlist",type:"info"}))):(s(rp({productId:e.id,userId:n})),s(Te({message:"Added to wishlist!",type:"success"})))},d=e.discount_rate&&e.discount_rate>0?e.price*(1-e.discount_rate/100):e.price;return r.jsx("div",{className:`group bg-white dark:bg-slate-800 border border-gray-200 dark:border-slate-700 rounded-lg hover:shadow-lg transition-all duration-300 h-full flex flex-col product-card ${t}`,children:r.jsxs(J,{to:`/product/${e.id}`,className:"block h-full flex flex-col",onClick:async()=>{try{await Xp(e.id)}catch(u){console.error("Failed to increment product view:",u)}},children:[r.jsxs("div",{className:"relative w-full h-64 bg-gray-100 dark:bg-slate-700 rounded-t-lg overflow-hidden flex-shrink-0",children:[(()=>{var h;const u=(h=e.images)==null?void 0:h[0],m=(u==null?void 0:u.image)||u;return m?r.jsx("img",{src:m.startsWith("http")?m:`http://127.0.0.1:8001${m}`,alt:e.title,className:"w-full h-full object-contain group-hover:scale-105 transition-transform duration-300",onError:v=>{const g=v.target;g.style.display="none";const w=g.parentElement;w&&(w.innerHTML=`
                      <div class="w-full h-full bg-gradient-to-br from-gray-100 to-gray-200 dark:from-slate-600 dark:to-slate-700 flex items-center justify-center">
                        <div class="text-center p-4">
                          <div class="w-20 h-20 mx-auto mb-3 bg-gray-300 dark:bg-slate-500 rounded-lg flex items-center justify-center">
                            <svg class="w-10 h-10 text-gray-500 dark:text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4" />
                            </svg>
                          </div>
                          <span class="text-sm text-gray-600 dark:text-gray-400 font-medium leading-tight">${e.title}</span>
                        </div>
                      </div>
                    `)}}):r.jsx("div",{className:"w-full h-full bg-gradient-to-br from-gray-100 to-gray-200 dark:from-slate-600 dark:to-slate-700 flex items-center justify-center",children:r.jsxs("div",{className:"text-center p-4",children:[r.jsx("div",{className:"w-20 h-20 mx-auto mb-3 bg-gray-300 dark:bg-slate-500 rounded-lg flex items-center justify-center",children:r.jsx("svg",{className:"w-10 h-10 text-gray-500 dark:text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})})}),r.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400 font-medium leading-tight",children:e.title})]})})})(),r.jsxs("div",{className:"absolute top-2 left-2 flex flex-col space-y-1",children:[e.is_top_selling&&r.jsx("span",{className:"bg-orange-500 text-white text-xs px-2 py-1 rounded font-medium shadow-sm",children:"#1 Best Seller"}),e.isNew&&!e.is_top_selling&&r.jsx("span",{className:"bg-green-500 text-white text-xs px-2 py-1 rounded font-medium shadow-sm",children:"New"}),e.discount_rate&&e.discount_rate>0&&r.jsxs("span",{className:"bg-red-500 text-white text-xs px-2 py-1 rounded font-medium shadow-sm",children:["Save ",e.discount_rate,"%"]})]}),r.jsx("div",{className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-all duration-300",children:r.jsxs("div",{className:"flex flex-col space-y-2",children:[r.jsx("button",{onClick:c,className:`w-8 h-8 rounded-full flex items-center justify-center transition-all duration-300 shadow-lg ${o?"bg-red-600 text-white":"bg-white text-gray-600 hover:text-red-600 hover:bg-gray-50"}`,title:o?"Remove from wishlist":"Add to wishlist",children:r.jsx(as,{className:`w-4 h-4 ${o?"fill-current":""}`})}),r.jsx("button",{className:"w-8 h-8 bg-white text-gray-600 rounded-full flex items-center justify-center hover:text-blue-600 hover:bg-gray-50 transition-all duration-300 shadow-lg",title:"Quick view",children:r.jsx($r,{className:"w-4 h-4"})})]})})]}),r.jsxs("div",{className:"p-4 flex-1 flex flex-col",children:[r.jsxs("div",{className:"mb-2 flex items-center gap-2",children:[e.average_rating&&e.average_rating>0?r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"flex items-center",children:[...Array(5)].map((u,m)=>r.jsx(Dt,{className:`w-3 h-3 ${m<Math.floor(e.average_rating)?"text-yellow-400 fill-current":"text-gray-300"}`},m))}),r.jsx("span",{className:"ml-1 text-xs text-gray-600 dark:text-gray-400",children:e.average_rating.toFixed(1)}),e.review_count>0&&r.jsxs("span",{className:"ml-1 text-xs text-gray-500 dark:text-gray-400",children:["(",e.review_count,")"]})]}):r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"flex items-center",children:[...Array(5)].map((u,m)=>r.jsx(Dt,{className:"w-3 h-3 text-gray-300"},m))}),r.jsx("span",{className:"ml-1 text-xs text-gray-500",children:"No rating"})]}),e.view_count!==void 0&&r.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:["(",e.view_count," views)"]})]}),r.jsx("h3",{className:"font-medium text-gray-900 dark:text-white mb-2 line-clamp-2 hover:text-blue-600 dark:hover:text-blue-400 transition-colors text-sm leading-tight flex-1",children:e.title}),e.brand_data&&r.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-400 mb-2",children:["by ",e.brand_data.name]}),r.jsx("div",{className:"mb-3",children:r.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.discount_rate&&e.discount_rate>0&&r.jsx("span",{className:"text-sm text-gray-500 line-through",children:hs(e.price,(i==null?void 0:i.currency)||"GBP")}),r.jsx("span",{className:"text-lg font-bold text-gray-900 dark:text-white",children:hs(d,(i==null?void 0:i.currency)||"GBP")}),e.discount_rate&&e.discount_rate>0&&r.jsxs("span",{className:"text-xs text-green-600 font-medium",children:["You save ",hs(e.price-d,(i==null?void 0:i.currency)||"GBP")]})]})}),e.stock!==void 0&&r.jsx("div",{className:"mb-3",children:e.stock>0?r.jsxs("span",{className:"text-xs text-green-600 font-medium",children:[" In Stock (",e.stock," available)"]}):r.jsx("span",{className:"text-xs text-red-600 font-medium",children:" Out of Stock"})}),r.jsxs("button",{onClick:l,className:"w-full bg-red-600 dark:bg-blue-600 hover:bg-red-700 dark:hover:bg-blue-700 text-white py-2 px-4 rounded-md font-medium transition-colors flex items-center justify-center gap-2 text-sm mt-auto",children:[r.jsx(Ar,{className:"w-4 h-4"}),r.jsx("span",{children:"Add to Cart"})]})]})]})})},Q3=({min:e,max:t,value:s,onChange:a,step:n=50,formatValue:o=i=>`$${i}`})=>{const[i,l]=y.useState(null),c=y.useRef(null),d=x=>(x-e)/(t-e)*100,u=x=>{const f=e+x/100*(t-e);return Math.round(f/n)*n},m=x=>f=>{f.preventDefault(),l(x)},h=x=>{if(!i||!c.current)return;const f=c.current.getBoundingClientRect(),b=Math.max(0,Math.min(100,(x.clientX-f.left)/f.width*100)),p=u(b);if(i==="min"){const k=Math.min(p,s[1]-n);a([Math.max(e,k),s[1]])}else{const k=Math.max(p,s[0]+n);a([s[0],Math.min(t,k)])}},v=()=>{l(null)};y.useEffect(()=>{if(i)return document.addEventListener("mousemove",h,{passive:!0}),document.addEventListener("mouseup",v,{passive:!0}),()=>{document.removeEventListener("mousemove",h),document.removeEventListener("mouseup",v)}},[i,s]);const g=d(s[0]),w=d(s[1]);return r.jsxs("div",{className:"w-full py-4",children:[r.jsx("div",{className:"relative h-10 flex items-center",children:r.jsxs("div",{ref:c,className:"relative w-full h-1.5 bg-gray-300 dark:bg-slate-600 rounded-full cursor-pointer",children:[r.jsx("div",{className:"absolute h-full bg-gradient-to-r from-red-600 to-red-400 dark:from-blue-500 dark:to-blue-400 rounded-full transition-all duration-150",style:{left:`${g}%`,width:`${w-g}%`}}),r.jsx("div",{className:"absolute top-1/2 -translate-y-1/2 w-5 h-5 bg-white dark:bg-slate-800 border-[3px] border-red-600 dark:border-blue-500 rounded-full cursor-grab shadow-md transition-all duration-150 hover:scale-110 hover:shadow-lg active:scale-125 active:cursor-grabbing active:shadow-xl active:shadow-red-100 dark:active:shadow-blue-100 z-10",style:{left:`calc(${g}% - 10px)`},onMouseDown:m("min")}),r.jsx("div",{className:"absolute top-1/2 -translate-y-1/2 w-5 h-5 bg-white dark:bg-slate-800 border-[3px] border-red-600 dark:border-blue-500 rounded-full cursor-grab shadow-md transition-all duration-150 hover:scale-110 hover:shadow-lg active:scale-125 active:cursor-grabbing active:shadow-xl active:shadow-red-100 dark:active:shadow-blue-100 z-10",style:{left:`calc(${w}% - 10px)`},onMouseDown:m("max")})]})}),r.jsxs("div",{className:"flex justify-between mt-2 text-sm text-gray-600 dark:text-gray-400 font-medium",children:[r.jsx("span",{children:o(s[0])}),r.jsx("span",{children:o(s[1])})]})]})},Zp=({icon:e,title:t,description:s,suggestions:a=[],actions:n=[],className:o=""})=>r.jsxs("div",{className:`flex flex-col items-center justify-center py-16 px-4 ${o}`,children:[r.jsxs("div",{className:"relative mb-8",children:[r.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-slate-800 dark:to-slate-700 rounded-full flex items-center justify-center shadow-lg",children:e||r.jsx(Vs,{className:"w-12 h-12 text-blue-500 dark:text-blue-400"})}),r.jsx("div",{className:"absolute -top-2 -right-2 w-8 h-8 bg-gradient-to-br from-yellow-400 to-orange-500 rounded-full flex items-center justify-center shadow-md",children:r.jsx(p2,{className:"w-4 h-4 text-white"})})]}),r.jsxs("div",{className:"text-center max-w-md mx-auto",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-3",children:t}),r.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-8 leading-relaxed",children:s}),a.length>0&&r.jsxs("div",{className:"mb-8",children:[r.jsx("h3",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-4",children:"Try these suggestions:"}),r.jsx("div",{className:"space-y-2",children:a.map((i,l)=>r.jsxs("div",{className:"flex items-center justify-center space-x-2 text-sm text-gray-600 dark:text-gray-400",children:[r.jsx("div",{className:"w-1.5 h-1.5 bg-blue-500 rounded-full"}),r.jsx("span",{children:i})]},l))})]}),n.length>0&&r.jsx("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:n.map((i,l)=>r.jsxs(J,{to:i.href,className:`
                  inline-flex items-center justify-center space-x-2 px-6 py-3 rounded-lg font-medium transition-all duration-200 transform hover:scale-105
                  ${i.variant==="primary"?"bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white shadow-lg hover:shadow-xl":"bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-slate-700 shadow-md hover:shadow-lg"}
                `,children:[i.icon&&r.jsx("span",{className:"w-4 h-4",children:i.icon}),r.jsx("span",{children:i.label})]},l))})]}),r.jsxs("div",{className:"absolute inset-0 pointer-events-none overflow-hidden",children:[r.jsx("div",{className:"absolute top-1/4 left-1/4 w-32 h-32 bg-blue-100 dark:bg-blue-900/20 rounded-full blur-3xl opacity-30"}),r.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-24 h-24 bg-indigo-100 dark:bg-indigo-900/20 rounded-full blur-2xl opacity-40"})]})]}),G3=({subcategory:e})=>r.jsxs(J,{to:`/allsubcategories?category=${e.id}&name=${encodeURIComponent(e.name)}`,className:"group block bg-white dark:bg-slate-800 rounded-xl border border-gray-200 dark:border-slate-700 overflow-hidden hover:shadow-lg hover:border-blue-300 dark:hover:border-blue-600 transition-all duration-300",children:[r.jsxs("div",{className:"aspect-square bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-slate-700 dark:to-slate-600 flex items-center justify-center relative overflow-hidden",children:[e.image?r.jsx("img",{src:e.image,alt:e.name,className:"w-full h-full object-contain group-hover:scale-105 transition-transform duration-300"}):r.jsxs("div",{className:"text-center p-6",children:[r.jsx("div",{className:"w-20 h-20 mx-auto mb-4 bg-gradient-to-br from-blue-500 to-blue-600 dark:from-blue-600 dark:to-blue-700 rounded-xl flex items-center justify-center shadow-lg",children:r.jsx("span",{className:"text-white text-3xl font-bold",children:e.name.charAt(0).toUpperCase()})}),r.jsx("div",{className:"w-16 h-2 bg-blue-200 dark:bg-blue-800 rounded-full mx-auto"}),r.jsx("div",{className:"w-12 h-2 bg-blue-200 dark:bg-blue-800 rounded-full mx-auto mt-2"})]}),r.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-10 transition-opacity duration-300"})]}),r.jsxs("div",{className:"p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2 group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors duration-200",children:e.name}),r.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:["Browse ",e.name.toLowerCase()," products"]}),r.jsxs("div",{className:"flex items-center text-blue-600 dark:text-blue-400 font-medium text-sm group-hover:text-blue-700 dark:group-hover:text-blue-300 transition-colors duration-200",children:[r.jsx("span",{children:"View Products"}),r.jsx(n0,{className:"w-4 h-4 ml-2 group-hover:translate-x-1 transition-transform duration-200"})]})]})]}),Sc=()=>{var H;const{slug:e}=Va(),[t,s]=fo(),a=st(),n=ve(Qa),o=ve(dp),{settings:i}=jt();console.log("Categories from Redux store:",o);const[l,c]=y.useState([]),[d,u]=y.useState([]),[m,h]=y.useState(!0),[v,g]=y.useState(!0),[w,x]=y.useState(null),[f,b]=y.useState(!1),[p,k]=y.useState(!1),[E,_]=y.useState(!1),[j,N]=y.useState([0,5e3]),[S,A]=y.useState([]),[M,F]=y.useState([]),[U,X]=y.useState([]),me=t.get("sort")||"popularity",de=parseInt(t.get("page")||"1"),te=t.get("view")||"grid";y.useEffect(()=>{t.get("discounted")==="true"&&b(!0),t.get("new-arrivals")==="true"&&k(!0),t.get("top-selling")==="true"&&_(!0)},[t]),y.useEffect(()=>{const R=document.createElement("style");return R.textContent=`
      .line-clamp-2 {
        display: -webkit-box;
        -webkit-line-clamp: 2;
        -webkit-box-orient: vertical;
        overflow: hidden;
      }
      
      .scrollbar-hide {
        scrollbar-width: none;
        -ms-overflow-style: none;
      }
      .scrollbar-hide::-webkit-scrollbar {
        display: none;
      }
      
      /* Mobile touch scrolling */
      .mobile-scroll {
        -webkit-overflow-scrolling: touch;
        scroll-behavior: smooth;
        overscroll-behavior-x: contain;
        scrollbar-width: none;
        -ms-overflow-style: none;
      }
      .mobile-scroll::-webkit-scrollbar {
        display: none;
      }
      
      /* Ensure proper touch scrolling on mobile */
      @media (max-width: 768px) {
        .mobile-scroll {
          touch-action: pan-x;
          overflow-x: auto;
          overflow-y: hidden;
        }
      }
      
      /* Tablet specific fixes */
      @media (min-width: 769px) and (max-width: 1024px) {
        .mobile-scroll {
          touch-action: pan-x;
          overflow-x: auto;
          overflow-y: hidden;
        }
      }
      
      /* Responsive product card dimensions */
      @media (max-width: 640px) {
        .product-card {
          min-height: 400px;
        }
      }
      
      @media (min-width: 641px) and (max-width: 768px) {
        .product-card {
          min-height: 420px;
        }
      }
      
      @media (min-width: 769px) and (max-width: 1024px) {
        .product-card {
          min-height: 450px;
        }
      }
      
      @media (min-width: 1025px) {
        .product-card {
          min-height: 480px;
        }
      }
    `,document.head.appendChild(R),()=>{document.head.removeChild(R)}},[]),y.useEffect(()=>{(async()=>{try{g(!0),x(null),console.log("Loading categories from backend API...");let q=[],ke=`http://127.0.0.1:8001/api/public/categories/?_t=${new Date().getTime()}`;for(;ke;){const fe=await fetch(ke);if(fe.ok){const Ze=await fe.json();q=[...q,...Ze.results||[]],ke=Ze.next||null}else{console.error("API request failed with status:",fe.status);break}}a(cp(q)),c(q);try{const fe=await fetch("http://127.0.0.1:8001/api/public/brands/");if(fe.ok){const Ze=await fe.json(),Nt=Ze.results||Ze;u(Nt.map(St=>({name:St.name,slug:St.slug})))}}catch(fe){console.error("Failed to load brands:",fe)}finally{h(!1)}const at=await y0();console.log("Loaded products from API:",at.length),console.log("Sample API products:",at.slice(0,3));const $t=at.map(fe=>{var St,Za,Js,sr,Gt;const Ze=fe.images.find(Xs=>Xs.is_main)||fe.images[0],Nt=fe.discount_rate&&fe.discount_rate>0?fe.price/(1-fe.discount_rate/100):void 0;return{id:fe.id.toString(),slug:fe.name.toLowerCase().replace(/\s+/g,"-"),title:fe.name,category:((St=fe.category_data)==null?void 0:St.name)||"Uncategorized",categorySlug:((Za=fe.category_data)==null?void 0:Za.slug)||"uncategorized",brand:((Js=fe.brand_data)==null?void 0:Js.name)||"Unknown",brandSlug:((Gt=(sr=fe.brand_data)==null?void 0:sr.name)==null?void 0:Gt.toLowerCase().replace(/\s+/g,"-"))||"unknown",price:fe.price,oldPrice:Nt,rating:fe.average_rating,ratingCount:fe.review_count,average_rating:fe.average_rating,review_count:fe.review_count,isNew:fe.isNew||!1,discountPct:fe.discount_rate||0,discount_rate:fe.discount_rate||0,is_top_selling:fe.is_top_selling||!1,description:fe.description,images:fe.images.map(Xs=>qd(Xs.image)),stock:fe.stock||0,inStock:(fe.stock||0)>0,sku:`SKU-${fe.id}`,specs:fe.technical_specs||{},viewCount:fe.view_count,image:Ze?Ze.image:void 0}});if(console.log("Transformed products:",$t.length),console.log("Sample transformed products:",$t.slice(0,3)),e==="deals"){const fe=$t.filter(Ze=>Ze.discount_rate&&Ze.discount_rate>0);a(ka(fe))}else if(e){const fe=$t.filter(Ze=>Ze.categorySlug===e);a(ka(fe))}else a(ka($t));g(!1)}catch(q){console.error("Failed to load category data:",q),x("Failed to load category data. Please try again."),g(!1)}})()},[e,a]);const O=o.find(R=>R.slug===e),se=(O==null?void 0:O.slogan)||`Browse our collection of ${((H=O==null?void 0:O.name)==null?void 0:H.toLowerCase())||"products"}`,V=O&&O.id?l.filter(R=>R.parent===O.id):[],T=V.length>0;console.log("Category Debug:",{slug:e,currentCategory:O?{name:O.name,parent:O.parent}:null,subcategories:V.map(R=>({name:R.name,slug:R.slug})),shouldShowSubcategories:T});const $=R=>{const q=new URLSearchParams(t);q.set("sort",R),s(q),a(Hk(R))},Y=R=>{const q=new URLSearchParams(t);q.set("view",R),s(q)},Q=R=>{console.log("Category toggle clicked:",R),A(q=>{const oe=q.includes(R)?q.filter(ke=>ke!==R):[...q,R];return console.log("New category selection:",oe),oe})},pe=R=>{F(q=>q.includes(R)?q.filter(oe=>oe!==R):[...q,R])},B=R=>{X(q=>q.includes(R)?q.filter(oe=>oe!==R):[...q,R])},Z=R=>{const q=n.filter(oe=>Math.round(oe.average_rating||0)===R).length;return console.log(`Exact rating count for ${R} stars:`,q),console.log("Products with exact rating",R,":",n.filter(oe=>Math.round(oe.average_rating||0)===R).map(oe=>({title:oe.title,average_rating:oe.average_rating,review_count:oe.review_count}))),q},ue=()=>{A([]),F([]),X([]),b(!1),k(!1),_(!1),N([0,5e3]);const R=new URLSearchParams(t);R.delete("discounted"),R.delete("new-arrivals"),R.delete("top-selling"),s(R)};let he=[...n];he=he.filter(R=>R.price>=j[0]&&R.price<=j[1]),f&&(he=he.filter(R=>R.discountPct&&R.discountPct>0)),p&&(he=he.filter(R=>R.isNew===!0)),E&&(he=he.filter(R=>R.is_top_selling===!0)),S.length>0&&(console.log("Applying category filter:",S),console.log("Available categories:",l.map(R=>({name:R.name,slug:R.slug,parent:R.parent}))),console.log("Products before filtering:",he.map(R=>({title:R.title,categorySlug:R.categorySlug}))),he=he.filter(R=>{const q=R.categorySlug||"";if(console.log(`Checking product: ${R.title}, categorySlug: ${q}`),S.includes(q))return console.log(`Direct match found for ${R.title}`),!0;const oe=l.find(ke=>ke.slug===q);if(oe&&oe.parent){const ke=l.find(at=>at.id===oe.parent);if(ke&&S.includes(ke.slug))return console.log(`Hierarchical match found for ${R.title} (parent: ${ke.name})`),!0}return!1}),console.log(`After category filter: ${he.length} products`),console.log("Filtered products:",he.map(R=>({title:R.title,categorySlug:R.categorySlug})))),M.length>0&&(he=he.filter(R=>M.includes(R.brandSlug||""))),U.length>0&&(console.log("Applying exact rating filter:",U),console.log("Products before rating filter:",he.length),he=he.filter(R=>{const q=Math.round(R.average_rating||0),oe=U.includes(q);return oe&&console.log(`Product "${R.title}" matches exact rating filter (${q} stars)`),oe}),console.log("Products after rating filter:",he.length));const dt=he.sort((R,q)=>{switch(me){case"newest":return(q.isNew?1:0)-(R.isNew?1:0);case"price-low":return R.price-q.price;case"price-high":return q.price-R.price;case"popularity":default:return(q.ratingCount||0)-(R.ratingCount||0)}}),kt=12,L=(de-1)*kt,G=dt.slice(L,L+kt),ge=Math.ceil(dt.length/kt);return r.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-slate-900",children:[r.jsx(Ye,{pageTitle:(O==null?void 0:O.name)||e||"Shop"}),r.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[r.jsx(Re,{className:"mb-6"}),r.jsxs("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-slate-100 mb-2",children:e==="deals"?"Hot Deals":e===void 0?"Shop":(O==null?void 0:O.name)||"Category"}),r.jsx("p",{className:"text-gray-600 dark:text-slate-300",children:e==="deals"?"Discover amazing deals and discounts on our best products":e===void 0?"Browse our collection of products":se})]}),r.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[!T&&r.jsx("div",{className:"lg:w-72 flex-shrink-0",children:r.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl border border-gray-200 dark:border-slate-700 shadow-sm hover:shadow-md transition-shadow duration-200",children:[r.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-slate-700 dark:to-slate-600 px-6 py-4 rounded-t-xl border-b border-gray-200 dark:border-slate-600",children:r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Id,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-slate-100",children:"Filters"})]}),r.jsxs("button",{onClick:ue,className:"text-sm text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 font-medium transition-colors duration-200 flex items-center space-x-1",children:[r.jsx(Od,{className:"w-4 h-4"}),r.jsx("span",{children:"Clear All"})]})]})}),r.jsxs("div",{className:"p-6 space-y-6",children:[r.jsxs("div",{className:"bg-gray-50 dark:bg-slate-700/50 rounded-lg p-4",children:[r.jsxs("h4",{className:"text-sm font-semibold text-gray-900 dark:text-slate-100 mb-4 flex items-center space-x-2",children:[r.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),r.jsx("span",{children:"Category"})]}),r.jsx("div",{className:"space-y-3 max-h-64 overflow-y-auto",children:l.length>0?(()=>{const R=l.filter(oe=>!oe.parent),q=l.filter(oe=>oe.parent);return R.map(oe=>r.jsxs("div",{className:"space-y-1",children:[r.jsxs("label",{className:"flex items-center group cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:S.includes(oe.slug),onChange:()=>Q(oe.slug),className:"rounded border-gray-300 dark:border-slate-600 text-blue-600 focus:ring-blue-500 focus:ring-2 transition-all duration-200"}),r.jsx("span",{className:"ml-3 text-sm font-medium text-gray-900 dark:text-slate-100 group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors duration-200",children:oe.name})]}),q.filter(ke=>ke.parent===oe.id).map(ke=>r.jsxs("label",{className:"flex items-center ml-6 group cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:S.includes(ke.slug),onChange:()=>Q(ke.slug),className:"rounded border-gray-300 dark:border-slate-600 text-blue-600 focus:ring-blue-500 focus:ring-2 transition-all duration-200"}),r.jsx("span",{className:"ml-3 text-sm text-gray-600 dark:text-slate-400 group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors duration-200",children:ke.name})]},ke.id))]},oe.id))})():r.jsx("div",{className:"text-sm text-gray-500 dark:text-slate-400",children:"Loading categories..."})}),r.jsxs("div",{className:"mt-2 text-xs text-gray-400 dark:text-slate-500",children:["Categories loaded: ",l.length," (Redux: ",o.length,")"]})]}),r.jsxs("div",{className:"bg-gray-50 dark:bg-slate-700/50 rounded-lg p-4",children:[r.jsxs("h4",{className:"text-sm font-semibold text-gray-900 dark:text-slate-100 mb-4 flex items-center space-x-2",children:[r.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),r.jsx("span",{children:"Price Range"})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx(Q3,{min:0,max:5e3,step:10,value:j,onChange:N,formatValue:R=>`${Fd((i==null?void 0:i.currency)||"USD")}${R}`}),r.jsxs("button",{onClick:()=>N([0,5e3]),className:"w-full text-sm text-green-600 dark:text-green-400 hover:text-green-700 dark:hover:text-green-300 font-medium transition-colors duration-200 flex items-center justify-center space-x-1",children:[r.jsx(Od,{className:"w-3 h-3"}),r.jsx("span",{children:"Reset Price Range"})]})]})]}),r.jsxs("div",{className:"bg-gray-50 dark:bg-slate-700/50 rounded-lg p-4",children:[r.jsxs("h4",{className:"text-sm font-semibold text-gray-900 dark:text-slate-100 mb-4 flex items-center space-x-2",children:[r.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full"}),r.jsx("span",{children:"Brand"})]}),r.jsx("div",{className:"space-y-3 max-h-48 overflow-y-auto",children:m?r.jsxs("div",{className:"text-sm text-gray-500 dark:text-slate-400 flex items-center space-x-2",children:[r.jsx("div",{className:"w-4 h-4 border-2 border-gray-300 border-t-blue-600 rounded-full animate-spin"}),r.jsx("span",{children:"Loading brands..."})]}):d.length>0?d.map(R=>r.jsxs("label",{className:"flex items-center group cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:M.includes(R.slug),onChange:()=>pe(R.slug),className:"rounded border-gray-300 dark:border-slate-600 text-purple-600 focus:ring-purple-500 focus:ring-2 transition-all duration-200"}),r.jsx("span",{className:"ml-3 text-sm text-gray-700 dark:text-slate-300 group-hover:text-purple-600 dark:group-hover:text-purple-400 transition-colors duration-200",children:R.name})]},R.slug)):r.jsx("div",{className:"text-sm text-gray-500 dark:text-slate-400",children:"No brands available"})}),r.jsxs("div",{className:"mt-3 text-xs text-gray-400 dark:text-slate-500 bg-white dark:bg-slate-600 rounded px-2 py-1",children:["Brands loaded: ",d.length]})]}),r.jsxs("div",{className:"bg-gray-50 dark:bg-slate-700/50 rounded-lg p-4",children:[r.jsxs("h4",{className:"text-sm font-semibold text-gray-900 dark:text-slate-100 mb-4 flex items-center space-x-2",children:[r.jsx("div",{className:"w-2 h-2 bg-yellow-500 rounded-full"}),r.jsx("span",{children:"Rating"})]}),r.jsxs("div",{className:"space-y-3",children:[[5,4,3,2,1].map(R=>{const q=Z(R),oe=n.some(at=>(at.average_rating||0)>0),ke=U.includes(R);return r.jsxs("label",{className:`flex items-center justify-between group cursor-pointer py-2 px-1 rounded-md transition-colors ${oe?"hover:bg-gray-50 dark:hover:bg-slate-700":"opacity-50"}`,children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",checked:ke,onChange:()=>B(R),disabled:!oe,className:"w-4 h-4 rounded border-gray-300 dark:border-slate-600 text-blue-600 dark:text-blue-400 focus:ring-blue-500 dark:focus:ring-blue-400 focus:ring-2 transition-all duration-200 disabled:opacity-50 flex-shrink-0"}),r.jsxs("div",{className:"ml-3 flex items-center space-x-2",children:[r.jsx("div",{className:"flex items-center space-x-1",children:[...Array(5)].map((at,$t)=>r.jsx("div",{className:`w-3 h-3 flex items-center justify-center ${$t<R?"text-yellow-400":"text-gray-300 dark:text-gray-600"}`,children:""},$t))}),r.jsxs("span",{className:`text-sm leading-none transition-colors duration-200 ${ke?"text-blue-600 dark:text-blue-400 font-medium":"text-gray-700 dark:text-slate-300 group-hover:text-gray-900 dark:group-hover:text-slate-100"}`,children:[R," Stars"]})]})]}),r.jsx("span",{className:`text-xs px-2 py-1 rounded-full font-medium flex items-center justify-center min-w-[24px] h-6 ${q>0?"text-gray-700 dark:text-gray-300 bg-blue-100 dark:bg-blue-900/30":"text-gray-400 dark:text-gray-500 bg-gray-100 dark:bg-slate-700"}`,children:q})]},R)}),!n.some(R=>(R.average_rating||0)>0)&&r.jsx("div",{className:"mt-3 p-3 bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg",children:r.jsx("p",{className:"text-sm text-yellow-800 dark:text-yellow-200",children:"No products have reviews yet. Rating filters will be available once customers start reviewing products."})})]})]}),r.jsxs("div",{className:"bg-gradient-to-br from-orange-50 to-red-50 dark:from-slate-700 dark:to-slate-600 rounded-lg p-4",children:[r.jsxs("h4",{className:"text-sm font-semibold text-gray-900 dark:text-slate-100 mb-4 flex items-center space-x-2",children:[r.jsx("div",{className:"w-2 h-2 bg-orange-500 rounded-full"}),r.jsx("span",{children:"Special Offers"})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("label",{className:"flex items-center group cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:f,onChange:R=>{b(R.target.checked);const q=new URLSearchParams(t);R.target.checked?q.set("discounted","true"):q.delete("discounted"),s(q)},className:"rounded border-gray-300 dark:border-slate-600 text-orange-600 focus:ring-orange-500 focus:ring-2 transition-all duration-200"}),r.jsxs("div",{className:"ml-3 flex items-center space-x-2",children:[r.jsx("div",{className:"w-4 h-4 bg-red-500 rounded-full flex items-center justify-center",children:r.jsx("span",{className:"text-white text-xs font-bold",children:"%"})}),r.jsx("span",{className:"text-sm text-gray-700 dark:text-slate-300 group-hover:text-orange-600 dark:group-hover:text-orange-400 transition-colors duration-200",children:"Only discounted"})]})]}),r.jsxs("label",{className:"flex items-center group cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:p,onChange:R=>{k(R.target.checked);const q=new URLSearchParams(t);R.target.checked?q.set("new-arrivals","true"):q.delete("new-arrivals"),s(q)},className:"rounded border-gray-300 dark:border-slate-600 text-green-600 focus:ring-green-500 focus:ring-2 transition-all duration-200"}),r.jsxs("div",{className:"ml-3 flex items-center space-x-2",children:[r.jsx("div",{className:"w-4 h-4 bg-green-500 rounded-full flex items-center justify-center",children:r.jsx("span",{className:"text-white text-xs font-bold",children:"N"})}),r.jsx("span",{className:"text-sm text-gray-700 dark:text-slate-300 group-hover:text-green-600 dark:group-hover:text-green-400 transition-colors duration-200",children:"New Arrivals"})]})]}),r.jsxs("label",{className:"flex items-center group cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:E,onChange:R=>{_(R.target.checked);const q=new URLSearchParams(t);R.target.checked?q.set("top-selling","true"):q.delete("top-selling"),s(q)},className:"rounded border-gray-300 dark:border-slate-600 text-blue-600 focus:ring-blue-500 focus:ring-2 transition-all duration-200"}),r.jsxs("div",{className:"ml-3 flex items-center space-x-2",children:[r.jsx("div",{className:"w-4 h-4 bg-blue-500 rounded-full flex items-center justify-center",children:r.jsx("span",{className:"text-white text-xs font-bold",children:""})}),r.jsx("span",{className:"text-sm text-gray-700 dark:text-slate-300 group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors duration-200",children:"Top Selling"})]})]})]})]})]})]})}),r.jsxs("div",{className:"flex-1",children:[v&&r.jsx("div",{className:"flex justify-center items-center h-64",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading categories..."})]})}),w&&r.jsx("div",{className:"flex justify-center items-center h-64",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-16 h-16 bg-red-100 dark:bg-red-900 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx("span",{className:"text-red-600 dark:text-red-400 text-2xl",children:""})}),r.jsx("p",{className:"text-red-600 dark:text-red-400 mb-4",children:w}),r.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Retry"})]})}),!v&&!w&&T&&V.length>0&&r.jsxs("div",{children:[r.jsx("div",{className:"mb-8",children:r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Choose a category to browse products"})}),r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 2xl:grid-cols-6 gap-4 sm:gap-6",children:V.map(R=>r.jsx(G3,{subcategory:R},R.id))})]}),!v&&!w&&T&&V.length===0&&r.jsx("div",{className:"flex justify-center items-center h-64",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-16 h-16 bg-gray-100 dark:bg-gray-800 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx("span",{className:"text-gray-600 dark:text-gray-400 text-2xl",children:""})}),r.jsxs("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:["No subcategories found for ",(O==null?void 0:O.name)||"this category"]})]})}),!v&&!w&&!T&&r.jsxs("div",{children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsx("div",{className:"flex items-center space-x-4",children:r.jsxs("span",{className:"text-sm text-gray-600 dark:text-slate-400",children:["Showing ",L+1,"-",Math.min(L+kt,dt.length)," of ",dt.length," products"]})}),r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsxs("div",{className:"relative",children:[r.jsxs("select",{value:me,onChange:R=>$(R.target.value),className:"appearance-none bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md px-3 py-2 pr-8 text-sm text-gray-900 dark:text-slate-100 focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent",children:[r.jsx("option",{value:"popularity",children:"Sort by Popularity"}),r.jsx("option",{value:"newest",children:"Sort by Newest"}),r.jsx("option",{value:"price-low",children:"Price: Low to High"}),r.jsx("option",{value:"price-high",children:"Price: High to Low"})]}),r.jsx(fp,{className:"absolute right-2 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400 dark:text-slate-400 pointer-events-none"})]}),r.jsxs("div",{className:"flex border border-gray-300 dark:border-slate-600 rounded-md",children:[r.jsx("button",{onClick:()=>Y("grid"),className:`p-2 ${te==="grid"?"bg-red-600 dark:bg-blue-600 text-white":"text-gray-600 dark:text-slate-400 hover:text-gray-900 dark:hover:text-slate-300"}`,children:r.jsx(Md,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>Y("list"),className:`p-2 ${te==="list"?"bg-red-600 dark:bg-blue-600 text-white":"text-gray-600 dark:text-slate-400 hover:text-gray-900 dark:hover:text-slate-300"}`,children:r.jsx(xp,{className:"w-4 h-4"})})]})]})]}),G.length>0?r.jsx("div",{className:`grid gap-6 ${te==="grid"?"grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4":"grid-cols-1"}`,children:G.map(R=>r.jsx(b0,{product:R},R.id))}):r.jsx(Zp,{icon:r.jsx(Vs,{className:"w-12 h-12 text-blue-500 dark:text-blue-400"}),title:"No products found",description:"No products match your current filters. Try adjusting your search criteria or browse our full collection.",suggestions:["Remove some filters to see more products","Try a different price range","Browse different categories","Check out our new arrivals"],actions:[{label:"Clear All Filters",href:"#",variant:"primary",icon:r.jsx(Id,{className:"w-4 h-4"})},{label:"Browse All Products",href:"/shop",variant:"secondary",icon:r.jsx(Sa,{className:"w-4 h-4"})}],className:"relative"}),ge>1&&r.jsx("div",{className:"flex justify-center mt-8",children:r.jsxs("nav",{className:"flex items-center space-x-2",children:[r.jsx("button",{onClick:()=>{const R=new URLSearchParams(t);R.set("page",(de-1).toString()),s(R)},disabled:de===1,className:"px-3 py-2 text-sm border border-gray-300 dark:border-slate-600 rounded-md disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50 dark:hover:bg-slate-700 text-gray-900 dark:text-slate-100",children:"Previous"}),Array.from({length:ge},(R,q)=>q+1).map(R=>r.jsx("button",{onClick:()=>{const q=new URLSearchParams(t);q.set("page",R.toString()),s(q)},className:`px-3 py-2 text-sm border rounded-md ${R===de?"bg-primary text-white border-primary":"border-gray-300 dark:border-slate-600 hover:bg-gray-50 dark:hover:bg-slate-700 text-gray-900 dark:text-slate-100"}`,children:R},R)),r.jsx("button",{onClick:()=>{const R=new URLSearchParams(t);R.set("page",(de+1).toString()),s(R)},disabled:de===ge,className:"px-3 py-2 text-sm border border-gray-300 dark:border-slate-600 rounded-md disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50 dark:hover:bg-slate-700 text-gray-900 dark:text-slate-100",children:"Next"})]})})]})]})]})]})]})},yr=({message:e="Loading..."})=>{const{isDark:t}=l0();return r.jsx("div",{className:`fixed inset-0 z-50 flex items-center justify-center ${t?"bg-slate-900":"bg-white"}`,children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"mb-4",children:r.jsx("div",{className:`w-12 h-12 border-4 border-transparent border-t-4 rounded-full animate-spin mx-auto ${t?"border-t-blue-500":"border-t-red-500"}`})}),r.jsx("div",{className:`text-sm font-medium ${t?"text-slate-300":"text-gray-600"}`,children:e})]})})},Pr=({price:e,oldPrice:t,currency:s,size:a="md",showDiscount:n=!0,className:o=""})=>{const{settings:i}=jt(),l=s||(i==null?void 0:i.currency)||"USD",c={sm:"text-sm",md:"text-base",lg:"text-lg"},d=t?Math.round((t-e)/t*100):0;return r.jsxs("div",{className:`flex items-center space-x-2 ${o}`,children:[r.jsx("span",{className:`font-semibold text-primary dark:text-white ${c[a]}`,children:hs(e,l)}),t&&t>e&&r.jsxs(r.Fragment,{children:[r.jsx("span",{className:`text-gray-500 dark:text-gray-400 line-through ${c[a]}`,children:hs(t,l)}),n&&d>0&&r.jsxs("span",{className:"text-xs bg-red-100 dark:bg-red-900 text-red-800 dark:text-red-200 px-1.5 py-0.5 rounded-full font-medium",children:["-",d,"%"]})]})]})},Y3=({rating:e,count:t,size:s="md",showCount:a=!0,className:n=""})=>{const o={sm:"w-3 h-3",md:"w-4 h-4",lg:"w-5 h-5"},i={sm:"text-xs",md:"text-sm",lg:"text-base"},l=Array.from({length:5},(c,d)=>{const u=d+1,m=u<=Math.floor(e),h=u===Math.ceil(e)&&e%1!==0;return r.jsx(Dt,{className:ht(o[s],m||h?"text-star fill-current":"text-gray-300 dark:text-slate-600",n),"aria-hidden":"true"},d)});return r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx("div",{className:"flex items-center",role:"img","aria-label":`${e} out of 5 stars`,children:l}),a&&t!==void 0&&r.jsxs("span",{className:`text-gray-500 dark:text-slate-400 ${i[s]}`,children:["(",t,")"]})]})},K3=({variant:e="default",size:t="sm",children:s,className:a=""})=>{const n="inline-flex items-center font-medium rounded-full",o={default:"bg-primary text-white",success:"bg-green-100 text-green-800",warning:"bg-yellow-100 text-yellow-800",danger:"bg-red-100 text-red-800",info:"bg-blue-100 text-blue-800"},i={sm:"px-2 py-0.5 text-xs",md:"px-2.5 py-1 text-sm"};return r.jsx("span",{className:ht(n,o[e],i[t],a),children:s})},J3=({productId:e,onSubmit:t,hasReviewed:s=!1,checkingReview:a=!1})=>{const[n,o]=y.useState(0),[i,l]=y.useState(0),[c,d]=y.useState(""),[u,m]=y.useState(""),[h,v]=y.useState(!1),g=ve(wt),w=st(),x=async b=>{if(b.preventDefault(),console.log("ReviewForm: handleSubmit called",{rating:n,comment:c,author:u}),console.log("ReviewForm: currentUser:",g),console.log("ReviewForm: isAuthenticated:",g==null?void 0:g.isAuthenticated),!(g!=null&&g.isAuthenticated)){console.log("ReviewForm: User not authenticated, showing error"),w(Te({message:"You need to login first to add a review",type:"error",duration:5e3}));return}if(s){w(Te({message:"You have already reviewed this product. You can only review each product once.",type:"error",duration:5e3}));return}if(n===0||!c.trim()){w(Te({message:"Please fill in all required fields",type:"error",duration:3e3}));return}console.log("ReviewForm: Validation passed, submitting review"),v(!0);try{await t({rating:n,comment:c.trim(),author:g.name||g.email||"Anonymous"}),console.log("ReviewForm: Review submitted successfully"),o(0),d(""),m("")}catch(p){console.error("ReviewForm: Failed to submit review:",p)}finally{v(!1)}},f=()=>r.jsx("div",{className:"flex space-x-1",children:[1,2,3,4,5].map(b=>r.jsx("button",{type:"button",onClick:()=>o(b),onMouseEnter:()=>l(b),onMouseLeave:()=>l(0),className:`transition-colors duration-150 ${b<=(i||n)?"text-yellow-400 dark:text-yellow-500":"text-gray-300 dark:text-slate-600"}`,children:r.jsx(Dt,{className:"w-6 h-6 fill-current"})},b))});return r.jsxs("div",{className:"p-6 rounded-lg border bg-white dark:bg-slate-800 border-gray-200 dark:border-slate-700",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-900 dark:text-slate-100",children:"Write a Review"}),a?r.jsx("div",{className:"p-4 rounded-lg border bg-gray-50 dark:bg-slate-700 border-gray-200 dark:border-slate-600",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600 dark:border-blue-400"}),r.jsx("span",{className:"text-sm text-gray-600 dark:text-slate-400",children:"Checking if you've already reviewed this product..."})]})}):s?r.jsx("div",{className:"p-4 rounded-lg border bg-yellow-50 dark:bg-yellow-900/20 border-yellow-200 dark:border-yellow-800",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(dr,{className:"w-5 h-5 text-yellow-600 dark:text-yellow-400"}),r.jsxs("div",{children:[r.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-slate-100",children:"Already Reviewed"}),r.jsx("div",{className:"text-xs text-gray-600 dark:text-slate-400",children:"You have already reviewed this product. Thank you for your feedback!"})]})]})}):r.jsxs("form",{onSubmit:x,className:"space-y-4",children:[r.jsx("div",{className:"p-4 rounded-lg border bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-800",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${g!=null&&g.isAuthenticated?"bg-green-100 dark:bg-green-900/30":"bg-red-100 dark:bg-red-900/30"}`,children:r.jsx("span",{className:`text-sm font-medium ${g!=null&&g.isAuthenticated?"text-green-800 dark:text-green-400":"text-red-800 dark:text-red-400"}`,children:g!=null&&g.isAuthenticated?"":"!"})}),r.jsxs("div",{children:[r.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-slate-100",children:g!=null&&g.isAuthenticated?"Signed in":"Not signed in"}),r.jsx("div",{className:"text-xs text-gray-600 dark:text-slate-400",children:g!=null&&g.isAuthenticated?`Reviewing as: ${g.name||g.email}`:"You need to login to submit a review"})]})]})}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-700 dark:text-slate-300",children:"Rating"}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(f,{}),r.jsx("span",{className:"text-sm text-gray-600 dark:text-slate-400",children:n>0&&`${n} out of 5 stars`})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-700 dark:text-slate-300",children:"Your Review"}),r.jsx("textarea",{value:c,onChange:b=>d(b.target.value),placeholder:"Share your experience with this product...",rows:4,required:!0,className:"w-full px-3 py-2 border rounded-md focus:ring-2 focus:ring-red-500 dark:focus:ring-blue-500 focus:border-transparent resize-none bg-white dark:bg-slate-700 border-gray-300 dark:border-slate-600 text-gray-900 dark:text-slate-100 placeholder-gray-500 dark:placeholder-slate-400"})]}),r.jsxs("button",{type:"submit",disabled:n===0||!c.trim()||!(g!=null&&g.isAuthenticated)||h||s,className:`flex items-center space-x-2 px-4 py-2 rounded-md font-medium transition-colors ${n===0||!c.trim()||!(g!=null&&g.isAuthenticated)||h||s?"bg-gray-300 dark:bg-slate-600 text-gray-500 dark:text-slate-400 cursor-not-allowed":"bg-red-600 dark:bg-blue-600 text-white hover:bg-red-700 dark:hover:bg-blue-700"}`,children:[r.jsx(El,{className:"w-4 h-4"}),r.jsx("span",{children:g!=null&&g.isAuthenticated?s?"Already Reviewed":h?"Submitting...":"Submit Review":"Login Required"})]})]})]})},X3=({reviews:e,averageRating:t=0,totalReviews:s=0})=>{const a=({rating:l,size:c="md"})=>{const d=c==="sm"?"w-4 h-4":c==="lg"?"w-6 h-6":"w-5 h-5";return r.jsx("div",{className:"flex space-x-1",children:[1,2,3,4,5].map(u=>r.jsx(Dt,{className:`${d} ${u<=l?"text-yellow-400 dark:text-yellow-500 fill-current":"text-gray-300 dark:text-slate-600"}`},u))})},n=l=>new Date(l).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),i=(()=>{const l={5:0,4:0,3:0,2:0,1:0};return e.forEach(c=>{l[c.rating]++}),l})();return r.jsxs("div",{className:"space-y-6 text-gray-900 dark:text-slate-100",children:[r.jsx("div",{className:"p-6 rounded-lg border bg-white dark:bg-slate-800 border-gray-200 dark:border-slate-700",children:r.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-6",children:[r.jsx("div",{className:"flex items-center space-x-4 mb-4 md:mb-0",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-4xl font-bold text-gray-900 dark:text-slate-100",children:t.toFixed(1)}),r.jsx(a,{rating:Math.round(t),size:"lg"}),r.jsxs("div",{className:"text-sm mt-1 text-gray-600 dark:text-slate-400",children:["Based on ",s," review",s!==1?"s":""]})]})}),r.jsxs("div",{className:"flex-1 md:ml-8",children:[r.jsx("h4",{className:"font-medium mb-3 text-gray-700 dark:text-slate-300",children:"Rating Distribution"}),r.jsx("div",{className:"space-y-2",children:[5,4,3,2,1].map(l=>r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsxs("span",{className:"text-sm w-8 text-gray-600 dark:text-slate-400",children:[l,""]}),r.jsx("div",{className:"flex-1 h-2 rounded-full bg-gray-200 dark:bg-slate-700",children:r.jsx("div",{className:"h-2 rounded-full bg-red-500 dark:bg-blue-500",style:{width:`${s>0?i[l]/s*100:0}%`}})}),r.jsx("span",{className:"text-sm w-8 text-right text-gray-500 dark:text-slate-400",children:i[l]})]},l))})]})]})}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-slate-100",children:"Customer Reviews"}),e.length===0?r.jsxs("div",{className:"p-6 rounded-lg border text-center bg-white dark:bg-slate-800 border-gray-200 dark:border-slate-700 text-gray-500 dark:text-slate-400",children:[r.jsx(It,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),r.jsx("p",{children:"No reviews yet. Be the first to review this product!"})]}):e.map(l=>r.jsxs("div",{className:"p-4 rounded-lg border bg-white dark:bg-slate-800 border-gray-200 dark:border-slate-700",children:[r.jsxs("div",{className:"flex items-start justify-between mb-3",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center bg-gray-100 dark:bg-slate-700",children:r.jsx(It,{className:"w-5 h-5 text-gray-500 dark:text-slate-400"})}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("span",{className:"font-medium text-gray-900 dark:text-slate-100",children:l.author}),l.verified&&r.jsx("span",{className:"px-2 py-1 text-xs rounded-full bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-400",children:"Verified Purchase"})]}),r.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[r.jsx(a,{rating:l.rating,size:"sm"}),r.jsxs("span",{className:"text-sm text-gray-500 dark:text-slate-400",children:[l.rating," out of 5 stars"]})]})]})]}),r.jsxs("div",{className:"flex items-center space-x-1 text-sm text-gray-500 dark:text-slate-400",children:[r.jsx(go,{className:"w-4 h-4"}),r.jsx("span",{children:n(l.date)})]})]}),r.jsx("p",{className:"text-gray-700 dark:text-slate-300",children:l.comment})]},l.id))]})]})},Z3={sm:"w-16 h-16",md:"w-32 h-32",lg:"w-48 h-48",xl:"w-64 h-64"},Hr=({ratio:e="4/3",size:t,className:s="",ariaLabel:a="Placeholder image",children:n})=>{const o=e.split("/").map(Number),i=`${o[1]/o[0]*100}%`,l=t?Z3[t]:"";return r.jsx("div",{className:`
        relative bg-gray-100 dark:bg-slate-800 border border-dashed border-gray-300 dark:border-slate-600 
        flex items-center justify-center overflow-hidden
        ${l}
        ${s}
      `,style:t?void 0:{paddingBottom:i},"aria-label":a,children:r.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:n||r.jsx(zN,{className:"w-8 h-8 text-gray-400 dark:text-slate-500","aria-hidden":"true"})})})},eS=({isOpen:e,onClose:t,existingReview:s,onEditReview:a,onViewReview:n})=>{if(!e||!s)return null;const o=l=>new Date(l).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),i=l=>Array.from({length:5},(c,d)=>r.jsx(Dt,{className:`w-4 h-4 ${d<l?"text-yellow-400 fill-current":"text-gray-300"}`},d));return r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-slate-700",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"w-8 h-8 bg-amber-100 dark:bg-amber-900 rounded-full flex items-center justify-center",children:r.jsx(Dt,{className:"w-4 h-4 text-amber-600 dark:text-amber-400"})}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-slate-100",children:"Review Already Exists"})]}),r.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 dark:hover:text-slate-300 transition-colors",children:r.jsx(Oa,{className:"w-5 h-5"})})]}),r.jsxs("div",{className:"p-6",children:[r.jsx("div",{className:"mb-4",children:r.jsx("p",{className:"text-gray-600 dark:text-slate-300 mb-4",children:"You have already reviewed this product. Here's your existing review:"})}),r.jsxs("div",{className:"bg-gray-50 dark:bg-slate-700 rounded-lg p-4 mb-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(It,{className:"w-4 h-4 text-gray-500 dark:text-slate-400"}),r.jsx("span",{className:"font-medium text-gray-900 dark:text-slate-100",children:s.author_name})]}),r.jsx("div",{className:"flex items-center space-x-1",children:i(s.rating)})]}),r.jsx("p",{className:"text-gray-700 dark:text-slate-300 mb-3",children:s.comment}),r.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-500 dark:text-slate-400",children:[r.jsx(go,{className:"w-4 h-4"}),r.jsx("span",{children:o(s.created_at)})]})]})]})]})})},tS=()=>{var V;const{id:e}=Va(),t=st(),[s,a]=y.useState(null),[n,o]=y.useState(1),[i,l]=y.useState(0),[c,d]=y.useState("description"),[u,m]=y.useState([]),[h,v]=y.useState([]),[g,w]=y.useState(!1),[x,f]=y.useState(!0),[b,p]=y.useState(!1),[k,E]=y.useState(null),[_,j]=y.useState(!0),N=ve(wt),S=(N==null?void 0:N.id)||"guest",A=ve(ap(e||"",S)),{settings:M}=jt();if(y.useEffect(()=>{(async()=>{var $,Y;if(e){j(!0);try{const Q=await W3(e);console.log("ProductDetail: Product data received",Q);const pe={id:Q.id.toString(),slug:Q.name.toLowerCase().replace(/\s+/g,"-"),title:Q.name,category:(($=Q.category)==null?void 0:$.name)||"Uncategorized",brand:((Y=Q.brand_data)==null?void 0:Y.name)||"Unknown",price:Q.price,oldPrice:Q.discount_rate&&Q.discount_rate>0?Q.price/(1-Q.discount_rate/100):void 0,rating:Q.average_rating,ratingCount:Q.review_count,isNew:Q.isNew||!1,discountPct:Q.discount_rate||0,discount_rate:Q.discount_rate||0,is_top_selling:Q.is_top_selling||!1,description:Q.description,images:Q.images.map(ue=>qd(ue.image)),stock:Q.stock||0,inStock:(Q.stock||0)>0,sku:`SKU-${Q.id}`,specs:Q.technical_specs||{},viewCount:Q.view_count,image:(()=>{const ue=Q.images.find(he=>he.is_main)||Q.images[0];return ue?qd(ue.image):void 0})()};a(pe);try{await Xp(e)}catch(ue){console.error("Failed to increment product view:",ue)}v([]),console.log("ProductDetail: Loading reviews for product",e);const B=await H3(e);console.log("ProductDetail: Reviews data received",B);const Z=B.map(ue=>{var he;return{id:ue.id.toString(),author:ue.author_name||ue.user_name||((he=ue.user)==null?void 0:he.username)||"Anonymous",rating:ue.rating,comment:ue.comment||"",date:ue.created_at.split("T")[0],verified:!1}});console.log("ProductDetail: Formatted reviews",Z),m(Z)}catch(Q){console.error("Failed to load product:",Q)}finally{j(!1)}}})()},[e]),y.useEffect(()=>{if(s!=null&&s.images){const T=s.images.findIndex($=>$.is_main);T>=0&&l(T)}},[s]),y.useEffect(()=>{(async()=>{if(!e){f(!1);return}try{if(N!=null&&N.isAuthenticated){const $=await V3(e);w($.has_reviewed)}else w(!1)}catch($){console.error("Failed to check user review:",$),w(!1)}finally{f(!1)}})()},[e,N==null?void 0:N.isAuthenticated]),_||!s)return r.jsx(yr,{message:"Loading product details..."});const F=()=>{try{t(t0({productId:s.id,qty:n,userId:S})),t(Te({message:"Added to cart!",type:"success"}))}catch(T){console.error("Error in handleAddToCart:",T)}},U=()=>{A?(t(Zi({productId:s.id,userId:S})),t(Te({message:"Removed from wishlist",type:"info"}))):(t(rp({productId:s.id,userId:S})),t(Te({message:"Added to wishlist!",type:"success"})))},X=async T=>{var $;if(console.log("ProductDetail: handleReviewSubmit called",{reviewData:T,productId:e}),console.log("ProductDetail: currentUser:",N),console.log("ProductDetail: isAuthenticated:",N==null?void 0:N.isAuthenticated),!(N!=null&&N.isAuthenticated)){console.log("ProductDetail: User not authenticated, showing error"),t(Te({message:"You need to login first to add a review",type:"error",duration:5e3}));return}if(g){const Y=u.find(Q=>Q.author===(N.name||N.email||"Anonymous"));if(Y){E({id:Y.id,author_name:Y.author,rating:Y.rating,comment:Y.comment,created_at:Y.date}),p(!0);return}}try{const Y=await q3({product:parseInt(e),rating:T.rating,comment:T.comment,user:N.id});console.log("ProductDetail: New review received",Y);const Q={id:Y.id.toString(),author:Y.author_name||N.name||N.email||"Anonymous",rating:Y.rating,comment:Y.comment,date:Y.created_at.split("T")[0],verified:!1};console.log("ProductDetail: Adding review to state",Q),m(pe=>[Q,...pe]),w(!0),t(Te({message:"Thank you for your review! It has been submitted successfully.",type:"success",duration:4e3}))}catch(Y){console.error("ProductDetail: Failed to submit review:",Y);const Q=Y.message||"",pe=(($=Y.response)==null?void 0:$.data)||Y.data||{},B=JSON.stringify(pe);if(console.log("ProductDetail: Error details:",{message:Q,errorData:pe,errorString:B,status:Y.status}),Q.includes("already reviewed")||Q.includes("already exists")||Q.includes("duplicate")||B.includes("already exists")||B.includes("already reviewed")||B.includes("You have already reviewed this product")||Y.status===400){console.log("ProductDetail: Duplicate error detected, showing alert dialog");const he=u.find(dt=>dt.author===(N.name||N.email||"Anonymous"));E(he?{id:he.id,author_name:he.author,rating:he.rating,comment:he.comment,created_at:he.date}:{id:"unknown",author_name:N.name||N.email||"Anonymous",rating:5,comment:"You have already reviewed this product. Please check the reviews section below to see your existing review.",created_at:new Date().toISOString().split("T")[0]}),p(!0);return}let ue="Failed to submit review. Please try again.";if(pe&&typeof pe=="object"){const he=Object.values(pe).flat();he.length>0&&(ue=Array.isArray(he[0])?he[0][0]:he[0])}else Q&&(ue=Q);t(Te({message:ue,type:"error",duration:5e3}))}},me=()=>u.length===0?0:u.reduce(($,Y)=>$+Y.rating,0)/u.length,de=()=>{p(!1),E(null)},te=()=>{const T=document.getElementById("review-form");T&&T.scrollIntoView({behavior:"smooth"}),de()},O=()=>{const T=document.getElementById("reviews-section");T&&T.scrollIntoView({behavior:"smooth"}),de()},se=[{id:"description",label:"Description"},{id:"specs",label:"Specifications"},{id:"shipping",label:"Shipping & Returns"},{id:"reviews",label:`Reviews (${u.length})`}];return r.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-slate-900",children:[r.jsx(Ye,{pageTitle:(s==null?void 0:s.name)||"Product"}),r.jsxs("div",{className:"container mx-auto px-4 py-8",children:[r.jsx(Re,{className:"mb-6"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 lg:gap-8",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{children:s&&s.image?r.jsx("div",{className:"w-full h-64 sm:h-80 md:h-96 lg:h-[500px] bg-gray-100 dark:bg-slate-700 rounded-lg overflow-hidden",children:r.jsx("img",{src:s.image.startsWith("http")?s.image:`http://127.0.0.1:8001${s.image}`,alt:s.title,className:"w-full h-full object-cover",onError:T=>{const $=T.target;$.src="/placeholder-product.jpg"}})}):s&&s.images&&s.images.length>0?r.jsx("div",{className:"w-full h-64 sm:h-80 md:h-96 lg:h-[500px] bg-gray-100 dark:bg-slate-700 rounded-lg overflow-hidden",children:r.jsx("img",{src:(V=s.images[i])!=null&&V.startsWith("http")?s.images[i]:`http://127.0.0.1:8001${s.images[i]}`,alt:s.title,className:"w-full h-full object-cover",onError:T=>{const $=T.target;$.src="/placeholder-product.jpg"}})}):r.jsx(Hr,{ratio:"4/3",className:"w-full h-64 sm:h-80 md:h-96 lg:h-[500px]",children:r.jsx("div",{className:"text-gray-400 dark:text-slate-500",children:"No Product Image"})})}),r.jsx("div",{className:"grid grid-cols-4 gap-2",children:s&&s.images&&s.images.length>0?s.images.slice(0,4).map((T,$)=>r.jsx("button",{onClick:()=>l($),className:`aspect-square rounded-md overflow-hidden border-2 ${i===$?"ring-2 ring-red-500 dark:ring-blue-500 border-red-500 dark:border-blue-500":"border-gray-200 dark:border-slate-600"}`,children:r.jsx("img",{src:T!=null&&T.startsWith("http")?T:`http://127.0.0.1:8001${T}`,alt:`${s.title} ${$+1}`,className:"w-full h-full object-cover",onError:Y=>{const Q=Y.target;Q.src="/placeholder-product.jpg"}})},$)):[1,2,3,4].map(T=>r.jsx("button",{onClick:()=>l(T),className:`aspect-square rounded-md overflow-hidden ${i===T?"ring-2 ring-red-500 dark:ring-blue-500":""}`,children:r.jsx(Hr,{ratio:"1/1",children:r.jsxs("div",{className:"text-gray-400 dark:text-slate-500 text-xs",children:["Thumb ",T]})})},T))})]}),r.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[r.jsx("div",{className:"mb-4",children:r.jsx(Y3,{rating:me(),count:u.length})}),r.jsx("h1",{className:"text-xl sm:text-2xl md:text-3xl lg:text-4xl font-bold text-gray-900 dark:text-slate-100 mb-4",children:s.title}),r.jsx("div",{className:"mb-4",children:r.jsx(Pr,{price:s.price,oldPrice:s.oldPrice,size:"lg"})}),r.jsxs("div",{className:"mb-6",children:[r.jsx("p",{className:"text-sm sm:text-base md:text-lg text-gray-600 dark:text-slate-300 mb-4",children:s.description}),r.jsxs("div",{className:"flex flex-wrap items-center gap-2 sm:gap-4 text-xs sm:text-sm text-gray-600 dark:text-slate-400",children:[r.jsxs("span",{children:["SKU: ",s.sku||"N/A"]}),r.jsxs("span",{children:["Brand: ",s.brand||"N/A"]}),r.jsx("span",{className:`${s.inStock?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:s.inStock?"In Stock":"Out of Stock"}),s.viewCount!==void 0&&r.jsxs("span",{children:[" ",s.viewCount," views"]})]})]}),r.jsxs("div",{className:"mb-8",children:[r.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[r.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-slate-300",children:"Quantity:"}),r.jsxs("div",{className:"flex items-center border border-gray-300 dark:border-slate-600 rounded-md",children:[r.jsx("button",{onClick:()=>o(Math.max(1,n-1)),className:"p-2 hover:bg-gray-50 dark:hover:bg-slate-700 text-gray-600 dark:text-gray-300 disabled:opacity-50 disabled:cursor-not-allowed",disabled:n<=1,children:r.jsx(yp,{className:"w-4 h-4"})}),r.jsx("input",{type:"number",value:n,onChange:T=>{const $=parseInt(T.target.value)||1,Y=s.stock||0;o(Math.max(1,Math.min($,Y)))},className:"w-16 text-center border-0 focus:ring-0 bg-transparent text-gray-900 dark:text-slate-100",min:"1",max:s.stock||0}),r.jsx("button",{onClick:()=>{const T=s.stock||0;o(Math.min(n+1,T))},className:"p-2 hover:bg-gray-50 dark:hover:bg-slate-700 text-gray-600 dark:text-gray-300 disabled:opacity-50 disabled:cursor-not-allowed",disabled:n>=(s.stock||0),children:r.jsx(bp,{className:"w-4 h-4"})})]}),s.stock!==void 0&&r.jsxs("span",{className:"text-sm text-gray-500 dark:text-slate-400",children:["(",s.stock," available)"]})]}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[r.jsxs("button",{onClick:F,disabled:!s.stock||s.stock<=0,className:`flex-1 py-3 sm:py-4 px-6 rounded-md transition-colors flex items-center justify-center space-x-2 text-sm sm:text-base md:text-lg min-h-[44px] ${!s.stock||s.stock<=0?"bg-gray-300 dark:bg-slate-600 text-gray-500 dark:text-gray-400 cursor-not-allowed":"bg-red-600 dark:bg-blue-600 text-white hover:bg-red-700 dark:hover:bg-blue-700"}`,children:[r.jsx(Ar,{className:"w-4 h-4 sm:w-5 sm:h-5"}),r.jsx("span",{children:!s.stock||s.stock<=0?"Out of Stock":"Add to Cart"})]}),r.jsx("button",{onClick:U,className:`p-3 sm:p-4 rounded-md border transition-colors min-h-[44px] min-w-[44px] ${A?"bg-red-600 dark:bg-blue-600 text-white border-red-600 dark:border-blue-600":"border-gray-300 dark:border-slate-600 text-gray-600 dark:text-gray-300 hover:border-red-500 dark:hover:border-blue-500 hover:text-red-600 dark:hover:text-blue-400"}`,children:r.jsx(as,{className:`w-4 h-4 sm:w-5 sm:h-5 ${A?"fill-current":""}`})})]})]}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 mb-8",children:[r.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600 dark:text-slate-400",children:[r.jsx(Ma,{className:"w-5 h-5"}),r.jsx("span",{children:"Free Shipping"})]}),r.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600 dark:text-slate-400",children:[r.jsx(Ga,{className:"w-5 h-5"}),r.jsx("span",{children:"2 Year Warranty"})]}),r.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600 dark:text-slate-400",children:[r.jsx(i0,{className:"w-5 h-5"}),r.jsx("span",{children:"30 Day Returns"})]})]})]})]}),r.jsxs("div",{className:"mt-16",children:[r.jsx("div",{className:"border-b border-gray-200 dark:border-slate-700 mb-8",children:r.jsx("nav",{className:"flex space-x-8",children:se.map(T=>r.jsx("button",{onClick:()=>d(T.id),className:`py-4 px-1 text-sm font-medium border-b-2 transition-colors ${c===T.id?"border-red-500 dark:border-blue-500 text-red-600 dark:text-blue-400":"border-transparent text-gray-500 dark:text-slate-400 hover:text-gray-700 dark:hover:text-slate-300 hover:border-gray-300 dark:hover:border-slate-600"}`,children:T.label},T.id))})}),r.jsxs("div",{className:"prose max-w-none",children:[c==="description"&&r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-900 dark:text-slate-100",children:"Product Description"}),r.jsx("p",{className:"text-gray-600 dark:text-slate-300",children:s.description})]}),c==="specs"&&r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-900 dark:text-slate-100",children:"Specifications"}),s.specs&&Object.keys(s.specs).length>0?r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Object.entries(s.specs).map(([T,$])=>r.jsxs("div",{className:"flex justify-between py-3 px-4 bg-gray-50 dark:bg-slate-800 rounded-lg border border-gray-200 dark:border-slate-700",children:[r.jsxs("span",{className:"font-medium text-gray-700 dark:text-slate-300",children:[T,":"]}),r.jsx("span",{className:"text-gray-600 dark:text-slate-400 font-medium",children:String($)})]},T))}):r.jsxs("div",{className:"text-center py-12",children:[r.jsx("div",{className:"w-16 h-16 bg-gray-100 dark:bg-slate-700 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx("span",{className:"text-2xl",children:""})}),r.jsx("h4",{className:"text-lg font-semibold text-gray-900 dark:text-slate-100 mb-2",children:"No Specifications Available"}),r.jsx("p",{className:"text-gray-600 dark:text-slate-400",children:"Technical specifications for this product have not been provided yet."})]})]}),c==="shipping"&&r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-900 dark:text-slate-100",children:"Shipping & Returns"}),r.jsxs("div",{className:"space-y-4 text-gray-600 dark:text-slate-300",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-gray-900 dark:text-slate-100 mb-2",children:"Shipping Information"}),r.jsxs("p",{children:["We offer free shipping on all orders over ",Le(50,(M==null?void 0:M.currency)||"USD"),". Standard shipping takes 3-5 business days."]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-gray-900 dark:text-slate-100 mb-2",children:"Returns Policy"}),r.jsx("p",{children:"You can return any item within 30 days of purchase for a full refund. Items must be in original condition."})]})]})]}),c==="reviews"&&r.jsxs("div",{className:"space-y-8",children:[r.jsx("div",{id:"review-form",children:r.jsx(J3,{productId:s.id,onSubmit:X,hasReviewed:g,checkingReview:x})}),r.jsx("div",{id:"reviews-section",children:r.jsx(X3,{reviews:u,averageRating:me(),totalReviews:u.length})})]})]})]}),h.length>0&&r.jsxs("div",{className:"mt-16",children:[r.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-gray-900 dark:text-slate-100 mb-6 sm:mb-8",children:"You May Also Like"}),r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 sm:gap-6",children:h.map(T=>r.jsx(J,{to:`/product/${T.id}`,children:r.jsxs("div",{className:"bg-white dark:bg-slate-800 border border-gray-200 dark:border-slate-700 rounded-lg p-3 sm:p-4 hover:shadow-lg transition-shadow",children:[r.jsx("div",{className:"aspect-w-4 aspect-h-3 mb-3 sm:mb-4",children:r.jsx("img",{src:T.image,alt:T.title,className:"w-full h-32 sm:h-40 md:h-48 object-cover rounded-md",onError:$=>{$.target.src="/placeholder-product.jpg"}})}),r.jsx("h4",{className:"font-medium text-gray-900 dark:text-slate-100 mb-2 line-clamp-2 text-sm sm:text-base",children:T.title}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("span",{className:"text-primary font-semibold text-sm sm:text-base",children:Le(T.price,(M==null?void 0:M.currency)||"USD")}),T.oldPrice&&r.jsx("span",{className:"text-gray-500 line-through text-xs sm:text-sm",children:Le(T.oldPrice,(M==null?void 0:M.currency)||"USD")})]}),T.discountPct>0&&r.jsx("div",{className:"mt-2",children:r.jsxs(K3,{variant:"success",size:"sm",children:["-",T.discountPct,"%"]})})]})},T.id))})]})]}),r.jsx(eS,{isOpen:b,onClose:de,existingReview:k,onEditReview:te,onViewReview:O})]})},rS=()=>{var j,N;const e=st(),t=ve(wt),s=(t==null?void 0:t.id)||"guest",a=ve(Zg(s)),n=ve(r0(s)),o=ve(Qa),i=ve(ep(s)),[l,c]=y.useState(!1),[d,u]=y.useState([]),{settings:m,loading:h}=jt();y.useEffect(()=>{(async()=>{try{c(!0);const A=await g0.findAll();if(e(ka(A)),n>0){const M=A.map(X=>Number(X.id)),F=a.filter(X=>!M.includes(Number(X.productId))),U=[];F.length>0&&(console.log("Removing invalid cart items:",F),e(Tk({validProducts:M,userId:s})),U.push(`${F.length} item(s) were removed because they are no longer available.`)),a.forEach(X=>{const me=A.find(de=>Number(de.id)===Number(X.productId));me&&me.stock&&X.qty>me.stock&&U.push(`${me.title}: Quantity reduced from ${X.qty} to ${me.stock} due to limited stock.`)}),u(U)}}catch(A){console.error("Failed to load products for cart:",A)}finally{c(!1)}})()},[e,n,s]);const v=a.map(S=>{const A=o.find(U=>Number(U.id)===Number(S.productId));if(!A)return null;const M=A.stock||S.qty,F=Math.min(S.qty,M);return F!==S.qty&&(console.log(`Adjusting quantity for ${A.title} from ${S.qty} to ${F} due to stock constraints`),e(kh({productId:S.productId,qty:F,userId:s}))),{...A,qty:F}}).filter(Boolean),g=S=>{e(Pk({productId:S,userId:s}))},w=(S,A)=>{const M=o.find(F=>F.id===S);if(M&&M.stock&&A>M.stock){console.warn(`Cannot add ${A} items. Only ${M.stock} available.`);return}e(kh({productId:S,qty:A,userId:s}))},x=m&&!h&&parseFloat(((j=m==null?void 0:m.standard_shipping_rate)==null?void 0:j.toString())||"0")||0,f=m&&!h&&parseFloat(((N=m==null?void 0:m.express_shipping_rate)==null?void 0:N.toString())||"0")||0,[b,p]=y.useState("standard"),E=(()=>i>50?0:b==="express"?f:x)(),_=i+E;return y.useEffect(()=>{m&&e(Rk({shippingCost:E,userId:s}))},[m,E,e,s]),v.length===0&&l&&n>0?r.jsx(yr,{message:"Loading your cart..."}):n===0?r.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-slate-900",children:[r.jsx(Ye,{pageTitle:"Cart"}),r.jsxs("div",{className:"container mx-auto px-4 py-8",children:[r.jsx(Re,{className:"mb-6"}),r.jsxs("div",{className:"text-center py-16",children:[r.jsx("div",{className:"w-32 h-32 mx-auto mb-6 bg-gray-100 dark:bg-slate-800 rounded-full flex items-center justify-center",children:r.jsx("div",{className:"text-gray-400 dark:text-slate-500 text-4xl",children:""})}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4",children:"Your cart is empty"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-8 max-w-md mx-auto",children:"Looks like you haven't added any items to your cart yet. Start shopping to fill it up!"}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[r.jsxs(J,{to:"/shop",className:"inline-flex items-center space-x-2 bg-blue-600 dark:bg-blue-600 text-white px-6 py-3 rounded-md hover:bg-blue-700 dark:hover:bg-blue-700 transition-colors",children:[r.jsx(fr,{className:"w-4 h-4"}),r.jsx("span",{children:"Continue Shopping"})]}),r.jsx(J,{to:"/categories",className:"inline-flex items-center space-x-2 bg-gray-200 dark:bg-slate-700 text-gray-700 dark:text-gray-300 px-6 py-3 rounded-md hover:bg-gray-300 dark:hover:bg-slate-600 transition-colors",children:r.jsx("span",{children:"Browse Products"})})]})]})]})]}):r.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-slate-900",children:[r.jsx(Ye,{pageTitle:"Cart"}),r.jsxs("div",{className:"container mx-auto px-4 py-8",children:[r.jsx(Re,{className:"mb-6"}),r.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900 dark:text-white mb-6 sm:mb-8",children:"Shopping Cart"}),d.length>0&&r.jsx("div",{className:"mb-6 p-4 bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg",children:r.jsxs("div",{className:"flex items-start",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx("svg",{className:"h-5 w-5 text-yellow-400",viewBox:"0 0 20 20",fill:"currentColor",children:r.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),r.jsxs("div",{className:"ml-3",children:[r.jsx("h3",{className:"text-sm font-medium text-yellow-800 dark:text-yellow-200",children:"Cart Updated"}),r.jsx("div",{className:"mt-2 text-sm text-yellow-700 dark:text-yellow-300",children:r.jsx("ul",{className:"list-disc list-inside space-y-1",children:d.map((S,A)=>r.jsx("li",{children:S},A))})})]})]})}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 sm:gap-8",children:[r.jsxs("div",{className:"lg:col-span-2",children:[r.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg border border-gray-200 dark:border-slate-700 overflow-hidden",children:[r.jsxs("div",{className:"px-4 sm:px-6 py-3 sm:py-4 border-b border-gray-200 dark:border-slate-700 flex justify-between items-center",children:[r.jsxs("h2",{className:"text-base sm:text-lg font-semibold text-gray-900 dark:text-white",children:["Cart Items (",n,")"]}),r.jsx("div",{className:"flex space-x-2",children:r.jsxs("button",{onClick:()=>e(Dd({userId:s})),className:"px-3 py-1.5 text-sm bg-red-600 hover:bg-red-700 text-white rounded-md transition-colors flex items-center space-x-1",children:[r.jsx($d,{className:"w-4 h-4"}),r.jsx("span",{children:"Clear Cart"})]})})]}),r.jsx("div",{className:"divide-y divide-gray-200 dark:divide-slate-700",children:v.map(S=>r.jsx("div",{className:"p-4 sm:p-6",children:r.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center space-y-4 sm:space-y-0 sm:space-x-4",children:[r.jsxs("div",{className:"flex-shrink-0",children:[S.image?r.jsx("img",{src:S.image,alt:S.title,className:"w-16 h-16 sm:w-20 sm:h-20 object-cover rounded-lg",onError:A=>{var M;A.currentTarget.style.display="none",(M=A.currentTarget.nextElementSibling)==null||M.classList.remove("hidden")}}):null,r.jsx(Hr,{size:"md",className:`w-16 h-16 sm:w-20 sm:h-20 ${S.image?"hidden":""}`,children:r.jsx("div",{className:"text-gray-400 dark:text-gray-500 text-xs",children:"Product"})})]}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx(J,{to:`/product/${S.id}`,className:"text-base sm:text-lg font-medium text-gray-600 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 transition-colors line-clamp-2",children:S.title}),r.jsxs("p",{className:"text-xs sm:text-sm text-gray-700 dark:text-gray-300 mt-1",children:["Brand: ",S.brand||"N/A"]}),r.jsx("div",{className:"mt-2",children:r.jsx(Pr,{price:S.price,oldPrice:S.oldPrice,size:"sm"})})]}),r.jsxs("div",{className:"w-full sm:w-auto flex justify-between items-center",children:[r.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[r.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[r.jsx("button",{onClick:()=>w(S.id,S.qty-1),className:"p-1.5 sm:p-2 hover:bg-gray-100 dark:hover:bg-slate-700 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed text-gray-600 dark:text-gray-300 border border-gray-200 dark:border-slate-600",disabled:S.qty<=1,children:r.jsx(yp,{className:"w-3 h-3 sm:w-4 sm:h-4"})}),r.jsx("span",{className:"w-10 sm:w-12 text-center font-medium text-gray-900 dark:text-white bg-gray-50 dark:bg-slate-800 py-1.5 sm:py-2 px-2 sm:px-3 rounded-lg border border-gray-200 dark:border-slate-600 text-sm sm:text-base",children:S.qty}),r.jsx("button",{onClick:()=>w(S.id,S.qty+1),className:"p-1.5 sm:p-2 hover:bg-gray-100 dark:hover:bg-slate-700 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed text-gray-600 dark:text-gray-300 border border-gray-200 dark:border-slate-600",disabled:S.qty>=(S.stock||1),children:r.jsx(bp,{className:"w-3 h-3 sm:w-4 sm:h-4"})})]}),S.stock&&r.jsx("div",{className:`text-xs px-2 py-1 rounded-full ${S.qty>=S.stock?"bg-red-100 dark:bg-red-900 text-red-700 dark:text-red-300":S.qty>=S.stock*.8?"bg-yellow-100 dark:bg-yellow-900 text-yellow-700 dark:text-yellow-300":"bg-green-100 dark:bg-green-900 text-green-700 dark:text-green-300"}`,children:S.qty>=S.stock?"Max Stock":`${S.stock-S.qty} left`})]}),r.jsxs("div",{className:"flex flex-col items-end space-y-2",children:[r.jsx("div",{className:"font-semibold text-gray-900 text-sm sm:text-base",children:r.jsx(Pr,{price:S.price*S.qty,size:"sm"})}),r.jsx("button",{onClick:()=>g(S.id),className:"p-1.5 sm:p-2 text-gray-400 dark:text-gray-500 hover:text-red-600 dark:hover:text-blue-400 transition-colors",children:r.jsx($d,{className:"w-4 h-4 sm:w-5 sm:h-5"})})]})]})]})},S.id))})]}),r.jsx("div",{className:"mt-6",children:r.jsxs(J,{to:"/shop",className:"inline-flex items-center space-x-2 text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 transition-colors",children:[r.jsx(fr,{className:"w-4 h-4"}),r.jsx("span",{children:"Continue Shopping"})]})})]}),r.jsx("div",{className:"lg:col-span-1",children:r.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg border border-gray-200 dark:border-slate-700 p-4 sm:p-6 sticky top-8",children:[r.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Order Summary"}),r.jsxs("div",{className:"mb-6",children:[r.jsx("h4",{className:"text-sm font-medium text-gray-900 dark:text-white mb-3",children:"Shipping Options"}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[r.jsx("input",{type:"radio",name:"shipping",value:"standard",checked:b==="standard",onChange:S=>p(S.target.value),className:"text-blue-600 dark:text-blue-400 focus:ring-blue-500"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Standard Shipping"}),r.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"5-7 business days"})]}),r.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:x===0?"Free":r.jsx(Pr,{price:x,size:"sm"})})]}),r.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[r.jsx("input",{type:"radio",name:"shipping",value:"express",checked:b==="express",onChange:S=>p(S.target.value),className:"text-blue-600 dark:text-blue-400 focus:ring-blue-500"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Express Shipping"}),r.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"2-3 business days"})]}),r.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:f===0?"Free":r.jsx(Pr,{price:f,size:"sm"})})]})]})]}),r.jsxs("div",{className:"space-y-3 mb-6",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-sm sm:text-base text-gray-600 dark:text-gray-300",children:"Subtotal"}),r.jsx("span",{className:"font-medium text-sm sm:text-base",children:r.jsx(Pr,{price:i,size:"sm"})})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-sm sm:text-base text-gray-600 dark:text-gray-300",children:"Shipping"}),r.jsx("span",{className:"font-medium text-sm sm:text-base",children:E===0?"Free":r.jsx(Pr,{price:E,size:"sm"})})]}),r.jsx("div",{className:"border-t border-gray-200 dark:border-slate-600 pt-3",children:r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-base sm:text-lg font-semibold text-gray-900 dark:text-white",children:"Total"}),r.jsx("span",{className:"text-lg font-semibold text-primary",children:r.jsx(Pr,{price:_,size:"sm"})})]})})]}),r.jsxs("div",{className:"mb-4 sm:mb-6",children:[r.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Coupon Code"}),r.jsxs("div",{className:"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-2",children:[r.jsx("input",{type:"text",placeholder:"Enter code",className:"flex-1 px-3 py-2 text-sm border border-gray-300 dark:border-slate-600 bg-white dark:bg-slate-800 text-gray-900 dark:text-white rounded-md focus:ring-2 focus:ring-red-500 dark:focus:ring-blue-500 focus:border-transparent"}),r.jsx("button",{className:"px-4 py-2 text-sm bg-gray-200 dark:bg-slate-700 text-gray-700 dark:text-gray-300 rounded-md hover:bg-gray-300 dark:hover:bg-slate-600 transition-colors",children:"Apply"})]})]}),r.jsx(J,{to:"/checkout",className:"w-full bg-red-600 dark:bg-blue-600 text-white py-3 px-4 rounded-md hover:bg-red-700 dark:hover:bg-blue-700 transition-colors text-center font-medium block text-sm sm:text-base",children:"Proceed to Checkout"}),r.jsx("div",{className:"mt-3 sm:mt-4 text-center",children:r.jsxs("div",{className:"flex items-center justify-center space-x-2 text-xs sm:text-sm text-gray-500 dark:text-gray-400",children:[r.jsx("span",{children:""}),r.jsx("span",{children:"Secure checkout"})]})})]})})]})]})]})},sS=()=>{const e=st(),t=ve(wt),s=(t==null?void 0:t.id)||"guest",a=ve(Dk(s)),n=ve(Qa),o=a.map(c=>{const d=n.find(u=>u.id===c.productId);return d?{...d,addedAt:c.addedAt}:null}).filter(Boolean),i=c=>{e(t0({productId:c,qty:1,userId:s})),e(Zi({productId:c,userId:s})),e(Te({message:"Moved to cart!",type:"success"}))},l=c=>{e(Zi({productId:c,userId:s})),e(Te({message:"Removed from wishlist",type:"info"}))};return a.length===0?r.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[r.jsx(Ye,{pageTitle:"Wishlist"}),r.jsxs("div",{className:"container mx-auto px-4 py-8",children:[r.jsx(Re,{className:"mb-6"}),r.jsxs("div",{className:"text-center py-16",children:[r.jsx(as,{className:"w-16 h-16 text-gray-400 dark:text-gray-500 mx-auto mb-6"}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4",children:"Your wishlist is empty"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-8",children:"Save items you love for later by adding them to your wishlist."}),r.jsxs(J,{to:"/shop",className:"inline-flex items-center space-x-2 bg-blue-600 dark:bg-blue-600 text-white px-6 py-3 rounded-md hover:bg-blue-700 dark:hover:bg-blue-700 transition-colors",children:[r.jsx(Ar,{className:"w-4 h-4"}),r.jsx("span",{children:"Start Shopping"})]})]})]})]}):r.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[r.jsx(Ye,{pageTitle:"Wishlist"}),r.jsxs("div",{className:"container mx-auto px-4 py-8",children:[r.jsx(Re,{className:"mb-6"}),r.jsxs("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-8",children:["My Wishlist (",a.length,")"]}),r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:o.map(c=>r.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg overflow-hidden hover:shadow-lg transition-shadow",children:[r.jsxs(J,{to:`/product/${c.id}`,className:"block",children:[c.image?r.jsx("img",{src:c.image,alt:c.title,className:"w-full h-48 object-cover",onError:d=>{var u;d.currentTarget.style.display="none",(u=d.currentTarget.nextElementSibling)==null||u.classList.remove("hidden")}}):null,r.jsx(Hr,{ratio:"4/3",className:`w-full h-48 ${c.image?"hidden":""}`,children:r.jsx("div",{className:"text-gray-400 dark:text-gray-500",children:"Product Image"})})]}),r.jsxs("div",{className:"p-4",children:[r.jsx(J,{to:`/product/${c.id}`,className:"block font-medium text-gray-900 dark:text-white hover:text-primary transition-colors mb-2",children:c.title}),r.jsx("div",{className:"mb-3",children:r.jsx(Pr,{price:c.price,oldPrice:c.oldPrice,size:"sm"})}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsxs("button",{onClick:()=>i(c.id),className:"flex-1 bg-blue-600 dark:bg-blue-600 text-white py-2 px-3 rounded-md hover:bg-blue-700 dark:hover:bg-blue-700 transition-colors flex items-center justify-center space-x-1 text-sm",children:[r.jsx(Ar,{className:"w-4 h-4"}),r.jsx("span",{children:"Add to Cart"})]}),r.jsx("button",{onClick:()=>l(c.id),className:"p-2 text-gray-400 dark:text-gray-500 hover:text-red-600 transition-colors",children:r.jsx($d,{className:"w-4 h-4"})})]})]})]},c.id))})]})]})};var ey="basil",aS=function(t){return t===3?"v3":t},ty="https://js.stripe.com",nS="".concat(ty,"/").concat(ey,"/stripe.js"),oS=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,iS=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/,Bh="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",lS=function(t){return oS.test(t)||iS.test(t)},cS=function(){for(var t=document.querySelectorAll('script[src^="'.concat(ty,'"]')),s=0;s<t.length;s++){var a=t[s];if(lS(a.src))return a}return null},Wh=function(t){var s=t&&!t.advancedFraudSignals?"?advancedFraudSignals=false":"",a=document.createElement("script");a.src="".concat(nS).concat(s);var n=document.head||document.body;if(!n)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return n.appendChild(a),a},dS=function(t,s){!t||!t._registerWrapper||t._registerWrapper({name:"stripe-js",version:"7.9.0",startTime:s})},gn=null,Ko=null,Jo=null,uS=function(t){return function(s){t(new Error("Failed to load Stripe.js",{cause:s}))}},mS=function(t,s){return function(){window.Stripe?t(window.Stripe):s(new Error("Stripe.js not available"))}},hS=function(t){return gn!==null?gn:(gn=new Promise(function(s,a){if(typeof window>"u"||typeof document>"u"){s(null);return}if(window.Stripe&&t&&console.warn(Bh),window.Stripe){s(window.Stripe);return}try{var n=cS();if(n&&t)console.warn(Bh);else if(!n)n=Wh(t);else if(n&&Jo!==null&&Ko!==null){var o;n.removeEventListener("load",Jo),n.removeEventListener("error",Ko),(o=n.parentNode)===null||o===void 0||o.removeChild(n),n=Wh(t)}Jo=mS(s,a),Ko=uS(a),n.addEventListener("load",Jo),n.addEventListener("error",Ko)}catch(i){a(i);return}}),gn.catch(function(s){return gn=null,Promise.reject(s)}))},fS=function(t,s,a){if(t===null)return null;var n=s[0],o=n.match(/^pk_test/),i=aS(t.version),l=ey;o&&i!==l&&console.warn("Stripe.js@".concat(i," was loaded on the page, but @stripe/stripe-js@").concat("7.9.0"," expected Stripe.js@").concat(l,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var c=t.apply(void 0,s);return dS(c,a),c},pn,ry=!1,sy=function(){return pn||(pn=hS(null).catch(function(t){return pn=null,Promise.reject(t)}),pn)};Promise.resolve().then(function(){return sy()}).catch(function(e){ry||console.warn(e)});var xS=function(){for(var t=arguments.length,s=new Array(t),a=0;a<t;a++)s[a]=arguments[a];ry=!0;var n=Date.now();return sy().then(function(o){return fS(o,s,n)})};const Os={}.VITE_STRIPE_PUBLISHABLE_KEY||"pk_test_51S9TOV1P7OUaUZWmpjXeetCOf0MQuQ6vm0hvgNGj0p0hdQfOM5wDCjKTDSCZZg7qb0ozclRUmWlKNTENZEvYDiJK003tEvvONV";let Xo=null;const gS=async()=>{if(!Xo){if(console.log(" Initializing Stripe..."),!Os)return console.error(" Stripe publishable key is missing"),null;if(!Os.startsWith("pk_"))return console.error(" Invalid Stripe publishable key format"),null;Xo=xS(Os),Xo.then(e=>{e?console.log(" Stripe initialized successfully"):console.error(" Failed to initialize Stripe")}).catch(e=>{console.error(" Stripe initialization error:",e)})}return Xo},pS=async()=>{try{console.log(" Testing Stripe connection...");const e=await gS();return e?typeof e.redirectToCheckout=="function"?(console.log(" Stripe redirectToCheckout method available"),!0):(console.error(" Stripe redirectToCheckout method not available"),!1):(console.error(" Stripe instance is null"),!1)}catch(e){return console.error(" Stripe connection test failed:",e),!1}},ay=()=>!!Os&&Os.startsWith("pk_"),yS=()=>({publishableKey:Os,isConfigured:ay(),keyPrefix:Os.substring(0,8)+"..."}),bS=()=>{var he,dt,kt;const e=st(),t=rr(),[s]=fo(),[a,n]=y.useState(1),[o,i]=y.useState(!1),[l,c]=y.useState([]),[d,u]=y.useState(!1),m=ve(wt),h=(m==null?void 0:m.id)||"guest",v=ve(Zg(h)),g=ve(Qa),w=ve(ep(h)),{settings:x,loading:f}=jt(),b=L=>Dr.find(G=>G.code===L)||Dr[0];y.useEffect(()=>{s.get("cancelled")==="true"&&(e(Te({message:"Payment was cancelled. You can continue shopping.",type:"info"})),setTimeout(()=>{t("/shop",{replace:!0})},2e3))},[s,e,t]),y.useEffect(()=>{(async()=>{if(g.length===0)try{u(!0),console.log("Loading products for checkout...");const G=await y0();console.log("API products loaded:",G);const ge=G.map(H=>{var oe,ke;const R=H.images.find(at=>at.is_main)||H.images[0],q=H.discount_rate&&H.discount_rate>0?H.price/(1-H.discount_rate/100):void 0;return{id:H.id.toString(),slug:H.name.toLowerCase().replace(/\s+/g,"-"),title:H.name,category:((oe=H.category_data)==null?void 0:oe.name)||"Uncategorized",brand:((ke=H.brand_data)==null?void 0:ke.name)||"Unknown",price:H.price,oldPrice:q,rating:H.average_rating,ratingCount:H.review_count,average_rating:H.average_rating,review_count:H.review_count,isNew:H.isNew||!1,discountPct:H.discount_rate||0,discount_rate:H.discount_rate||0,is_top_selling:H.is_top_selling||!1,description:H.description,images:H.images.map(at=>at.image),stock:H.stock||0,inStock:(H.stock||0)>0,sku:`SKU-${H.id}`,specs:H.technical_specs||{},viewCount:H.view_count,image:R?R.image:void 0}});console.log("Transformed products:",ge),e(ka(ge))}catch(G){console.error("Failed to load products for checkout:",G),e(Te({message:"Failed to load product information. Please refresh the page.",type:"error"}))}finally{u(!1)}else console.log("Products already loaded:",g)})()},[e,g.length]);const[p,k]=y.useState({firstName:"",lastName:"",email:"",phone:"",address1:"",address2:"",city:"",state:"",postcode:"",country:"United Kingdom"}),[E,_]=y.useState({cardNumber:"",expiryDate:"",cvv:"",cardholderName:""}),[j,N]=y.useState("standard"),[S,A]=y.useState(!1);y.useEffect(()=>{(()=>{try{const G=localStorage.getItem("savedPaymentInfo"),ge=localStorage.getItem("savedAddressInfo");if(G){const H=JSON.parse(G);_(R=>!R.cardNumber&&!R.cardholderName&&!R.expiryDate?(e(Te({message:"Payment information auto-filled from saved data",type:"success"})),{cardNumber:H.cardNumber||"",cardholderName:H.cardholderName||"",expiryDate:H.expiryDate||"",cvv:""}):R)}if(ge&&m){const H=JSON.parse(ge);k(R=>{var q,oe;return!R.firstName&&!R.lastName&&!R.email?(e(Te({message:"Address information auto-filled from saved data",type:"success"})),{...R,firstName:H.firstName||((q=m==null?void 0:m.name)==null?void 0:q.split(" ")[0])||"",lastName:H.lastName||((oe=m==null?void 0:m.name)==null?void 0:oe.split(" ").slice(1).join(" "))||"",email:H.email||(m==null?void 0:m.email)||"",phone:H.phone||"",address1:H.address1||"",address2:H.address2||"",city:H.city||"",state:H.state||"",postcode:H.postcode||"",country:H.country||"United Kingdom"}):R})}}catch(G){console.error("Failed to load saved payment/address info:",G),e(Te({message:"Failed to load saved information",type:"error"}))}})()},[m,e]),y.useEffect(()=>{console.log(" Checkout Debug:",{cartItems:v,productsCount:g.length,cartTotal:w,isLoadingProducts:d,currentStep:a,address:p,payment:E,selectedShipping:j,privacyConsent:S}),console.log(" Button State Debug:",{currentStep:a,showPlaceOrderButton:a===4,processingPayment:o,buttonDisabled:o}),v.length>0&&console.log(" Cart Total Debug:",{cartItems:v,products:g.map(L=>({id:L.id,title:L.title,price:L.price})),calculatedTotal:v.reduce((L,G)=>{const ge=g.find(R=>R.id===G.productId),H=ge?ge.price*G.qty:0;return console.log(`Item ${G.productId}: qty=${G.qty}, price=${(ge==null?void 0:ge.price)||"N/A"}, total=${H}`),L+H},0)})},[v,g,w,d,a,p,E,j,S]);const M=[{id:"standard",name:"Standard Shipping",description:"5-7 business days",cost:x&&!f&&parseFloat(((he=x==null?void 0:x.standard_shipping_rate)==null?void 0:he.toString())||"0")||0,days:"5-7 business days"},{id:"express",name:"Express Shipping",description:"2-3 business days",cost:x&&!f&&parseFloat(((dt=x==null?void 0:x.express_shipping_rate)==null?void 0:dt.toString())||"0")||0,days:"2-3 business days"}],F=[{id:1,title:"Address",description:"Shipping information"},{id:2,title:"Shipping",description:"Delivery options"},{id:3,title:"Payment",description:"Payment method"},{id:4,title:"Review",description:"Order summary"}],U=M.find(L=>L.id===j),X=(U==null?void 0:U.cost)||0,me=v.reduce((L,G)=>{const ge=g.find(H=>H.id===G.productId);return L+(ge?ge.price*G.qty:0)},0),de=w>0?w:me,te=parseFloat(((kt=x==null?void 0:x.tax_rate)==null?void 0:kt.toString())||"0")||0,O=de*te/100,se=de+X+O,V=(L,G)=>{console.log(` Address Change - ${L}:`,{oldValue:p[L],newValue:G,fieldType:typeof G}),k(H=>({...H,[L]:G})),l.includes(L)&&c(H=>H.filter(R=>R!==L));const ge={...p,[L]:G};try{localStorage.setItem("savedAddressInfo",JSON.stringify(ge))}catch(H){console.error("Failed to save address info:",H)}},T=L=>l.includes(L),$=(L,G)=>T(L)?`${G} border-red-500 focus:ring-red-500 focus:border-red-500`:G,Y=()=>{var ge,H,R,q,oe,ke,at,$t,fe,Ze,Nt,St;const L=[];console.log(" Validation Debug - Address state:",{state:p.state,stateType:typeof p.state,stateTrimmed:(ge=p.state)==null?void 0:ge.trim(),stateLength:(H=p.state)==null?void 0:H.length,isEmpty:!((R=p.state)!=null&&R.trim()),fullAddress:p}),(q=p.firstName)!=null&&q.trim()||L.push("firstName"),(oe=p.lastName)!=null&&oe.trim()||L.push("lastName"),(ke=p.email)!=null&&ke.trim()||L.push("email"),(at=p.phone)!=null&&at.trim()||L.push("phone"),($t=p.address1)!=null&&$t.trim()||L.push("address1"),(fe=p.city)!=null&&fe.trim()||L.push("city");const G=(Ze=p.state)==null?void 0:Ze.trim();return(!G||G.length===0)&&L.push("state"),(Nt=p.postcode)!=null&&Nt.trim()||L.push("postcode"),(St=p.country)!=null&&St.trim()||L.push("country"),j||L.push("shipping"),S||L.push("privacyConsent"),{isValid:L.length===0,missingFields:L}},Q=()=>{n(L=>L+1)},pe=()=>{n(L=>L-1)},B=async()=>{console.log(" Testing Stripe connection...");try{if(!ay())return console.error(" Stripe is not properly configured"),!1;const L=yS();return console.log(" Stripe config:",L),await pS()?(console.log(" Stripe connection test passed"),!0):(console.error(" Stripe connection test failed"),!1)}catch(L){return console.error(" Stripe connection test failed:",L),!1}},Z=async()=>{try{console.log(" Testing backend connectivity...");const L=await fetch("http://127.0.0.1:8001/api/public/health/",{method:"GET",headers:{"Content-Type":"application/json"}});return L.ok?(console.log(" Backend is reachable"),!0):(console.error(" Backend returned error:",L.status),!1)}catch(L){return console.error(" Cannot reach backend:",L),!1}};y.useEffect(()=>{(async()=>{console.log(" Running connectivity tests...");const G=await B(),ge=await Z();G||console.warn(" Stripe connection test failed - checkout may not work"),ge||console.warn(" Backend connectivity test failed - checkout will not work"),G&&ge&&console.log(" All connectivity tests passed")})()},[]);const ue=async()=>{console.log(" Place Order button clicked"),await new Promise(G=>setTimeout(G,50));const L=Y();if(!L.isValid){if(console.error(" Validation failed:",L.missingFields),c(L.missingFields),L.missingFields.includes("firstName")||L.missingFields.includes("lastName"))e(Te({message:"Please fill in your name",type:"error"}));else if(L.missingFields.includes("email"))e(Te({message:"Please enter your email address",type:"error"}));else if(L.missingFields.includes("phone"))e(Te({message:"Please enter your phone number",type:"error"}));else if(L.missingFields.includes("address1")||L.missingFields.includes("city")||L.missingFields.includes("state")||L.missingFields.includes("postcode")||L.missingFields.includes("country")){const G=L.missingFields.filter(R=>["address1","city","state","postcode","country"].includes(R)),ge={address1:"Address",city:"City",state:"State",postcode:"Post Code",country:"Country"},H=G.map(R=>ge[R]).join(", ");e(Te({message:`Please fill in: ${H}`,type:"error"}))}else L.missingFields.includes("shipping")?e(Te({message:"Please select a shipping method",type:"error"})):L.missingFields.includes("privacyConsent")&&e(Te({message:"Please agree to the privacy policy",type:"error"}));return}c([]);try{i(!0),console.log(" Starting atomic order creation...");const G=de+X+O,ge={cart_items:v.map(q=>{const oe=g.find(ke=>ke.id===q.productId);return{product_id:q.productId,name:(oe==null?void 0:oe.title)||(oe==null?void 0:oe.name)||"Unknown Product",price:(oe==null?void 0:oe.price)||0,quantity:q.qty,image:(oe==null?void 0:oe.image)||""}}),customer_email:p.email,customer_name:`${p.firstName} ${p.lastName}`,customer_phone:p.phone,shipping_address:{firstName:p.firstName,lastName:p.lastName,address:p.address1,address2:p.address2,city:p.city,state:p.state,zipCode:p.postcode,country:p.country},billing_address:{firstName:p.firstName,lastName:p.lastName,address:p.address1,address2:p.address2,city:p.city,state:p.state,zipCode:p.postcode,country:p.country},subtotal:de,shipping_cost:X,tax_amount:O,total_price:G,shipping_method:j};console.log(" Order data prepared:",ge);const H=await fetch("http://127.0.0.1:8001/api/public/create-order-checkout/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(ge)});if(!H.ok){const q=await H.json();throw new Error(q.error||"Order creation failed")}const R=await H.json();console.log(" Order created successfully:",R),localStorage.setItem("currentOrder",JSON.stringify({orderNumber:R.order_number,orderId:R.order_id})),window.location.href=R.checkout_url}catch(G){console.error(" Checkout process failed:",G),e(Te({message:`Checkout failed: ${G instanceof Error?G.message:"Unknown error"}`,type:"error"}))}finally{i(!1)}};return v.length>0&&d&&g.length===0?r.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-slate-900",children:[r.jsx(Ye,{pageTitle:"Checkout"}),r.jsxs("div",{className:"container mx-auto px-4 py-8",children:[r.jsx(Re,{className:"mb-6"}),r.jsxs("div",{className:"text-center py-16",children:[r.jsx("div",{className:"w-32 h-32 mx-auto mb-6 bg-gray-100 dark:bg-slate-800 rounded-full flex items-center justify-center",children:r.jsx("div",{className:"text-gray-400 dark:text-slate-500 text-4xl",children:""})}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4",children:"Loading checkout..."}),r.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-8 max-w-md mx-auto",children:"Please wait while we load your cart items."})]})]})]}):v.length===0?r.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-slate-900",children:[r.jsx(Ye,{pageTitle:"Checkout"}),r.jsxs("div",{className:"container mx-auto px-4 py-8",children:[r.jsx(Re,{className:"mb-6"}),r.jsxs("div",{className:"text-center py-16",children:[r.jsx(Hr,{size:"lg",className:"mx-auto mb-6",children:r.jsx("div",{className:"text-gray-400 dark:text-gray-500",children:"Empty Cart"})}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4",children:"Your cart is empty"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-8",children:"Add some items to your cart before proceeding to checkout."})]})]})]}):r.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-slate-900",children:[r.jsx(Ye,{pageTitle:"Checkout"}),r.jsxs("div",{className:"container mx-auto px-4 py-8",children:[r.jsx(Re,{className:"mb-6"}),r.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900 dark:text-white mb-6 sm:mb-8",children:"Checkout"}),r.jsx("div",{className:"mb-8",children:r.jsx("div",{className:"flex items-center justify-between",children:F.map((L,G)=>r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:`flex items-center justify-center w-8 h-8 rounded-full border-2 ${a>=L.id?"bg-red-600 dark:bg-blue-600 border-red-600 dark:border-blue-600 text-white":"border-gray-300 dark:border-slate-600 text-gray-500 dark:text-gray-400"}`,children:L.id}),r.jsxs("div",{className:"ml-3 hidden sm:block",children:[r.jsx("div",{className:`text-sm font-medium ${a>=L.id?"text-red-600 dark:text-blue-400":"text-gray-500 dark:text-gray-400"}`,children:L.title}),r.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:L.description})]}),G<F.length-1&&r.jsx("div",{className:`w-16 h-0.5 mx-4 hidden sm:block ${a>L.id?"bg-red-600 dark:bg-blue-600":"bg-gray-300 dark:bg-slate-600"}`})]},L.id))})}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 sm:gap-8",children:[r.jsx("div",{className:"lg:col-span-2",children:r.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg border border-gray-200 dark:border-slate-700 p-4 sm:p-6",children:[r.jsxs("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900 dark:text-white mb-6",children:[a===1&&"Shipping Address",a===2&&"Shipping Options",a===3&&"Payment Method",a===4&&"Order Review"]}),r.jsxs("div",{className:"space-y-6",children:[a===1&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[r.jsx("input",{type:"text",placeholder:"First Name *",value:p.firstName,onChange:L=>V("firstName",L.target.value),className:$("firstName","px-4 py-3 border border-gray-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-red-500 dark:focus:ring-blue-500 focus:border-transparent bg-white dark:bg-slate-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400")}),r.jsx("input",{type:"text",placeholder:"Last Name *",value:p.lastName,onChange:L=>V("lastName",L.target.value),className:$("lastName","px-4 py-3 border border-gray-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-red-500 dark:focus:ring-blue-500 focus:border-transparent bg-white dark:bg-slate-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400")})]}),r.jsx("input",{type:"email",placeholder:"Email Address *",value:p.email,onChange:L=>V("email",L.target.value),className:$("email","w-full px-4 py-3 border border-gray-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-red-500 dark:focus:ring-blue-500 focus:border-transparent bg-white dark:bg-slate-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400")}),r.jsx("input",{type:"tel",placeholder:"Phone Number *",value:p.phone,onChange:L=>V("phone",L.target.value),className:$("phone","w-full px-4 py-3 border border-gray-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-red-500 dark:focus:ring-blue-500 focus:border-transparent bg-white dark:bg-slate-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400")}),r.jsx("input",{type:"text",placeholder:"Address Line 1 *",value:p.address1,onChange:L=>V("address1",L.target.value),className:$("address1","w-full px-4 py-3 border border-gray-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-red-500 dark:focus:ring-blue-500 focus:border-transparent bg-white dark:bg-slate-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400")}),r.jsx("input",{type:"text",placeholder:"Address Line 2 (Optional)",value:p.address2,onChange:L=>V("address2",L.target.value),className:"w-full px-4 py-3 border border-gray-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-red-500 dark:focus:ring-blue-500 focus:border-transparent bg-white dark:bg-slate-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400"}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[r.jsx("input",{type:"text",placeholder:"City *",value:p.city,onChange:L=>V("city",L.target.value),className:$("city","px-4 py-3 border border-gray-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-red-500 dark:focus:ring-blue-500 focus:border-transparent bg-white dark:bg-slate-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400")}),r.jsxs("div",{children:[r.jsx("input",{type:"text",placeholder:"State *",value:p.state,onChange:L=>V("state",L.target.value),className:$("state","w-full px-4 py-3 border border-gray-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-red-500 dark:focus:ring-blue-500 focus:border-transparent bg-white dark:bg-slate-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400")}),T("state")&&r.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:"State is required"})]}),r.jsx("input",{type:"text",placeholder:"Post Code *",value:p.postcode,onChange:L=>V("postcode",L.target.value),className:$("postcode","px-4 py-3 border border-gray-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-red-500 dark:focus:ring-blue-500 focus:border-transparent bg-white dark:bg-slate-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400")})]}),r.jsx("input",{type:"text",placeholder:"Country *",value:p.country,onChange:L=>V("country",L.target.value),className:$("country","w-full px-4 py-3 border border-gray-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-red-500 dark:focus:ring-blue-500 focus:border-transparent bg-white dark:bg-slate-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400")})]}),a===2&&r.jsx("div",{className:"space-y-4",children:M.map(L=>r.jsx("div",{className:`border rounded-md p-4 cursor-pointer transition-colors ${j===L.id?"border-red-500 dark:border-blue-500 bg-red-50 dark:bg-blue-900/20":"border-gray-200 dark:border-slate-600 hover:border-gray-300 dark:hover:border-slate-500"}`,onClick:()=>N(L.id),children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("input",{type:"radio",name:"shipping",value:L.id,checked:j===L.id,onChange:()=>N(L.id),className:"mr-3 text-red-600 dark:text-blue-600"}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium text-gray-900 dark:text-white",children:L.name}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:L.days})]})]}),r.jsx("div",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:Le(L.cost,b((x==null?void 0:x.currency)||"GBP"))})]})},L.id))}),a===3&&r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-md p-6",children:r.jsxs("div",{className:"flex items-start space-x-4",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx("div",{className:"w-12 h-12 bg-green-100 dark:bg-green-800 rounded-full flex items-center justify-center",children:r.jsx(ao,{className:"w-6 h-6 text-green-600 dark:text-green-400"})})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"text-lg font-semibold text-green-900 dark:text-green-100 mb-2",children:"Secure Payment with Stripe"}),r.jsx("p",{className:"text-green-700 dark:text-green-300 mb-4",children:"You'll be redirected to Stripe's secure checkout page to complete your payment. Stripe supports all major credit cards, Apple Pay, Google Pay, and more."}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[r.jsxs("div",{className:"flex items-center space-x-2 text-green-600 dark:text-green-400",children:[r.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),r.jsx("span",{children:"SSL Encrypted"})]}),r.jsxs("div",{className:"flex items-center space-x-2 text-green-600 dark:text-green-400",children:[r.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),r.jsx("span",{children:"PCI Compliant"})]}),r.jsxs("div",{className:"flex items-center space-x-2 text-green-600 dark:text-green-400",children:[r.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),r.jsx("span",{children:"3D Secure"})]}),r.jsxs("div",{className:"flex items-center space-x-2 text-green-600 dark:text-green-400",children:[r.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),r.jsx("span",{children:"Multiple Payment Methods"})]})]})]})]})}),r.jsxs("div",{className:"bg-gray-50 dark:bg-slate-700 rounded-md p-4",children:[r.jsx("h3",{className:"font-medium text-gray-900 dark:text-white mb-3",children:"Payment Method"}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-8 h-8 bg-blue-100 dark:bg-blue-800 rounded flex items-center justify-center",children:r.jsx(ao,{className:"w-4 h-4 text-blue-600 dark:text-blue-400"})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:"Credit/Debit Card"}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Visa, Mastercard, American Express, Discover"})]})]}),r.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-slate-600",children:r.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:[r.jsx("strong",{children:"Note:"})," You'll be redirected to Stripe Checkout for secure payment processing. Your card details are never stored on our servers."]})})]})]}),a===4&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-gray-50 dark:bg-slate-700 rounded-md p-4",children:[r.jsx("h3",{className:"font-medium text-gray-900 dark:text-white mb-2",children:"Shipping Address"}),r.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:[p.firstName," ",p.lastName,r.jsx("br",{}),p.address1,r.jsx("br",{}),p.address2&&r.jsxs(r.Fragment,{children:[p.address2,r.jsx("br",{})]}),p.city,", ",p.state," ",p.postcode,r.jsx("br",{}),p.country,r.jsx("br",{}),p.email,r.jsx("br",{}),p.phone]})]}),r.jsxs("div",{className:"bg-gray-50 dark:bg-slate-700 rounded-md p-4",children:[r.jsx("h3",{className:"font-medium text-gray-900 dark:text-white mb-2",children:"Shipping & Tax"}),r.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:["Shipping: ",(U==null?void 0:U.name)||"Standard Shipping"," - ",Le(X,b((x==null?void 0:x.currency)||"GBP"))," | Tax Rate: ",(x==null?void 0:x.tax_rate)||0,"%"]})]}),r.jsxs("div",{className:"bg-gray-50 dark:bg-slate-700 rounded-md p-4",children:[r.jsx("h3",{className:"font-medium text-gray-900 dark:text-white mb-2",children:"Payment Method"}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Credit/Debit Card via Stripe Checkout"}),r.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Secure payment processing with Stripe"})]}),r.jsx("div",{className:"bg-gray-50 dark:bg-slate-700 rounded-md p-4",children:r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx("input",{type:"checkbox",id:"privacyConsent",checked:S,onChange:L=>{A(L.target.checked),L.target.checked&&l.includes("privacyConsent")&&c(G=>G.filter(ge=>ge!=="privacyConsent"))},className:`mt-1 h-4 w-4 text-red-600 dark:text-blue-600 focus:ring-red-500 dark:focus:ring-blue-500 border-gray-300 dark:border-slate-600 rounded ${l.includes("privacyConsent")?"border-red-500":""}`}),r.jsxs("label",{htmlFor:"privacyConsent",className:"text-sm text-gray-600 dark:text-gray-300",children:["I agree to the"," ",r.jsx("a",{href:"/privacy",target:"_blank",rel:"noopener noreferrer",className:"text-red-600 dark:text-blue-400 hover:underline",children:"Privacy Policy"})," ","and consent to the processing of my personal information as described therein."]})]})})]})]}),r.jsxs("div",{className:"flex flex-col sm:flex-row justify-between mt-8 space-y-3 sm:space-y-0",children:[a>1&&r.jsx("button",{onClick:pe,className:"px-6 py-3 border border-gray-300 dark:border-slate-600 text-gray-700 dark:text-gray-300 rounded-md hover:bg-gray-50 dark:hover:bg-slate-700 transition-colors",children:"Previous"}),r.jsx("div",{className:"flex-1"}),a<4?r.jsx("button",{onClick:Q,className:"px-6 py-3 bg-red-600 dark:bg-blue-600 text-white rounded-md hover:bg-red-700 dark:hover:bg-blue-700 transition-colors",children:"Next"}):r.jsx("button",{onClick:()=>{console.log(" Place Order button clicked!"),ue()},disabled:o,className:"px-6 py-3 bg-red-600 dark:bg-blue-600 text-white rounded-md hover:bg-red-700 dark:hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:o?"Processing...":"Place Order"})]})]})}),r.jsx("div",{className:"lg:col-span-1",children:r.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg border border-gray-200 dark:border-slate-700 p-4 sm:p-6 sticky top-8",children:[r.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Order Summary"}),r.jsx("div",{className:"space-y-3 mb-6",children:v.length===0?r.jsx("div",{className:"text-center py-4 text-gray-500 dark:text-gray-400",children:"No items in cart"}):v.map(L=>{let G=g.find(H=>H.id===L.productId);G||(G=g.find(H=>String(H.id)===String(L.productId))),G||(G=g.find(H=>H.id.toString()===L.productId.toString()));const ge=((G==null?void 0:G.price)||0)*L.qty;return console.log("Checkout Item Debug:",{cartItem:L,productId:L.productId,allProducts:g.map(H=>({id:H.id,title:H.title,price:H.price})),foundProduct:G,productPrice:G==null?void 0:G.price,quantity:L.qty,itemTotal:ge}),r.jsxs("div",{className:"flex justify-between items-center text-sm",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:(G==null?void 0:G.title)||`Product ID: ${L.productId}`}),r.jsxs("p",{className:"text-gray-600 dark:text-gray-300",children:["Qty: ",L.qty]}),!G&&r.jsxs("div",{className:"text-xs text-red-500 dark:text-red-400",children:[r.jsx("p",{children:"Product not found in database"}),r.jsxs("p",{className:"text-gray-500 dark:text-gray-400",children:["ID: ",L.productId," | Loading: ",d?"Yes":"No"," | Products: ",g.length]})]})]}),r.jsx("div",{className:"text-gray-900 dark:text-white",children:Le(ge,b((x==null?void 0:x.currency)||"GBP"))})]},L.productId)})}),r.jsxs("div",{className:"space-y-3 mb-6",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-sm sm:text-base text-gray-600 dark:text-gray-300",children:"Subtotal"}),r.jsx("span",{className:"font-medium text-sm sm:text-base",children:Le(de,b((x==null?void 0:x.currency)||"GBP"))})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("span",{className:"text-sm sm:text-base text-gray-600 dark:text-gray-300",children:["Shipping (",(U==null?void 0:U.name)||"Standard",")"]}),r.jsx("span",{className:"font-medium text-sm sm:text-base",children:Le(X,b((x==null?void 0:x.currency)||"GBP"))})]}),O>0&&r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("span",{className:"text-sm sm:text-base text-gray-600 dark:text-gray-300",children:["Tax (",te,"%)"]}),r.jsx("span",{className:"font-medium text-sm sm:text-base",children:Le(O,b((x==null?void 0:x.currency)||"GBP"))})]}),r.jsx("div",{className:"border-t border-gray-200 dark:border-slate-600 pt-3",children:r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-base sm:text-lg font-semibold text-gray-900 dark:text-white",children:"Total"}),r.jsx("span",{className:"text-base sm:text-lg font-semibold text-red-600 dark:text-blue-400",children:Le(se,b((x==null?void 0:x.currency)||"GBP"))})]})})]}),r.jsx("div",{className:"text-center",children:r.jsxs("div",{className:"flex items-center justify-center space-x-2 text-xs sm:text-sm text-gray-500 dark:text-gray-400",children:[r.jsx("span",{children:""}),r.jsx("span",{children:"Secure checkout"})]})})]})})]})]})]})},vS=()=>{const e=st(),t=rr(),s=ve(wt),a=ve(a0),[n,o]=y.useState(!0),[i,l]=y.useState({email:"",password:"",name:""}),[c,d]=y.useState(!1),u=h=>{if(h.preventDefault(),!n&&!c){alert("Please agree to the Privacy Policy to create an account.");return}e(el(n?{email:i.email,name:i.name}:{email:i.email,name:i.name}))},m=()=>{e(s0()),t("/")};return a?r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsx(Ye,{pageTitle:"My Account"}),r.jsxs("div",{className:"container mx-auto px-4 py-8",children:[r.jsx(Re,{className:"mb-6"}),r.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:"My Account"}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[r.jsxs("div",{className:"lg:col-span-2",children:[r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6 mb-6",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Account Information"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),r.jsx("input",{type:"text",value:(s==null?void 0:s.name)||"",className:"w-full px-4 py-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-primary focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),r.jsx("input",{type:"email",value:(s==null?void 0:s.email)||"",className:"w-full px-4 py-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-primary focus:border-transparent"})]}),r.jsx("button",{className:"bg-primary text-white px-6 py-3 rounded-md hover:bg-primary-600 transition-colors",children:"Update Information"})]})]}),r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Recent Orders"}),r.jsxs("div",{className:"text-center py-8",children:[r.jsx(Hr,{size:"md",className:"mx-auto mb-4",children:r.jsx("div",{className:"text-gray-400",children:"No orders yet"})}),r.jsx("p",{className:"text-gray-600",children:"You haven't placed any orders yet."})]})]})]}),r.jsxs("div",{className:"lg:col-span-1",children:[r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6 mb-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Account Menu"}),r.jsxs("nav",{className:"space-y-2",children:[r.jsx("a",{href:"#",className:"block py-2 text-gray-600 hover:text-primary transition-colors",children:"Order History"}),r.jsx("a",{href:"#",className:"block py-2 text-gray-600 hover:text-primary transition-colors",children:"Wishlist"}),r.jsx("a",{href:"#",className:"block py-2 text-gray-600 hover:text-primary transition-colors",children:"Address Book"}),r.jsx("a",{href:"#",className:"block py-2 text-gray-600 hover:text-primary transition-colors",children:"Payment Methods"})]})]}),r.jsx("button",{onClick:m,className:"w-full bg-red-600 text-white py-3 px-4 rounded-md hover:bg-red-700 transition-colors",children:"Sign Out"})]})]})]})]}):r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsx(Ye,{pageTitle:"Sign In"}),r.jsxs("div",{className:"container mx-auto px-4 py-8",children:[r.jsx(Re,{className:"mb-6"}),r.jsx("div",{className:"max-w-md mx-auto",children:r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-8",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:n?"Sign In":"Create Account"}),r.jsx("p",{className:"text-gray-600",children:n?"Sign in to your account to continue":"Create a new account to get started"})]}),r.jsxs("form",{onSubmit:u,className:"space-y-6",children:[!n&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name"}),r.jsx("input",{type:"text",value:i.name,onChange:h=>l({...i,name:h.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-primary focus:border-transparent",required:!n})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address"}),r.jsx("input",{type:"email",value:i.email,onChange:h=>l({...i,email:h.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-primary focus:border-transparent",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),r.jsx("input",{type:"password",value:i.password,onChange:h=>l({...i,password:h.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-primary focus:border-transparent",required:!0})]}),!n&&r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx("input",{type:"checkbox",id:"privacyConsent",checked:c,onChange:h=>d(h.target.checked),className:"mt-1 h-4 w-4 text-primary focus:ring-primary border-gray-300 rounded",required:!n}),r.jsxs("label",{htmlFor:"privacyConsent",className:"text-sm text-gray-700",children:["I agree to the"," ",r.jsx("a",{href:"/privacy",target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline",children:"Privacy Policy"})," ","and consent to the processing of my personal information as described therein."]})]}),r.jsx("button",{type:"submit",className:"w-full bg-primary text-white py-3 px-4 rounded-md hover:bg-primary-600 transition-colors",children:n?"Sign In":"Create Account"})]}),r.jsx("div",{className:"mt-6 text-center",children:r.jsx("button",{onClick:()=>o(!n),className:"text-primary hover:text-primary-600 transition-colors",children:n?"Don't have an account? Sign up":"Already have an account? Sign in"})})]})})]})]})},wS=()=>{const e=ve(a0),t=ve(wt),s=rr(),{settings:a}=jt(),[n,o]=y.useState([]),[i,l]=y.useState(!0),[c,d]=y.useState(null);return y.useEffect(()=>{if(!e){s("/user/sign-in");return}(async()=>{try{l(!0),d(null);const h=JSON.parse(localStorage.getItem("auth")||"{}").access;if(!h)throw new Error("No authentication token found");const v=await fetch("http://127.0.0.1:8001/api/auth/orders",{headers:{Authorization:`Bearer ${h}`,"Content-Type":"application/json"}});if(!v.ok)throw v.status===401?new Error("Authentication failed. Please sign in again."):new Error(`Failed to fetch orders: ${v.status}`);const g=await v.json();o(g.orders||[])}catch(m){console.error("Failed to fetch orders:",m),d(m instanceof Error?m.message:"Failed to load orders")}finally{l(!1)}})()},[e,s]),i?r.jsx(yr,{message:"Loading your orders..."}):c?r.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-slate-900",children:r.jsxs("div",{className:"container mx-auto px-4 py-8",children:[r.jsx(Re,{className:"mb-6"}),r.jsxs("div",{className:"text-center py-16",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4",children:"Error Loading Orders"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-8",children:c}),r.jsx("button",{onClick:()=>window.location.reload(),className:"inline-flex items-center px-6 py-3 bg-red-600 dark:bg-blue-600 text-white rounded-md hover:bg-red-700 dark:hover:bg-blue-700 transition-colors",children:"Try Again"})]})]})}):r.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-slate-900",children:r.jsxs("div",{className:"container mx-auto px-4 py-8",children:[r.jsx(Re,{className:"mb-6"}),r.jsxs("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Order History"}),r.jsxs("p",{className:"text-gray-600 dark:text-gray-300",children:["Welcome back, ",(t==null?void 0:t.name)||(t==null?void 0:t.email),"! Here are all your orders."]})]}),n.length===0?r.jsxs("div",{className:"text-center py-16",children:[r.jsx(Hr,{size:"lg",className:"mx-auto mb-6",children:r.jsx(ur,{className:"w-16 h-16 text-gray-400 dark:text-gray-500"})}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4",children:"No orders yet"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-8",children:"You haven't placed any orders yet."}),r.jsx("button",{onClick:()=>s("/"),className:"inline-flex items-center px-6 py-3 bg-red-600 dark:bg-blue-600 text-white rounded-md hover:bg-red-700 dark:hover:bg-blue-700 transition-colors",children:"Start Shopping"})]}):r.jsx("div",{className:"space-y-6",children:n.map(u=>r.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg border border-gray-200 dark:border-slate-700 p-6 shadow-sm",children:[r.jsxs("div",{className:"flex justify-between items-start mb-4",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:["Order #",u.id]}),r.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-medium rounded-full ${u.status==="delivered"?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":u.status==="shipped"?"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200":u.status==="processing"?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200":"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200"}`,children:u.status.charAt(0).toUpperCase()+u.status.slice(1)})]}),r.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600 dark:text-gray-300",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(go,{className:"w-4 h-4"}),r.jsx("span",{children:new Date(u.created_at).toLocaleDateString()})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(ur,{className:"w-4 h-4"}),r.jsxs("span",{children:[u.items.length," item(s)"]})]})]})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("div",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-1",children:Le(u.total_price,(a==null?void 0:a.currency)||"USD")}),r.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:["Tracking: ",u.tracking_id]})]})]}),r.jsxs("div",{className:"flex justify-between items-center pt-4 border-t border-gray-200 dark:border-slate-600",children:[r.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:["Payment: ",u.payment_method]}),r.jsxs("button",{onClick:()=>s(`/order-confirmation/${u.tracking_id}`),className:"inline-flex items-center gap-2 px-4 py-2 text-sm font-medium text-red-600 dark:text-blue-400 hover:text-red-700 dark:hover:text-blue-300 transition-colors",children:[r.jsx($r,{className:"w-4 h-4"}),"View Details"]})]})]},u.id))})]})})},jS=()=>{const[e]=fo(),t=st();ve(Qa);const s=e.get("q")||"",[a,n]=y.useState([]),[o,i]=y.useState(!1);return y.useEffect(()=>{(async()=>{if(s.trim()){i(!0),t(qk(s));try{const c=await g0.search(s);n(c)}catch(c){console.error("Search failed:",c),n([])}finally{i(!1)}}else n([])})()},[s,t]),r.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-slate-900",children:[r.jsx(Ye,{pageTitle:`Search: ${s}`}),r.jsxs("div",{className:"container mx-auto px-4 py-8",children:[r.jsx(Re,{className:"mb-6"}),r.jsxs("div",{className:"mb-6 sm:mb-8",children:[r.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900 dark:text-white mb-2",children:s?`Search Results for "${s}"`:"Search"}),r.jsx("p",{className:"text-sm sm:text-base text-gray-600 dark:text-gray-300",children:s?`Found ${a.length} result(s) for "${s}"`:"Enter a search term to find products"})]}),o?r.jsx(yr,{message:"Searching for products..."}):a.length===0&&s?r.jsx(Zp,{icon:r.jsx(Vs,{className:"w-12 h-12 text-blue-500 dark:text-blue-400"}),title:"No products found",description:`We couldn't find any products matching "${s}". Try different keywords or browse our collection.`,suggestions:["Check your spelling and try again","Try more general keywords","Browse different categories","Use fewer or different search terms"],actions:[{label:"Try New Search",href:"/search",variant:"primary",icon:r.jsx(Od,{className:"w-4 h-4"})},{label:"Browse All Products",href:"/shop",variant:"secondary",icon:r.jsx(Sa,{className:"w-4 h-4"})}],className:"relative"}):r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-2 xl:grid-cols-3 gap-4 sm:gap-6",children:a.map(l=>r.jsx(b0,{product:l},l.id))})]})]})},v0=()=>{const[e,t]=y.useState({phone:"",email:"",city:"",country:"",address:"",businessHours:{mondayFriday:"Monday - Friday: 9:00 AM - 6:00 PM",saturday:"Saturday: 10:00 AM - 4:00 PM",sunday:"Sunday: Closed"}}),[s,a]=y.useState(!0),[n,o]=y.useState(null),[i,l]=y.useState(0),c=()=>{l(d=>d+1)};return y.useEffect(()=>{(async()=>{var u,m;try{a(!0),console.log("useContactInfo - Fetching contact info...");const h=await L3.getContactInfo();console.log("useContactInfo - Received data:",h),console.log("useContactInfo - Phone:",h.phone,"Type:",typeof h.phone),console.log("useContactInfo - Email:",h.email,"Type:",typeof h.email),console.log("useContactInfo - City:",h.city,"Type:",typeof h.city),console.log("useContactInfo - Country:",h.country,"Type:",typeof h.country),console.log("useContactInfo - Phone empty check:",!h.phone),console.log("useContactInfo - Email empty check:",!h.email),console.log("useContactInfo - Phone length:",(u=h.phone)==null?void 0:u.length),console.log("useContactInfo - Email length:",(m=h.email)==null?void 0:m.length),console.log("useContactInfo - Phone truthy check:",!!h.phone),console.log("useContactInfo - Email truthy check:",!!h.email),t(h),o(null)}catch(h){console.error("Failed to fetch contact info:",h),o("Failed to load contact information")}finally{a(!1)}})()},[i]),{contactInfo:e,loading:s,error:n,refresh:c}},kS=({isOpen:e,onClose:t,type:s})=>{const{contactInfo:a,loading:n}=v0();if(!e)return null;const o=()=>{a.phone&&window.open(`tel:${a.phone}`,"_self")},i=()=>{if(a.phone){const l=encodeURIComponent("Hello! I'm interested in your electrical services. Could you please provide me with more information?");window.open(`https://wa.me/${a.phone.replace(/[^\d]/g,"")}?text=${l}`,"_blank")}};return r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl max-w-md w-full mx-4 transform transition-all duration-300 scale-100",children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-slate-700",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${s==="call"?"bg-green-100 dark:bg-green-900/30":"bg-blue-100 dark:bg-blue-900/30"}`,children:s==="call"?r.jsx(At,{className:"w-5 h-5 text-green-600 dark:text-green-400"}):r.jsx(tt,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:s==="call"?"Call Now":"Send Message"}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:s==="call"?"Speak with our expert":"Get instant support"})]})]}),r.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 dark:hover:bg-slate-700 rounded-lg transition-colors",children:r.jsx(Oa,{className:"w-5 h-5 text-gray-500 dark:text-gray-400"})})]}),r.jsx("div",{className:"p-6",children:n?r.jsxs("div",{className:"text-center py-8",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading contact information..."})]}):a.phone?r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"text-center",children:r.jsxs("div",{className:"bg-gray-50 dark:bg-slate-700 rounded-lg p-4 mb-4",children:[r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Our Phone Number"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:a.phone})]})}),r.jsxs("div",{className:"space-y-3",children:[s==="call"?r.jsxs("button",{onClick:o,className:"w-full bg-green-600 hover:bg-green-700 text-white font-semibold py-3 px-6 rounded-lg transition-colors flex items-center justify-center gap-2",children:[r.jsx(At,{className:"w-5 h-5"}),"Call Now"]}):r.jsxs("button",{onClick:i,className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 px-6 rounded-lg transition-colors flex items-center justify-center gap-2",children:[r.jsx(tt,{className:"w-5 h-5"}),"Send WhatsApp Message"]}),r.jsx("button",{onClick:t,className:"w-full bg-gray-100 hover:bg-gray-200 dark:bg-slate-700 dark:hover:bg-slate-600 text-gray-900 dark:text-white font-semibold py-3 px-6 rounded-lg transition-colors",children:"Cancel"})]}),r.jsx("div",{className:"text-center text-sm text-gray-600 dark:text-gray-400",children:r.jsx("p",{children:s==="call"?"Our team is available to help you with all your electrical needs.":"Send us a message and we'll get back to you as soon as possible."})})]}):r.jsxs("div",{className:"text-center py-8",children:[r.jsx("div",{className:"w-16 h-16 bg-gray-100 dark:bg-slate-700 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx(At,{className:"w-8 h-8 text-gray-400 dark:text-gray-500"})}),r.jsx("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Contact Information Not Available"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"Phone number is not configured. Please contact the administrator to set up contact information."}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("a",{href:"http://localhost:5174/admin/settings",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white font-semibold rounded-lg transition-colors",children:[r.jsxs("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),"Go to Admin Settings"]}),r.jsx("button",{onClick:t,className:"w-full bg-gray-100 hover:bg-gray-200 dark:bg-slate-700 dark:hover:bg-slate-600 text-gray-900 dark:text-white font-semibold py-2 px-4 rounded-lg transition-colors",children:"Close"})]})]})})]})})},Hh=e=>e.map(t=>{var s;return{id:t.id,name:t.name,slug:t.slug,description:t.description||`Browse our ${t.name} services`,ordering:t.ordering||t.position||0,is_active:t.is_active!==!1,parent:t.parent||null,parent_name:t.parent_name||((s=t.parent)==null?void 0:s.name)||null,children:t.children||t.subcategories||[],depth:t.depth||0,services_count:t.services_count||0,image:t.image,created_at:t.created_at}}),NS=({subcategory:e,onSubcategoryClick:t})=>{const s=()=>{t(e)};return r.jsx("div",{className:"group cursor-pointer",children:r.jsxs(J,{to:`/services/subcategory/${e.id}?name=${encodeURIComponent(e.name)}`,onClick:s,className:"block",children:[r.jsxs("div",{className:"relative w-full aspect-video bg-gray-200 dark:bg-slate-700 rounded-lg overflow-hidden",children:[e.image?r.jsx("img",{src:e.image,alt:e.name,className:"w-full h-full object-contain group-hover:scale-105 transition-transform duration-300",onError:a=>{const n=a.target;n.style.display="none";const o=n.parentElement;o&&(o.innerHTML=`
                    <div class="w-full h-full bg-gradient-to-br from-gray-300 to-gray-400 dark:from-slate-600 dark:to-slate-700 flex items-center justify-center">
                      <div class="text-center">
                        <div class="w-12 h-12 mx-auto mb-2 bg-white/20 rounded-full flex items-center justify-center">
                          <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
                          </svg>
                        </div>
                        <span class="text-sm text-white font-medium">${e.name}</span>
                      </div>
                    </div>
                  `)}}):r.jsx("div",{className:"w-full h-full bg-gradient-to-br from-gray-300 to-gray-400 dark:from-slate-600 dark:to-slate-700 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-12 h-12 mx-auto mb-2 bg-white/20 rounded-full flex items-center justify-center",children:r.jsx(no,{className:"w-6 h-6 text-white"})}),r.jsx("span",{className:"text-sm text-white font-medium",children:e.name})]})}),r.jsxs("div",{className:"absolute bottom-2 right-2 bg-black/80 text-white text-xs px-2 py-1 rounded",children:[e.services_count||0," services"]}),r.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/20 transition-all duration-300 flex items-center justify-center",children:r.jsx("div",{className:"w-10 h-10 bg-white/90 rounded-full flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:r.jsxs("svg",{className:"w-5 h-5 text-gray-900",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})})})]}),r.jsxs("div",{className:"mt-3",children:[r.jsx("h3",{className:"font-medium text-gray-900 dark:text-white text-sm line-clamp-2 group-hover:text-red-600 dark:group-hover:text-blue-400 transition-colors leading-tight",children:e.name}),r.jsxs("div",{className:"mt-1 text-xs text-gray-600 dark:text-gray-400",children:[e.services_count||0," service",e.services_count!==1?"s":""]})]})]})})},SS=({subcategories:e,onSubcategoryClick:t})=>r.jsx("div",{className:"relative w-full",children:r.jsx("div",{className:"overflow-x-auto overflow-y-hidden scrollbar-hide mobile-scroll w-full",style:{scrollBehavior:"smooth"},children:r.jsx("div",{className:"flex gap-4",style:{width:"max-content",minWidth:"100%"},children:e.map(s=>r.jsx("div",{className:"w-80 flex-shrink-0",children:r.jsx(NS,{subcategory:s,onSubcategoryClick:t})},s.id))})})}),CS=({categoryName:e,subcategories:t,onSubcategoryClick:s})=>r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-8 h-8 bg-red-600 dark:bg-blue-600 rounded-full flex items-center justify-center",children:r.jsx("svg",{className:"w-4 h-4 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{d:"M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"})})}),r.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:e}),r.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:[t.reduce((a,n)=>a+(n.services_count||0),0)," services"]})]}),t.length>0?r.jsx(SS,{subcategories:t,onSubcategoryClick:s}):r.jsxs("div",{className:"text-center py-12 bg-gray-50 dark:bg-slate-800 rounded-xl",children:[r.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-gray-200 dark:bg-slate-700 rounded-full flex items-center justify-center",children:r.jsx(no,{className:"w-8 h-8 text-gray-400 dark:text-gray-500"})}),r.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-lg",children:"No subcategories available for this category."})]})]}),ES=()=>{const[e,t]=y.useState([]),[s,a]=y.useState(!0),[n,o]=y.useState(null),[i,l]=y.useState(!1);jt();const{content:c}=p0();y.useEffect(()=>{const v=document.createElement("style");return v.textContent=`
      .line-clamp-2 {
        display: -webkit-box;
        -webkit-line-clamp: 2;
        -webkit-box-orient: vertical;
        overflow: hidden;
      }
      
      .aspect-video {
        aspect-ratio: 16 / 9;
      }
      
      @supports not (aspect-ratio: 16 / 9) {
        .aspect-video {
          position: relative;
          padding-bottom: 56.25%; /* 16:9 aspect ratio */
        }
        
        .aspect-video > * {
          position: absolute;
          top: 0;
          left: 0;
          width: 100%;
          height: 100%;
        }
      }
      
      .scrollbar-hide {
        scrollbar-width: none;
        -ms-overflow-style: none;
      }
      .scrollbar-hide::-webkit-scrollbar {
        display: none;
      }
      
      /* Mobile touch scrolling */
      .mobile-scroll {
        -webkit-overflow-scrolling: touch;
        scroll-behavior: smooth;
        overscroll-behavior-x: contain;
        scrollbar-width: none;
        -ms-overflow-style: none;
      }
      .mobile-scroll::-webkit-scrollbar {
        display: none;
      }
      
      /* Ensure proper touch scrolling on mobile */
      @media (max-width: 768px) {
        .mobile-scroll {
          touch-action: pan-x;
          overflow-x: auto;
          overflow-y: hidden;
        }
      }
      
      /* Tablet specific fixes */
      @media (min-width: 769px) and (max-width: 1024px) {
        .mobile-scroll {
          touch-action: pan-x;
          overflow-x: auto;
          overflow-y: hidden;
        }
      }
    `,document.head.appendChild(v),()=>{document.head.removeChild(v)}},[]),y.useEffect(()=>{(async()=>{try{a(!0),o(null);const g=await al(),w=g.results||g;console.log("Raw categories response:",g),console.log("Categories with hierarchy:",w.map(f=>({name:f.name,parent:f.parent,parent_name:f.parent_name})));const x=Hh(w);t(x)}catch(g){console.error("Failed to fetch services data:",g),o("Failed to load services. Please try again later.")}finally{a(!1)}})()},[]),y.useEffect(()=>{const v=()=>{document.hidden||(async()=>{try{const w=await al(),x=w.results||w,f=Hh(x);t(f)}catch(w){console.error("Error refreshing categories data:",w)}})()};return document.addEventListener("visibilitychange",v),()=>document.removeEventListener("visibilitychange",v)},[]);const d=Ba.useMemo(()=>{const v={};return e.forEach(g=>{if(g.parent===null){const w=g.name;v[w]||(v[w]=[]);const x=e.filter(f=>f.parent===g.id);v[w]=x}}),v},[e]),u=v=>{console.log("Subcategory clicked:",v)},m=()=>{l(!0)},h=()=>{l(!1)};return r.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-slate-900",children:[r.jsx(Ye,{pageTitle:"All Services"}),r.jsxs("div",{className:"relative bg-gradient-to-br from-red-600 via-red-700 to-red-800 dark:from-blue-800 dark:via-blue-900 dark:to-slate-900 text-white overflow-hidden",children:[r.jsx("div",{className:"absolute inset-0 bg-black/10",children:r.jsx("div",{className:"absolute inset-0",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.05'%3E%3Ccircle cx='30' cy='30' r='2'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`}})}),r.jsx("div",{className:"relative container mx-auto px-4 py-12 sm:py-16 lg:py-24",children:r.jsxs("div",{className:"text-center max-w-4xl mx-auto",children:[r.jsx("h1",{className:"text-3xl sm:text-4xl lg:text-5xl xl:text-6xl font-bold mb-4 sm:mb-6 leading-tight",children:c!=null&&c.services_page_title?(()=>{const g=c.services_page_title.split(" "),w=g.slice(0,-1).join(" "),x=g[g.length-1];return r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"text-yellow-400",children:w}),r.jsx("span",{className:"block text-white",children:x})]})})():r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"text-yellow-400",children:"Professional"}),r.jsx("span",{className:"block text-white",children:"Electrical Services"})]})}),r.jsx("p",{className:"text-lg sm:text-xl lg:text-2xl text-red-100 dark:text-blue-100 mb-6 sm:mb-8 leading-relaxed px-4",children:(c==null?void 0:c.services_page_description)||"Expert electrical solutions for your home and business. From installations to repairs, we deliver quality service you can trust."}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4 justify-center items-center px-4",children:[r.jsxs(J,{to:"/contact",className:"w-full sm:w-auto inline-flex items-center justify-center gap-2 px-6 sm:px-8 py-3 sm:py-4 bg-yellow-500 hover:bg-yellow-400 text-red-900 dark:text-blue-900 font-semibold rounded-lg transition-all duration-300 transform hover:scale-105 shadow-lg",children:[r.jsx(tt,{className:"w-5 h-5"}),"Get Free Quote"]}),r.jsxs("button",{onClick:m,className:"w-full sm:w-auto inline-flex items-center justify-center gap-2 px-6 sm:px-8 py-3 sm:py-4 bg-white/10 hover:bg-white/20 text-white font-semibold rounded-lg transition-all duration-300 backdrop-blur-sm border border-white/20",children:[r.jsx(At,{className:"w-5 h-5"}),"Call Now"]})]})]})}),r.jsx("div",{className:"absolute bottom-8 left-1/2 transform -translate-x-1/2 animate-bounce",children:r.jsx("div",{className:"w-6 h-10 border-2 border-white/30 rounded-full flex justify-center",children:r.jsx("div",{className:"w-1 h-3 bg-white/60 rounded-full mt-2 animate-pulse"})})})]}),r.jsx("div",{className:"h-8 sm:h-12"}),r.jsxs("div",{className:"container mx-auto px-6 sm:px-8 lg:px-12 xl:px-16 py-12 sm:py-16",children:[r.jsx(Re,{className:"mb-8"}),r.jsx("div",{className:"mb-12 sm:mb-16",id:"features",children:r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 sm:gap-8",children:[r.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 text-center shadow-lg hover:shadow-xl transition-all duration-300 border border-gray-200 dark:border-slate-700",children:[r.jsx("div",{className:"w-16 h-16 bg-blue-100 dark:bg-blue-900/30 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx(cN,{className:"w-8 h-8 text-blue-600 dark:text-blue-400"})}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Certified Experts"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-sm",children:"Licensed and insured professionals with years of experience"})]}),r.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 text-center shadow-lg hover:shadow-xl transition-all duration-300 border border-gray-200 dark:border-slate-700",children:[r.jsx("div",{className:"w-16 h-16 bg-green-100 dark:bg-green-900/30 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx(Ot,{className:"w-8 h-8 text-green-600 dark:text-green-400"})}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"24/7 Emergency"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-sm",children:"Round-the-clock emergency service for urgent electrical issues"})]}),r.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 text-center shadow-lg hover:shadow-xl transition-all duration-300 border border-gray-200 dark:border-slate-700",children:[r.jsx("div",{className:"w-16 h-16 bg-purple-100 dark:bg-purple-900/30 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx(Ga,{className:"w-8 h-8 text-purple-600 dark:text-purple-400"})}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Quality Guarantee"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-sm",children:"100% satisfaction guarantee on all our electrical services"})]}),r.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 text-center shadow-lg hover:shadow-xl transition-all duration-300 border border-gray-200 dark:border-slate-700",children:[r.jsx("div",{className:"w-16 h-16 bg-orange-100 dark:bg-orange-900/30 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx(no,{className:"w-8 h-8 text-orange-600 dark:text-orange-400"})}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Fast Service"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-sm",children:"Quick response times and efficient electrical solutions"})]})]})}),s&&r.jsx(yr,{message:"Loading services..."}),n&&r.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-6 mb-8",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:r.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),r.jsxs("div",{className:"ml-3",children:[r.jsx("h3",{className:"text-sm font-medium text-red-800 dark:text-red-200",children:"Error loading services"}),r.jsx("div",{className:"mt-2 text-sm text-red-700 dark:text-red-300",children:n})]})]})}),!s&&!n&&r.jsx("div",{className:"space-y-12",id:"services",children:Object.keys(d).length>0?r.jsx("div",{className:"space-y-12",children:Object.entries(d).map(([v,g])=>r.jsx(CS,{categoryName:v,subcategories:g,onSubcategoryClick:u},v))}):r.jsxs("div",{className:"text-center py-12",children:[r.jsx("div",{className:"w-24 h-24 mx-auto mb-4 bg-red-100 dark:bg-blue-900/30 rounded-full flex items-center justify-center",children:r.jsx(no,{className:"w-12 h-12 text-red-500 dark:text-blue-400"})}),r.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"No Services Available"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"We're currently setting up our services. Please check back soon!"})]})}),r.jsx("div",{className:"mt-20 sm:mt-24 mb-16 sm:mb-20 bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-slate-800 dark:to-slate-700 rounded-2xl p-8 sm:p-10 lg:p-12",children:r.jsxs("div",{className:"max-w-6xl mx-auto",children:[r.jsxs("div",{className:"text-center mb-8 sm:mb-12",children:[r.jsx("h2",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-gray-900 dark:text-white mb-3 sm:mb-4",children:"Why Choose Our Electrical Services?"}),r.jsx("p",{className:"text-base sm:text-lg text-gray-600 dark:text-gray-300 max-w-3xl mx-auto px-4",children:"We combine technical expertise with exceptional customer service to deliver electrical solutions that exceed your expectations."})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 sm:gap-8 items-center",children:[r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:"w-12 h-12 bg-blue-100 dark:bg-blue-900/30 rounded-lg flex items-center justify-center flex-shrink-0",children:r.jsx(dr,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Licensed & Insured"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"All our electricians are fully licensed, bonded, and insured for your peace of mind."})]})]}),r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:"w-12 h-12 bg-green-100 dark:bg-green-900/30 rounded-lg flex items-center justify-center flex-shrink-0",children:r.jsx(E2,{className:"w-6 h-6 text-green-600 dark:text-green-400"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Expert Team"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Our experienced technicians stay updated with the latest electrical codes and technologies."})]})]}),r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:"w-12 h-12 bg-purple-100 dark:bg-purple-900/30 rounded-lg flex items-center justify-center flex-shrink-0",children:r.jsx(Dt,{className:"w-6 h-6 text-purple-600 dark:text-purple-400"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Quality Workmanship"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"We use only premium materials and follow industry best practices for every project."})]})]})]}),r.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 sm:p-8 shadow-lg border border-gray-200 dark:border-slate-700",children:[r.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-gray-900 dark:text-white mb-4 sm:mb-6",children:"Ready to Get Started?"}),r.jsxs("div",{className:"space-y-3 sm:space-y-4 mb-4 sm:mb-6",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(At,{className:"w-5 h-5 text-blue-600 dark:text-blue-400 flex-shrink-0"}),r.jsx("span",{className:"text-sm sm:text-base text-gray-600 dark:text-gray-300",children:"Call us for immediate assistance"})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Wt,{className:"w-5 h-5 text-blue-600 dark:text-blue-400 flex-shrink-0"}),r.jsx("span",{className:"text-sm sm:text-base text-gray-600 dark:text-gray-300",children:"Email us for detailed quotes"})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Ia,{className:"w-5 h-5 text-blue-600 dark:text-blue-400 flex-shrink-0"}),r.jsx("span",{className:"text-sm sm:text-base text-gray-600 dark:text-gray-300",children:"Serving the entire region"})]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs(J,{to:"/contact",className:"w-full inline-flex items-center justify-center gap-2 px-4 sm:px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white font-semibold rounded-lg transition-colors text-sm sm:text-base",children:[r.jsx(At,{className:"w-4 h-4 sm:w-5 sm:h-5"}),"Contact Us Now"]}),r.jsxs(J,{to:"/services",className:"w-full inline-flex items-center justify-center gap-2 px-4 sm:px-6 py-3 bg-gray-100 hover:bg-gray-200 dark:bg-slate-700 dark:hover:bg-slate-600 text-gray-900 dark:text-white font-semibold rounded-lg transition-colors text-sm sm:text-base",children:[r.jsx(n0,{className:"w-4 h-4 sm:w-5 sm:h-5"}),"Browse All Services"]})]})]})]})]})})]}),r.jsx("div",{className:"h-8 sm:h-12"}),r.jsx(kS,{isOpen:i,onClose:h,type:"call"})]})};function ny(){const[e,t]=y.useState(()=>{const a=localStorage.getItem("theme");return a?a==="dark":!0}),s=()=>t(!e);return y.useEffect(()=>{const a=document.documentElement;e?(a.classList.add("dark"),localStorage.setItem("theme","dark")):(a.classList.remove("dark"),localStorage.setItem("theme","light"))},[e]),y.useEffect(()=>{const a=window.matchMedia("(prefers-color-scheme: dark)"),n=o=>{localStorage.getItem("theme")||t(o.matches)};return a.addEventListener("change",n),()=>a.removeEventListener("change",n)},[]),{isDark:e,toggleTheme:s}}const _S={currentUser:null,orders:[]},oy=ws({name:"user",initialState:_S,reducers:{signIn:(e,t)=>{const{email:s,name:a}=t.payload;e.currentUser={id:"1",email:s,name:a,isAuthenticated:!0}},signOut:e=>{e.currentUser=null},addOrder:(e,t)=>{e.orders.unshift(t.payload)},updateOrderStatus:(e,t)=>{const{orderId:s,status:a}=t.payload,n=e.orders.find(o=>o.id===s);n&&(n.status=a)}}});oy.actions;const PS=e=>e.user.currentUser;oy.reducer;const RS={currency:"GBP",theme:"dark",toasts:[]},iy=ws({name:"ui",initialState:RS,reducers:{setCurrency:(e,t)=>{e.currency=t.payload},setTheme:(e,t)=>{e.theme=t.payload},addToast:(e,t)=>{const s={...t.payload,id:Date.now().toString()};e.toasts.push(s)},removeToast:(e,t)=>{e.toasts=e.toasts.filter(s=>s.id!==t.payload)},clearToasts:e=>{e.toasts=[]}}}),{setCurrency:bC,setTheme:vC,addToast:yn,removeToast:wC,clearToasts:jC}=iy.actions;iy.reducer;const TS=({serviceId:e,onSubmit:t})=>{const[s,a]=y.useState(0),[n,o]=y.useState(0),[i,l]=y.useState(""),[c,d]=y.useState(""),[u,m]=y.useState(0),[h,v]=y.useState(0),[g,w]=y.useState(0),[x,f]=y.useState(0),[b,p]=y.useState(!1),[k,E]=y.useState(!1),[_,j]=y.useState(!0);ny();const N=ve(PS),S=st();y.useEffect(()=>{(async()=>{if(!(N!=null&&N.isAuthenticated)){j(!1);return}try{const U=await F3(e);E(U.has_reviewed)}catch(U){console.error("Failed to check user review:",U)}finally{j(!1)}})()},[e,N==null?void 0:N.isAuthenticated]);const A=async F=>{if(F.preventDefault(),console.log("Form submission started"),console.log("Current user:",N),console.log("Has reviewed:",k),console.log("Rating:",s),console.log("Comment:",i),!(N!=null&&N.isAuthenticated)){console.log("User not authenticated"),S(yn({message:"You need to login first to add a review",type:"error",duration:5e3}));return}if(k){console.log("User has already reviewed this service"),S(yn({message:"You have already reviewed this service. You can only review each service once.",type:"error",duration:5e3}));return}if(s===0||!i.trim()){console.log("Validation failed - rating or comment missing"),S(yn({message:"Please fill in all required fields",type:"error",duration:3e3}));return}console.log("All validations passed, submitting review..."),p(!0);try{const U={rating:s,comment:i.trim(),author:N.name||N.email||"Anonymous",serviceQuality:u,communication:h,timeliness:g,valueForMoney:x};console.log("Calling onSubmit with data:",U),await t(U),console.log("Review submitted successfully"),S(yn({message:"Thank you for your review! It has been submitted successfully.",type:"success",duration:4e3})),a(0),l(""),d(""),m(0),v(0),w(0),f(0)}catch(U){console.error("Failed to submit review:",U),S(yn({message:"Failed to submit review. Please try again.",type:"error",duration:5e3}))}finally{p(!1)}},M=({rating:F,setRating:U,hoveredRating:X,setHoveredRating:me,label:de})=>r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-200",children:de}),r.jsxs("div",{className:"flex space-x-1",children:[[1,2,3,4,5].map(te=>r.jsx("button",{type:"button",onClick:()=>U(te),onMouseEnter:()=>me(te),onMouseLeave:()=>me(0),className:`transition-colors duration-150 ${te<=(X||F)?"text-yellow-400":"text-gray-300 dark:text-gray-600"}`,children:r.jsx(Dt,{className:"w-5 h-5 fill-current"})},te)),r.jsx("span",{className:"text-sm ml-2 text-gray-600 dark:text-slate-400",children:F>0&&`${F} out of 5`})]})]});return r.jsxs("div",{className:"p-6 rounded-lg border bg-white dark:bg-slate-800 border-gray-200 dark:border-slate-700",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-900 dark:text-slate-100",children:"Share Your Experience"}),_?r.jsx("div",{className:"p-4 rounded-lg border bg-gray-50 dark:bg-slate-800 border-gray-200 dark:border-slate-700",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-red-500 dark:border-blue-500"}),r.jsx("span",{className:"text-sm text-gray-600 dark:text-slate-300",children:"Checking if you've already reviewed this service..."})]})}):k?r.jsx("div",{className:"p-4 rounded-lg border bg-yellow-50 dark:bg-slate-800 border-yellow-200 dark:border-slate-700",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(dr,{className:"w-5 h-5 text-yellow-600 dark:text-yellow-400"}),r.jsxs("div",{children:[r.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-slate-200",children:"Already Reviewed"}),r.jsx("div",{className:"text-xs text-gray-600 dark:text-slate-400",children:"You have already reviewed this service. Thank you for your feedback!"})]})]})}):r.jsxs("form",{onSubmit:A,className:"space-y-6",children:[r.jsx("div",{className:"p-4 rounded-lg border bg-red-50 dark:bg-slate-800 border-red-200 dark:border-slate-700",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${N!=null&&N.isAuthenticated?"bg-green-100 dark:bg-green-900":"bg-red-100 dark:bg-red-900"}`,children:r.jsx("span",{className:`text-sm font-medium ${N!=null&&N.isAuthenticated?"text-green-800 dark:text-green-200":"text-red-800 dark:text-red-200"}`,children:N!=null&&N.isAuthenticated?"":"!"})}),r.jsxs("div",{children:[r.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-slate-200",children:N!=null&&N.isAuthenticated?"Signed in":"Not signed in"}),r.jsx("div",{className:"text-xs text-gray-600 dark:text-slate-400",children:N!=null&&N.isAuthenticated?`Reviewing as: ${N.name||N.email}`:"You need to login to submit a review"})]})]})}),r.jsx(M,{rating:s,setRating:a,hoveredRating:n,setHoveredRating:o,label:"Overall Rating"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsx(M,{rating:u,setRating:m,hoveredRating:0,setHoveredRating:()=>{},label:"Service Quality"}),r.jsx(M,{rating:h,setRating:v,hoveredRating:0,setHoveredRating:()=>{},label:"Communication"}),r.jsx(M,{rating:g,setRating:w,hoveredRating:0,setHoveredRating:()=>{},label:"Timeliness"}),r.jsx(M,{rating:x,setRating:f,hoveredRating:0,setHoveredRating:()=>{},label:"Value for Money"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-700 dark:text-slate-200",children:"Your Review"}),r.jsx("textarea",{value:i,onChange:F=>l(F.target.value),placeholder:"Share your experience with this service...",rows:4,required:!0,className:"w-full px-3 py-2 border rounded-md focus:ring-2 focus:ring-red-500 dark:focus:ring-blue-500 focus:border-transparent resize-none bg-white dark:bg-slate-700 border-gray-300 dark:border-slate-600 text-gray-900 dark:text-slate-100 placeholder-gray-500 dark:placeholder-slate-400"})]}),r.jsxs("button",{type:"submit",disabled:s===0||!i.trim()||!(N!=null&&N.isAuthenticated)||b||k,className:`flex items-center space-x-2 px-4 py-2 rounded-md font-medium transition-colors ${s===0||!i.trim()||!(N!=null&&N.isAuthenticated)||b||k?"bg-gray-300 dark:bg-slate-600 text-gray-500 dark:text-slate-400 cursor-not-allowed":"bg-red-500 hover:bg-red-600 dark:bg-blue-500 dark:hover:bg-blue-600 text-white"}`,children:[r.jsx(El,{className:"w-4 h-4"}),r.jsx("span",{children:N!=null&&N.isAuthenticated?k?"Already Reviewed":b?"Submitting...":"Submit Review":"Login Required"})]})]})]})},LS=({reviews:e=[],averageRating:t=0,totalReviews:s=0})=>{const{isDark:a}=ny(),n=Array.isArray(e)?e:[];console.log("ServiceReviewList: Received props:",{reviews:e,averageRating:t,totalReviews:s}),console.log("ServiceReviewList: Safe reviews array:",n);const o=({rating:m,size:h="md"})=>{const v=h==="sm"?"w-4 h-4":h==="lg"?"w-6 h-6":"w-5 h-5";return r.jsx("div",{className:"flex space-x-1",children:[1,2,3,4,5].map(g=>r.jsx(Dt,{className:`${v} ${g<=m?"text-yellow-400 fill-current":a?"text-gray-600":"text-gray-300"}`},g))})},i=m=>new Date(m).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),l=()=>{const m={5:0,4:0,3:0,2:0,1:0};return n.forEach(h=>{m[h.rating]++}),m},c=()=>{if(n.length===0)return{serviceQuality:0,communication:0,timeliness:0,valueForMoney:0};const m=n.reduce((h,v)=>({serviceQuality:h.serviceQuality+v.service_quality,communication:h.communication+v.communication,timeliness:h.timeliness+v.timeliness,valueForMoney:h.valueForMoney+v.value_for_money}),{serviceQuality:0,communication:0,timeliness:0,valueForMoney:0});return{serviceQuality:m.serviceQuality/n.length,communication:m.communication/n.length,timeliness:m.timeliness/n.length,valueForMoney:m.valueForMoney/n.length}},d=l(),u=c();return r.jsxs("div",{className:"space-y-6 text-gray-900 dark:text-slate-100",children:[r.jsxs("div",{className:"p-6 rounded-lg border bg-white dark:bg-slate-800 border-gray-200 dark:border-slate-700",children:[r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-4xl font-bold text-gray-900 dark:text-slate-100",children:t.toFixed(1)}),r.jsx(o,{rating:Math.round(t),size:"lg"}),r.jsxs("div",{className:"text-sm mt-1 text-gray-600 dark:text-slate-400",children:["Based on ",s," review",s!==1?"s":""]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium mb-3 text-gray-700 dark:text-slate-200",children:"Rating Distribution"}),r.jsx("div",{className:"space-y-2",children:[5,4,3,2,1].map(m=>r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsxs("span",{className:"text-sm w-8 text-gray-600 dark:text-slate-300",children:[m,""]}),r.jsx("div",{className:"flex-1 h-2 rounded-full bg-gray-200 dark:bg-slate-700",children:r.jsx("div",{className:`h-2 rounded-full ${a?"bg-blue-500":"bg-red-500"}`,style:{width:`${s>0?d[m]/s*100:0}%`}})}),r.jsx("span",{className:"text-sm w-8 text-right text-gray-500 dark:text-slate-400",children:d[m]})]},m))})]})]}),s>0&&r.jsxs("div",{className:"mt-8 pt-6 border-t border-gray-200 dark:border-slate-700",children:[r.jsx("h4",{className:"font-medium mb-4 text-gray-700 dark:text-slate-200",children:"Service Ratings Breakdown"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(pp,{className:"w-4 h-4 text-gray-500 dark:text-slate-400"}),r.jsx("span",{className:"text-sm text-gray-600 dark:text-slate-300",children:"Service Quality"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(o,{rating:Math.round(u.serviceQuality),size:"sm"}),r.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-slate-200",children:u.serviceQuality.toFixed(1)})]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(It,{className:"w-4 h-4 text-gray-500 dark:text-slate-400"}),r.jsx("span",{className:"text-sm text-gray-600 dark:text-slate-300",children:"Communication"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(o,{rating:Math.round(u.communication),size:"sm"}),r.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-slate-200",children:u.communication.toFixed(1)})]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Ot,{className:"w-4 h-4 text-gray-500 dark:text-slate-400"}),r.jsx("span",{className:"text-sm text-gray-600 dark:text-slate-300",children:"Timeliness"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(o,{rating:Math.round(u.timeliness),size:"sm"}),r.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-slate-200",children:u.timeliness.toFixed(1)})]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(_N,{className:"w-4 h-4 text-gray-500 dark:text-slate-400"}),r.jsx("span",{className:"text-sm text-gray-600 dark:text-slate-300",children:"Value for Money"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(o,{rating:Math.round(u.valueForMoney),size:"sm"}),r.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-slate-200",children:u.valueForMoney.toFixed(1)})]})]})]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-slate-200",children:"Customer Reviews"}),n.length===0?r.jsxs("div",{className:"p-6 rounded-lg border text-center bg-white dark:bg-slate-800 border-gray-200 dark:border-slate-700 text-gray-500 dark:text-slate-400",children:[r.jsx(It,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),r.jsx("p",{children:"No reviews yet. Be the first to review this service!"})]}):n.map(m=>r.jsxs("div",{className:"p-4 rounded-lg border bg-white dark:bg-slate-800 border-gray-200 dark:border-slate-700",children:[r.jsxs("div",{className:"flex items-start justify-between mb-3",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center bg-gray-100 dark:bg-slate-700",children:r.jsx(It,{className:"w-5 h-5 text-gray-500 dark:text-slate-400"})}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("span",{className:"font-medium text-gray-900 dark:text-slate-200",children:m.author_name}),m.verified&&r.jsx("span",{className:"px-2 py-1 text-xs rounded-full bg-red-100 dark:bg-blue-900 text-red-800 dark:text-blue-300",children:"Verified Service"})]}),r.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[r.jsx(o,{rating:m.rating,size:"sm"}),r.jsxs("span",{className:"text-sm text-gray-500 dark:text-slate-400",children:[m.rating," out of 5 stars"]})]})]})]}),r.jsxs("div",{className:"flex items-center space-x-1 text-sm text-gray-500 dark:text-slate-400",children:[r.jsx(go,{className:"w-4 h-4"}),r.jsx("span",{children:i(m.created_at)})]})]}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-3",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-xs text-gray-500 dark:text-slate-400",children:"Service Quality"}),r.jsx(o,{rating:m.service_quality,size:"sm"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-xs text-gray-500 dark:text-slate-400",children:"Communication"}),r.jsx(o,{rating:m.communication,size:"sm"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-xs text-gray-500 dark:text-slate-400",children:"Timeliness"}),r.jsx(o,{rating:m.timeliness,size:"sm"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-xs text-gray-500 dark:text-slate-400",children:"Value for Money"}),r.jsx(o,{rating:m.value_for_money,size:"sm"})]})]}),r.jsx("p",{className:"text-gray-700 dark:text-slate-300",children:m.comment})]},m.id))]})]})},AS="http://127.0.0.1:8001/api/public",wo=async(e,t={})=>{const s=localStorage.getItem("authToken"),a={headers:{"Content-Type":"application/json",...s&&{Authorization:`Bearer ${s}`},...t.headers},...t};try{const n=await fetch(`${AS}${e}`,a);if(!n.ok){const o=await n.json().catch(()=>({detail:"Network error"}));throw new Error(o.detail||`HTTP ${n.status}: ${n.statusText}`)}return await n.json()}catch(n){throw console.error(`Services API Error [${e}]:`,n),n}},DS=async e=>wo(`/services/${e}/`),IS=async(e,t={})=>{const a=`/service-reviews/?${new URLSearchParams({...t,service:String(e)}).toString()}`;return wo(a)},MS=async(e,t)=>{console.log("Creating service review with:",{serviceId:e,reviewData:t});const s={...t,service:e};console.log("API payload:",s);try{const a=await wo("/service-reviews/",{method:"POST",body:JSON.stringify(s)});return console.log("API response:",a),a}catch(a){throw console.error("API error details:",a),a}},qh=async(e,t)=>wo("/service-queries/",{method:"POST",body:JSON.stringify(t)}),OS=async e=>wo(`/services/${e}/increment_view/`,{method:"POST"}),$S=e=>{var t,s,a,n,o;return{id:e.id,title:e.name,description:e.description,price:parseFloat(e.price.toString()),duration:e.availability||"Contact for details",rating:parseFloat(e.rating.toString()),reviewCount:e.review_count,viewCount:e.view_count||0,image:((s=(t=e.images)==null?void 0:t.find(i=>i.is_main))==null?void 0:s.image)||((n=(a=e.images)==null?void 0:a[0])==null?void 0:n.image)||null,category:((o=e.category)==null?void 0:o.name)||"Uncategorized",features:e.key_features||[],detailedDescription:e.overview||e.description,whatIncluded:e.included_features||[],process:e.process_steps||[],contactInfo:e.contact_info||{},availability:e.availability||"",testimonials:[]}},FS=()=>{var U,X,me,de,te,O,se,V;const{id:e}=Va(),[t,s]=y.useState(!1),[a,n]=y.useState(!1),[o,i]=y.useState("overview"),[l,c]=y.useState([]),[d,u]=y.useState(null),[m,h]=y.useState(!0),[v,g]=y.useState(null),w=T=>{if(!Array.isArray(T)||T.length===0)return{averageRating:0,reviewCount:0};const Y=T.reduce((Q,pe)=>Q+(Number(pe.rating)||0),0)/T.length;return{averageRating:Math.round(Y*10)/10,reviewCount:T.length}},{settings:x}=jt(),[f,b]=y.useState({name:"",email:"",phone:"",message:"",preferredDate:""}),[p,k]=y.useState({name:"",email:"",phone:"",requirements:""});if(y.useEffect(()=>{(async()=>{if(e)try{h(!0),g(null);const[$,Y]=await Promise.all([DS(e),IS(e)]);console.log("ServiceDetail: Raw serviceReviews response:",Y);const Q=$S($);u(Q);let pe=[];Y&&typeof Y=="object"&&(Array.isArray(Y)?pe=Y:Y.results&&Array.isArray(Y.results)&&(pe=Y.results)),console.log("ServiceDetail: Processed reviews array:",pe),c(pe);try{await OS(e)}catch(B){console.error("Failed to increment service view:",B)}}catch($){console.error("Failed to fetch service:",$),g("Failed to load service. Please try again later.")}finally{h(!1)}})()},[e]),y.useEffect(()=>{const T=document.createElement("style");return T.textContent=`
      .aspect-video {
        aspect-ratio: 16 / 9;
      }
      
      @supports not (aspect-ratio: 16 / 9) {
        .aspect-video {
          position: relative;
          padding-bottom: 56.25%; /* 16:9 aspect ratio */
        }
        
        .aspect-video > * {
          position: absolute;
          top: 0;
          left: 0;
          width: 100%;
          height: 100%;
        }
      }
      
      /* Responsive service image sizing */
      @media (max-width: 640px) {
        .service-image-container {
          max-width: 100%;
          margin: 0 auto;
        }
      }
      
      @media (min-width: 641px) and (max-width: 1024px) {
        .service-image-container {
          max-width: 500px;
          margin: 0 auto;
        }
      }
      
      @media (min-width: 1025px) {
        .service-image-container {
          max-width: 600px;
          margin: 0 auto;
        }
      }
    `,document.head.appendChild(T),()=>{document.head.removeChild(T)}},[]),m)return r.jsx(yr,{message:"Loading service..."});if(v)return r.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-slate-900 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4",children:"Error Loading Service"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-6",children:v}),r.jsxs(J,{to:"/services",className:"inline-flex items-center gap-2 px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",children:[r.jsx(fr,{className:"w-4 h-4"}),"Back to Services"]})]})});if(!d)return r.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-slate-900 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4",children:"Service Not Found"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-6",children:"The service you're looking for doesn't exist."}),r.jsxs(J,{to:"/services",className:"inline-flex items-center gap-2 px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",children:[r.jsx(fr,{className:"w-4 h-4"}),"Back to Services"]})]})});const E=async T=>{if(T.preventDefault(),!d||!e){alert("Service information is not available. Please try again.");return}try{const $={query_type:"avail_service",service:parseInt(e),name:f.name,email:f.email,phone:f.phone,message:f.message,preferred_date:f.preferredDate},Y=await qh(parseInt(e),$);alert(Y.message||"Your service request has been submitted! We will contact you within 24 hours."),s(!1),b({name:"",email:"",phone:"",message:"",preferredDate:""})}catch($){console.error("Failed to submit service request:",$),alert("Failed to submit your service request. Please try again or contact us directly.")}},_=T=>{const{name:$,value:Y}=T.target;b(Q=>({...Q,[$]:Y}))},j=T=>{const{name:$,value:Y}=T.target;k(Q=>({...Q,[$]:Y}))},N=async T=>{if(T.preventDefault(),!d||!e){alert("Service information is not available. Please try again.");return}try{const $={query_type:"free_quote",service:parseInt(e),name:p.name,email:p.email,phone:p.phone,requirements:p.requirements},Y=await qh(parseInt(e),$);alert(Y.message||"Your quote request has been submitted! We will provide a detailed quote within 24 hours."),n(!1),k({name:"",email:"",phone:"",requirements:""})}catch($){console.error("Failed to submit quote request:",$),alert("Failed to submit your quote request. Please try again or contact us directly.")}},S=async T=>{try{console.log("Submitting review with data:",T),console.log("Service ID:",e);const $=await MS(parseInt(e),{service:parseInt(e),author_name:T.author,rating:T.rating,comment:T.comment,service_quality:T.serviceQuality,communication:T.communication,timeliness:T.timeliness,value_for_money:T.valueForMoney});console.log("Review created successfully:",$),$&&typeof $=="object"&&c(Y=>[$,...Y])}catch($){throw console.error("Failed to submit review:",$),$}},A=w(l),M=A.reviewCount>0?A.averageRating:d.rating,F=A.reviewCount>0?A.reviewCount:d.reviewCount;return r.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-slate-900",children:r.jsxs("div",{className:"container mx-auto px-4 py-8",children:[r.jsx(Re,{className:"mb-6"}),r.jsxs(J,{to:"/services",className:"inline-flex items-center gap-2 text-blue-600 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300 mb-6 transition-colors",children:[r.jsx(fr,{className:"w-4 h-4"}),"Back to Services"]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[r.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[r.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg border border-gray-200 dark:border-slate-700 p-6",children:[r.jsx("div",{className:"flex items-start gap-4 mb-4",children:r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx("span",{className:"px-2 py-1 bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 text-xs rounded-full",children:d.category}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Dt,{className:"w-4 h-4 fill-yellow-400 text-yellow-400"}),r.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:[M.toFixed(1)," (",F," reviews)"]})]}),r.jsx("div",{className:"flex items-center gap-1",children:r.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:[" ",d.viewCount," views"]})})]}),r.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:d.title}),r.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-lg",children:d.description})]})}),r.jsx("div",{className:"w-full bg-gradient-to-br from-red-50 to-red-100 dark:from-blue-50 dark:to-blue-100 border-2 border-red-200 dark:border-blue-200 rounded-lg overflow-hidden",children:r.jsx("div",{className:"aspect-video w-full max-w-md mx-auto",children:d.image?r.jsx("div",{className:"w-full h-full flex items-center justify-center p-4 sm:p-6 lg:p-8",children:r.jsx("img",{src:d.image,alt:d.title,className:"w-full h-full object-contain",onError:T=>{const $=T.target;$.style.display="none";const Y=$.parentElement;Y&&(Y.innerHTML=`
                               <div class="w-full h-full flex items-center justify-center">
                                 <div class="text-center">
                                   <div class="w-16 h-16 sm:w-20 sm:h-20 lg:w-24 lg:h-24 mx-auto mb-2 sm:mb-4 bg-red-500 dark:bg-blue-500 rounded-full flex items-center justify-center">
                                     <svg class="w-8 h-8 sm:w-10 sm:h-10 lg:w-12 lg:h-12 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                       <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
                                     </svg>
                                   </div>
                                   <span class="text-sm sm:text-base lg:text-lg text-red-700 dark:text-blue-700 font-medium">${d.title}</span>
                                 </div>
                               </div>
                             `)}})}):r.jsx("div",{className:"w-full h-full flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-16 h-16 sm:w-20 sm:h-20 lg:w-24 lg:h-24 mx-auto mb-2 sm:mb-4 bg-red-500 dark:bg-blue-500 rounded-full flex items-center justify-center",children:r.jsx("svg",{className:"w-8 h-8 sm:w-10 sm:h-10 lg:w-12 lg:h-12 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),r.jsx("span",{className:"text-sm sm:text-base lg:text-lg text-red-700 dark:text-blue-700 font-medium",children:d.title})]})})})})]}),r.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-lg border border-gray-200 dark:border-slate-700",children:r.jsx("div",{className:"border-b border-gray-200 dark:border-slate-700",children:r.jsx("nav",{className:"flex space-x-8 px-6",children:[{id:"overview",label:"Overview"},{id:"reviews",label:`Reviews (${l.length})`}].map(T=>r.jsx("button",{onClick:()=>i(T.id),className:`py-4 px-1 text-sm font-medium border-b-2 transition-colors ${o===T.id?"border-red-500 text-red-500 dark:border-blue-500 dark:text-blue-500":"border-transparent text-gray-500 dark:text-slate-400 hover:text-gray-700 dark:hover:text-slate-300 hover:border-gray-300 dark:hover:border-slate-600"}`,children:T.label},T.id))})})}),r.jsxs("div",{className:"space-y-8",children:[o==="overview"&&r.jsxs(r.Fragment,{children:[d.detailedDescription&&r.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg border border-gray-200 dark:border-slate-700 p-6",children:[r.jsx("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-4",children:"About This Service"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-300 leading-relaxed",children:d.detailedDescription})]}),d.whatIncluded&&d.whatIncluded.length>0&&r.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg border border-gray-200 dark:border-slate-700 p-6",children:[r.jsx("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-4",children:"What's Included"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:d.whatIncluded.map((T,$)=>r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(dr,{className:"w-5 h-5 text-green-500 flex-shrink-0"}),r.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:T})]},$))})]}),d.process&&d.process.length>0&&r.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg border border-gray-200 dark:border-slate-700 p-4 sm:p-6",children:[r.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-gray-900 dark:text-white mb-4 sm:mb-6",children:"Our Process"}),r.jsx("div",{className:"space-y-6 sm:space-y-8",children:d.process.map((T,$)=>r.jsxs("div",{className:"flex items-start gap-4 sm:gap-6",children:[r.jsx("div",{className:"flex-shrink-0 w-39 sm:w-41 flex justify-start",children:r.jsx("div",{className:"bg-blue-500 text-white rounded-lg px-6 py-3 flex items-center justify-center font-bold text-sm sm:text-base w-39 sm:w-41 shadow-sm",children:T.step||$+1})}),r.jsxs("div",{className:"flex-1 pt-1",children:[r.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-gray-900 dark:text-white mb-2 break-words",children:T.title||T.name||`Step ${$+1}`}),r.jsx("p",{className:"text-sm sm:text-base text-gray-600 dark:text-gray-300 mb-3 break-words",children:T.description||T.details||""}),(T.duration||T.timeframe)&&r.jsxs("div",{className:"flex items-center gap-2 text-xs sm:text-sm text-gray-500 dark:text-gray-400",children:[r.jsx(Ot,{className:"w-4 h-4"}),r.jsx("span",{className:"break-words font-medium",children:T.duration||T.timeframe})]})]})]},$))})]}),d.features&&d.features.length>0&&r.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg border border-gray-200 dark:border-slate-700 p-6",children:[r.jsx("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-4",children:"Key Features"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:d.features.map((T,$)=>r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(dr,{className:"w-5 h-5 text-blue-500 flex-shrink-0"}),r.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:T})]},$))})]}),(((U=d.contactInfo)==null?void 0:U.phone)||((X=d.contactInfo)==null?void 0:X.email))&&r.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg border border-gray-200 dark:border-slate-700 p-6",children:[r.jsx("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-4",children:"Contact Information"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[((me=d.contactInfo)==null?void 0:me.phone)&&r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(At,{className:"w-5 h-5 text-gray-400"}),r.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:d.contactInfo.phone})]}),((de=d.contactInfo)==null?void 0:de.email)&&r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Wt,{className:"w-5 h-5 text-gray-400"}),r.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:d.contactInfo.email})]})]})]}),d.availability&&r.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg border border-gray-200 dark:border-slate-700 p-6",children:[r.jsx("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-4",children:"Availability"}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(go,{className:"w-5 h-5 text-gray-400"}),r.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:d.availability})]})]}),d.testimonials&&d.testimonials.length>0&&r.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg border border-gray-200 dark:border-slate-700 p-6",children:[r.jsx("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-6",children:"What Our Clients Say"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:d.testimonials.map((T,$)=>r.jsxs("div",{className:"border border-gray-200 dark:border-slate-600 rounded-lg p-4",children:[r.jsx("div",{className:"flex items-center gap-1 mb-3",children:[...Array(T.rating)].map((Y,Q)=>r.jsx(Dt,{className:"w-4 h-4 fill-yellow-400 text-yellow-400"},Q))}),r.jsxs("p",{className:"text-gray-600 dark:text-gray-300 mb-3 italic",children:['"',T.comment,'"']}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(It,{className:"w-4 h-4 text-gray-400"}),r.jsx("span",{className:"font-semibold text-gray-900 dark:text-white",children:T.name}),r.jsxs("span",{className:"text-gray-500 dark:text-gray-400",children:["- ",T.company]})]})]},$))})]})]}),o==="reviews"&&r.jsxs("div",{className:"space-y-8 bg-white dark:bg-slate-800 rounded-lg border border-gray-200 dark:border-slate-700 p-6",children:[r.jsx(TS,{serviceId:d.id.toString(),onSubmit:S}),r.jsx(LS,{reviews:l,averageRating:M,totalReviews:F})]})]})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg border border-gray-200 dark:border-slate-700 p-6 sticky top-6",children:[r.jsxs("div",{className:"text-center mb-6",children:[r.jsx("div",{className:"text-4xl font-bold text-gray-900 dark:text-white mb-2",children:hs(d.price,(x==null?void 0:x.currency)||"USD")}),r.jsx("div",{className:"text-gray-600 dark:text-gray-300",children:"Starting from"})]}),r.jsxs("div",{className:"space-y-4 mb-6",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Ot,{className:"w-5 h-5 text-gray-400"}),r.jsxs("span",{className:"text-gray-700 dark:text-gray-300",children:["Duration: ",d.duration]})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Dt,{className:"w-5 h-5 text-yellow-400"}),r.jsxs("span",{className:"text-gray-700 dark:text-gray-300",children:[M.toFixed(1)," (",F," reviews)"]})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(dr,{className:"w-5 h-5 text-green-500"}),r.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Free consultation included"})]}),((te=d.contactInfo)==null?void 0:te.phone)&&r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(At,{className:"w-5 h-5 text-gray-400"}),r.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:d.contactInfo.phone})]}),((O=d.contactInfo)==null?void 0:O.email)&&r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Wt,{className:"w-5 h-5 text-gray-400"}),r.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:d.contactInfo.email})]})]}),r.jsx("button",{onClick:()=>s(!0),className:"w-full bg-red-500 hover:bg-red-600 dark:bg-blue-500 dark:hover:bg-blue-600 text-white py-3 px-4 rounded-lg font-semibold transition-colors mb-3",children:"Avail This Service"}),r.jsx("button",{onClick:()=>n(!0),className:"w-full border border-red-300 dark:border-blue-500 text-red-700 dark:text-blue-300 hover:bg-red-50 dark:hover:bg-blue-900/20 py-3 px-4 rounded-lg font-semibold transition-colors",children:"Get Free Quote"})]}),r.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg border border-gray-200 dark:border-slate-700 p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Key Features"}),r.jsx("div",{className:"space-y-3",children:d.features.map((T,$)=>r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(dr,{className:"w-4 h-4 text-green-500 flex-shrink-0"}),r.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:T})]},$))})]}),r.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg border border-gray-200 dark:border-slate-700 p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Need Help?"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(At,{className:"w-4 h-4 text-gray-400"}),r.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:(se=d.contactInfo)==null?void 0:se.phone})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Wt,{className:"w-4 h-4 text-gray-400"}),r.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:(V=d.contactInfo)==null?void 0:V.email})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(pp,{className:"w-4 h-4 text-gray-400"}),r.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Live Chat Available"})]})]})]})]})]}),t&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-lg max-w-md w-full max-h-[90vh] overflow-y-auto",children:r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:["Avail ",d.title]}),r.jsx("button",{onClick:()=>s(!1),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:""})]}),r.jsxs("form",{onSubmit:E,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Full Name *"}),r.jsx("input",{type:"text",name:"name",value:f.name,onChange:_,required:!0,className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-slate-700 text-gray-900 dark:text-white"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Email *"}),r.jsx("input",{type:"email",name:"email",value:f.email,onChange:_,required:!0,className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-slate-700 text-gray-900 dark:text-white"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Phone Number *"}),r.jsx("input",{type:"tel",name:"phone",value:f.phone,onChange:_,required:!0,className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-slate-700 text-gray-900 dark:text-white"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Preferred Start Date"}),r.jsx("input",{type:"date",name:"preferredDate",value:f.preferredDate,onChange:_,className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-slate-700 text-gray-900 dark:text-white"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Project Details"}),r.jsx("textarea",{name:"message",value:f.message,onChange:_,rows:4,placeholder:"Tell us more about your project requirements...",className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-slate-700 text-gray-900 dark:text-white"})]}),r.jsxs("div",{className:"flex gap-3 pt-4",children:[r.jsx("button",{type:"button",onClick:()=>s(!1),className:"flex-1 px-4 py-2 border border-red-300 dark:border-blue-500 text-red-700 dark:text-blue-300 rounded-md hover:bg-red-50 dark:hover:bg-blue-900/20 transition-colors",children:"Cancel"}),r.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-red-500 hover:bg-red-600 dark:bg-blue-500 dark:hover:bg-blue-600 text-white rounded-md transition-colors",children:"Submit Request"})]})]})]})})}),a&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-lg max-w-md w-full max-h-[90vh] overflow-y-auto",children:r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:"Get Free Quote"}),r.jsx("button",{onClick:()=>n(!1),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:""})]}),r.jsxs("form",{onSubmit:N,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Full Name *"}),r.jsx("input",{type:"text",name:"name",value:p.name,onChange:j,required:!0,className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-slate-700 text-gray-900 dark:text-white"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Email *"}),r.jsx("input",{type:"email",name:"email",value:p.email,onChange:j,required:!0,className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-slate-700 text-gray-900 dark:text-white"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Phone Number *"}),r.jsx("input",{type:"tel",name:"phone",value:p.phone,onChange:j,required:!0,className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-slate-700 text-gray-900 dark:text-white"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Project Requirements"}),r.jsx("textarea",{name:"requirements",value:p.requirements,onChange:j,rows:4,placeholder:"Describe your project requirements in detail...",className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-slate-700 text-gray-900 dark:text-white"})]}),r.jsxs("div",{className:"flex gap-3 pt-4",children:[r.jsx("button",{type:"button",onClick:()=>n(!1),className:"flex-1 px-4 py-2 border border-red-300 dark:border-blue-500 text-red-700 dark:text-blue-300 rounded-md hover:bg-red-50 dark:hover:bg-blue-900/20 transition-colors",children:"Cancel"}),r.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-red-500 hover:bg-red-600 dark:bg-blue-500 dark:hover:bg-blue-600 text-white rounded-md transition-colors",children:"Get Quote"})]})]})]})})})]})})},Vh={code:"GBP",symbol:"",name:"British Pound"},Qh=[{code:"USD",symbol:"$",name:"US Dollar"},{code:"GBP",symbol:"",name:"British Pound"},{code:"EUR",symbol:"",name:"Euro"},{code:"CAD",symbol:"C$",name:"Canadian Dollar"},{code:"AUD",symbol:"A$",name:"Australian Dollar"}],zS=(e,t=Vh)=>(typeof e!="number"&&(e=parseFloat(e)||0),`${t.symbol||Vh.symbol}${e.toFixed(2)}`),US=e=>{var t,s,a,n,o,i,l,c;return{id:e.id,title:e.name,description:e.description,price:parseFloat(e.price.toString()),duration:e.availability||"Contact for details",rating:parseFloat(e.rating.toString()),reviewCount:e.review_count,viewCount:e.view_count||0,image:((s=(t=e.images)==null?void 0:t.find(d=>d.is_main))==null?void 0:s.image)||((n=(a=e.images)==null?void 0:a[0])==null?void 0:n.image)||null,features:Array.isArray(e.key_features)?e.key_features:[],category:((o=e.category)==null?void 0:o.name)||"Uncategorized",categoryId:((i=e.category)==null?void 0:i.id)||null,parentCategory:((l=e.category)==null?void 0:l.parent_name)||null,parentCategoryId:((c=e.category)==null?void 0:c.parent)||null}},BS=e=>e.map(t=>{var s;return{id:t.id,name:t.name,slug:t.slug,description:t.description||`Browse our ${t.name} services`,ordering:t.ordering||t.position||0,is_active:t.is_active!==!1,parent:t.parent||null,parent_name:t.parent_name||((s=t.parent)==null?void 0:s.name)||null,children:t.children||t.subcategories||[],depth:t.depth||0,services_count:t.services_count||0,image:t.image,created_at:t.created_at}}),WS=({service:e,onServiceClick:t,currency:s})=>{const a=async()=>{try{await z3(e.id.toString()),t(e)}catch(n){console.error("Failed to increment view count:",n)}};return r.jsx("div",{className:"group cursor-pointer p-2",children:r.jsxs(J,{to:`/service/${e.id}`,onClick:a,className:"block",children:[r.jsxs("div",{className:"relative w-full aspect-video bg-gray-200 dark:bg-slate-700 rounded-lg overflow-hidden",children:[e.image?r.jsx("img",{src:e.image,alt:e.title,className:"w-full h-full object-contain group-hover:scale-105 transition-transform duration-300",onError:n=>{const o=n.target;o.style.display="none";const i=o.parentElement;i&&(i.innerHTML=`
                    <div class="w-full h-full bg-gradient-to-br from-gray-300 to-gray-400 dark:from-slate-600 dark:to-slate-700 flex items-center justify-center">
                      <div class="text-center">
                        <div class="w-12 h-12 mx-auto mb-2 bg-white/20 rounded-full flex items-center justify-center">
                          <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
                          </svg>
                        </div>
                        <span class="text-sm text-white font-medium">${e.title}</span>
                      </div>
                    </div>
                  `)}}):r.jsx("div",{className:"w-full h-full bg-gradient-to-br from-gray-300 to-gray-400 dark:from-slate-600 dark:to-slate-700 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-12 h-12 mx-auto mb-2 bg-white/20 rounded-full flex items-center justify-center",children:r.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),r.jsx("span",{className:"text-sm text-white font-medium",children:e.title})]})}),r.jsx("div",{className:"absolute bottom-2 right-2 bg-black/80 text-white text-xs px-2 py-1 rounded",children:zS(e.price,s)}),r.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/20 transition-all duration-300 flex items-center justify-center",children:r.jsx("div",{className:"w-10 h-10 bg-white/90 rounded-full flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:r.jsxs("svg",{className:"w-5 h-5 text-gray-900",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})})})]}),r.jsxs("div",{className:"mt-4 px-1",children:[r.jsx("h3",{className:"font-medium text-gray-900 dark:text-white text-sm line-clamp-2 group-hover:text-red-600 dark:group-hover:text-blue-400 transition-colors leading-tight mb-2",children:e.title}),r.jsxs("div",{className:"mt-2 flex items-center gap-2 text-xs text-gray-600 dark:text-gray-400 mb-2",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx(Dt,{className:"w-3 h-3 text-yellow-400 fill-current"}),r.jsx("span",{className:"ml-1",children:e.rating.toFixed(1)})]}),r.jsx("span",{children:""}),r.jsxs("span",{children:[e.reviewCount," reviews"]}),r.jsx("span",{children:""}),r.jsxs("span",{children:[e.viewCount," views"]})]}),r.jsx("div",{className:"mt-2 text-xs text-gray-500 dark:text-gray-500",children:e.duration})]})]})})},Cc=({title:e,children:t,isOpen:s,onToggle:a})=>r.jsxs("div",{className:"border-b border-gray-200 dark:border-slate-700 pb-4 mb-4",children:[r.jsxs("button",{onClick:n=>{n.preventDefault(),n.stopPropagation(),a()},className:"flex items-center justify-between w-full text-left font-semibold text-gray-900 dark:text-white hover:text-blue-600 dark:hover:text-blue-400 transition-colors py-3 touch-manipulation bg-gray-50 dark:bg-slate-700/50 rounded-lg px-3",type:"button",children:[r.jsx("span",{className:"text-base lg:text-sm",children:e}),r.jsx("div",{className:`transform transition-transform duration-200 ${s?"rotate-180":"rotate-0"}`,children:r.jsx(fp,{className:"w-5 h-5 lg:w-4 lg:h-4"})})]}),s&&r.jsx("div",{className:"mt-3 space-y-3 lg:space-y-2 bg-white dark:bg-slate-800 rounded-lg p-3",children:t})]}),HS=({priceRanges:e,selectedRanges:t,onRangeChange:s})=>r.jsx("div",{className:"space-y-3 lg:space-y-2",children:e.map(a=>r.jsxs("label",{className:"flex items-center py-2 lg:py-1 touch-manipulation",children:[r.jsx("input",{type:"checkbox",checked:t.includes(a.label),onChange:()=>s(a.label),className:"w-5 h-5 lg:w-4 lg:h-4 rounded border-gray-300 dark:border-slate-600 text-blue-600 dark:text-blue-400 focus:ring-blue-500 dark:focus:ring-blue-400 touch-manipulation"}),r.jsx("span",{className:"ml-3 lg:ml-2 text-base lg:text-sm text-gray-700 dark:text-gray-300",children:a.label})]},a.label))}),Gh=()=>{const{categoryName:e,id:t}=Va(),[s]=fo(),a=!!t,n=a?t:s.get("category")||e,{settings:o}=jt(),i=B=>Qh.find(Z=>Z.code===B)||Qh[0],[l,c]=y.useState([]),[d,u]=y.useState([]),[m,h]=y.useState(!0),[v,g]=y.useState(null),[w,x]=y.useState(!1),[f,b]=y.useState([]),[p,k]=y.useState([]),[E,_]=y.useState("name"),[j,N]=y.useState(!0),[S,A]=y.useState(!0),[M,F]=y.useState(!1),U=y.useRef(null),X=i((o==null?void 0:o.currency)||"GBP").symbol,me=[{label:`Under ${X}50`,min:0,max:50},{label:`${X}50 - ${X}100`,min:50,max:100},{label:`${X}100 - ${X}200`,min:100,max:200},{label:`${X}200 - ${X}500`,min:200,max:500},{label:`Over ${X}500`,min:500,max:null}],de=B=>l.filter(Z=>Z.rating&&Z.rating>=B).length,te=[{label:"4+ Stars",value:"4",count:de(4)},{label:"3+ Stars",value:"3",count:de(3)},{label:"2+ Stars",value:"2",count:de(2)},{label:"1+ Stars",value:"1",count:de(1)}],O=[{label:"Name (A-Z)",value:"name"},{label:"Name (Z-A)",value:"name-desc"},{label:"Price (Low to High)",value:"price"},{label:"Price (High to Low)",value:"price-desc"},{label:"Rating (High to Low)",value:"rating"},{label:"Most Reviews",value:"reviews"}];y.useEffect(()=>{(async()=>{try{h(!0),g(null);const[Z,ue]=await Promise.all([Jp(),al()]),he=Array.isArray(Z)?Z:Z.results||[],dt=Array.isArray(ue)?ue:ue.results||[],kt=BS(dt),L=he.map(G=>US(G));c(L),u(kt)}catch(Z){console.error("Failed to fetch services data:",Z),g("Failed to load services. Please try again later.")}finally{h(!1)}})()},[]),y.useEffect(()=>{window.scrollTo({top:0,left:0,behavior:"smooth"})},[]),y.useEffect(()=>{n&&window.scrollTo({top:0,left:0,behavior:"smooth"})},[n]),y.useEffect(()=>{(f.length>0||p.length>0||E!=="name")&&window.scrollTo({top:0,left:0,behavior:"smooth"})},[f,p,E]),y.useEffect(()=>{const B=document.createElement("style");return B.textContent=`
      .line-clamp-2 {
        display: -webkit-box;
        -webkit-line-clamp: 2;
        -webkit-box-orient: vertical;
        overflow: hidden;
      }
      
      .aspect-video {
        aspect-ratio: 16 / 9;
      }
      
      @supports not (aspect-ratio: 16 / 9) {
        .aspect-video {
          position: relative;
          padding-bottom: 56.25%; /* 16:9 aspect ratio */
        }
        
        .aspect-video > * {
          position: absolute;
          top: 0;
          left: 0;
          width: 100%;
          height: 100%;
        }
      }
    `,document.head.appendChild(B),()=>{document.head.removeChild(B)}},[]),y.useEffect(()=>{const B=U.current;if(B){const Z=ue=>{ue.preventDefault(),ue.stopPropagation(),ue.stopImmediatePropagation(),console.log("Direct event listener triggered, current showFilters:",w),x(!w)};return B.addEventListener("click",Z,!0),B.addEventListener("touchstart",Z,!0),B.addEventListener("mousedown",Z,!0),()=>{B.removeEventListener("click",Z,!0),B.removeEventListener("touchstart",Z,!0),B.removeEventListener("mousedown",Z,!0)}}},[w]);const se=y.useMemo(()=>{let B=l.filter(Z=>{var ue,he,dt,kt,L,G;if(!n)return!0;if(a){if(!(Z.categoryId===parseInt(n)||Z.parentCategoryId===parseInt(n)))return!1}else if(!(((ue=Z.parentCategory)==null?void 0:ue.toLowerCase())===n.toLowerCase()||((he=Z.category)==null?void 0:he.toLowerCase())===n.toLowerCase()||((dt=Z.parentCategory)==null?void 0:dt.toLowerCase().replace(/\s+/g,"-"))===(e==null?void 0:e.toLowerCase())||((kt=Z.category)==null?void 0:kt.toLowerCase().replace(/\s+/g,"-"))===(e==null?void 0:e.toLowerCase())||((L=Z.parentCategory)==null?void 0:L.toLowerCase())===(e==null?void 0:e.toLowerCase().replace(/-/g," "))||((G=Z.category)==null?void 0:G.toLowerCase())===(e==null?void 0:e.toLowerCase().replace(/-/g," "))))return!1;return!(f.length>0&&!f.some(H=>{const R=me.find(q=>q.label===H);return R?R.max===null?Z.price>=R.min:Z.price>=R.min&&Z.price<=R.max:!1})||p.length>0&&!p.some(H=>Z.rating>=parseFloat(H)))});return B.sort((Z,ue)=>{switch(E){case"name":return Z.title.localeCompare(ue.title);case"name-desc":return ue.title.localeCompare(Z.title);case"price":return Z.price-ue.price;case"price-desc":return ue.price-Z.price;case"rating":return ue.rating-Z.rating;case"reviews":return ue.reviewCount-Z.reviewCount;default:return 0}}),B},[l,n,f,p,E]),V=a?d.find(B=>B.id===parseInt(n||"0")):d.find(B=>B.name.toLowerCase()===(n==null?void 0:n.toLowerCase())||B.name.toLowerCase().replace(/\s+/g,"-")===(e==null?void 0:e.toLowerCase())),T=()=>{},$=B=>{b(Z=>Z.includes(B)?Z.filter(ue=>ue!==B):[...Z,B])},Y=B=>{k(Z=>Z.includes(B)?Z.filter(ue=>ue!==B):[...Z,B])},Q=()=>{b([]),k([]),_("name")},pe=f.length>0||p.length>0||E!=="name";return m?r.jsx(yr,{message:"Loading services..."}):v?r.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-slate-900",children:r.jsx("div",{className:"container mx-auto px-4 py-8",children:r.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:r.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),r.jsxs("div",{className:"ml-3",children:[r.jsx("h3",{className:"text-sm font-medium text-red-800 dark:text-red-200",children:"Error loading services"}),r.jsx("div",{className:"mt-2 text-sm text-red-700 dark:text-red-300",children:v})]})]})})})}):r.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-slate-900",children:[r.jsx(Ye,{pageTitle:`${(V==null?void 0:V.name)||n} Services`}),r.jsxs("div",{className:"container mx-auto px-4 py-8",children:[r.jsx(Re,{className:"mb-6"}),r.jsxs("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-4xl font-bold text-gray-900 dark:text-white mb-4",children:(V==null?void 0:V.name)||n}),r.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-300 max-w-4xl leading-relaxed",children:(V==null?void 0:V.description)||`Professional installation and setup of ${n} systems.`})]}),r.jsxs("div",{className:"lg:hidden mb-8",onClick:B=>B.stopPropagation(),children:[r.jsxs("div",{className:"mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Filter Services"}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Refine your search by price, rating, and more"})]}),r.jsxs("div",{ref:U,onClick:B=>{B.preventDefault(),B.stopPropagation(),B.nativeEvent.stopImmediatePropagation(),console.log("Filter button clicked, current showFilters:",w),x(!w)},onMouseDown:B=>{B.preventDefault(),B.stopPropagation()},onTouchStart:B=>{B.preventDefault(),B.stopPropagation()},className:"w-full flex items-center justify-between px-6 py-4 bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 border-2 border-blue-200 dark:border-blue-700 rounded-xl text-blue-900 dark:text-blue-100 hover:from-blue-100 hover:to-indigo-100 dark:hover:from-blue-900/30 dark:hover:to-indigo-900/30 transition-all duration-200 touch-manipulation cursor-pointer shadow-sm hover:shadow-md",role:"button",tabIndex:0,onKeyDown:B=>{(B.key==="Enter"||B.key===" ")&&(B.preventDefault(),B.stopPropagation(),x(!w))},style:{pointerEvents:"auto"},children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(x2,{className:"w-5 h-5"}),r.jsx("span",{className:"font-medium",children:"Filters"}),pe&&r.jsx("span",{className:"bg-blue-600 text-white text-xs rounded-full w-6 h-6 flex items-center justify-center font-semibold",children:f.length+p.length+(E!=="name"?1:0)})]}),r.jsx("div",{className:`transform transition-transform duration-200 ${w?"rotate-180":"rotate-0"}`,children:r.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]}),r.jsx("div",{className:"lg:hidden mb-8",children:r.jsx("div",{className:"h-px bg-gradient-to-r from-transparent via-gray-300 dark:via-slate-600 to-transparent"})}),r.jsxs("div",{className:"flex gap-8",children:[r.jsx("div",{className:`${w?"block":"hidden"} lg:block w-full lg:w-80 flex-shrink-0`,children:r.jsxs("div",{className:"bg-gradient-to-b from-white to-gray-50 dark:from-slate-800 dark:to-slate-900 rounded-xl border-2 border-gray-200 dark:border-slate-700 p-4 lg:p-6 sticky top-8 shadow-lg",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Filter Services"}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"Refine your search"})]}),pe&&r.jsx("button",{onClick:Q,className:"text-base lg:text-sm text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 transition-colors py-2 px-3 lg:py-1 lg:px-2 touch-manipulation bg-blue-50 dark:bg-blue-900/20 rounded-lg hover:bg-blue-100 dark:hover:bg-blue-900/30",children:"Clear All"})]}),r.jsx(Cc,{title:"Price Range",isOpen:j,onToggle:()=>N(!j),children:r.jsx(HS,{priceRanges:me,selectedRanges:f,onRangeChange:$})}),r.jsx(Cc,{title:"Rating",isOpen:S,onToggle:()=>A(!S),children:r.jsx("div",{className:"space-y-3 lg:space-y-2",children:te.map(B=>r.jsxs("label",{className:"flex items-center justify-between py-2 lg:py-1 touch-manipulation",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",checked:p.includes(B.value),onChange:()=>Y(B.value),className:"w-5 h-5 lg:w-4 lg:h-4 rounded border-gray-300 dark:border-slate-600 text-blue-600 dark:text-blue-400 focus:ring-blue-500 dark:focus:ring-blue-400 touch-manipulation"}),r.jsx("span",{className:"ml-3 lg:ml-2 text-base lg:text-sm text-gray-700 dark:text-gray-300",children:B.label})]}),r.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 bg-gray-100 dark:bg-slate-600 px-2 py-1 rounded-full",children:B.count})]},B.value))})}),r.jsx(Cc,{title:"Sort By",isOpen:M,onToggle:()=>F(!M),children:r.jsx("div",{className:"space-y-3 lg:space-y-2",children:O.map(B=>r.jsxs("label",{className:"flex items-center py-2 lg:py-1 touch-manipulation",children:[r.jsx("input",{type:"radio",name:"sort",checked:E===B.value,onChange:()=>_(B.value),className:"w-5 h-5 lg:w-4 lg:h-4 border-gray-300 dark:border-slate-600 text-blue-600 dark:text-blue-400 focus:ring-blue-500 dark:focus:ring-blue-400 touch-manipulation"}),r.jsx("span",{className:"ml-3 lg:ml-2 text-base lg:text-sm text-gray-700 dark:text-gray-300",children:B.label})]},B.value))})})]})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"flex items-center justify-between mb-6",children:r.jsxs("div",{className:"text-gray-600 dark:text-gray-300",children:[r.jsx("span",{className:"font-medium",children:se.length})," services found"]})}),se.length>0?r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 md:gap-6",children:se.map(B=>r.jsx(WS,{service:B,onServiceClick:T,currency:i((o==null?void 0:o.currency)||"GBP")},B.id))}):r.jsxs("div",{className:"text-center py-12",children:[r.jsx("div",{className:"w-24 h-24 mx-auto mb-4 bg-gray-200 dark:bg-slate-700 rounded-full flex items-center justify-center",children:r.jsx(Id,{className:"w-12 h-12 text-gray-400 dark:text-gray-500"})}),r.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"No Services Found"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-6",children:"Try adjusting your filters to see more results."}),r.jsx("button",{onClick:Q,className:"inline-flex items-center gap-2 px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors font-medium touch-manipulation",children:"Clear All Filters"})]})]})]})]})]})},qS=()=>{const{storeSettings:e}=Ya();return r.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-slate-900",children:[r.jsx(Ye,{pageTitle:"About"}),r.jsxs("div",{className:"container mx-auto px-4 py-8",children:[r.jsx(Re,{className:"mb-6"}),r.jsxs("div",{className:"max-w-7xl mx-auto",children:[r.jsxs("h1",{className:"text-4xl font-bold text-gray-900 dark:text-white mb-8",children:["About ",(e==null?void 0:e.store_name)||"Store"]}),r.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg border border-gray-200 dark:border-slate-700 p-8 mb-8",children:[e!=null&&e.about_us_picture?r.jsx("div",{className:"flex justify-center mb-6",children:r.jsx("img",{src:e.about_us_picture,alt:`About ${(e==null?void 0:e.store_name)||"Store"}`,className:"object-contain rounded-lg",style:{width:"740px",height:"740px",maxWidth:"100%",maxHeight:"100%"}})}):r.jsx("div",{className:"flex justify-center mb-6",children:r.jsx(Hr,{ratio:"1/1",className:"w-full max-w-[740px] h-[740px]",children:r.jsx("div",{className:"text-gray-400 dark:text-slate-500",children:"About Us Image"})})}),r.jsxs("div",{className:"prose max-w-none",children:[r.jsx("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-4",children:"Our Story"}),r.jsxs("p",{className:"text-gray-600 dark:text-slate-300 mb-6",children:[(e==null?void 0:e.store_name)||"Store"," is your premier destination for the latest Sppixs and technology products. Founded with a passion for innovation and quality, we've been serving customers worldwide with the best selection of laptops, smartphones, cameras, and accessories."]}),r.jsx("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-4",children:"Our Mission"}),r.jsx("p",{className:"text-gray-600 dark:text-slate-300 mb-6",children:"We believe that technology should be accessible to everyone. Our mission is to provide high-quality Sppixs at competitive prices, backed by exceptional customer service and support."}),r.jsxs("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-4",children:["Why Choose ",(e==null?void 0:e.store_name)||"Store","?"]}),r.jsxs("ul",{className:"list-disc list-inside text-gray-600 dark:text-slate-300 space-y-2",children:[r.jsx("li",{children:"Wide selection of top brands and products"}),r.jsx("li",{children:"Competitive pricing and regular deals"}),r.jsx("li",{children:"Fast and reliable shipping"}),r.jsx("li",{children:"24/7 customer support"}),r.jsx("li",{children:"Easy returns and exchanges"}),r.jsx("li",{children:"Secure payment processing"})]})]})]})]})]})]})},VS=()=>{var w,x,f;const[e,t]=y.useState({phone:"",email:"",city:"",country:"",address:"",businessHours:{mondayFriday:"Monday - Friday: 9:00 AM - 6:00 PM",saturday:"Saturday: 10:00 AM - 4:00 PM",sunday:"Sunday: Closed"}}),[s,a]=y.useState(!0),[n,o]=y.useState(null);console.log("Contact page - contactInfo:",e),console.log("Contact page - loading:",s),console.log("Contact page - error:",n),y.useEffect(()=>{(async()=>{try{a(!0),console.log("Contact page - Fetching contact info...");const p=await fetch("http://127.0.0.1:8001/api/public/store-settings/");if(p.ok){const k=await p.json();console.log("Contact page - Received data:",k);const E={phone:k.phone||"",email:k.email||"",city:k.city||"",country:k.country||"",address:k.street_address||"",businessHours:{mondayFriday:k.monday_friday_hours||"Monday - Friday: 9:00 AM - 6:00 PM",saturday:k.saturday_hours||"Saturday: 10:00 AM - 4:00 PM",sunday:k.sunday_hours||"Sunday: Closed"}};console.log("Contact page - Mapped data:",E),t(E),o(null)}else o("Failed to load contact information")}catch(p){o("Failed to load contact information"),console.error("Error loading contact info:",p)}finally{a(!1)}})()},[]);const[i,l]=y.useState({name:"",email:"",subject:"",message:""}),[c,d]=y.useState(!1),[u,m]=y.useState("idle"),[h,v]=y.useState(""),g=async b=>{b.preventDefault(),d(!0),m("idle");try{(await fetch("http://127.0.0.1:8001/api/public/contacts/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)})).ok?(m("success"),v("Thank you for your message. We will get back to you soon!"),l({name:"",email:"",subject:"",message:""})):(m("error"),v("Failed to send message. Please try again."))}catch{m("error"),v("Failed to send message. Please try again.")}finally{d(!1)}};return r.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-slate-900",children:[r.jsx(Ye,{pageTitle:"Contact"}),r.jsxs("div",{className:"container mx-auto px-4 py-8",children:[r.jsx(Re,{className:"mb-6"}),r.jsxs("div",{className:"max-w-6xl mx-auto",children:[r.jsx("h1",{className:"text-4xl font-bold text-gray-900 dark:text-white mb-8",children:"Contact Us"}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[r.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg border border-gray-200 dark:border-slate-700 p-8",children:[r.jsx("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-6",children:"Send us a message"}),r.jsxs("form",{onSubmit:g,className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Name"}),r.jsx("input",{type:"text",value:i.name,onChange:b=>l({...i,name:b.target.value}),className:"w-full px-4 py-3 border border-gray-300 dark:border-slate-600 bg-white dark:bg-slate-700 text-gray-900 dark:text-white rounded-md focus:ring-2 focus:ring-primary dark:focus:ring-blue-500 focus:border-transparent",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Email"}),r.jsx("input",{type:"email",value:i.email,onChange:b=>l({...i,email:b.target.value}),className:"w-full px-4 py-3 border border-gray-300 dark:border-slate-600 bg-white dark:bg-slate-700 text-gray-900 dark:text-white rounded-md focus:ring-2 focus:ring-primary dark:focus:ring-blue-500 focus:border-transparent",required:!0})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Subject"}),r.jsx("input",{type:"text",value:i.subject,onChange:b=>l({...i,subject:b.target.value}),className:"w-full px-4 py-3 border border-gray-300 dark:border-slate-600 bg-white dark:bg-slate-700 text-gray-900 dark:text-white rounded-md focus:ring-2 focus:ring-primary dark:focus:ring-blue-500 focus:border-transparent",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Message"}),r.jsx("textarea",{value:i.message,onChange:b=>l({...i,message:b.target.value}),rows:6,className:"w-full px-4 py-3 border border-gray-300 dark:border-slate-600 bg-white dark:bg-slate-700 text-gray-900 dark:text-white rounded-md focus:ring-2 focus:ring-primary dark:focus:ring-blue-500 focus:border-transparent",required:!0})]}),u==="success"&&r.jsx("div",{className:"mb-4 p-4 bg-green-100 dark:bg-green-900 border border-green-400 dark:border-green-600 text-green-700 dark:text-green-300 rounded-md",children:h}),u==="error"&&r.jsx("div",{className:"mb-4 p-4 bg-red-100 dark:bg-red-900 border border-red-400 dark:border-red-600 text-red-700 dark:text-red-300 rounded-md",children:h}),r.jsx("button",{type:"submit",disabled:c,className:`w-full py-3 px-4 rounded-md transition-colors ${c?"bg-gray-400 dark:bg-gray-600 cursor-not-allowed text-white":"bg-primary dark:bg-blue-600 text-white hover:bg-primary-600 dark:hover:bg-blue-700"}`,children:c?"Sending...":"Send Message"})]})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg border border-gray-200 dark:border-slate-700 p-8",children:[r.jsx("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-6",children:"Get in touch"}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-start space-x-4",children:[r.jsx(Wt,{className:"w-6 h-6 text-primary dark:text-blue-400 mt-1"}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium text-gray-900 dark:text-white",children:"Email"}),s?r.jsx("p",{className:"text-gray-400 dark:text-gray-500",children:"Loading..."}):n?r.jsx("p",{className:"text-gray-400 dark:text-gray-500",children:"Email not available"}):r.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:e.email||"Email not set"})]})]}),r.jsxs("div",{className:"flex items-start space-x-4",children:[r.jsx(At,{className:"w-6 h-6 text-primary dark:text-blue-400 mt-1"}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium text-gray-900 dark:text-white",children:"Phone"}),s?r.jsx("p",{className:"text-gray-400 dark:text-gray-500",children:"Loading..."}):n?r.jsx("p",{className:"text-gray-400 dark:text-gray-500",children:"Phone not available"}):r.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:e.phone||"Phone not set"})]})]}),r.jsxs("div",{className:"flex items-start space-x-4",children:[r.jsx(Ia,{className:"w-6 h-6 text-primary dark:text-blue-400 mt-1"}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium text-gray-900 dark:text-white",children:"Address"}),s?r.jsx("p",{className:"text-gray-400 dark:text-gray-500",children:"Loading..."}):n?r.jsx("p",{className:"text-gray-400 dark:text-gray-500",children:"Address not available"}):r.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:e.address||"Address not set"})]})]}),r.jsxs("div",{className:"flex items-start space-x-4",children:[r.jsx(Ot,{className:"w-6 h-6 text-primary dark:text-blue-400 mt-1"}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium text-gray-900 dark:text-white",children:"Business Hours"}),s?r.jsx("p",{className:"text-gray-400 dark:text-gray-500",children:"Loading..."}):n?r.jsx("p",{className:"text-gray-400 dark:text-gray-500",children:"Business hours not available"}):r.jsxs("p",{className:"text-gray-600 dark:text-gray-300",children:[((w=e.businessHours)==null?void 0:w.mondayFriday)||"Monday - Friday: 9:00 AM - 6:00 PM",r.jsx("br",{}),((x=e.businessHours)==null?void 0:x.saturday)||"Saturday: 10:00 AM - 4:00 PM",r.jsx("br",{}),((f=e.businessHours)==null?void 0:f.sunday)||"Sunday: Closed"]})]})]})]})]}),r.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg border border-gray-200 dark:border-slate-700 p-8",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Customer Support"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-4",children:"Our customer support team is here to help you with any questions or concerns. We typically respond within 24 hours."}),r.jsxs("div",{className:"space-y-2 text-sm text-gray-600 dark:text-gray-300",children:[r.jsx("p",{children:" Product inquiries and recommendations"}),r.jsx("p",{children:" Order status and tracking"}),r.jsx("p",{children:" Returns and exchanges"}),r.jsx("p",{children:" Technical support"}),r.jsx("p",{children:" Account assistance"})]})]})]})]})]})]})]})},QS=()=>r.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 transition-colors duration-300",children:[r.jsx(Ye,{pageTitle:"Privacy Policy"}),r.jsxs("div",{className:"container mx-auto px-4 py-8",children:[r.jsx(Re,{className:"mb-6"}),r.jsxs("div",{className:"max-w-4xl mx-auto",children:[r.jsx("h1",{className:"text-4xl font-bold text-gray-900 dark:text-white mb-8 transition-colors duration-300",children:"Privacy Policy"}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-8 transition-colors duration-300",children:r.jsxs("div",{className:"prose max-w-none",children:[r.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-6 transition-colors duration-300",children:"Last updated: August 22, 2025"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-6 transition-colors duration-300",children:'sppix operates this store and website, including all related information, content, features, tools, products and services, in order to provide you, the customer, with a curated shopping experience (the "Services"). sppix is powered by Shopify, which enables us to provide the Services to you. This Privacy Policy describes how we collect, use, and disclose your personal information when you visit, use, or make a purchase or other transaction using the Services or otherwise communicate with us. If there is a conflict between our Terms of Service and this Privacy Policy, this Privacy Policy controls with respect to the collection, processing, and disclosure of your personal information.'}),r.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-8 transition-colors duration-300",children:"Please read this Privacy Policy carefully. By using and accessing any of the Services, you acknowledge that you have read this Privacy Policy and understand the collection, use, and disclosure of your information as described in this Privacy Policy."}),r.jsx("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-4 transition-colors duration-300",children:"Personal Information We Collect or Process"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-4 transition-colors duration-300",children:'When we use the term "personal information," we are referring to information that identifies or can reasonably be linked to you or another person. Personal information does not include information that is collected anonymously or that has been de-identified, so that it cannot identify or be reasonably linked to you. We may collect or process the following categories of personal information, including inferences drawn from this personal information, depending on how you interact with the Services, where you live, and as permitted or required by applicable law:'}),r.jsxs("ul",{className:"text-gray-600 dark:text-gray-300 mb-6 transition-colors duration-300 list-disc pl-6 space-y-2",children:[r.jsxs("li",{children:[r.jsx("strong",{children:"Contact details"})," including your name, address, billing address, shipping address, phone number, and email address."]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Financial information"})," including credit card, debit card, and financial account numbers, payment card information, financial account information, transaction details, form of payment, payment confirmation and other payment details."]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Account information"})," including your username, password, security questions, preferences and settings."]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Transaction information"})," including the items you view, put in your cart, add to your wishlist, or purchase, return, exchange or cancel and your past transactions."]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Communications with us"})," including the information you include in communications with us, for example, when sending a customer support inquiry."]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Device information"})," including information about your device, browser, or network connection, your IP address, and other unique identifiers."]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Usage information"})," including information regarding your interaction with the Services, including how and when you interact with or navigate the Services."]})]}),r.jsx("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-4 transition-colors duration-300",children:"Personal Information Sources"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-4 transition-colors duration-300",children:"We may collect personal information from the following sources:"}),r.jsxs("ul",{className:"text-gray-600 dark:text-gray-300 mb-6 transition-colors duration-300 list-disc pl-6 space-y-2",children:[r.jsxs("li",{children:[r.jsx("strong",{children:"Directly from you"})," including when you create an account, visit or use the Services, communicate with us, or otherwise provide us with your personal information;"]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Automatically through the Services"})," including from your device when you use our products or services or visit our websites, and through the use of cookies and similar technologies;"]}),r.jsxs("li",{children:[r.jsx("strong",{children:"From our service providers"})," including when we engage them to enable certain technology and when they collect or process your personal information on our behalf;"]}),r.jsx("li",{children:r.jsx("strong",{children:"From our partners or other third parties."})})]}),r.jsx("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-4 transition-colors duration-300",children:"How We Use Your Personal Information"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-4 transition-colors duration-300",children:"Depending on how you interact with us or which of the Services you use, we may use personal information for the following purposes:"}),r.jsxs("ul",{className:"text-gray-600 dark:text-gray-300 mb-6 transition-colors duration-300 list-disc pl-6 space-y-2",children:[r.jsxs("li",{children:[r.jsx("strong",{children:"Provide, Tailor, and Improve the Services."})," We use your personal information to provide you with the Services, including to perform our contract with you, to process your payments, to fulfill your orders, to remember your preferences and items you are interested in, to send notifications to you related to your account, to process purchases, returns, exchanges or other transactions, to create, maintain and otherwise manage your account, to arrange for shipping, to facilitate any returns and exchanges, to enable you to post reviews, and to create a customized shopping experience for you, such as recommending products related to your purchases. This may include using your personal information to better tailor and improve the Services."]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Marketing and Advertising."})," We use your personal information for marketing and promotional purposes, such as to send marketing, advertising and promotional communications by email, text message or postal mail, and to show you online advertisements for products or services on the Services or other websites, including based on items you previously have purchased or added to your cart and other activity on the Services."]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Security and Fraud Prevention."})," We use your personal information to authenticate your account, to provide a secure payment and shopping experience, detect, investigate or take action regarding possible fraudulent, illegal, unsafe, or malicious activity, protect public safety, and to secure our services. If you choose to use the Services and register an account, you are responsible for keeping your account credentials safe. We highly recommend that you do not share your username, password or other access details with anyone else."]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Communicating with You."})," We use your personal information to provide you with customer support, to be responsive to you, to provide effective services to you and to maintain our business relationship with you."]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Legal Reasons."})," We use your personal information to comply with applicable law or respond to valid legal process, including requests from law enforcement or government agencies, to investigate or participate in civil discovery, potential or actual litigation, or other adversarial legal proceedings, and to enforce or investigate potential violations of our terms or policies."]})]}),r.jsx("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-4 transition-colors duration-300",children:"How We Disclose Personal Information"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-4 transition-colors duration-300",children:"In certain circumstances, we may disclose your personal information to third parties for legitimate purposes subject to this Privacy Policy. Such circumstances may include:"}),r.jsxs("ul",{className:"text-gray-600 dark:text-gray-300 mb-6 transition-colors duration-300 list-disc pl-6 space-y-2",children:[r.jsx("li",{children:"With Shopify, vendors and other third parties who perform services on our behalf (e.g. IT management, payment processing, data analytics, customer support, cloud storage, fulfillment and shipping)."}),r.jsx("li",{children:"With business and marketing partners to provide marketing services and advertise to you. For example, we use Shopify to support personalized advertising with third-party services based on your online activity with different merchants and websites. Our business and marketing partners will use your information in accordance with their own privacy notices. Depending on where you reside, you may have a right to direct us not to share information about you to show you targeted advertisements and marketing based on your online activity with different merchants and websites. You can exercise your rights to opt-out of those uses here."}),r.jsx("li",{children:"When you direct, request us or otherwise consent to our disclosure of certain information to third parties, such as to ship you products or through your use of social media widgets or login integrations."}),r.jsx("li",{children:"With our affiliates or otherwise within our corporate group."}),r.jsx("li",{children:"In connection with a business transaction such as a merger or bankruptcy, to comply with any applicable legal obligations (including to respond to subpoenas, search warrants and similar requests), to enforce any applicable terms of service or policies, and to protect or defend the Services, our rights, and the rights of our users or others."})]}),r.jsx("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-4 transition-colors duration-300",children:"Relationship with Shopify"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-6 transition-colors duration-300",children:"The Services are hosted by Shopify, which collects and processes personal information about your access to and use of the Services in order to provide and improve the Services for you. Information you submit to the Services will be transmitted to and shared with Shopify as well as third parties that may be located in countries other than where you reside, in order to provide and improve the Services for you. In addition, to help protect, grow, and improve our business, we use certain Shopify enhanced features that incorporate data and information obtained from your interactions with our Store, along with other merchants and with Shopify. To provide these enhanced features, Shopify may make use of personal information collected about your interactions with our store, along with other merchants, and with Shopify. In these circumstances, Shopify is responsible for the processing of your personal information, including for responding to your requests to exercise your rights over use of your personal information for these purposes. To learn more about how Shopify uses your personal information and any rights you may have, you can visit the Shopify Consumer Privacy Policy. Depending on where you live, you may exercise certain rights with respect to your personal information here Shopify Privacy Portal Link."}),r.jsx("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-4 transition-colors duration-300",children:"Third Party Websites and Links"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-6 transition-colors duration-300",children:"The Services may provide links to websites or other online platforms operated by third parties. If you follow links to sites not affiliated or controlled by us, you should review their privacy and security policies and other terms and conditions. We do not guarantee and are not responsible for the privacy or security of such sites, including the accuracy, completeness, or reliability of information found on these sites. Information you provide on public or semi-public venues, including information you share on third-party social networking platforms may also be viewable by other users of the Services and/or users of those third-party platforms without limitation as to its use by us or by a third party. Our inclusion of such links does not, by itself, imply any endorsement of the content on such platforms or of their owners or operators, except as disclosed on the Services."}),r.jsx("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-4 transition-colors duration-300",children:"Children's Data"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-6 transition-colors duration-300",children:'The Services are not intended to be used by children, and we do not knowingly collect any personal information about children under the age of majority in your jurisdiction. If you are the parent or guardian of a child who has provided us with their personal information, you may contact us using the contact details set out below to request that it be deleted. As of the Effective Date of this Privacy Policy, we do not have actual knowledge that we "share" or "sell" (as those terms are defined in applicable law) personal information of individuals under 16 years of age.'}),r.jsx("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-4 transition-colors duration-300",children:"Security and Retention of Your Information"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-4 transition-colors duration-300",children:'Please be aware that no security measures are perfect or impenetrable, and we cannot guarantee "perfect security." In addition, any information you send to us may not be secure while in transit. We recommend that you do not use unsecure channels to communicate sensitive or confidential information to us.'}),r.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-6 transition-colors duration-300",children:"How long we retain your personal information depends on different factors, such as whether we need the information to maintain your account, to provide you with Services, comply with legal obligations, resolve disputes or enforce other applicable contracts and policies."}),r.jsx("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-4 transition-colors duration-300",children:"Your Rights and Choices"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-4 transition-colors duration-300",children:"Depending on where you live, you may have some or all of the rights listed below in relation to your personal information. However, these rights are not absolute, may apply only in certain circumstances and, in certain cases, we may decline your request as permitted by law."}),r.jsxs("ul",{className:"text-gray-600 dark:text-gray-300 mb-6 transition-colors duration-300 list-disc pl-6 space-y-2",children:[r.jsxs("li",{children:[r.jsx("strong",{children:"Right to Access / Know."})," You may have a right to request access to personal information that we hold about you."]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Right to Delete."})," You may have a right to request that we delete personal information we maintain about you."]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Right to Correct."})," You may have a right to request that we correct inaccurate personal information we maintain about you."]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Right of Portability."})," You may have a right to receive a copy of the personal information we hold about you and to request that we transfer it to a third party, in certain circumstances and with certain exceptions."]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Right to Opt out of Sale or Sharing for Targeted Advertising."}),' Depending on where you reside, you may have a right to opt out of the "sale" or "share" of your personal information or to opt out of the processing of your personal information for purposes considered to be "targeted advertising", as defined in applicable privacy laws. You can exercise your rights to opt-out of those uses here. Please note that if you visit our website with the Global Privacy Control opt-out preference signal enabled, depending on where you are, we will automatically treat this as a request to opt-out for the device and browser that you use to visit the website. If we are able to associate the device sending the signal to a Shopify account, we will apply the opt out request to the account as well. To learn more about Global Privacy Control, you can visit https://globalprivacycontrol.org/. Other than the Global Privacy Control, we do not recognize other "Do Not Track" signals that may be sent from your web browser or device.']}),r.jsxs("li",{children:[r.jsx("strong",{children:"Managing Communication Preferences."})," We may send you promotional emails, and you may opt out of receiving these at any time by using the unsubscribe option displayed in our emails to you. If you opt out, we may still send you non-promotional emails, such as those about your account or orders that you have made."]})]}),r.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-4 transition-colors duration-300",children:"If you reside in the UK or European Economic Area, and subject to exceptions and limitations provided by local law, you may exercise the following rights in addition to the rights outlined above:"}),r.jsxs("ul",{className:"text-gray-600 dark:text-gray-300 mb-6 transition-colors duration-300 list-disc pl-6 space-y-2",children:[r.jsxs("li",{children:[r.jsx("strong",{children:"Objection to Processing and Restriction of Processing:"})," You may have the right to ask us to stop or restrict our processing of personal information for certain purposes."]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Withdrawal of Consent:"})," Where we rely on consent to process your personal information, you have the right to withdraw this consent. If you withdraw your consent, this will not affect the lawfulness of any processing based on your consent before its withdrawal."]})]}),r.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-6 transition-colors duration-300",children:"You may exercise any of these rights where indicated on the Services or by contacting us using the contact details provided below. To learn more about how Shopify uses your personal information and any rights you may have, including rights related to data processed by Shopify, you can visit https://privacy.shopify.com/en."}),r.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-6 transition-colors duration-300",children:"We will not discriminate against you for exercising any of these rights. We may need to verify your identity before we can process your requests, as permitted or required under applicable law. In accordance with applicable laws, you may designate an authorized agent to make requests on your behalf to exercise your rights. Before accepting such a request from an agent, we will require that the agent provide proof you have authorized them to act on your behalf, and we may need you to verify your identity directly with us. We will respond to your request in a timely manner as required under applicable law."}),r.jsx("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-4 transition-colors duration-300",children:"Complaints"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-6 transition-colors duration-300",children:"If you have complaints about how we process your personal information, please contact us using the contact details provided below. Depending on where you live, you may have the right to appeal our decision by contacting us using the contact details set out below, or lodge your complaint with your local data protection authority. For the EEA, you can find a list of the responsible data protection supervisory authorities here."}),r.jsx("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-4 transition-colors duration-300",children:"International Transfers"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-4 transition-colors duration-300",children:"Please note that we may transfer, store and process your personal information outside the country you live in."}),r.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-6 transition-colors duration-300",children:"If we transfer your personal information out of the European Economic Area or the United Kingdom, we will rely on recognized transfer mechanisms like the European Commission's Standard Contractual Clauses, or any equivalent contracts issued by the relevant competent authority of the UK, as relevant, unless the data transfer is to a country that has been determined to provide an adequate level of protection."}),r.jsx("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-4 transition-colors duration-300",children:"Changes to This Privacy Policy"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-6 transition-colors duration-300",children:'We may update this Privacy Policy from time to time, including to reflect changes to our practices or for other operational, legal, or regulatory reasons. We will post the revised Privacy Policy on this website, update the "Last updated" date and provide notice as required by applicable law.'}),r.jsx("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-4 transition-colors duration-300",children:"Contact"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-300 transition-colors duration-300",children:"Should you have any questions about our privacy practices or this Privacy Policy, or if you would like to exercise any of the rights available to you, please call or email us at sppix.ltd@gmail.com or contact us at 99 Blackwell Road, ENG, CV6 5JU, GB. For the purpose of applicable data protection laws, we are the data controller of your personal information."})]})})]})]})]}),GS=()=>{const{storeSettings:e}=Ya();return r.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 transition-colors duration-300",children:[r.jsx(Ye,{pageTitle:"Terms of Service"}),r.jsxs("div",{className:"container mx-auto px-4 py-8",children:[r.jsx(Re,{className:"mb-6"}),r.jsxs("div",{className:"max-w-4xl mx-auto",children:[r.jsx("h1",{className:"text-4xl font-bold text-gray-900 dark:text-white mb-8 transition-colors duration-300",children:"Terms of Service"}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-8 transition-colors duration-300",children:r.jsxs("div",{className:"prose max-w-none",children:[r.jsx("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-4 transition-colors duration-300",children:"Acceptance of Terms"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-6 transition-colors duration-300",children:"By accessing and using this website, you accept and agree to be bound by the terms and provision of this agreement."}),r.jsx("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-4 transition-colors duration-300",children:"Use License"}),r.jsxs("p",{className:"text-gray-600 dark:text-gray-300 mb-6 transition-colors duration-300",children:["Permission is granted to temporarily download one copy of the materials on ",(e==null?void 0:e.store_name)||"Store","'s website for personal, non-commercial transitory viewing only."]}),r.jsx("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-4 transition-colors duration-300",children:"Disclaimer"}),r.jsxs("p",{className:"text-gray-600 dark:text-gray-300 mb-6 transition-colors duration-300",children:["The materials on ",(e==null?void 0:e.store_name)||"Store","'s website are provided on an 'as is' basis. ",(e==null?void 0:e.store_name)||"Store"," makes no warranties, expressed or implied, and hereby disclaims and negates all other warranties."]}),r.jsx("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-4 transition-colors duration-300",children:"Limitations"}),r.jsxs("p",{className:"text-gray-600 dark:text-gray-300 mb-6 transition-colors duration-300",children:["In no event shall ",(e==null?void 0:e.store_name)||"Store"," or its suppliers be liable for any damages arising out of the use or inability to use the materials on ",(e==null?void 0:e.store_name)||"Store","'s website."]}),r.jsx("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-4 transition-colors duration-300",children:"Governing Law"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-300 transition-colors duration-300",children:"These terms and conditions are governed by and construed in accordance with the laws of the United States."})]})})]})]})]})},YS=()=>{const{contactInfo:e,loading:t,error:s}=v0(),a=[{question:"How do I place an order?",answer:"Simply browse our products, add items to your cart, and proceed to checkout. Follow the steps to complete your purchase."},{question:"What payment methods do you accept?",answer:"We accept all major credit cards, PayPal, Apple Pay, Google Pay, and payment on delivery."},{question:"How long does shipping take?",answer:"Standard shipping takes 3-5 business days. Express shipping takes 1-2 business days."},{question:"Can I return or exchange items?",answer:"Yes, you can return items within 30 days of purchase for a full refund or exchange."},{question:"Do you offer international shipping?",answer:"Currently, we only ship within the United States. International shipping will be available soon."},{question:"How can I track my order?",answer:"You can track your order using the tracking number provided in your order confirmation email."}],n=[{icon:Vs,title:"Ordering",description:"Learn how to place and manage orders"},{icon:Ma,title:"Shipping",description:"Information about delivery and tracking"},{icon:ao,title:"Payment",description:"Payment methods and billing questions"},{icon:Ga,title:"Security",description:"How we protect your information"},{icon:i0,title:"Returns",description:"Return and exchange policies"},{icon:kN,title:"General",description:"Other frequently asked questions"}];return r.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 transition-colors duration-300",children:r.jsxs("div",{className:"container mx-auto px-4 py-8",children:[r.jsx(Re,{className:"mb-6"}),r.jsxs("div",{className:"max-w-6xl mx-auto",children:[r.jsx("h1",{className:"text-4xl font-bold text-gray-900 dark:text-white mb-8 transition-colors duration-300",children:"Help Center"}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-8 mb-8 transition-colors duration-300",children:[r.jsx("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-4 transition-colors duration-300",children:"Search for help"}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"text",placeholder:"Search for help articles, FAQs, or topics...",className:"w-full px-4 py-3 pl-12 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors duration-300"}),r.jsx(Vs,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400 dark:text-gray-500"})]})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-12",children:n.map((o,i)=>r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6 hover:shadow-lg transition-all duration-300 cursor-pointer",children:[r.jsx(o.icon,{className:"w-8 h-8 text-primary mb-4"}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2 transition-colors duration-300",children:o.title}),r.jsx("p",{className:"text-gray-600 dark:text-gray-300 transition-colors duration-300",children:o.description})]},i))}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-8 transition-colors duration-300",children:[r.jsx("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-6 transition-colors duration-300",children:"Frequently Asked Questions"}),r.jsx("div",{className:"space-y-6",children:a.map((o,i)=>r.jsxs("div",{className:"border-b border-gray-200 dark:border-gray-700 pb-6 last:border-b-0 transition-colors duration-300",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2 transition-colors duration-300",children:o.question}),r.jsx("p",{className:"text-gray-600 dark:text-gray-300 transition-colors duration-300",children:o.answer})]},i))})]}),r.jsxs("div",{className:"bg-blue-600 rounded-lg p-8 mt-8 text-white text-center",children:[r.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Still need help?"}),r.jsx("p",{className:"mb-6 opacity-90",children:"Can't find what you're looking for? Our support team is here to help."}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[r.jsx("a",{href:"/contact",className:"bg-white text-blue-600 px-6 py-3 rounded-md font-semibold hover:bg-gray-100 transition-colors",children:"Contact Support"}),r.jsx("a",{href:`mailto:${t||s?"contact@store.com":e.email||"contact@store.com"}`,className:"border border-white text-white px-6 py-3 rounded-md font-semibold hover:bg-white hover:text-blue-600 transition-colors",children:"Email Us"})]})]})]})]})})},KS=()=>{v0();const{settings:e}=jt(),[t,s]=y.useState(""),[a,n]=y.useState(null),[o,i]=y.useState(!1),[l,c]=y.useState(null),d=()=>{if(e!=null&&e.currency){const m=Dr.find(h=>h.code===e.currency);if(m)return m}return{code:"GBP",symbol:"",name:"British Pound"}},u=async m=>{if(m.preventDefault(),!!t.trim()){i(!0),c(null);try{const h=await fetch(`http://127.0.0.1:8001/api/public/track-order/${t}/`);if(h.ok){const v=await h.json();n(v)}else if(h.status===404)c("Order not found. Please check your order number and try again."),n(null);else{const v=await h.json();c(v.error||"Failed to track order. Please try again."),n(null)}}catch{c("Network error. Please check your connection and try again."),n(null)}finally{i(!1)}}};return r.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 transition-colors duration-300",children:r.jsxs("div",{className:"container mx-auto px-4 py-8",children:[r.jsx(Re,{className:"mb-6"}),r.jsxs("div",{className:"max-w-4xl mx-auto",children:[r.jsx("h1",{className:"text-4xl font-bold text-gray-900 dark:text-white mb-8 transition-colors duration-300",children:"Track Your Order"}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-8 mb-8 transition-colors duration-300",children:[r.jsx("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-4 transition-colors duration-300",children:"Enter your order details"}),r.jsxs("form",{onSubmit:u,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 transition-colors duration-300",children:"Order Number"}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"text",value:t,onChange:m=>s(m.target.value),placeholder:"Enter your order number (e.g., 12345)",className:"w-full px-4 py-3 pl-12 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors duration-300",required:!0}),r.jsx(Vs,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400 dark:text-gray-500"})]})]}),l&&r.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-md p-3",children:r.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:l})}),r.jsx("button",{type:"submit",disabled:o,className:"w-full bg-blue-600 text-white py-3 px-4 rounded-md hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:o?"Tracking...":"Track Order"})]}),r.jsx("div",{className:"mt-6 pt-6 border-t border-gray-200 dark:border-gray-700",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2 transition-colors duration-300",children:"Need Help?"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-300 transition-colors duration-300",children:"Contact our support team for assistance with your order."})]}),r.jsxs("a",{href:"/contact",className:"bg-blue-600 text-white px-6 py-3 rounded-md font-semibold hover:bg-blue-700 transition-colors flex items-center space-x-2",children:[r.jsx(Wt,{className:"w-5 h-5"}),r.jsx("span",{children:"Contact Us"})]})]})})]}),a&&r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-8 transition-colors duration-300",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{children:[r.jsxs("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white transition-colors duration-300",children:["Order #",a.id]}),r.jsxs("p",{className:"text-gray-600 dark:text-gray-300 transition-colors duration-300",children:["Tracking: ",a.tracking_id]})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx("span",{className:`inline-block px-3 py-1 text-sm font-medium rounded-full ${a.status==="delivered"?"bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200":a.status==="shipped"?"bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200":a.status==="processing"?"bg-purple-100 dark:bg-purple-900 text-purple-800 dark:text-purple-200":a.status==="pending"?"bg-yellow-100 dark:bg-yellow-900 text-yellow-800 dark:text-yellow-200":"bg-gray-100 dark:bg-gray-900 text-gray-800 dark:text-gray-200"} transition-colors duration-300`,children:a.status_display||a.status.charAt(0).toUpperCase()+a.status.slice(1)}),r.jsx("div",{children:r.jsxs("span",{className:`inline-block px-3 py-1 text-sm font-medium rounded-full ${a.payment_status==="paid"?"bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200":a.payment_status==="unpaid"?"bg-red-100 dark:bg-red-900 text-red-800 dark:text-red-200":a.payment_status==="failed"?"bg-orange-100 dark:bg-orange-900 text-orange-800 dark:text-orange-200":"bg-gray-100 dark:bg-gray-900 text-gray-800 dark:text-gray-200"} transition-colors duration-300`,children:["Payment: ",a.payment_status_display||a.payment_status]})})]}),r.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300 mt-2 transition-colors duration-300",children:["Created: ",new Date(a.created_at).toLocaleDateString()]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 transition-colors duration-300",children:"Order Items"}),r.jsx("div",{className:"space-y-3",children:a.items.map(m=>r.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:m.product_name}),r.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:["Qty: ",m.quantity]})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:Le(m.total_price,d())}),r.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:[Le(m.unit_price,d())," each"]})]})]},m.id))})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 transition-colors duration-300",children:"Order Summary"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:"Subtotal:"}),r.jsx("span",{className:"font-medium",children:Le(a.subtotal,d())})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:"Shipping:"}),r.jsx("span",{className:"font-medium",children:Le(a.shipping_cost,d())})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:"Tax:"}),r.jsx("span",{className:"font-medium",children:Le(a.tax_amount,d())})]}),r.jsxs("div",{className:"flex justify-between border-t border-gray-200 dark:border-gray-600 pt-3",children:[r.jsx("span",{className:"font-semibold text-gray-900 dark:text-white",children:"Total:"}),r.jsx("span",{className:"font-semibold text-emerald-600 dark:text-emerald-400",children:Le(a.total_price,d())})]})]})]})]}),r.jsx("div",{className:"mt-8 pt-6 border-t border-gray-200 dark:border-gray-700 transition-colors duration-300",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-2 transition-colors duration-300",children:"Delivery Address"}),r.jsx("div",{className:"text-gray-600 dark:text-gray-300 transition-colors duration-300",children:a.shipping_address?r.jsxs("div",{children:[r.jsxs("p",{children:[a.shipping_address.firstName||""," ",a.shipping_address.lastName||""]}),r.jsx("p",{children:a.shipping_address.address||a.shipping_address.address1||""}),a.shipping_address.address2&&r.jsx("p",{children:a.shipping_address.address2}),r.jsxs("p",{children:[a.shipping_address.city||"",", ",a.shipping_address.state||""," ",a.shipping_address.zipCode||a.shipping_address.postcode||""]}),a.shipping_address.email&&r.jsx("p",{children:a.shipping_address.email}),a.shipping_address.phone&&r.jsx("p",{children:a.shipping_address.phone})]}):r.jsx("p",{children:"Address not available"})})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-2 transition-colors duration-300",children:"Shipping Information"}),r.jsxs("div",{className:"text-gray-600 dark:text-gray-300 transition-colors duration-300",children:[r.jsxs("p",{children:[r.jsx("strong",{children:"Method:"})," ",a.shipping_name||"Standard Shipping"]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Payment:"})," ",a.payment_method||"Credit Card"]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Customer:"})," ",a.customer_email||"N/A"]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Phone:"})," ",a.customer_phone||"N/A"]})]})]})]})})]}),r.jsxs("div",{className:"bg-gray-100 dark:bg-gray-800 rounded-lg p-6 mt-8 transition-colors duration-300",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 transition-colors duration-300",children:"Need help with tracking?"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-gray-600 dark:text-gray-300",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-2 transition-colors duration-300",children:"Can't find your order?"}),r.jsx("p",{className:"transition-colors duration-300",children:"Make sure you're using the correct order number from your confirmation email or order receipt."})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-2 transition-colors duration-300",children:"Tracking not updating?"}),r.jsx("p",{className:"transition-colors duration-300",children:"It may take up to 24 hours for tracking information to appear after shipping."})]})]}),r.jsx("div",{className:"mt-4",children:r.jsx("a",{href:"/contact",className:"text-blue-600 hover:text-blue-700 transition-colors",children:"Contact our support team for assistance "})})]})]})]})})},JS=()=>(l0(),r.jsxs("div",{className:"min-h-screen bg-[var(--color-bg)] text-[var(--color-ink)] transition-colors duration-300",children:[r.jsx("section",{className:"bg-gradient-to-r from-[var(--color-primary)] to-[var(--color-primary-600)] py-16 md:py-24",children:r.jsxs("div",{className:"container mx-auto px-4 text-center",children:[r.jsx("h1",{className:"text-4xl md:text-6xl font-bold text-white mb-6",children:"Join Our Team"}),r.jsx("p",{className:"text-xl md:text-2xl text-white/90 max-w-3xl mx-auto",children:"Be part of our mission to revolutionize the e-commerce experience"})]})}),r.jsx("section",{className:"py-16 md:py-24",children:r.jsxs("div",{className:"container mx-auto px-4 max-w-4xl",children:[r.jsx("div",{className:"text-center py-16",children:r.jsxs("div",{className:"bg-[var(--color-surface)] rounded-2xl p-12 shadow-lg border border-[var(--color-border)]",children:[r.jsx("div",{className:"mb-8",children:r.jsx("div",{className:"w-24 h-24 mx-auto bg-[var(--color-primary)]/10 rounded-full flex items-center justify-center",children:r.jsx("svg",{className:"w-12 h-12 text-[var(--color-primary)]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2-2v2m8 0V6a2 2 0 012 2v6a2 2 0 01-2 2H6a2 2 0 01-2-2V8a2 2 0 012-2V6"})})})}),r.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-[var(--color-ink)] mb-6",children:"No Jobs Available Right Now"}),r.jsx("p",{className:"text-lg md:text-xl text-[var(--color-muted)] mb-8 max-w-2xl mx-auto leading-relaxed",children:"We're currently not hiring, but we're always looking for talented individuals to join our team. We'll be uploading new job opportunities soon!"}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("p",{className:"text-[var(--color-ink-secondary)] font-medium",children:"Stay updated with our latest opportunities"}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center",children:[r.jsx("button",{className:"bg-[var(--color-primary)] hover:bg-[var(--color-primary-600)] text-white px-8 py-3 rounded-lg font-semibold transition-colors duration-200 shadow-md hover:shadow-lg",children:"Subscribe to Notifications"}),r.jsx("button",{className:"border border-[var(--color-border)] hover:border-[var(--color-primary)] text-[var(--color-ink)] hover:text-[var(--color-primary)] px-8 py-3 rounded-lg font-semibold transition-colors duration-200",children:"Follow Us"})]})]})]})}),r.jsxs("div",{className:"mt-16",children:[r.jsx("h3",{className:"text-2xl md:text-3xl font-bold text-[var(--color-ink)] text-center mb-12",children:"What We're About"}),r.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[r.jsxs("div",{className:"text-center p-6 bg-[var(--color-surface)] rounded-xl border border-[var(--color-border)]",children:[r.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-[var(--color-accent)]/10 rounded-full flex items-center justify-center",children:r.jsx("svg",{className:"w-8 h-8 text-[var(--color-accent)]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})})}),r.jsx("h4",{className:"text-xl font-semibold text-[var(--color-ink)] mb-3",children:"Innovation"}),r.jsx("p",{className:"text-[var(--color-muted)]",children:"We're constantly pushing the boundaries of e-commerce technology"})]}),r.jsxs("div",{className:"text-center p-6 bg-[var(--color-surface)] rounded-xl border border-[var(--color-border)]",children:[r.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-[var(--color-success)]/10 rounded-full flex items-center justify-center",children:r.jsx("svg",{className:"w-8 h-8 text-[var(--color-success)]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})})}),r.jsx("h4",{className:"text-xl font-semibold text-[var(--color-ink)] mb-3",children:"Growth"}),r.jsx("p",{className:"text-[var(--color-muted)]",children:"We invest in our team's professional development and career growth"})]}),r.jsxs("div",{className:"text-center p-6 bg-[var(--color-surface)] rounded-xl border border-[var(--color-border)]",children:[r.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-[var(--color-primary)]/10 rounded-full flex items-center justify-center",children:r.jsx("svg",{className:"w-8 h-8 text-[var(--color-primary)]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}),r.jsx("h4",{className:"text-xl font-semibold text-[var(--color-ink)] mb-3",children:"Collaboration"}),r.jsx("p",{className:"text-[var(--color-muted)]",children:"We believe in the power of teamwork and diverse perspectives"})]})]})]}),r.jsx("div",{className:"mt-16 text-center",children:r.jsxs("div",{className:"bg-[var(--color-surface)] rounded-xl p-8 border border-[var(--color-border)]",children:[r.jsx("h3",{className:"text-2xl font-bold text-[var(--color-ink)] mb-4",children:"Questions About Future Opportunities?"}),r.jsx("p",{className:"text-[var(--color-muted)] mb-6",children:"Feel free to reach out to our HR team for any inquiries about potential future positions."}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[r.jsx("a",{href:"/contact",className:"bg-[var(--color-primary)] hover:bg-[var(--color-primary-600)] text-white px-6 py-3 rounded-lg font-semibold transition-colors duration-200 shadow-md hover:shadow-lg",children:"Contact HR Team"}),r.jsx("a",{href:"mailto:careers@sppix.com",className:"border border-[var(--color-border)] hover:border-[var(--color-primary)] text-[var(--color-ink)] hover:text-[var(--color-primary)] px-6 py-3 rounded-lg font-semibold transition-colors duration-200",children:"Email Us"})]})]})})]})})]})),XS=()=>{const[e,t]=y.useState(null),[s,a]=y.useState(!0),[n,o]=y.useState(null);y.useEffect(()=>{(async()=>{try{const d=await fetch("http://127.0.0.1:8001/api/public/store-settings/");if(d.ok){const u=await d.json();t({street_address:u.street_address||"",city:u.city||"",postcode:u.postcode||"",country:u.country||"",phone:u.phone||"",email:u.email||"",monday_friday_hours:u.monday_friday_hours||"",saturday_hours:u.saturday_hours||"",sunday_hours:u.sunday_hours||""})}else o("Failed to load store address")}catch(d){o("Failed to load store address"),console.error("Error loading store settings:",d)}finally{a(!1)}})()},[]);const i=()=>e?[e.street_address,e.city,e.postcode,e.country].filter(Boolean).join(", "):"",l=()=>{const c=i();return c?`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(c)}`:""};return r.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-slate-900",children:r.jsxs("div",{className:"container mx-auto px-4 py-8",children:[r.jsx(Re,{className:"mb-6"}),r.jsxs("div",{className:"max-w-6xl mx-auto",children:[r.jsx("h1",{className:"text-4xl font-bold text-gray-900 dark:text-white mb-8",children:"Find Us"}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg border border-gray-200 dark:border-slate-700 p-8",children:[r.jsx("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-6",children:"Store Location"}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-start space-x-4",children:[r.jsx(Ia,{className:"w-6 h-6 text-primary dark:text-blue-400 mt-1"}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium text-gray-900 dark:text-white",children:"Address"}),s?r.jsx("p",{className:"text-gray-400 dark:text-gray-500",children:"Loading..."}):n?r.jsx("p",{className:"text-gray-400 dark:text-gray-500",children:"Address not available"}):e&&i()?r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:i()}),r.jsxs("a",{href:l(),target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center mt-2 text-primary dark:text-blue-400 hover:text-primary-600 dark:hover:text-blue-300 transition-colors",children:[r.jsx(e2,{className:"w-4 h-4 mr-1"}),"Get Directions"]})]}):r.jsx("p",{className:"text-gray-400 dark:text-gray-500",children:"Store address not set"})]})]}),r.jsxs("div",{className:"flex items-start space-x-4",children:[r.jsx(Ot,{className:"w-6 h-6 text-primary dark:text-blue-400 mt-1"}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium text-gray-900 dark:text-white",children:"Business Hours"}),r.jsx("div",{className:"text-gray-600 dark:text-gray-300 space-y-1",children:s?r.jsx("p",{children:"Loading..."}):e?r.jsxs(r.Fragment,{children:[r.jsxs("p",{children:["Monday - Friday: ",e.monday_friday_hours||"9:00 AM - 6:00 PM"]}),r.jsxs("p",{children:["Saturday: ",e.saturday_hours||"10:00 AM - 4:00 PM"]}),r.jsxs("p",{children:["Sunday: ",e.sunday_hours||"Closed"]})]}):r.jsxs(r.Fragment,{children:[r.jsx("p",{children:"Monday - Friday: 9:00 AM - 6:00 PM"}),r.jsx("p",{children:"Saturday: 10:00 AM - 4:00 PM"}),r.jsx("p",{children:"Sunday: Closed"})]})})]})]}),r.jsxs("div",{className:"flex items-start space-x-4",children:[r.jsx(At,{className:"w-6 h-6 text-primary dark:text-blue-400 mt-1"}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium text-gray-900 dark:text-white",children:"Phone"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:s?"Loading...":e&&e.phone||"Phone not available"})]})]}),r.jsxs("div",{className:"flex items-start space-x-4",children:[r.jsx(Wt,{className:"w-6 h-6 text-primary dark:text-blue-400 mt-1"}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium text-gray-900 dark:text-white",children:"Email"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:s?"Loading...":e&&e.email||"Email not available"})]})]})]})]}),r.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg border border-gray-200 dark:border-slate-700 p-8",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Visit Our Store"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-4",children:"Come visit our physical store to see our products in person, get expert advice from our staff, and experience our customer service firsthand."}),r.jsxs("div",{className:"space-y-2 text-sm text-gray-600 dark:text-gray-300",children:[r.jsx("p",{children:" Browse our full product selection"}),r.jsx("p",{children:" Get hands-on product demonstrations"}),r.jsx("p",{children:" Receive personalized recommendations"}),r.jsx("p",{children:" Take advantage of in-store only deals"}),r.jsx("p",{children:" Free parking available"})]})]})]}),r.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg border border-gray-200 dark:border-slate-700 p-8",children:[r.jsx("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-6",children:"Store Location"}),s?r.jsx("div",{className:"h-96 bg-gray-200 dark:bg-gray-700 rounded-lg flex items-center justify-center",children:r.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Loading map..."})}):n?r.jsx("div",{className:"h-96 bg-gray-200 dark:bg-gray-700 rounded-lg flex items-center justify-center",children:r.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Map not available"})}):e&&i()?r.jsx("div",{className:"h-96 rounded-lg overflow-hidden",children:r.jsx("iframe",{src:`https://www.google.com/maps/embed/v1/place?key=AIzaSyBFw0Qbyq9zTFTd-tUY6dgs3u5f3vH8j2E&q=${encodeURIComponent(i())}`,width:"100%",height:"100%",style:{border:0},allowFullScreen:!0,loading:"lazy",referrerPolicy:"no-referrer-when-downgrade",title:"Store Location Map"})}):r.jsx("div",{className:"h-96 bg-gray-200 dark:bg-gray-700 rounded-lg flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx(Ia,{className:"w-16 h-16 text-gray-400 dark:text-gray-500 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-2",children:"Store address not set"}),r.jsx("p",{className:"text-sm text-gray-400 dark:text-gray-500",children:"Please contact the store administrator to set the store address."})]})}),e&&i()&&r.jsx("div",{className:"mt-6 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:r.jsxs("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:[r.jsx("strong",{children:"Note:"}),' The map shows the approximate location based on the store address. For exact directions, please use the "Get Directions" link above.']})})]})]})]})]})})},ZS=()=>{var i,l;const{settings:e,loading:t}=jt(),s=e&&!t&&parseFloat(((i=e==null?void 0:e.standard_shipping_rate)==null?void 0:i.toString())||"0")||0,a=e&&!t&&parseFloat(((l=e==null?void 0:e.express_shipping_rate)==null?void 0:l.toString())||"0")||0,n=[{name:"Standard Shipping",price:s===0?"Free":Le(s,(e==null?void 0:e.currency)||"USD"),duration:"5-7 business days",description:"Regular delivery to most locations",icon:ur},{name:"Express Shipping",price:a===0?"Free":Le(a,(e==null?void 0:e.currency)||"USD"),duration:"2-3 business days",description:"Faster delivery for urgent orders",icon:Ma},{name:"Overnight Shipping",price:a===0?"Free":Le(a*2,(e==null?void 0:e.currency)||"USD"),duration:"1 business day",description:"Next business day delivery",icon:Ot}],o=[{icon:Ga,title:"Secure Packaging",description:"All items are carefully packaged to ensure safe delivery"},{icon:Ia,title:"Real-time Tracking",description:"Track your package from warehouse to your doorstep"},{icon:Ma,title:"Reliable Carriers",description:"We work with trusted shipping partners worldwide"}];return r.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 transition-colors duration-300",children:r.jsxs("div",{className:"container mx-auto px-4 py-8",children:[r.jsx(Re,{className:"mb-6"}),r.jsxs("div",{className:"max-w-6xl mx-auto",children:[r.jsx("h1",{className:"text-4xl font-bold text-gray-900 dark:text-white mb-8 transition-colors duration-300",children:"Shipping Information"}),r.jsxs("div",{className:"mb-12",children:[r.jsx("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-6 transition-colors duration-300",children:"Shipping Options"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:n.map((c,d)=>r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6 hover:shadow-lg transition-all duration-300",children:[r.jsx(c.icon,{className:"w-8 h-8 text-blue-600 mb-4"}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2 transition-colors duration-300",children:c.name}),r.jsx("p",{className:"text-2xl font-bold text-blue-600 mb-2",children:c.price}),r.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-2 transition-colors duration-300",children:c.duration}),r.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 transition-colors duration-300",children:c.description})]},d))})]}),r.jsxs("div",{className:"mb-12",children:[r.jsx("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-6 transition-colors duration-300",children:"Why Choose Our Shipping?"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:o.map((c,d)=>r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6 text-center",children:[r.jsx(c.icon,{className:"w-12 h-12 text-blue-600 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2 transition-colors duration-300",children:c.title}),r.jsx("p",{className:"text-gray-600 dark:text-gray-300 transition-colors duration-300",children:c.description})]},d))})]}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-8 mb-8 transition-colors duration-300",children:[r.jsx("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-6 transition-colors duration-300",children:"Shipping Policy"}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-3 transition-colors duration-300",children:"Processing Time"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-300 transition-colors duration-300",children:"Orders are typically processed within 1-2 business days. During peak seasons, processing may take up to 3 business days."})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-3 transition-colors duration-300",children:"Delivery Areas"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-300 transition-colors duration-300",children:"We currently ship to all 50 US states. International shipping is not available at this time."})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-3 transition-colors duration-300",children:"Delivery Attempts"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-300 transition-colors duration-300",children:"Our carriers will make up to 3 delivery attempts. If delivery is unsuccessful, packages will be held at the local facility for pickup."})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-3 transition-colors duration-300",children:"Holiday Shipping"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-300 transition-colors duration-300",children:"During holidays, shipping times may be extended. Please allow extra time for delivery during peak seasons."})]})]})]}),r.jsxs("div",{className:"bg-blue-600 rounded-lg p-8 text-white text-center",children:[r.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Questions About Shipping?"}),r.jsx("p",{className:"mb-6 opacity-90",children:"Our customer service team is here to help with any shipping questions."}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[r.jsx("a",{href:"/contact",className:"bg-white text-blue-600 px-6 py-3 rounded-md font-semibold hover:bg-gray-100 transition-colors",children:"Contact Support"}),r.jsx("a",{href:"/track-order",className:"border border-white text-white px-6 py-3 rounded-md font-semibold hover:bg-white hover:text-blue-600 transition-colors",children:"Track Your Order"})]})]})]})]})})},e6=()=>{const e=[{step:1,title:"Initiate Return",description:"Log into your account and request a return within 30 days",icon:i0},{step:2,title:"Print Label",description:"We'll email you a prepaid return shipping label",icon:ur},{step:3,title:"Package & Ship",description:"Pack your item securely and drop it off at any carrier location",icon:dr},{step:4,title:"Receive Refund",description:"Once received, we'll process your refund within 5-7 business days",icon:Ot}],t=[{title:"Return Window",content:"Items must be returned within 30 days of delivery for a full refund."},{title:"Condition Requirements",content:"Items must be in original condition with tags attached and original packaging."},{title:"Return Shipping",content:"Return shipping is free for eligible returns. We provide prepaid return labels."},{title:"Refund Processing",content:"Refunds are processed within 5-7 business days after we receive your return."}],s=["Personalized or custom items","Items damaged by misuse","Items without original packaging","Items returned after 30 days","Digital products or downloads"];return r.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 transition-colors duration-300",children:r.jsxs("div",{className:"container mx-auto px-4 py-8",children:[r.jsx(Re,{className:"mb-6"}),r.jsxs("div",{className:"max-w-6xl mx-auto",children:[r.jsx("h1",{className:"text-4xl font-bold text-gray-900 dark:text-white mb-8 transition-colors duration-300",children:"Returns & Exchanges"}),r.jsxs("div",{className:"mb-12",children:[r.jsx("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-6 transition-colors duration-300",children:"How to Return an Item"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:e.map((a,n)=>r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6 text-center hover:shadow-lg transition-all duration-300",children:[r.jsx("div",{className:"w-12 h-12 bg-blue-600 text-white rounded-full flex items-center justify-center mx-auto mb-4 text-lg font-bold",children:a.step}),r.jsx(a.icon,{className:"w-8 h-8 text-blue-600 mx-auto mb-3"}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2 transition-colors duration-300",children:a.title}),r.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-sm transition-colors duration-300",children:a.description})]},n))})]}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-8 mb-8 transition-colors duration-300",children:[r.jsx("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-6 transition-colors duration-300",children:"Return Policy"}),r.jsx("div",{className:"space-y-6",children:t.map((a,n)=>r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-3 transition-colors duration-300",children:a.title}),r.jsx("p",{className:"text-gray-600 dark:text-gray-300 transition-colors duration-300",children:a.content})]},n))})]}),r.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 rounded-lg border border-red-200 dark:border-red-800 p-8 mb-8",children:[r.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[r.jsx(vN,{className:"w-6 h-6 text-red-600 dark:text-red-400"}),r.jsx("h2",{className:"text-xl font-semibold text-red-900 dark:text-red-100",children:"Non-Returnable Items"})]}),r.jsx("p",{className:"text-red-800 dark:text-red-200 mb-4",children:"The following items cannot be returned or exchanged:"}),r.jsx("ul",{className:"list-disc list-inside space-y-2 text-red-800 dark:text-red-200",children:s.map((a,n)=>r.jsx("li",{children:a},n))})]}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-8 mb-8 transition-colors duration-300",children:[r.jsx("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-6 transition-colors duration-300",children:"Exchanges"}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("p",{className:"text-gray-600 dark:text-gray-300 transition-colors duration-300",children:"We offer exchanges for items in different sizes or colors. To exchange an item:"}),r.jsxs("ol",{className:"list-decimal list-inside space-y-2 text-gray-600 dark:text-gray-300",children:[r.jsx("li",{children:"Follow the same return process above"}),r.jsx("li",{children:'In the return reason, select "Exchange"'}),r.jsx("li",{children:"Specify the size or color you'd like to exchange for"}),r.jsx("li",{children:"We'll send the new item once we receive your return"})]}),r.jsxs("p",{className:"text-gray-600 dark:text-gray-300 transition-colors duration-300",children:[r.jsx("strong",{children:"Note:"})," Exchanges are subject to availability. If the requested item is out of stock, we'll process a refund instead."]})]})]}),r.jsxs("div",{className:"bg-blue-600 rounded-lg p-8 text-white text-center",children:[r.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Need Help with Returns?"}),r.jsx("p",{className:"mb-6 opacity-90",children:"Our customer service team is here to help with any return questions."}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[r.jsx("a",{href:"/contact",className:"bg-white text-blue-600 px-6 py-3 rounded-md font-semibold hover:bg-gray-100 transition-colors",children:"Contact Support"}),r.jsx("a",{href:"/help",className:"border border-white text-white px-6 py-3 rounded-md font-semibold hover:bg-white hover:text-blue-600 transition-colors",children:"Help Center"})]})]})]})]})})},t6=()=>{const e=[{name:"Manufacturer Warranty",duration:"1-3 years",coverage:"Defects in materials and workmanship",icon:Ga},{name:"Extended Warranty",duration:"Up to 5 years",coverage:"Additional protection beyond manufacturer warranty",icon:Ot},{name:"Service Warranty",duration:"90 days",coverage:"Repairs and service work performed by our technicians",icon:P2}],t=[{title:"What's Covered",items:["Manufacturing defects","Material failures","Workmanship issues","Normal wear and tear (limited)","Power surges (Sppixs only)"],icon:dr,color:"text-green-600 dark:text-green-400"},{title:"What's Not Covered",items:["Accidental damage","Misuse or abuse","Water damage","Cosmetic damage","Normal wear and tear","Damage from unauthorized repairs"],icon:w2,color:"text-red-600 dark:text-red-400"}],s=[{step:1,title:"Register Your Product",description:"Register your product online within 30 days of purchase to activate warranty coverage."},{step:2,title:"Report the Issue",description:"Contact our support team with your product details and description of the issue."},{step:3,title:"Get Authorization",description:"We'll review your claim and provide authorization for repair or replacement."},{step:4,title:"Repair or Replace",description:"We'll repair your item or provide a replacement if repair isn't possible."}];return r.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 transition-colors duration-300",children:r.jsxs("div",{className:"container mx-auto px-4 py-8",children:[r.jsx(Re,{className:"mb-6"}),r.jsxs("div",{className:"max-w-6xl mx-auto",children:[r.jsx("h1",{className:"text-4xl font-bold text-gray-900 dark:text-white mb-8 transition-colors duration-300",children:"Warranty Information"}),r.jsxs("div",{className:"mb-12",children:[r.jsx("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-6 transition-colors duration-300",children:"Warranty Types"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:e.map((a,n)=>r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6 hover:shadow-lg transition-all duration-300",children:[r.jsx(a.icon,{className:"w-8 h-8 text-blue-600 mb-4"}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2 transition-colors duration-300",children:a.name}),r.jsx("p",{className:"text-blue-600 font-semibold mb-2",children:a.duration}),r.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-sm transition-colors duration-300",children:a.coverage})]},n))})]}),r.jsxs("div",{className:"mb-12",children:[r.jsx("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-6 transition-colors duration-300",children:"Warranty Coverage"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:t.map((a,n)=>r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6",children:[r.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[r.jsx(a.icon,{className:`w-6 h-6 ${a.color}`}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white transition-colors duration-300",children:a.title})]}),r.jsx("ul",{className:"space-y-2",children:a.items.map((o,i)=>r.jsxs("li",{className:"flex items-start space-x-2 text-gray-600 dark:text-gray-300 transition-colors duration-300",children:[r.jsx("span",{className:"text-xs mt-1",children:""}),r.jsx("span",{children:o})]},i))})]},n))})]}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-8 mb-8 transition-colors duration-300",children:[r.jsx("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-6 transition-colors duration-300",children:"Warranty Claim Process"}),r.jsx("div",{className:"space-y-6",children:s.map((a,n)=>r.jsxs("div",{className:"flex items-start space-x-4",children:[r.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-blue-600 text-white rounded-full flex items-center justify-center text-sm font-bold",children:a.step}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2 transition-colors duration-300",children:a.title}),r.jsx("p",{className:"text-gray-600 dark:text-gray-300 transition-colors duration-300",children:a.description})]})]},n))})]}),r.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-800 p-8 mb-8",children:[r.jsx("h2",{className:"text-xl font-semibold text-blue-900 dark:text-blue-100 mb-4",children:"Important Warranty Notes"}),r.jsxs("div",{className:"space-y-3 text-blue-800 dark:text-blue-200",children:[r.jsx("p",{children:" Warranty coverage begins from the date of purchase"}),r.jsx("p",{children:" Keep your original receipt and warranty documentation"}),r.jsx("p",{children:" Warranty is non-transferable and applies only to the original purchaser"}),r.jsx("p",{children:" Some products may have specific warranty terms - check product documentation"}),r.jsx("p",{children:" Warranty claims must be submitted within the warranty period"})]})]}),r.jsxs("div",{className:"bg-blue-600 rounded-lg p-8 text-white text-center",children:[r.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Need Warranty Support?"}),r.jsx("p",{className:"mb-6 opacity-90",children:"Our technical support team is here to help with warranty claims and product issues."}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[r.jsx("a",{href:"/contact",className:"bg-white text-blue-600 px-6 py-3 rounded-md font-semibold hover:bg-gray-100 transition-colors",children:"Contact Support"}),r.jsx("a",{href:"/help",className:"border border-white text-white px-6 py-3 rounded-md font-semibold hover:bg-white hover:text-blue-600 transition-colors",children:"Help Center"})]})]})]})]})})},Yh=e=>{let t;const s=new Set,a=(u,m)=>{const h=typeof u=="function"?u(t):u;if(!Object.is(h,t)){const v=t;t=m??(typeof h!="object"||h===null)?h:Object.assign({},t,h),s.forEach(g=>g(t,v))}},n=()=>t,c={setState:a,getState:n,getInitialState:()=>d,subscribe:u=>(s.add(u),()=>s.delete(u)),destroy:()=>{s.clear()}},d=t=e(a,n,c);return c},r6=e=>e?Yh(e):Yh;var ly={exports:{}},cy={},dy={exports:{}},uy={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var za=y;function s6(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var a6=typeof Object.is=="function"?Object.is:s6,n6=za.useState,o6=za.useEffect,i6=za.useLayoutEffect,l6=za.useDebugValue;function c6(e,t){var s=t(),a=n6({inst:{value:s,getSnapshot:t}}),n=a[0].inst,o=a[1];return i6(function(){n.value=s,n.getSnapshot=t,Ec(n)&&o({inst:n})},[e,s,t]),o6(function(){return Ec(n)&&o({inst:n}),e(function(){Ec(n)&&o({inst:n})})},[e]),l6(s),s}function Ec(e){var t=e.getSnapshot;e=e.value;try{var s=t();return!a6(e,s)}catch{return!0}}function d6(e,t){return t()}var u6=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d6:c6;uy.useSyncExternalStore=za.useSyncExternalStore!==void 0?za.useSyncExternalStore:u6;dy.exports=uy;var m6=dy.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Il=y,h6=m6;function f6(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var x6=typeof Object.is=="function"?Object.is:f6,g6=h6.useSyncExternalStore,p6=Il.useRef,y6=Il.useEffect,b6=Il.useMemo,v6=Il.useDebugValue;cy.useSyncExternalStoreWithSelector=function(e,t,s,a,n){var o=p6(null);if(o.current===null){var i={hasValue:!1,value:null};o.current=i}else i=o.current;o=b6(function(){function c(v){if(!d){if(d=!0,u=v,v=a(v),n!==void 0&&i.hasValue){var g=i.value;if(n(g,v))return m=g}return m=v}if(g=m,x6(u,v))return g;var w=a(v);return n!==void 0&&n(g,w)?(u=v,g):(u=v,m=w)}var d=!1,u,m,h=s===void 0?null:s;return[function(){return c(t())},h===null?void 0:function(){return c(h())}]},[t,s,a,n]);var l=g6(e,o[0],o[1]);return y6(function(){i.hasValue=!0,i.value=l},[l]),v6(l),l};ly.exports=cy;var w6=ly.exports;const j6=Vd(w6),{useDebugValue:k6}=Ba,{useSyncExternalStoreWithSelector:N6}=j6;const S6=e=>e;function C6(e,t=S6,s){const a=N6(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,s);return k6(a),a}const Kh=e=>{const t=typeof e=="function"?r6(e):e,s=(a,n)=>C6(t,a,n);return Object.assign(s,t),s},my=e=>e?Kh(e):Kh,hy=my((e,t)=>({currentRoom:JSON.parse(localStorage.getItem("currentChatRoom")||"null"),messages:[],loading:!1,error:null,isConnected:!1,customerName:null,isInitialized:!1,apiBaseUrl:"http://127.0.0.1:8001/api/public",setCurrentRoom:s=>{e({currentRoom:s}),s?localStorage.setItem("currentChatRoom",JSON.stringify(s)):localStorage.removeItem("currentChatRoom")},clearChatState:()=>{e({currentRoom:null,messages:[],loading:!1,error:null,isConnected:!1,isInitialized:!1}),localStorage.removeItem("currentChatRoom")},getAuthHeaders:()=>{const s=localStorage.getItem("access_token"),a=localStorage.getItem("authToken"),n=s||a;return console.log("Auth token check:",{accessToken:s?"present":"missing",authToken:a?"present":"missing",finalToken:n?"present":"missing"}),{"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`}}},initializeCustomerChat:async s=>{if(console.log("initializeCustomerChat called with:",s),t().isInitialized&&t().currentRoom){console.log("Chat already initialized, using existing room:",t().currentRoom.id),await t().loadMessages(t().currentRoom.id),e({isConnected:!0});return}e({loading:!0,error:null,customerName:s.name||"Customer"});try{const a=localStorage.getItem("access_token"),n=localStorage.getItem("authToken"),o=a||n;console.log("Authentication check:",{accessToken:a?"present":"missing",authToken:n?"present":"missing",finalToken:o?"present":"missing",customerInfo:s}),o?(console.log("User is authenticated, using user-chat endpoint"),await t().initializeUserChat()):(console.log("User is not authenticated, using public chat endpoint"),await t().initializePublicChat(s)),e({isInitialized:!0})}catch(a){console.error("Failed to initialize customer chat:",a),e({error:a.message,loading:!1,isConnected:!1})}},initializeUserChat:async()=>{try{console.log("Fetching user chat room from:",`${t().apiBaseUrl}/user-chat/`);const s=await fetch(`${t().apiBaseUrl}/user-chat/`,{method:"GET",credentials:"include",headers:t().getAuthHeaders()});if(console.log("User chat response status:",s.status),console.log("User chat response ok:",s.ok),!s.ok){if(s.status===401){console.log("Authentication failed, falling back to public chat"),await t().initializePublicChat({name:"Customer"});return}throw new Error(`HTTP error! status: ${s.status}`)}const a=await s.json();if(console.log("User chat response data:",a),a.results&&a.results.length>0){const n=a.results[0];console.log("Found existing user room:",n),t().setCurrentRoom(n),e({loading:!1}),await t().loadMessages(n.id),e({isConnected:!0})}else console.log("No existing user room found, creating new one"),await t().createUserChatRoom(),e({isConnected:!0})}catch(s){throw console.error("Failed to initialize user chat:",s),s}},initializePublicChat:async s=>{try{console.log("Fetching public chat rooms from:",`${t().apiBaseUrl}/chat-rooms/`);const a=await fetch(`${t().apiBaseUrl}/chat-rooms/`,{method:"GET",credentials:"include",headers:t().getAuthHeaders()});if(console.log("Public chat response status:",a.status),console.log("Public chat response ok:",a.ok),!a.ok)throw new Error(`HTTP error! status: ${a.status}`);const n=await a.json();if(console.log("Public chat response data:",n),n.results&&n.results.length>0){const o=n.results[0];console.log("Found existing public room:",o),t().setCurrentRoom(o),e({loading:!1}),await t().loadMessages(o.id),e({isConnected:!0})}else console.log("No existing public room found, creating new one"),await t().createChatRoom(s),e({isConnected:!0})}catch(a){throw console.error("Failed to initialize public chat:",a),a}},createUserChatRoom:async()=>{console.log("createUserChatRoom called");try{console.log("Creating new user chat room at:",`${t().apiBaseUrl}/user-chat/`);const s=await fetch(`${t().apiBaseUrl}/user-chat/`,{method:"POST",credentials:"include",headers:t().getAuthHeaders(),body:JSON.stringify({status:"active"})});if(console.log("Create user room response status:",s.status),console.log("Create user room response ok:",s.ok),!s.ok)throw s.status===401?new Error("User not authenticated"):new Error(`HTTP error! status: ${s.status}`);const a=await s.json();return console.log("Created user room:",a),t().setCurrentRoom(a),await t().loadMessages(a.id),a}catch(s){throw console.error("Failed to create user chat room:",s),s}},createChatRoom:async s=>{console.log("createChatRoom called with:",s);try{console.log("Creating new chat room at:",`${t().apiBaseUrl}/chat-rooms/`);const a=await fetch(`${t().apiBaseUrl}/chat-rooms/`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({customer_name:s.name||"Customer",customer_email:s.email||"",status:"active"})});if(console.log("Create room response status:",a.status),console.log("Create room response ok:",a.ok),!a.ok)throw new Error(`HTTP error! status: ${a.status}`);const n=await a.json();return console.log("Created room:",n),t().setCurrentRoom(n),await t().loadMessages(n.id),n}catch(a){throw console.error("Failed to create chat room:",a),a}},loadMessages:async s=>{try{const a=await fetch(`${t().apiBaseUrl}/chat-rooms/${s}/get_messages/`,{method:"GET",credentials:"include",headers:{"Content-Type":"application/json"}});if(!a.ok)throw new Error(`HTTP error! status: ${a.status}`);const n=await a.json();return e({messages:n}),n}catch(a){throw console.error("Failed to load messages:",a),a}},sendMessage:async s=>{const{currentRoom:a}=t();if(!a)throw new Error("No active chat room");e({loading:!0,error:null});try{const n=localStorage.getItem("access_token"),o=localStorage.getItem("authToken"),i=n||o;console.log("Send message authentication check:",{accessToken:n?"present":"missing",authToken:o?"present":"missing",finalToken:i?"present":"missing"});let l;i?l=`${t().apiBaseUrl}/user-chat/${a.id}/send_message/`:l=`${t().apiBaseUrl}/chat-rooms/${a.id}/send_message/`,console.log("Sending message to endpoint:",l);const c=await fetch(l,{method:"POST",credentials:"include",headers:t().getAuthHeaders(),body:JSON.stringify({content:s,customer_name:t().customerName||"Customer"})});if(console.log("Send message response status:",c.status),!c.ok){if(c.status===401){console.log("Authentication failed for send message, retrying with public endpoint");const u=`${t().apiBaseUrl}/chat-rooms/${a.id}/send_message/`,m=await fetch(u,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({content:s,customer_name:t().customerName||"Customer"})});if(!m.ok)throw new Error(`HTTP error! status: ${m.status}`);const h=await m.json();return e(v=>({messages:[...v.messages,h.data],loading:!1})),h.data}throw new Error(`HTTP error! status: ${c.status}`)}const d=await c.json();return e(u=>({messages:[...u.messages,d.data],loading:!1})),d.data}catch(n){console.error("Failed to send message:",n);let o=n.message;throw n.message.includes("Failed to fetch")?o="Unable to connect to server. Please check your internet connection and try again.":n.message.includes("HTTP error! status: 404")?o="Chat room not found. Please refresh the page and try again.":n.message.includes("User not authenticated")?o="Session expired. Please refresh the page to continue chatting.":n.message.includes("HTTP error! status: 500")&&(o="Server error. Please try again later."),e({error:o,loading:!1}),new Error(o)}},getChatRoom:async s=>{try{const a=await fetch(`${t().apiBaseUrl}/chat-rooms/${s}/`,{method:"GET",credentials:"include",headers:{"Content-Type":"application/json"}});if(!a.ok)throw new Error(`HTTP error! status: ${a.status}`);const n=await a.json();return e({currentRoom:n}),await t().loadMessages(s),n}catch(a){throw console.error("Failed to get chat room:",a),a}},updateCustomerInfo:async s=>t().getChatRoom(s),clearError:()=>{e({error:null})},disconnectWebSocket:()=>{e({isConnected:!1,currentRoom:null,messages:[],error:null})},connect:()=>{e({isConnected:!0})},connectWebSocket:()=>{e({isConnected:!0})},retryConnection:()=>{const{currentRoom:s}=t();s&&t().getChatRoom(s.id)}})),w0=({isOpen:e,onClose:t})=>{const{currentRoom:s,messages:a,loading:n,error:o,isConnected:i,isConnecting:l,initializeCustomerChat:c,sendMessage:d,getChatRoom:u,connectWebSocket:m,disconnectWebSocket:h,retryConnection:v,clearError:g,updateCustomerInfo:w}=hy(),x=ve(wt),[f,b]=y.useState(""),[p,k]=y.useState(!1),E=y.useRef(null),_=()=>{var S;(S=E.current)==null||S.scrollIntoView({behavior:"smooth"})};y.useEffect(()=>{if(e)if(console.log("Chat modal opened. Current user:",x),console.log("Current room:",s),console.log("isConnected:",i),console.log("messages:",a),console.log("loading:",n),console.log("error:",o),s)console.log("Loading messages for existing room:",s.id),u(s.id).catch(console.error),x!=null&&x.isAuthenticated&&(s.customer_name==="Anonymous User"||!s.customer_name)&&(console.log("Updating customer info for room:",s.id,"User:",x),console.log("Current room customer_name:",s.customer_name),w(s.id).catch(console.error));else{const S={name:(x==null?void 0:x.name)||(x==null?void 0:x.username)||"Anonymous User",email:(x==null?void 0:x.email)||"user@example.com"};console.log("Creating new chat room with info:",S),console.log("Current user object:",x),c(S).catch(console.error)}},[e,s,c,x,w,u]),y.useEffect(()=>{e||h()},[e,h]),y.useEffect(()=>{if(e&&s&&!i){console.log("WebSocket not connected, attempting to reconnect...");const S=setTimeout(()=>{u(s.id).catch(console.error)},1e3);return()=>clearTimeout(S)}},[e,s==null?void 0:s.id]),y.useEffect(()=>{_()},[a]);const j=async S=>{if(S.preventDefault(),!(!f.trim()||!s||n))try{await d(f),b(""),k(!0),setTimeout(()=>{k(!1)},2e3)}catch(A){console.error("Failed to send message:",A),alert(`Failed to send message: ${A.message}`)}},N=S=>{if(!S)return"Just now";try{const A=new Date(S);return isNaN(A.getTime())?"Just now":A.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}catch{return console.warn("Invalid date format:",S),"Just now"}};return e?r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl w-full max-w-md h-[600px] flex flex-col",children:[r.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-slate-700",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-10 h-10 bg-red-600 dark:bg-blue-600 rounded-full flex items-center justify-center",children:r.jsx(tt,{className:"w-5 h-5 text-white"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:"Admin Support"}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:`w-2 h-2 rounded-full ${i?"bg-green-500":l?"bg-yellow-500":"bg-red-500"}`}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:i?"Real-time Connected":l?"Connecting...":o?"Connection Failed":"Disconnected"}),o&&r.jsx("button",{onClick:()=>{g(),v()},className:"text-xs text-blue-600 hover:text-blue-800 underline",children:"Retry"})]})]})]}),r.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 dark:hover:bg-slate-700 rounded-lg transition-colors",children:r.jsx(Oa,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"})})]}),r.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[n&&a.length===0?r.jsx("div",{className:"flex justify-center items-center h-full",children:r.jsx("div",{className:"text-gray-500 dark:text-gray-400",children:"Loading chat..."})}):o?r.jsx("div",{className:"flex justify-center items-center h-full",children:r.jsxs("div",{className:"text-red-500 dark:text-red-400 text-center",children:[r.jsx("p",{children:o}),r.jsx("button",{onClick:()=>{g(),s&&u(s.id)},className:"mt-2 px-3 py-1 bg-red-600 text-white rounded text-sm hover:bg-red-700",children:"Retry"})]})}):a.length===0?r.jsx("div",{className:"flex justify-center items-center h-full",children:r.jsxs("div",{className:"text-gray-500 dark:text-gray-400 text-center",children:[r.jsx(tt,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),r.jsx("p",{children:"No messages yet. Start the conversation!"}),r.jsx("p",{className:"text-sm mt-1",children:"Type a message below to begin chatting with our support team."})]})}):a.map(S=>r.jsx("div",{className:`flex ${S.sender_type==="customer"?"justify-end":"justify-start"}`,children:r.jsxs("div",{className:`max-w-xs px-4 py-2 rounded-lg ${S.sender_type==="customer"?"bg-red-600 dark:bg-blue-600 text-white":"bg-gray-100 dark:bg-slate-700 text-gray-900 dark:text-white"}`,children:[r.jsxs("div",{className:"flex items-center justify-between mb-1",children:[r.jsx("p",{className:`text-xs font-medium ${S.sender_type==="customer"?"text-red-100 dark:text-blue-100":"text-gray-600 dark:text-gray-400"}`,children:S.sender_name||(S.sender_type==="customer"?"You":"Admin")}),r.jsx("p",{className:`text-xs ${S.sender_type==="customer"?"text-red-100 dark:text-blue-100":"text-gray-500 dark:text-gray-400"}`,children:N(S.created_at)})]}),r.jsx("p",{className:"text-sm",children:S.content})]})},S.id)),p&&r.jsx("div",{className:"flex justify-start",children:r.jsx("div",{className:"bg-gray-100 dark:bg-slate-700 px-4 py-2 rounded-lg",children:r.jsxs("div",{className:"flex space-x-1",children:[r.jsx("div",{className:"w-2 h-2 bg-gray-400 dark:bg-gray-500 rounded-full animate-bounce"}),r.jsx("div",{className:"w-2 h-2 bg-gray-400 dark:bg-gray-500 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),r.jsx("div",{className:"w-2 h-2 bg-gray-400 dark:bg-gray-500 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})})}),r.jsx("div",{ref:E})]}),r.jsx("div",{className:"p-4 border-t border-gray-200 dark:border-slate-700",children:r.jsxs("form",{onSubmit:j,className:"flex space-x-2",children:[r.jsx("input",{type:"text",value:f,onChange:S=>b(S.target.value),placeholder:"Type your message...",className:"flex-1 px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-red-500 dark:focus:ring-blue-500 focus:border-transparent bg-white dark:bg-slate-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400"}),r.jsx("button",{type:"submit",disabled:!f.trim()||n,className:"px-4 py-2 bg-red-600 dark:bg-blue-600 text-white rounded-lg hover:bg-red-700 dark:hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:r.jsx(El,{className:"w-4 h-4"})})]})})]})}):null},E6=()=>{const[e,t]=y.useState(!1),[s,a]=y.useState(!1),[n,o]=y.useState(!1),[i,l]=y.useState({name:"",email:"",subject:"",message:""}),[c,d]=y.useState(!1),[u,m]=y.useState("idle"),[h,v]=y.useState(""),g=[{icon:tt,title:"Live Chat",description:"Chat with our support team in real-time",availability:"Available 24/7",action:()=>t(!0),buttonText:"Start Chat",color:"bg-green-600 hover:bg-green-700"},{icon:Wt,title:"Email Support",description:"Send us an email and we'll respond within 24 hours",availability:"Response within 24 hours",action:()=>a(!0),buttonText:"Send Email",color:"bg-blue-600 hover:bg-blue-700"},{icon:At,title:"Phone Support",description:"Call us for immediate assistance",availability:"Mon-Fri 9AM-6PM EST",action:()=>o(!0),buttonText:"Call Now",color:"bg-purple-600 hover:bg-purple-700"}],w=[{title:"Ordering & Payment",questions:["How do I place an order?","What payment methods do you accept?","Can I modify my order after placing it?","How do I apply a discount code?"]},{title:"Shipping & Delivery",questions:["How long does shipping take?","Do you offer international shipping?","Can I track my order?","What if my package is damaged?"]},{title:"Returns & Exchanges",questions:["What is your return policy?","How do I return an item?","Can I exchange an item?","How long do refunds take?"]},{title:"Account & Technical",questions:["How do I create an account?","I forgot my password","How do I update my profile?","Is my information secure?"]}],x=async f=>{f.preventDefault(),d(!0),m("idle");try{(await fetch("/api/public/contacts/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)})).ok?(m("success"),v("Thank you for your message. We will get back to you soon!"),l({name:"",email:"",subject:"",message:""})):(m("error"),v("Failed to send message. Please try again."))}catch{m("error"),v("Failed to send message. Please try again.")}finally{d(!1)}};return r.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 transition-colors duration-300",children:[r.jsxs("div",{className:"container mx-auto px-4 py-8",children:[r.jsx(Re,{className:"mb-6"}),r.jsxs("div",{className:"max-w-6xl mx-auto",children:[r.jsx("h1",{className:"text-4xl font-bold text-gray-900 dark:text-white mb-8 transition-colors duration-300",children:"Customer Support"}),r.jsxs("div",{className:"mb-12",children:[r.jsx("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-6 transition-colors duration-300",children:"Get Help"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:g.map((f,b)=>r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6 text-center hover:shadow-lg transition-all duration-300",children:[r.jsx(f.icon,{className:"w-12 h-12 text-blue-600 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2 transition-colors duration-300",children:f.title}),r.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-3 transition-colors duration-300",children:f.description}),r.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-4 transition-colors duration-300",children:f.availability}),r.jsx("button",{onClick:f.action,className:`w-full ${f.color} text-white px-4 py-2 rounded-md font-semibold transition-colors`,children:f.buttonText})]},b))})]}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-8 mb-8 transition-colors duration-300",children:[r.jsx("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-6 transition-colors duration-300",children:"Send us a Message"}),r.jsxs("form",{onSubmit:x,className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 transition-colors duration-300",children:"Name"}),r.jsx("input",{type:"text",value:i.name,onChange:f=>l({...i,name:f.target.value}),className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors duration-300",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 transition-colors duration-300",children:"Email"}),r.jsx("input",{type:"email",value:i.email,onChange:f=>l({...i,email:f.target.value}),className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors duration-300",required:!0})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 transition-colors duration-300",children:"Subject"}),r.jsx("input",{type:"text",value:i.subject,onChange:f=>l({...i,subject:f.target.value}),className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors duration-300",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 transition-colors duration-300",children:"Message"}),r.jsx("textarea",{value:i.message,onChange:f=>l({...i,message:f.target.value}),rows:5,className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors duration-300",required:!0})]}),u==="success"&&r.jsx("div",{className:"mb-4 p-4 bg-green-100 dark:bg-green-900 border border-green-400 dark:border-green-600 text-green-700 dark:text-green-300 rounded-md",children:h}),u==="error"&&r.jsx("div",{className:"mb-4 p-4 bg-red-100 dark:bg-red-900 border border-red-400 dark:border-red-600 text-red-700 dark:text-red-300 rounded-md",children:h}),r.jsxs("button",{type:"submit",disabled:c,className:`w-full py-3 px-4 rounded-md transition-colors flex items-center justify-center space-x-2 ${c?"bg-gray-400 dark:bg-gray-600 cursor-not-allowed text-white":"bg-blue-600 text-white hover:bg-blue-700"}`,children:[r.jsx(El,{className:"w-5 h-5"}),r.jsx("span",{children:c?"Sending...":"Send Message"})]})]})]}),r.jsxs("div",{className:"mb-12",children:[r.jsx("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-6 transition-colors duration-300",children:"Frequently Asked Questions"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:w.map((f,b)=>r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 transition-colors duration-300",children:f.title}),r.jsx("ul",{className:"space-y-2",children:f.questions.map((p,k)=>r.jsx("li",{children:r.jsx("a",{href:"/help",className:"text-gray-600 dark:text-gray-300 hover:text-blue-600 transition-colors duration-300",children:p})},k))})]},b))})]}),r.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-800 p-8 mb-8",children:[r.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[r.jsx(Ot,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"}),r.jsx("h2",{className:"text-xl font-semibold text-blue-900 dark:text-blue-100",children:"Support Hours"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-blue-800 dark:text-blue-200",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold mb-2",children:"Live Chat"}),r.jsx("p",{children:"24/7 Available"})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold mb-2",children:"Phone Support"}),r.jsx("p",{children:"Mon-Fri: 9AM-6PM EST"})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold mb-2",children:"Email Support"}),r.jsx("p",{children:"Response within 24 hours"})]})]})]}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-8",children:[r.jsx("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-6 transition-colors duration-300",children:"Quick Links"}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[r.jsx("a",{href:"/track-order",className:"text-blue-600 hover:text-blue-600-600 transition-colors duration-300",children:"Track Order"}),r.jsx("a",{href:"/returns",className:"text-blue-600 hover:text-blue-600-600 transition-colors duration-300",children:"Returns"}),r.jsx("a",{href:"/shipping",className:"text-blue-600 hover:text-blue-600-600 transition-colors duration-300",children:"Shipping Info"}),r.jsx("a",{href:"/warranty",className:"text-blue-600 hover:text-blue-600-600 transition-colors duration-300",children:"Warranty"}),r.jsx("a",{href:"/help",className:"text-blue-600 hover:text-blue-600-600 transition-colors duration-300",children:"Help Center"}),r.jsx("a",{href:"/contact",className:"text-blue-600 hover:text-blue-600-600 transition-colors duration-300",children:"Contact Us"}),r.jsx("a",{href:"/privacy",className:"text-blue-600 hover:text-blue-600-600 transition-colors duration-300",children:"Privacy Policy"}),r.jsx("a",{href:"/terms",className:"text-blue-600 hover:text-blue-600-600 transition-colors duration-300",children:"Terms of Service"})]})]})]})]}),r.jsx(w0,{isOpen:e,onClose:()=>t(!1)}),s&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 transition-opacity duration-300",onClick:()=>a(!1),children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 max-w-md w-full mx-4 shadow-xl transition-colors duration-300",onClick:f=>f.stopPropagation(),children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Email Support"}),r.jsx("button",{onClick:()=>a(!1),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors",children:r.jsx(Oa,{className:"w-5 h-5"})})]}),r.jsxs("div",{className:"text-center",children:[r.jsx(Wt,{className:"w-12 h-12 text-blue-600 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-4",children:"Send us an email and we'll respond within 24 hours"}),r.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4 mb-4",children:[r.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-1",children:"Support Email:"}),r.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[r.jsx("span",{className:"text-lg font-mono text-gray-900 dark:text-white",children:"sppix.ltd@gmail.com"}),r.jsx("button",{onClick:()=>{navigator.clipboard.writeText("sppix.ltd@gmail.com")},className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors",title:"Copy email",children:r.jsx(tl,{className:"w-4 h-4"})})]})]}),r.jsxs("div",{className:"flex space-x-3",children:[r.jsx("button",{onClick:()=>{window.open("mailto:sppix.ltd@gmail.com","_blank"),a(!1)},className:"flex-1 bg-blue-600 text-white px-4 py-2 rounded-md font-semibold hover:bg-blue-700 transition-colors",children:"Open Email Client"}),r.jsx("button",{onClick:()=>a(!1),className:"flex-1 bg-gray-200 dark:bg-gray-600 text-gray-800 dark:text-gray-200 px-4 py-2 rounded-md font-semibold hover:bg-gray-300 dark:hover:bg-gray-500 transition-colors",children:"Close"})]})]})]})}),n&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 transition-opacity duration-300",onClick:()=>o(!1),children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 max-w-md w-full mx-4 shadow-xl transition-colors duration-300",onClick:f=>f.stopPropagation(),children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Phone Support"}),r.jsx("button",{onClick:()=>o(!1),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors",children:r.jsx(Oa,{className:"w-5 h-5"})})]}),r.jsxs("div",{className:"text-center",children:[r.jsx(At,{className:"w-12 h-12 text-purple-600 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-4",children:"Call us for immediate assistance"}),r.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-4",children:"Mon-Fri 9AM-6PM EST"}),r.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4 mb-4",children:[r.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-1",children:"Support Phone:"}),r.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[r.jsx("span",{className:"text-lg font-mono text-gray-900 dark:text-white",children:"07379846808"}),r.jsx("button",{onClick:()=>{navigator.clipboard.writeText("07379846808")},className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors",title:"Copy phone number",children:r.jsx(tl,{className:"w-4 h-4"})})]})]}),r.jsxs("div",{className:"flex space-x-3",children:[r.jsx("button",{onClick:()=>{window.open("tel:07379846808","_self"),o(!1)},className:"flex-1 bg-purple-600 text-white px-4 py-2 rounded-md font-semibold hover:bg-purple-700 transition-colors",children:"Call Now"}),r.jsx("button",{onClick:()=>o(!1),className:"flex-1 bg-gray-200 dark:bg-gray-600 text-gray-800 dark:text-gray-200 px-4 py-2 rounded-md font-semibold hover:bg-gray-300 dark:hover:bg-gray-500 transition-colors",children:"Close"})]})]})]})})]})},_6=()=>{const[e,t]=y.useState([]);return y.useEffect(()=>{(async()=>{try{const a=await fetch("http://127.0.0.1:8001/api/public/categories/?top=true");if(a.ok){const n=await a.json(),o=n.results||n;t(o)}}catch(a){console.error("Failed to load categories:",a)}})()},[]),r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center ",children:r.jsxs("div",{className:"text-center",children:[r.jsx(Hr,{size:"xl",className:"mx-auto mb-8",children:r.jsx("div",{className:"text-gray-400 text-lg",children:"404"})}),r.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Page Not Found"}),r.jsx("p",{className:"text-xl text-gray-600 mb-8 max-w-md mx-auto",children:"Sorry, we couldn't find the page you're looking for. It might have been moved, deleted, or doesn't exist."}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[r.jsxs(J,{to:"/",className:"inline-flex items-center space-x-2 bg-primary text-white px-6 py-3 rounded-md hover:bg-primary-600 transition-colors",children:[r.jsx(o0,{className:"w-4 h-4"}),r.jsx("span",{children:"Go Home"})]}),r.jsxs("button",{onClick:()=>window.history.back(),className:"inline-flex items-center space-x-2 border border-gray-300 text-gray-700 px-6 py-3 rounded-md hover:bg-gray-50 transition-colors",children:[r.jsx(fr,{className:"w-4 h-4"}),r.jsx("span",{children:"Go Back"})]})]}),r.jsxs("div",{className:"mt-12",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Popular Pages"}),r.jsxs("div",{className:"flex flex-wrap justify-center gap-4 text-sm",children:[r.jsx(J,{to:"/",className:"text-primary hover:text-primary-600 transition-colors",children:"Home"}),e.map(s=>r.jsx(J,{to:`/allsubcategories?category=${s.id}&name=${encodeURIComponent(s.name)}`,className:"text-primary hover:text-primary-600 transition-colors",children:s.name},s.id)),r.jsx(J,{to:"/deals",className:"text-primary hover:text-primary-600 transition-colors",children:"Hot Deals"})]})]})]})})},P6="http://127.0.0.1:8001/api",R6=async(e,t={})=>{const s={headers:{"Content-Type":"application/json",...t.headers},...t};try{const a=await fetch(`${P6}${e}`,s);if(!a.ok){const n=await a.json().catch(()=>({detail:"Network error"}));throw new Error(n.detail||`HTTP ${a.status}: ${a.statusText}`)}return await a.json()}catch(a){throw console.error(`Auth API Error [${e}]:`,a),a}},T6=async(e,t)=>{try{const s=await R6("/login",{method:"POST",body:JSON.stringify({email:e,password:t})});return s.access&&(localStorage.setItem("authToken",s.access),s.refresh&&localStorage.setItem("refreshToken",s.refresh)),s}catch(s){throw console.error("Login error:",s),s}},L6=()=>{const[e,t]=y.useState({email:"",password:""}),[s,a]=y.useState(!1),[n,o]=y.useState(!1),[i,l]=y.useState(""),c=st(),d=rr(),u=h=>{const{name:v,value:g}=h.target;t(w=>({...w,[v]:g})),i&&l("")},m=async h=>{h.preventDefault(),o(!0),l("");try{const v=await T6(e.email,e.password);v.success?(c(el({email:v.data.user.email,name:v.data.user.first_name||v.data.user.username,username:v.data.user.username})),d("/user/dashboard")):l(v.error||"Login failed")}catch{l("An unexpected error occurred")}finally{o(!1)}};return r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-red-50 to-red-100 dark:from-slate-900 dark:to-slate-800 flex items-center justify-center p-4",children:r.jsxs("div",{className:"max-w-md w-full",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsxs(J,{to:"/",className:"inline-flex items-center text-gray-600 dark:text-gray-400 hover:text-red-600 dark:hover:text-blue-400 transition-colors mb-4",children:[r.jsx(fr,{className:"w-4 h-4 mr-2"}),"Back to Store"]}),r.jsx("div",{className:"w-16 h-16 bg-red-600 dark:bg-blue-600 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx("span",{className:"text-white font-bold text-2xl",children:"E"})}),r.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Welcome Back"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Sign in to your account to continue"})]}),r.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-xl p-8",children:[r.jsxs("form",{onSubmit:m,className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Email Address"}),r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:r.jsx(Wt,{className:"h-5 w-5 text-gray-400 dark:text-gray-500"})}),r.jsx("input",{id:"email",name:"email",type:"email",required:!0,value:e.email,onChange:u,className:"block w-full pl-10 pr-3 py-3 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-red-500 dark:focus:ring-blue-500 focus:border-transparent bg-white dark:bg-slate-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 transition-colors",placeholder:"Enter your email"})]})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Password"}),r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:r.jsx(As,{className:"h-5 w-5 text-gray-400 dark:text-gray-500"})}),r.jsx("input",{id:"password",name:"password",type:s?"text":"password",required:!0,value:e.password,onChange:u,className:"block w-full pl-10 pr-12 py-3 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-red-500 dark:focus:ring-blue-500 focus:border-transparent bg-white dark:bg-slate-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 transition-colors",placeholder:"Enter your password"}),r.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>a(!s),children:s?r.jsx(Na,{className:"h-5 w-5 text-gray-400 dark:text-gray-500 hover:text-gray-600 dark:hover:text-gray-300"}):r.jsx($r,{className:"h-5 w-5 text-gray-400 dark:text-gray-500 hover:text-gray-600 dark:hover:text-gray-300"})})]})]}),i&&r.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-3",children:r.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:i})}),r.jsx("button",{type:"submit",disabled:n,className:"w-full flex justify-center py-3 px-4 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-red-600 dark:bg-blue-600 hover:bg-red-700 dark:hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 dark:focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:n?r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Signing In..."]}):"Sign In"}),r.jsx("div",{className:"text-center",children:r.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["New to store?"," ",r.jsx(J,{to:"/user/sign-up",className:"font-medium text-red-600 dark:text-blue-400 hover:text-red-700 dark:hover:text-blue-500 transition-colors",children:"Sign Up"})]})})]}),r.jsx("div",{className:"mt-6 pt-6 border-t border-gray-200 dark:border-slate-700",children:r.jsx("div",{className:"flex justify-center",children:r.jsx(po,{size:"sm"})})})]})]})})},A6=()=>{const[e,t]=y.useState({username:"",email:"",password:"",confirmPassword:""}),[s,a]=y.useState(!1),[n,o]=y.useState(!1),[i,l]=y.useState(!1),[c,d]=y.useState(""),[u,m]=y.useState(!1),[h,v]=y.useState(null),g=st(),w=rr();y.useEffect(()=>{(async()=>{try{const p=await fetch("/api/public/store-settings/");if(p.ok){const k=await p.json();k.store_logo&&v(k.store_logo)}}catch(p){console.log("Could not fetch store logo:",p)}})()},[]);const x=b=>{const{name:p,value:k}=b.target;t(E=>({...E,[p]:k})),c&&d("")},f=async b=>{b.preventDefault(),l(!0),d("");try{if(e.password!==e.confirmPassword){d("Passwords do not match"),l(!1);return}if(e.password.length<6){d("Password must be at least 6 characters long"),l(!1);return}if(!u){d("Please agree to the Privacy Policy to create an account"),l(!1);return}const p=await fetch("/api/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e.username,email:e.email,password:e.password,first_name:e.username})});if(!p.ok){const N=await p.json();if(N.errors){const S=[];N.errors.username&&S.push(`Username: ${N.errors.username}`),N.errors.email&&S.push(`Email: ${N.errors.email}`),N.errors.password&&S.push(`Password: ${N.errors.password}`),S.length>0?d(S.join(". ")):d(N.detail||"Registration failed. Please try again.")}else d(N.detail||"Registration failed. Please try again.");l(!1);return}const k=await p.json(),E=await fetch("/api/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e.username,password:e.password})});if(!E.ok)throw new Error("Auto-login after registration failed");const _=await E.json(),j={access:_.access,refresh:_.refresh,user:_.user};localStorage.setItem("auth",JSON.stringify(j)),localStorage.setItem("access_token",_.access),g(np({email:e.email,name:e.username,username:e.username,password:e.password})),w("/user/dashboard")}catch(p){console.error("Registration error:",p),d("Registration failed. Please try again.")}finally{l(!1)}};return r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-red-50 to-red-100 dark:from-slate-900 dark:to-slate-800 flex items-center justify-center p-4",children:r.jsxs("div",{className:"max-w-md w-full",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsxs(J,{to:"/",className:"inline-flex items-center text-gray-600 dark:text-gray-400 hover:text-red-600 dark:hover:text-blue-400 transition-colors mb-4",children:[r.jsx(fr,{className:"w-4 h-4 mr-2"}),"Back to Store"]}),r.jsx("div",{className:"w-16 h-16 bg-red-600 dark:bg-blue-600 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx(wp,{src:h,alt:"Store Logo",className:"w-12 h-12 object-contain rounded-full",fallbackText:"E"})}),r.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Create Account"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Join us and start shopping today"})]}),r.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-xl p-8",children:[r.jsxs("form",{onSubmit:f,className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Username"}),r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:r.jsx(It,{className:"h-5 w-5 text-gray-400 dark:text-gray-500"})}),r.jsx("input",{id:"username",name:"username",type:"text",required:!0,value:e.username,onChange:x,className:"block w-full pl-10 pr-3 py-3 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-red-500 dark:focus:ring-blue-500 focus:border-transparent bg-white dark:bg-slate-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 transition-colors",placeholder:"Enter your username"})]})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Email Address"}),r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:r.jsx(Wt,{className:"h-5 w-5 text-gray-400 dark:text-gray-500"})}),r.jsx("input",{id:"email",name:"email",type:"email",required:!0,value:e.email,onChange:x,className:"block w-full pl-10 pr-3 py-3 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-red-500 dark:focus:ring-blue-500 focus:border-transparent bg-white dark:bg-slate-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 transition-colors",placeholder:"Enter your email"})]})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Password"}),r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:r.jsx(As,{className:"h-5 w-5 text-gray-400 dark:text-gray-500"})}),r.jsx("input",{id:"password",name:"password",type:s?"text":"password",required:!0,value:e.password,onChange:x,className:"block w-full pl-10 pr-12 py-3 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-red-500 dark:focus:ring-blue-500 focus:border-transparent bg-white dark:bg-slate-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 transition-colors",placeholder:"Enter your password"}),r.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>a(!s),children:s?r.jsx(Na,{className:"h-5 w-5 text-gray-400 dark:text-gray-500 hover:text-gray-600 dark:hover:text-gray-300"}):r.jsx($r,{className:"h-5 w-5 text-gray-400 dark:text-gray-500 hover:text-gray-600 dark:hover:text-gray-300"})})]})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Confirm Password"}),r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:r.jsx(As,{className:"h-5 w-5 text-gray-400 dark:text-gray-500"})}),r.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:n?"text":"password",required:!0,value:e.confirmPassword,onChange:x,className:"block w-full pl-10 pr-12 py-3 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-red-500 dark:focus:ring-blue-500 focus:border-transparent bg-white dark:bg-slate-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 transition-colors",placeholder:"Confirm your password"}),r.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>o(!n),children:n?r.jsx(Na,{className:"h-5 w-5 text-gray-400 dark:text-gray-500 hover:text-gray-600 dark:hover:text-gray-300"}):r.jsx($r,{className:"h-5 w-5 text-gray-400 dark:text-gray-500 hover:text-gray-600 dark:hover:text-gray-300"})})]})]}),r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx("input",{type:"checkbox",id:"privacyConsent",checked:u,onChange:b=>m(b.target.checked),className:"mt-1 h-4 w-4 text-red-600 dark:text-blue-600 focus:ring-red-500 dark:focus:ring-blue-500 border-gray-300 dark:border-slate-600 rounded",required:!0}),r.jsxs("label",{htmlFor:"privacyConsent",className:"text-sm text-gray-700 dark:text-gray-300",children:["I agree to the"," ",r.jsx("a",{href:"/privacy",target:"_blank",rel:"noopener noreferrer",className:"text-red-600 dark:text-blue-400 hover:underline",children:"Privacy Policy"})," ","and consent to the processing of my personal information as described therein."]})]}),c&&r.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4",children:r.jsxs("div",{className:"flex",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:r.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),r.jsxs("div",{className:"ml-3",children:[r.jsx("h3",{className:"text-sm font-medium text-red-800 dark:text-red-200",children:"Registration Error"}),r.jsx("div",{className:"mt-2 text-sm text-red-700 dark:text-red-300",children:r.jsx("p",{children:c})}),c.includes("already exists")&&r.jsx("div",{className:"mt-3",children:r.jsxs("p",{className:"text-sm text-red-600 dark:text-red-400",children:["Already have an account?"," ",r.jsx(J,{to:"/user/sign-in",className:"font-medium underline hover:text-red-500 dark:hover:text-red-300",children:"Sign in here"})]})})]})]})}),r.jsx("button",{type:"submit",disabled:i,className:"w-full flex justify-center py-3 px-4 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-red-600 dark:bg-blue-600 hover:bg-red-700 dark:hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 dark:focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:i?r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Creating Account..."]}):"Sign Up"}),r.jsx("div",{className:"text-center",children:r.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Already have an account?"," ",r.jsx(J,{to:"/user/sign-in",className:"font-medium text-red-600 dark:text-blue-400 hover:text-red-700 dark:hover:text-blue-500 transition-colors",children:"Sign In"})]})})]}),r.jsx("div",{className:"mt-6 pt-6 border-t border-gray-200 dark:border-slate-700",children:r.jsx("div",{className:"flex justify-center",children:r.jsx(po,{size:"sm"})})})]})]})})},D6=()=>{const[e,t]=y.useState("overview"),{storeSettings:s}=Ya(),{settings:a}=jt(),[n,o]=y.useState(!1),i=ve(wt),l=ve($k),c=ve(r0((i==null?void 0:i.id)||"guest")),d=ve(sp((i==null?void 0:i.id)||"guest")),u=st(),m=rr(),{currentRoom:h,messages:v,loading:g,error:w,isConnected:x,initializeCustomerChat:f,sendMessage:b,clearError:p}=hy(),k=()=>{u(s0()),m("/")},E=async()=>{try{if(!x){const te={name:(i==null?void 0:i.name)||(i==null?void 0:i.username)||"Customer",email:(i==null?void 0:i.email)||"customer@example.com"};await f(te)}o(!0)}catch(te){console.error("Failed to initialize chat:",te)}},_=async()=>{if(h)try{const te=`${window.location.origin}/user/dashboard?chat=${h.id}`;await navigator.clipboard.writeText(te),console.log("Chat link copied to clipboard")}catch(te){console.error("Failed to copy chat link:",te)}},j=()=>{o(!0)},N=[{id:"overview",label:"Overview",icon:ur},{id:"orders",label:"My Orders",icon:Sa},{id:"cart",label:"Cart",icon:Ar},{id:"wishlist",label:"Wishlist",icon:as},{id:"chat",label:"Chat with Admin",icon:tt},{id:"settings",label:"Settings",icon:d2}],S=te=>{switch(te){case"Processing":return r.jsx(Ot,{className:"w-4 h-4 text-yellow-500"});case"Shipped":return r.jsx(ur,{className:"w-4 h-4 text-blue-500"});case"Delivered":return r.jsx(dr,{className:"w-4 h-4 text-green-500"});default:return r.jsx(Ot,{className:"w-4 h-4 text-gray-500"})}},A=()=>r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"bg-gradient-to-r from-red-500 to-red-600 dark:from-blue-600 dark:to-blue-700 rounded-xl p-6 text-white",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs("h2",{className:"text-2xl font-bold mb-2",children:["Welcome back, ",i==null?void 0:i.name,"!"]}),r.jsx("p",{className:"text-red-100 dark:text-blue-100",children:"Here's what's happening with your account"})]}),r.jsx("div",{className:"w-16 h-16 bg-white/20 rounded-full flex items-center justify-center",children:r.jsx(It,{className:"w-8 h-8"})})]})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[r.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 border border-gray-200 dark:border-slate-700",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Orders"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:l.length})]}),r.jsx("div",{className:"w-12 h-12 bg-blue-100 dark:bg-blue-900 rounded-lg flex items-center justify-center",children:r.jsx(Sa,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})})]})}),r.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 border border-gray-200 dark:border-slate-700",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Cart Items"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:c})]}),r.jsx("div",{className:"w-12 h-12 bg-green-100 dark:bg-green-900 rounded-lg flex items-center justify-center",children:r.jsx(Ar,{className:"w-6 h-6 text-green-600 dark:text-green-400"})})]})}),r.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 border border-gray-200 dark:border-slate-700",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Wishlist Items"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:d})]}),r.jsx("div",{className:"w-12 h-12 bg-red-100 dark:bg-red-900 rounded-lg flex items-center justify-center",children:r.jsx(as,{className:"w-6 h-6 text-red-600 dark:text-red-400"})})]})})]}),r.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 border border-gray-200 dark:border-slate-700",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Recent Orders"}),l.length>0?r.jsx("div",{className:"space-y-4",children:l.slice(0,3).map(te=>r.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-slate-700 rounded-lg",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[S(te.status),r.jsxs("div",{children:[r.jsxs("p",{className:"font-medium text-gray-900 dark:text-white",children:["Order #",te.id]}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:new Date(te.createdAt).toLocaleDateString()})]})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("p",{className:"font-semibold text-gray-900 dark:text-white",children:hs(te.total,(a==null?void 0:a.currency)||"USD")}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:te.status})]})]},te.id))}):r.jsxs("div",{className:"text-center py-8",children:[r.jsx(ur,{className:"w-12 h-12 text-gray-400 dark:text-gray-500 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"No orders yet"}),r.jsx(J,{to:"/shop",className:"text-red-600 dark:text-blue-400 hover:text-red-700 dark:hover:text-blue-500 font-medium",children:"Start shopping"})]})]})]}),M=()=>r.jsx("div",{className:"space-y-6",children:r.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 border border-gray-200 dark:border-slate-700",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Order History"}),l.length>0?r.jsx("div",{className:"space-y-4",children:l.map(te=>r.jsxs("div",{className:"border border-gray-200 dark:border-slate-700 rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[S(te.status),r.jsxs("div",{children:[r.jsxs("p",{className:"font-medium text-gray-900 dark:text-white",children:["Order #",te.id]}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:new Date(te.createdAt).toLocaleDateString()})]})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("p",{className:"font-semibold text-gray-900 dark:text-white",children:hs(te.total,(a==null?void 0:a.currency)||"USD")}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:te.status})]})]}),r.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:[te.items.length," item(s)"]})]},te.id))}):r.jsxs("div",{className:"text-center py-8",children:[r.jsx(Sa,{className:"w-12 h-12 text-gray-400 dark:text-gray-500 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"No orders yet"}),r.jsx(J,{to:"/shop",className:"text-red-600 dark:text-blue-400 hover:text-red-700 dark:hover:text-blue-500 font-medium",children:"Start shopping"})]})]})}),F=()=>r.jsx("div",{className:"space-y-6",children:r.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 border border-gray-200 dark:border-slate-700",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Shopping Cart"}),r.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:[c," items"]})]}),c>0?r.jsxs("div",{className:"text-center py-8",children:[r.jsx(Ar,{className:"w-12 h-12 text-gray-400 dark:text-gray-500 mx-auto mb-4"}),r.jsxs("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:["You have ",c," items in your cart"]}),r.jsx(J,{to:"/cart",className:"inline-flex items-center px-4 py-2 bg-red-600 dark:bg-blue-600 text-white rounded-lg hover:bg-red-700 dark:hover:bg-blue-700 transition-colors",children:"View Cart"})]}):r.jsxs("div",{className:"text-center py-8",children:[r.jsx(Ar,{className:"w-12 h-12 text-gray-400 dark:text-gray-500 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"Your cart is empty"}),r.jsx(J,{to:"/shop",className:"inline-flex items-center px-4 py-2 bg-red-600 dark:bg-blue-600 text-white rounded-lg hover:bg-red-700 dark:hover:bg-blue-700 transition-colors",children:"Start Shopping"})]})]})}),U=()=>r.jsx("div",{className:"space-y-6",children:r.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 border border-gray-200 dark:border-slate-700",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Wishlist"}),r.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:[d," items"]})]}),d>0?r.jsxs("div",{className:"text-center py-8",children:[r.jsx(as,{className:"w-12 h-12 text-gray-400 dark:text-gray-500 mx-auto mb-4"}),r.jsxs("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:["You have ",d," items in your wishlist"]}),r.jsx(J,{to:"/wishlist",className:"inline-flex items-center px-4 py-2 bg-red-600 dark:bg-blue-600 text-white rounded-lg hover:bg-red-700 dark:hover:bg-blue-700 transition-colors",children:"View Wishlist"})]}):r.jsxs("div",{className:"text-center py-8",children:[r.jsx(as,{className:"w-12 h-12 text-gray-400 dark:text-gray-500 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"Your wishlist is empty"}),r.jsx(J,{to:"/shop",className:"inline-flex items-center px-4 py-2 bg-red-600 dark:bg-blue-600 text-white rounded-lg hover:bg-red-700 dark:hover:bg-blue-700 transition-colors",children:"Start Shopping"})]})]})}),X=()=>r.jsx("div",{className:"space-y-6",children:r.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 border border-gray-200 dark:border-slate-700",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Chat with Admin"}),x?r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"text-center py-6",children:[r.jsx("div",{className:"w-16 h-16 bg-green-100 dark:bg-green-900 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx(tt,{className:"w-8 h-8 text-green-600 dark:text-green-400"})}),r.jsx("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Chat Connected"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"You're now connected to our admin team. Click below to start chatting!"}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[r.jsxs("button",{onClick:j,className:"inline-flex items-center px-4 py-2 bg-red-600 dark:bg-blue-600 text-white rounded-lg hover:bg-red-700 dark:hover:bg-blue-700 transition-colors",children:[r.jsx(tt,{className:"w-4 h-4 mr-2"}),"Open Chat"]}),r.jsxs("button",{onClick:_,className:"inline-flex items-center px-4 py-2 bg-gray-600 dark:bg-gray-700 text-white rounded-lg hover:bg-gray-700 dark:hover:bg-gray-600 transition-colors",children:[r.jsx(tl,{className:"w-4 h-4 mr-2"}),"Copy Chat Link"]})]})]}),r.jsxs("div",{className:"bg-gray-50 dark:bg-slate-700 rounded-lg p-4",children:[r.jsx("h5",{className:"font-medium text-gray-900 dark:text-white mb-2",children:"Connection Details"}),r.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400 space-y-1",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Status:"}),r.jsx("span",{className:"text-green-600 dark:text-green-400 font-medium",children:"Connected"})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Room ID:"}),r.jsx("span",{className:"font-mono",children:h==null?void 0:h.id})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Messages:"}),r.jsx("span",{children:v.length})]})]})]})]}):r.jsxs("div",{className:"text-center py-8",children:[r.jsx(tt,{className:"w-12 h-12 text-gray-400 dark:text-gray-500 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"Click below to connect with our admin team for support."}),r.jsx("button",{onClick:E,disabled:g,className:"inline-flex items-center px-4 py-2 bg-red-600 dark:bg-blue-600 text-white rounded-lg hover:bg-red-700 dark:hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:g?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"w-4 h-4 mr-2 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Connecting..."]}):r.jsxs(r.Fragment,{children:[r.jsx(tt,{className:"w-4 h-4 mr-2"}),"Start Chat"]})}),w&&r.jsxs("div",{className:"mt-4 text-sm text-red-600 dark:text-red-400",children:[w,r.jsx("button",{onClick:p,className:"ml-2 underline hover:no-underline",children:"Dismiss"})]})]})]})}),me=()=>r.jsx("div",{className:"space-y-6",children:r.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 border border-gray-200 dark:border-slate-700",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Account Settings"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs(J,{to:"/user/settings",className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-slate-700 rounded-lg hover:bg-gray-100 dark:hover:bg-slate-600 transition-colors",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(It,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"}),r.jsx("span",{className:"text-gray-900 dark:text-white",children:"Profile Settings"})]}),r.jsx("span",{className:"text-gray-400 dark:text-gray-500",children:""})]}),r.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-slate-700 rounded-lg",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(uN,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"}),r.jsx("span",{className:"text-gray-900 dark:text-white",children:"Notifications"})]}),r.jsx("span",{className:"text-gray-400 dark:text-gray-500",children:""})]})]})]})}),de=()=>{switch(e){case"overview":return A();case"orders":return M();case"cart":return F();case"wishlist":return U();case"chat":return X();case"settings":return me();default:return A()}};return r.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-slate-900",children:[r.jsx("div",{className:"bg-white dark:bg-slate-800 border-b border-gray-200 dark:border-slate-700",children:r.jsx("div",{className:"container mx-auto px-8 sm:px-12 lg:px-16 xl:px-20 py-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("div",{className:"flex items-center space-x-4",children:r.jsxs(J,{to:"/",className:"flex items-center space-x-2",children:[r.jsx("div",{className:"w-8 h-8 bg-red-600 dark:bg-blue-600 rounded-full flex items-center justify-center",children:r.jsx("span",{className:"text-white font-bold text-lg",children:"E"})}),r.jsxs("span",{className:"text-xl font-bold text-gray-900 dark:text-white",children:[(s==null?void 0:s.store_name)||"Store",r.jsx("span",{className:"text-red-600 dark:text-blue-400",children:"."})]})]})}),r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Welcome, ",i==null?void 0:i.name]}),r.jsx(po,{size:"sm"}),r.jsxs("button",{onClick:k,className:"flex items-center space-x-2 px-3 py-2 text-sm text-gray-600 dark:text-gray-400 hover:text-red-600 dark:hover:text-blue-400 transition-colors",children:[r.jsx(gp,{className:"w-4 h-4"}),r.jsx("span",{children:"Logout"})]})]})]})})}),r.jsx("div",{className:"container mx-auto px-8 sm:px-12 lg:px-16 xl:px-20 py-8",children:r.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[r.jsx("div",{className:"lg:w-64",children:r.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl border border-gray-200 dark:border-slate-700 p-4",children:r.jsx("nav",{className:"space-y-2",children:N.map(te=>{const O=te.icon;return r.jsxs("button",{onClick:()=>t(te.id),className:`w-full flex items-center space-x-3 px-3 py-2 rounded-lg text-left transition-colors ${e===te.id?"bg-red-100 dark:bg-blue-900 text-red-700 dark:text-blue-300":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-slate-700"}`,children:[r.jsx(O,{className:"w-5 h-5"}),r.jsx("span",{children:te.label})]},te.id)})})})}),r.jsx("div",{className:"flex-1",children:de()})]})}),r.jsx(w0,{isOpen:n,onClose:()=>o(!1)})]})},I6=()=>{const e=ve(wt),t=st(),s=rr(),[a,n]=y.useState("profile"),[o,i]=y.useState(!1),[l,c]=y.useState(!1),[d,u]=y.useState(!1),[m,h]=y.useState(!1),[v,g]=y.useState(""),[w,x]=y.useState({username:(e==null?void 0:e.name)||"",email:(e==null?void 0:e.email)||"",profilePicture:""}),[f,b]=y.useState({currentPassword:"",newPassword:"",confirmPassword:""}),p=F=>{const{name:U,value:X}=F.target;x(me=>({...me,[U]:X}))},k=F=>{const{name:U,value:X}=F.target;b(me=>({...me,[U]:X}))},E=async F=>{F.preventDefault(),h(!0),g("");try{await new Promise(U=>setTimeout(U,1e3)),g("Profile updated successfully!")}catch{g("Failed to update profile. Please try again.")}finally{h(!1)}},_=async F=>{F.preventDefault(),h(!0),g("");try{if(f.newPassword!==f.confirmPassword){g("New passwords do not match"),h(!1);return}if(f.newPassword.length<6){g("New password must be at least 6 characters long"),h(!1);return}await new Promise(U=>setTimeout(U,1e3)),g("Password updated successfully!"),b({currentPassword:"",newPassword:"",confirmPassword:""})}catch{g("Failed to update password. Please try again.")}finally{h(!1)}},j=()=>{t(s0()),s("/")},N=[{id:"profile",label:"Profile Settings",icon:It},{id:"password",label:"Change Password",icon:As}],S=()=>r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 border border-gray-200 dark:border-slate-700",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Profile Picture"}),r.jsxs("div",{className:"flex items-center space-x-6",children:[r.jsx("div",{className:"w-20 h-20 bg-gray-200 dark:bg-slate-700 rounded-full flex items-center justify-center",children:w.profilePicture?r.jsx("img",{src:w.profilePicture,alt:"Profile",className:"w-20 h-20 rounded-full object-cover"}):r.jsx(It,{className:"w-10 h-10 text-gray-400 dark:text-gray-500"})}),r.jsxs("div",{children:[r.jsxs("button",{className:"inline-flex items-center px-4 py-2 bg-red-600 dark:bg-blue-600 text-white rounded-lg hover:bg-red-700 dark:hover:bg-blue-700 transition-colors",children:[r.jsx(fN,{className:"w-4 h-4 mr-2"}),"Change Photo"]}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-2",children:"JPG, PNG or GIF. Max size 2MB."})]})]})]}),r.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 border border-gray-200 dark:border-slate-700",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Profile Information"}),r.jsxs("form",{onSubmit:E,className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Username"}),r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:r.jsx(It,{className:"h-5 w-5 text-gray-400 dark:text-gray-500"})}),r.jsx("input",{id:"username",name:"username",type:"text",required:!0,value:w.username,onChange:p,className:"block w-full pl-10 pr-3 py-3 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-red-500 dark:focus:ring-blue-500 focus:border-transparent bg-white dark:bg-slate-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 transition-colors",placeholder:"Enter your username"})]})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Email Address"}),r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:r.jsx(Wt,{className:"h-5 w-5 text-gray-400 dark:text-gray-500"})}),r.jsx("input",{id:"email",name:"email",type:"email",required:!0,value:w.email,onChange:p,className:"block w-full pl-10 pr-3 py-3 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-red-500 dark:focus:ring-blue-500 focus:border-transparent bg-white dark:bg-slate-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 transition-colors",placeholder:"Enter your email"})]})]}),r.jsx("button",{type:"submit",disabled:m,className:"w-full flex justify-center py-3 px-4 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-red-600 dark:bg-blue-600 hover:bg-red-700 dark:hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 dark:focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:m?r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Saving..."]}):r.jsxs("div",{className:"flex items-center",children:[r.jsx(Sh,{className:"w-4 h-4 mr-2"}),"Save Changes"]})})]})]})]}),A=()=>r.jsx("div",{className:"space-y-6",children:r.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 border border-gray-200 dark:border-slate-700",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Change Password"}),r.jsxs("form",{onSubmit:_,className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"currentPassword",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Current Password"}),r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:r.jsx(As,{className:"h-5 w-5 text-gray-400 dark:text-gray-500"})}),r.jsx("input",{id:"currentPassword",name:"currentPassword",type:o?"text":"password",required:!0,value:f.currentPassword,onChange:k,className:"block w-full pl-10 pr-12 py-3 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-red-500 dark:focus:ring-blue-500 focus:border-transparent bg-white dark:bg-slate-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 transition-colors",placeholder:"Enter current password"}),r.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>i(!o),children:o?r.jsx(Na,{className:"h-5 w-5 text-gray-400 dark:text-gray-500 hover:text-gray-600 dark:hover:text-gray-300"}):r.jsx($r,{className:"h-5 w-5 text-gray-400 dark:text-gray-500 hover:text-gray-600 dark:hover:text-gray-300"})})]})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"newPassword",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"New Password"}),r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:r.jsx(As,{className:"h-5 w-5 text-gray-400 dark:text-gray-500"})}),r.jsx("input",{id:"newPassword",name:"newPassword",type:l?"text":"password",required:!0,value:f.newPassword,onChange:k,className:"block w-full pl-10 pr-12 py-3 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-red-500 dark:focus:ring-blue-500 focus:border-transparent bg-white dark:bg-slate-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 transition-colors",placeholder:"Enter new password"}),r.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>c(!l),children:l?r.jsx(Na,{className:"h-5 w-5 text-gray-400 dark:text-gray-500 hover:text-gray-600 dark:hover:text-gray-300"}):r.jsx($r,{className:"h-5 w-5 text-gray-400 dark:text-gray-500 hover:text-gray-600 dark:hover:text-gray-300"})})]})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Confirm New Password"}),r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:r.jsx(As,{className:"h-5 w-5 text-gray-400 dark:text-gray-500"})}),r.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:d?"text":"password",required:!0,value:f.confirmPassword,onChange:k,className:"block w-full pl-10 pr-12 py-3 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-red-500 dark:focus:ring-blue-500 focus:border-transparent bg-white dark:bg-slate-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 transition-colors",placeholder:"Confirm new password"}),r.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>u(!d),children:d?r.jsx(Na,{className:"h-5 w-5 text-gray-400 dark:text-gray-500 hover:text-gray-600 dark:hover:text-gray-300"}):r.jsx($r,{className:"h-5 w-5 text-gray-400 dark:text-gray-500 hover:text-gray-600 dark:hover:text-gray-300"})})]})]}),r.jsx("button",{type:"submit",disabled:m,className:"w-full flex justify-center py-3 px-4 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-red-600 dark:bg-blue-600 hover:bg-red-700 dark:hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 dark:focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:m?r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Updating..."]}):r.jsxs("div",{className:"flex items-center",children:[r.jsx(Sh,{className:"w-4 h-4 mr-2"}),"Update Password"]})})]})]})}),M=()=>{switch(a){case"profile":return S();case"password":return A();default:return S()}};return r.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-slate-900",children:[r.jsx("div",{className:"bg-white dark:bg-slate-800 border-b border-gray-200 dark:border-slate-700",children:r.jsx("div",{className:"container mx-auto px-4 py-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("div",{className:"flex items-center space-x-4",children:r.jsxs(J,{to:"/user/dashboard",className:"flex items-center text-gray-600 dark:text-gray-400 hover:text-red-600 dark:hover:text-blue-400 transition-colors",children:[r.jsx(fr,{className:"w-4 h-4 mr-2"}),"Back to Dashboard"]})}),r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Welcome, ",e==null?void 0:e.name]}),r.jsx(po,{size:"sm"}),r.jsxs("button",{onClick:j,className:"flex items-center space-x-2 px-3 py-2 text-sm text-gray-600 dark:text-gray-400 hover:text-red-600 dark:hover:text-blue-400 transition-colors",children:[r.jsx(gp,{className:"w-4 h-4"}),r.jsx("span",{children:"Logout"})]})]})]})})}),r.jsx("div",{className:"container mx-auto px-4 py-8",children:r.jsxs("div",{className:"max-w-4xl mx-auto",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Account Settings"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Manage your account information and preferences"})]}),v&&r.jsx("div",{className:`mb-6 p-4 rounded-lg ${v.includes("successfully")?"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 text-green-600 dark:text-green-400":"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 text-red-600 dark:text-red-400"}`,children:v}),r.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[r.jsx("div",{className:"lg:w-64",children:r.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl border border-gray-200 dark:border-slate-700 p-4",children:r.jsx("nav",{className:"space-y-2",children:N.map(F=>{const U=F.icon;return r.jsxs("button",{onClick:()=>n(F.id),className:`w-full flex items-center space-x-3 px-3 py-2 rounded-lg text-left transition-colors ${a===F.id?"bg-red-100 dark:bg-blue-900 text-red-700 dark:text-blue-300":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-slate-700"}`,children:[r.jsx(U,{className:"w-5 h-5"}),r.jsx("span",{children:F.label})]},F.id)})})})}),r.jsx("div",{className:"flex-1",children:M()})]})]})})]})},Jh=()=>{const e=rr(),[t,s]=y.useState("grid"),[a,n]=y.useState([]),[o,i]=y.useState([]),[l,c]=y.useState(!0),[d,u]=y.useState(null);y.useEffect(()=>{(async()=>{try{c(!0),u(null);let f=[];try{const p=await fetch("http://127.0.0.1:8001/api/public/categories/?top=true");if(p.ok){const k=await p.json();f=k.results||k,console.log("Loaded top-level categories:",f.length)}else throw new Error("Failed to load top categories")}catch{console.log("Top categories failed, falling back to all categories...");let k="http://127.0.0.1:8001/api/public/categories/";for(;k;){const E=await fetch(k);if(E.ok){const _=await E.json();f=[...f,..._.results||[]],k=_.next||null}else throw console.error("Categories API request failed with status:",E.status),new Error(`Failed to load categories: ${E.status} ${E.statusText}`)}}console.log("Loaded categories:",f.length),console.log("Sample categories:",f.slice(0,3)),n(f);const b=await y0();console.log("Loaded products:",b.length),console.log("Sample products:",b.slice(0,3)),i(b)}catch(f){console.error("Failed to load data:",f),u(f instanceof Error?f.message:"Failed to load data")}finally{c(!1)}})()},[]);const m=x=>a.filter(f=>f.parent===x),h=x=>{const f=[x],b=m(x);f.push(...b.map(k=>k.id));const p=o.filter(k=>f.includes(k.category||0));return console.log(`Category ${x}: checking ${f.length} category IDs, found ${p.length} products`),p},v=()=>a.filter(x=>{if(x.parent!==null)return!1;const f=h(x.id).length>0;return console.log(`Category ${x.name}: ${f?"HAS":"NO"} products (${h(x.id).length})`),f}),g=x=>{var p,k;const f=x.images.find(E=>E.is_main)||x.images[0],b=x.discount_rate&&x.discount_rate>0?x.price/(1-x.discount_rate/100):void 0;return{id:x.id.toString(),slug:x.name.toLowerCase().replace(/\s+/g,"-"),title:x.name,category:((p=x.category_data)==null?void 0:p.name)||"Uncategorized",brand:((k=x.brand_data)==null?void 0:k.name)||"Unknown",price:x.price,oldPrice:b,rating:x.average_rating,ratingCount:x.review_count,average_rating:x.average_rating,review_count:x.review_count,isNew:x.isNew||!1,discountPct:x.discount_rate||0,discount_rate:x.discount_rate||0,is_top_selling:x.is_top_selling||!1,description:x.description,images:x.images.map(E=>E.image),stock:x.stock||0,inStock:(x.stock||0)>0,sku:`SKU-${x.id}`,specs:{},viewCount:x.view_count,image:f?f.image:void 0}},w=v();return console.log("Categories with products:",w.length),console.log("All categories count:",a.length),console.log("Products count:",o.length),l?r.jsx(yr,{message:"Loading categories..."}):d?r.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-slate-900 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-24 h-24 bg-red-100 dark:bg-blue-900/20 rounded-full flex items-center justify-center mx-auto mb-6",children:r.jsx(Jt,{className:"w-12 h-12 text-red-600 dark:text-blue-400 rotate-90"})}),r.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"Failed to Load Categories"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:d}),r.jsx("button",{onClick:()=>window.location.reload(),className:"inline-flex items-center gap-2 px-6 py-3 bg-red-600 dark:bg-blue-600 text-white rounded-lg hover:bg-red-700 dark:hover:bg-blue-700 transition-colors font-medium",children:"Try Again"})]})}):r.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-slate-900",children:r.jsxs("div",{className:"container py-8",children:[r.jsxs("div",{className:"mb-8",children:[r.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500 dark:text-gray-400 mb-4",children:[r.jsx(J,{to:"/",className:"hover:text-red-600 dark:hover:text-blue-400 transition-colors",children:"Home"}),r.jsx(Jt,{className:"w-4 h-4"}),r.jsx("span",{children:"Categories"})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs("h1",{className:"text-4xl font-bold text-gray-900 dark:text-white mb-2",children:["Product ",r.jsx("span",{className:"text-red-600 dark:text-blue-400",children:"Categories"})]}),r.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-300",children:"Explore our wide range of products organized by category"})]}),r.jsxs("div",{className:"flex items-center gap-2 bg-white dark:bg-slate-800 rounded-lg p-1 border border-gray-200 dark:border-slate-700",children:[r.jsx("button",{onClick:()=>s("grid"),className:`p-2 rounded-md transition-colors ${t==="grid"?"bg-red-600 dark:bg-blue-600 text-white":"text-gray-500 dark:text-gray-400 hover:text-red-600 dark:hover:text-blue-400"}`,children:r.jsx(Md,{className:"w-5 h-5"})}),r.jsx("button",{onClick:()=>s("list"),className:`p-2 rounded-md transition-colors ${t==="list"?"bg-red-600 dark:bg-blue-600 text-white":"text-gray-500 dark:text-gray-400 hover:text-red-600 dark:hover:text-blue-400"}`,children:r.jsx(xp,{className:"w-5 h-5"})})]})]})]}),r.jsx("div",{className:"space-y-12",children:(w.length>0?w:a.filter(x=>x.parent===null)).map(x=>{const f=h(x.id);return r.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl border border-gray-200 dark:border-slate-700 overflow-hidden",children:[r.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-slate-700",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:x.name}),r.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600 dark:text-gray-400",children:[r.jsxs("span",{children:[f.length," products"]}),m(x.id).length>0&&r.jsxs("span",{children:[m(x.id).length," subcategories"]})]})]}),r.jsxs("button",{onClick:()=>e(`/allsubcategories?category=${x.id}&name=${encodeURIComponent(x.name)}`),className:"px-4 py-2 bg-red-600 dark:bg-blue-600 text-white rounded-lg hover:bg-red-700 dark:hover:bg-blue-700 transition-colors font-medium flex items-center gap-2",children:[r.jsx($r,{className:"w-4 h-4"}),"View All"]})]})}),r.jsxs("div",{className:"p-6",children:[t==="grid"?r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:f.slice(0,8).map(b=>{const p=g(b);return r.jsx(b0,{product:p},p.id)})}):r.jsx("div",{className:"space-y-4",children:f.slice(0,6).map(b=>{const p=g(b);return r.jsxs("div",{className:"flex items-center gap-4 p-4 border border-gray-200 dark:border-slate-700 rounded-lg hover:shadow-md transition-shadow",children:[r.jsx("div",{className:"w-20 h-20 bg-gray-100 dark:bg-slate-700 rounded-lg overflow-hidden flex-shrink-0",children:p.image?r.jsx("img",{src:p.image.startsWith("http")?p.image:`http://localhost:8001${p.image}`,alt:p.title,className:"w-full h-full object-cover"}):r.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400 dark:text-gray-500",children:"No Image"})}),r.jsx("div",{className:"flex-1 min-w-0",children:r.jsxs(J,{to:`/product/${p.id}`,className:"block group",children:[r.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white group-hover:text-red-600 dark:group-hover:text-blue-400 transition-colors truncate",children:p.title}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1 line-clamp-2",children:p.description})]})}),r.jsxs("div",{className:"text-right flex-shrink-0",children:[r.jsxs("div",{className:"text-lg font-bold text-gray-900 dark:text-white",children:["$",p.price]}),p.oldPrice&&r.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400 line-through",children:["$",p.oldPrice]})]})]},p.id)})}),f.length>(t==="grid"?8:6)&&r.jsx("div",{className:"text-center mt-6",children:r.jsxs(J,{to:`/allsubcategories?category=${x.id}&name=${encodeURIComponent(x.name)}`,className:"inline-flex items-center gap-2 px-6 py-3 border border-red-600 dark:border-blue-600 text-red-600 dark:text-blue-400 rounded-lg hover:bg-red-50 dark:hover:bg-blue-900/20 transition-colors font-medium",children:["View All ",f.length," Products",r.jsx(Jt,{className:"w-4 h-4"})]})})]})]},x.id)})}),w.length===0&&r.jsxs("div",{className:"text-center py-16",children:[r.jsx("div",{className:"w-24 h-24 bg-gray-100 dark:bg-slate-700 rounded-full flex items-center justify-center mx-auto mb-6",children:r.jsx(Md,{className:"w-12 h-12 text-gray-400 dark:text-gray-500"})}),r.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"No Categories Found"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"We couldn't find any categories with products at the moment."}),r.jsx(J,{to:"/",className:"inline-flex items-center gap-2 px-6 py-3 bg-red-600 dark:bg-blue-600 text-white rounded-lg hover:bg-red-700 dark:hover:bg-blue-700 transition-colors font-medium",children:"Back to Home"})]})]})})},M6=({category:e,onClick:t})=>r.jsx("div",{className:"flex-shrink-0 w-40 sm:w-44 md:w-48 lg:w-52 cursor-pointer group",onClick:()=>t(e),style:{minWidth:"160px",maxWidth:"208px"},children:r.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg border border-gray-200 dark:border-slate-700 overflow-hidden hover:shadow-lg transition-all duration-200 group-hover:scale-105 group-hover:border-red-300 dark:group-hover:border-blue-500 h-full",children:[r.jsx("div",{className:"aspect-square bg-gray-100 dark:bg-slate-700 relative overflow-hidden",children:e.image?r.jsx("img",{src:e.image,alt:e.name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-200"}):r.jsx("div",{className:"w-full h-full flex items-center justify-center",children:r.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-400 to-blue-600 dark:from-blue-500 dark:to-blue-700 rounded-full flex items-center justify-center group-hover:scale-110 transition-transform duration-200",children:r.jsx("span",{className:"text-white text-lg font-medium",children:e.name.charAt(0)})})})}),r.jsx("div",{className:"p-3",children:r.jsx("h3",{className:"text-sm font-medium text-gray-900 dark:text-white text-center line-clamp-2 group-hover:text-red-600 dark:group-hover:text-blue-400 transition-colors duration-200",children:e.name})})]})}),O6=({subcategory:e,grandchildCategories:t,onCategoryClick:s,onShopAllClick:a})=>{const[n,o]=y.useState(!1),[i,l]=y.useState(!1),c=y.useRef(null),d=()=>{if(c.current){const{scrollLeft:v,scrollWidth:g,clientWidth:w}=c.current;o(v>0),l(v<g-w-1)}},u=()=>{c.current&&c.current.scrollBy({left:-400,behavior:"smooth"})},m=()=>{c.current&&c.current.scrollBy({left:400,behavior:"smooth"})};y.useEffect(()=>{const v=c.current;return v&&(v.addEventListener("scroll",d,{passive:!0}),d()),()=>{v&&v.removeEventListener("scroll",d)}},[t]);const h=()=>{if(typeof window>"u")return 3;const v=window.innerWidth;return v<640?1:v<1024?2:v<1280?3:4};return r.jsxs("div",{className:"mb-8",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("h2",{className:"text-lg font-bold text-gray-900 dark:text-white",children:e.name}),t.length>h()&&r.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:[t.length," items"]})]}),r.jsxs("div",{className:"relative w-full overflow-hidden",children:[n&&r.jsx("button",{onClick:u,className:"absolute left-0 top-1/2 -translate-y-1/2 z-20 bg-white dark:bg-slate-800 shadow-md rounded-full p-1.5 hover:bg-red-50 dark:hover:bg-blue-900/20 transition-all duration-200 border border-red-200 dark:border-blue-600",children:r.jsx(pN,{className:"w-4 h-4 text-red-600 dark:text-blue-400"})}),i&&r.jsx("button",{onClick:m,className:"absolute right-0 top-1/2 -translate-y-1/2 z-20 bg-white dark:bg-slate-800 shadow-md rounded-full p-1.5 hover:bg-red-50 dark:hover:bg-blue-900/20 transition-all duration-200 border border-red-200 dark:border-blue-600",children:r.jsx(Jt,{className:"w-4 h-4 text-red-600 dark:text-blue-400"})}),r.jsx("div",{ref:c,className:"horizontal-scroll-container flex gap-3 pb-2",style:{maxWidth:"100%",width:"100%"},children:t.map(v=>r.jsx(M6,{category:v,onClick:s},v.id))})]}),r.jsx("div",{className:"mt-4",children:r.jsxs("button",{onClick:()=>a(e),className:"inline-flex items-center px-4 py-2 bg-red-600 dark:bg-blue-600 text-white rounded-lg hover:bg-red-700 dark:hover:bg-blue-700 transition-colors font-medium text-sm",children:[r.jsx(Sa,{className:"w-4 h-4 mr-2"}),"Shop all ",e.name]})})]})},$6=()=>{const[e]=fo(),t=rr(),{activeDropdown:s}=c0(),{categories:a,loading:n,error:o}=z2();y.useEffect(()=>{const x=document.createElement("style");return x.textContent=`
      .scrollbar-hide {
        -ms-overflow-style: none;
        scrollbar-width: none;
      }
      .scrollbar-hide::-webkit-scrollbar {
        display: none;
      }
      .horizontal-scroll-container {
        overflow-x: auto;
        overflow-y: hidden;
        scroll-behavior: smooth;
        -webkit-overflow-scrolling: touch;
        scrollbar-width: none;
        -ms-overflow-style: none;
        overscroll-behavior-x: contain;
      }
      .horizontal-scroll-container::-webkit-scrollbar {
        display: none;
      }
      
      /* Mobile and tablet specific fixes */
      @media (max-width: 1024px) {
        .horizontal-scroll-container {
          touch-action: pan-x;
          overflow-x: auto;
          overflow-y: hidden;
        }
      }
    `,document.head.appendChild(x),()=>{document.head.removeChild(x)}},[]);const i=e.get("category"),l=e.get("name"),c=a.find(x=>x.id===parseInt(i||"0"));y.useEffect(()=>{a.length>0&&(console.log("AllSubcategories: Loaded categories:",a.length),console.log("AllSubcategories: Parent category:",c),console.log("AllSubcategories: Subcategories:",a.filter(x=>x.parent===parseInt(i||"0"))))},[a,i,c]);const d=()=>i?a.filter(x=>x.parent===parseInt(i)):[],u=x=>a.filter(f=>f.parent===x),m=()=>c!=null&&c.slogan?c.slogan:`Explore our comprehensive range of ${l||(c==null?void 0:c.name)||"products"}. Discover high-quality items carefully selected to meet your needs, featuring the latest innovations and timeless classics. Our extensive collection ensures you'll find exactly what you're looking for, backed by our commitment to quality and customer satisfaction.`,h=x=>{const f=a.some(b=>b.parent===x.id);t(f?`/allsubcategories?category=${x.id}&name=${encodeURIComponent(x.name)}`:`/category/${x.slug}`)},v=x=>{const f=a.some(b=>b.parent===x.id);t(f?`/allsubcategories?category=${x.id}&name=${encodeURIComponent(x.name)}`:`/category/${x.slug}`)},g=x=>{const f=document.getElementById(`subcategory-${x.id}`);f&&f.scrollIntoView({behavior:"smooth",block:"start"})},w=d();return n?r.jsx(yr,{message:"Loading categories..."}):o?r.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-slate-900 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsxs("p",{className:"text-red-600 dark:text-red-400 mb-4",children:["Error: ",o]}),r.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-blue-600 dark:bg-blue-500 text-white rounded-lg hover:bg-blue-700 dark:hover:bg-blue-600 transition-colors",children:"Retry"})]})}):!i||!c?r.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-slate-900 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"No category selected"}),r.jsx("button",{onClick:()=>t("/categories"),className:"px-4 py-2 bg-blue-600 dark:bg-blue-500 text-white rounded-lg hover:bg-blue-700 dark:hover:bg-blue-600 transition-colors",children:"Back to Categories"})]})}):r.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-slate-900",children:r.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[!s&&r.jsx("div",{className:"mb-6",children:r.jsxs("nav",{className:"flex items-center space-x-2 text-sm text-gray-600 dark:text-gray-400",children:[r.jsxs("button",{onClick:()=>t("/"),className:"flex items-center hover:text-blue-600 dark:hover:text-blue-400 transition-colors",children:[r.jsx(o0,{className:"w-4 h-4 mr-1"}),"Home"]}),r.jsx(Jt,{className:"w-4 h-4"}),r.jsx("span",{className:"text-gray-900 dark:text-white font-medium",children:l||c.name})]})}),r.jsxs("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-4",children:l||c.name}),r.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-400 leading-relaxed",children:m()}),w.length>0&&r.jsxs("div",{className:"mt-4 text-sm text-gray-500 dark:text-gray-400",children:["Browse ",w.length," subcategor",w.length===1?"y":"ies"," below"]})]}),r.jsxs("div",{className:"flex flex-col xl:flex-row gap-8",children:[r.jsx("div",{className:"w-full xl:w-80 flex-shrink-0",children:r.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg border border-gray-200 dark:border-slate-700 p-6 xl:sticky xl:top-8",children:[r.jsxs("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:[c==null?void 0:c.name," Subcategories"]}),r.jsx("div",{className:"space-y-4",children:w.map(x=>{const f=u(x.id);return r.jsxs("div",{className:"border-b border-gray-200 dark:border-slate-700 pb-4 last:border-b-0",children:[r.jsx("button",{onClick:()=>g(x),className:"w-full text-left px-3 py-2 rounded-md transition-colors text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-slate-700 hover:text-red-600 dark:hover:text-blue-400 font-medium",children:x.name}),f.length>0&&r.jsx("div",{className:"mt-2 ml-4 space-y-1",children:f.map(b=>r.jsx("button",{onClick:()=>h(b),className:"w-full text-left px-3 py-1.5 text-sm rounded-md transition-colors text-gray-600 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-slate-700 hover:text-red-600 dark:hover:text-blue-400",children:b.name},b.id))})]},x.id)})})]})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[w.map(x=>{const f=u(x.id);return r.jsx("div",{id:`subcategory-${x.id}`,className:"mb-8 w-full",children:r.jsx(O6,{subcategory:x,grandchildCategories:f,onCategoryClick:h,onShopAllClick:v})},x.id)}),w.length===0&&r.jsxs("div",{className:"text-center py-12",children:[r.jsx("div",{className:"w-16 h-16 bg-gray-200 dark:bg-slate-600 rounded-lg flex items-center justify-center mx-auto mb-4",children:r.jsx("span",{className:"text-2xl",children:""})}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"No subcategories found"}),r.jsxs("p",{className:"text-gray-500 dark:text-gray-400 mb-4",children:['The category "',l||(c==null?void 0:c.name),`" doesn't have any subcategories yet.`]}),r.jsx("button",{onClick:()=>t("/categories"),className:"px-4 py-2 bg-blue-600 dark:bg-blue-500 text-white rounded-lg hover:bg-blue-700 dark:hover:bg-blue-600 transition-colors",children:"Browse All Categories"})]})]})]})]})})},Xh=()=>{var h,v,g,w,x,f,b,p,k;const{slug:e}=Va(),t=st(),s=ve(a0),a=ve(wt),n=(a==null?void 0:a.id)||"guest",[o,i]=y.useState(null),[l,c]=y.useState(!0),{settings:d}=jt(),u=(E,_=20)=>E.length<=_?E:`${E.substring(0,_)}...`,m=E=>Dr.find(_=>_.code===E)||Dr[0];return y.useEffect(()=>{console.log(" useEffect triggered with slug:",e),(async()=>{try{if(console.log(" Starting fetchOrder with slug:",e),console.log(" Current order state:",o),console.log(" Current loading state:",l),e){const _=e;console.log(" Fetching order details for tracking ID:",_);const j=`/api/public/track-order/${_}?t=${Date.now()}`;console.log(" Fetching from URL:",j);const N=await fetch(j);if(console.log(" Response status:",N.status),console.log(" Response headers:",N.headers),N.ok){const S=await N.json();console.log(" Response data received:",S);const A=S;if(A)if(console.log(" Setting order data:",A),console.log(" Order data keys:",Object.keys(A)),i(A),console.log(" Order state set, will re-render"),t(Dd({userId:n})),A.payment_status==="unpaid")try{console.log(" Updating payment status to paid for tracking ID:",_);const M=await fetch(`/api/public/track-order/${_}/?t=${Date.now()}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({payment_status:"paid"})});if(console.log(" Payment update response status:",M.status),M.ok){const F=await M.json();console.log(" Payment status updated successfully:",F),i(U=>U?{...U,payment_status:"paid",status:"pending",payment_status_display:"Paid"}:null),console.log(" Local state updated to paid")}else console.error(" Payment update failed:",M.status,await M.text())}catch(M){console.error(" Failed to update payment status:",M)}else console.log(" Payment status is already:",A.payment_status);else throw new Error("Order not found in response data")}else{console.error(" API request failed:",N.status,N.statusText);const S=await N.text();throw console.error(" Error response:",S),new Error(`Order not found: ${N.status} - ${S}`)}}else{const _=localStorage.getItem("currentOrder"),j=_?JSON.parse(_):null;if(console.log(" Stored order info:",j),j!=null&&j.orderNumber){console.log(" Fetching order details for orderNumber:",j.orderNumber);const N=await fetch(`/api/public/orders/${j.orderNumber}/?t=${Date.now()}`);if(console.log(" Response status:",N.status),N.ok){const S=await N.json();console.log(" Order data received:",S),i(S),t(Dd({userId:n})),localStorage.removeItem("currentOrder")}else throw new Error("Order not found")}else throw new Error("No order information available")}}catch(_){console.error(" Failed to fetch order:",_),console.error(" Error details:",_),t(Te({message:_ instanceof Error?_.message:"Failed to load order details",type:"error"}))}finally{console.log(" Setting loading to false"),c(!1),console.log(" Loading set to false, order state:",o)}})()},[e,t]),l?r.jsx(yr,{message:"Loading order details..."}):o?r.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-slate-900",children:r.jsxs("div",{className:"container mx-auto px-4 py-8",children:[r.jsx(Re,{className:"mb-6"}),r.jsxs("div",{className:"text-center mb-8 bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 rounded-2xl p-8 border border-green-200 dark:border-green-800",children:[r.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-green-100 dark:bg-green-900 rounded-full mb-6",children:r.jsx(dr,{className:"w-12 h-12 text-green-600 dark:text-green-400"})}),r.jsx("h1",{className:"text-4xl font-bold text-gray-900 dark:text-white mb-4",children:" Your Order Has Been Placed Successfully!"}),r.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-300 mb-6 max-w-2xl mx-auto",children:"Thank you for your purchase! We've received your payment and your order is now being processed. You'll receive a confirmation email shortly with all the details."}),r.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-lg p-4 border border-gray-200 dark:border-slate-700 max-w-md mx-auto",children:r.jsxs("div",{className:"text-center",children:[r.jsxs("p",{className:"text-2xl font-bold text-red-600 dark:text-blue-400 mb-2",children:["Order #",(o==null?void 0:o.id)||"Loading..."]}),r.jsxs("div",{className:"flex items-center justify-center gap-2",children:[r.jsx("span",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Tracking:"}),r.jsx("span",{className:"text-sm font-mono bg-gray-100 dark:bg-gray-600 text-gray-800 dark:text-gray-200 px-2 py-1 rounded border",children:(o==null?void 0:o.tracking_id)||"Loading..."})]})]})})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[r.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[r.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg border border-gray-200 dark:border-slate-700 p-6",children:[r.jsxs("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-6 flex items-center",children:[r.jsx(ur,{className:"w-5 h-5 mr-2"}),"Order Information"]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 mb-1",children:"Order"}),r.jsxs("div",{children:[r.jsxs("p",{className:"font-semibold text-lg text-gray-900 dark:text-white",children:["#",(o==null?void 0:o.id)||"Loading..."]}),r.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[r.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Tracking:"}),r.jsx("span",{className:"text-xs font-mono bg-gray-100 dark:bg-gray-600 text-gray-800 dark:text-gray-200 px-1 py-0.5 rounded",children:o!=null&&o.tracking_id?u(o.tracking_id):"Loading..."})]})]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 mb-1",children:"Order Date"}),r.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:o!=null&&o.created_at?new Date(o.created_at).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}):"Loading..."})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 mb-1",children:"Order Status"}),r.jsx("span",{className:`inline-flex px-3 py-1 text-sm font-medium rounded-full ${(o==null?void 0:o.status)==="pending"?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200":(o==null?void 0:o.status)==="processing"?"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200":(o==null?void 0:o.status)==="shipped"?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200"}`,children:o!=null&&o.status?o.status.charAt(0).toUpperCase()+o.status.slice(1):"Loading..."})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 mb-1",children:"Payment Status"}),r.jsx("span",{className:`inline-flex px-3 py-1 text-sm font-medium rounded-full ${(o==null?void 0:o.payment_status)==="paid"?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":(o==null?void 0:o.payment_status)==="unpaid"?"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200":(o==null?void 0:o.payment_status)==="failed"?"bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-200":"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200"}`,children:(o==null?void 0:o.payment_status)==="paid"?"Paid":(o==null?void 0:o.payment_status)==="unpaid"?"Unpaid":(o==null?void 0:o.payment_status)==="failed"?"Failed":(o==null?void 0:o.payment_status)==="refunded"?"Refunded":o!=null&&o.payment_status?o.payment_status.charAt(0).toUpperCase()+o.payment_status.slice(1):"Loading..."})]})]})]}),r.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg border border-gray-200 dark:border-slate-700 p-6",children:[r.jsxs("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-6 flex items-center",children:[r.jsx(ao,{className:"w-5 h-5 mr-2"}),"Customer Information"]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 mb-1",children:"Customer Name"}),r.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:(o==null?void 0:o.shipping_name)||(o==null?void 0:o.customer_name)||"Loading..."})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 mb-1",children:"Email Address"}),r.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:(o==null?void 0:o.customer_email)||"Loading..."})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 mb-1",children:"Phone Number"}),r.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:(o==null?void 0:o.customer_phone)||"Not provided"})]})]})]}),r.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg border border-gray-200 dark:border-slate-700 p-6",children:[r.jsxs("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[r.jsx(Ma,{className:"w-5 h-5 mr-2"}),"Shipping Information"]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 mb-1",children:"Shipping Method"}),r.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:(o==null?void 0:o.shipping_method)==="standard"?"Standard Shipping (5-7 business days)":(o==null?void 0:o.shipping_method)==="express"?"Express Shipping (2-3 business days)":(o==null?void 0:o.shipping_method)||"Standard Shipping"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 mb-1",children:"Shipping Cost"}),r.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:Le((o==null?void 0:o.shipping_cost)||0,m((d==null?void 0:d.currency)||"GBP"))})]}),r.jsxs("div",{className:"pt-4 border-t border-gray-200 dark:border-slate-600",children:[r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 mb-2",children:"Shipping Address"}),r.jsx("div",{className:"text-gray-600 dark:text-gray-300",children:typeof(o==null?void 0:o.shipping_address)=="string"?r.jsx("p",{children:o.shipping_address}):r.jsxs(r.Fragment,{children:[r.jsxs("p",{children:[(h=o==null?void 0:o.shipping_address)==null?void 0:h.firstName," ",(v=o==null?void 0:o.shipping_address)==null?void 0:v.lastName]}),r.jsx("p",{children:(g=o==null?void 0:o.shipping_address)==null?void 0:g.address}),((w=o==null?void 0:o.shipping_address)==null?void 0:w.address2)&&r.jsx("p",{children:o.shipping_address.address2}),r.jsxs("p",{children:[(x=o==null?void 0:o.shipping_address)==null?void 0:x.city,", ",(f=o==null?void 0:o.shipping_address)==null?void 0:f.state," ",(b=o==null?void 0:o.shipping_address)==null?void 0:b.zipCode]}),r.jsx("p",{children:(p=o==null?void 0:o.shipping_address)==null?void 0:p.country})]})})]})]})]}),r.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg border border-gray-200 dark:border-slate-700 p-6",children:[r.jsxs("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[r.jsx(ur,{className:"w-5 h-5 mr-2"}),"Order Items"]}),r.jsx("div",{className:"space-y-4",children:(k=o==null?void 0:o.items)==null?void 0:k.map((E,_)=>r.jsxs("div",{className:"flex justify-between items-center py-3 border-b border-gray-200 dark:border-slate-600 last:border-b-0",children:[r.jsx("div",{className:"flex items-center space-x-4 flex-1",children:r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium text-gray-900 dark:text-white",children:E.product_name}),r.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:["Quantity: ",E.quantity]}),r.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Price: ",Le(E.unit_price,m((d==null?void 0:d.currency)||"GBP"))]})]})}),r.jsx("div",{className:"text-right",children:r.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:Le(E.total_price,m((d==null?void 0:d.currency)||"GBP"))})})]},_))})]})]}),r.jsx("div",{className:"lg:col-span-1",children:r.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg border border-gray-200 dark:border-slate-700 p-6 sticky top-8",children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[r.jsx(ao,{className:"w-5 h-5 mr-2"}),"Order Summary"]}),r.jsxs("div",{className:"space-y-3 mb-6",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:"Subtotal"}),r.jsx("span",{className:"font-medium",children:Le((o==null?void 0:o.subtotal)||0,m((d==null?void 0:d.currency)||"GBP"))})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:"Shipping"}),r.jsx("span",{className:"font-medium",children:Le((o==null?void 0:o.shipping_cost)||0,m((d==null?void 0:d.currency)||"GBP"))})]}),((o==null?void 0:o.tax_amount)||0)>0&&r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:"Tax"}),r.jsx("span",{className:"font-medium",children:Le((o==null?void 0:o.tax_amount)||0,m((d==null?void 0:d.currency)||"GBP"))})]}),r.jsx("div",{className:"border-t border-gray-200 dark:border-slate-600 pt-3",children:r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Total"}),r.jsx("span",{className:"text-lg font-semibold text-red-600 dark:text-blue-400",children:Le((o==null?void 0:o.total_price)||0,m((d==null?void 0:d.currency)||"GBP"))})]})})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsx(J,{to:"/",className:"w-full inline-flex items-center justify-center px-6 py-3 bg-gradient-to-r from-red-600 to-red-700 dark:from-blue-600 dark:to-blue-700 text-white font-semibold rounded-lg hover:from-red-700 hover:to-red-800 dark:hover:from-blue-700 dark:hover:to-blue-800 transition-all duration-200 shadow-lg hover:shadow-xl",children:" Go Back to Home"}),r.jsx(J,{to:"/",className:"w-full inline-flex items-center justify-center px-6 py-3 bg-gray-100 dark:bg-slate-700 text-gray-700 dark:text-gray-300 font-medium rounded-lg hover:bg-gray-200 dark:hover:bg-slate-600 transition-colors",children:"Continue Shopping"}),s&&r.jsx(J,{to:"/account/orders",className:"w-full inline-flex items-center justify-center px-4 py-2 border border-gray-300 dark:border-slate-600 text-gray-700 dark:text-gray-300 rounded-md hover:bg-gray-50 dark:hover:bg-slate-700 transition-colors",children:"View My Orders"})]}),r.jsxs("div",{className:"mt-6 p-4 bg-gray-50 dark:bg-slate-700 rounded-md",children:[r.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-2",children:"What's Next?"}),r.jsxs("ul",{className:"text-sm text-gray-600 dark:text-gray-300 space-y-1",children:[r.jsx("li",{children:" You'll receive an order confirmation email"}),r.jsx("li",{children:" We'll process your order within 1-2 business days"}),r.jsx("li",{children:" You'll receive tracking information once shipped"}),r.jsx("li",{children:" Expected delivery: 5-7 business days"})]})]})]})})]})]})}):(console.log(" No order data, showing fallback UI"),console.log(" Order state:",o),console.log(" Loading state:",l),console.log(" Slug:",e),r.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-slate-900",children:r.jsx("div",{className:"container mx-auto px-4 py-8",children:r.jsx("div",{className:"text-center py-16",children:e?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-red-100 dark:bg-red-900 rounded-full mb-6",children:r.jsx(ur,{className:"w-12 h-12 text-red-600 dark:text-red-400"})}),r.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4",children:"Order Not Found"}),r.jsxs("p",{className:"text-lg text-gray-600 dark:text-gray-300 mb-6 max-w-2xl mx-auto",children:["Unable to load order details for tracking ID: ",r.jsx("span",{className:"font-mono bg-gray-100 dark:bg-gray-700 px-2 py-1 rounded",children:e})]}),r.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg p-6 border border-gray-200 dark:border-slate-700 max-w-md mx-auto mb-8",children:[r.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-3",children:"Possible reasons:"}),r.jsxs("ul",{className:"text-sm text-gray-600 dark:text-gray-300 space-y-2",children:[r.jsx("li",{children:" The tracking ID may be incorrect"}),r.jsx("li",{children:" The order may not exist in our system"}),r.jsx("li",{children:" There may be a temporary server issue"})]})]}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[r.jsx("button",{onClick:()=>window.location.reload(),className:"inline-flex items-center justify-center px-6 py-3 bg-blue-600 dark:bg-blue-600 text-white rounded-md hover:bg-blue-700 dark:hover:bg-blue-700 transition-colors",children:" Try Again"}),r.jsx(J,{to:"/",className:"inline-flex items-center justify-center px-6 py-3 bg-gray-600 dark:bg-slate-600 text-white rounded-md hover:bg-gray-700 dark:hover:bg-slate-700 transition-colors",children:" Back to Home"})]})]}):r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-blue-100 dark:bg-blue-900 rounded-full mb-6",children:r.jsx(ur,{className:"w-12 h-12 text-blue-600 dark:text-blue-400"})}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4",children:"Order Confirmation"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-6 max-w-2xl mx-auto",children:"To view your order confirmation details, please use the tracking ID provided in your confirmation email or receipt."}),r.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg p-6 border border-gray-200 dark:border-slate-700 max-w-md mx-auto mb-8",children:[r.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-3",children:"Need Help?"}),r.jsxs("ul",{className:"text-sm text-gray-600 dark:text-gray-300 space-y-2",children:[r.jsx("li",{children:" Check your email for the order confirmation"}),r.jsx("li",{children:" Look for the tracking ID in your receipt"}),r.jsx("li",{children:" Contact customer support if you can't find it"})]})]}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[r.jsx(J,{to:"/",className:"inline-flex items-center justify-center px-6 py-3 bg-red-600 dark:bg-blue-600 text-white rounded-md hover:bg-red-700 dark:hover:bg-blue-700 transition-colors",children:" Back to Home"}),r.jsx(J,{to:"/track-order",className:"inline-flex items-center justify-center px-6 py-3 bg-gray-600 dark:bg-slate-600 text-white rounded-md hover:bg-gray-700 dark:hover:bg-slate-700 transition-colors",children:" Track Your Order"})]})]})})})}))};class F6{constructor(){ra(this,"connections",new Map);ra(this,"activeConnection",null);ra(this,"listeners",new Set)}async createConnection(t){const s=`conn_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,a=`room_${t.userId}_${Date.now()}`,n={id:s,userId:t.userId,userName:t.userName,userEmail:t.userEmail,status:"connecting",roomId:a,connectionUrl:this.generateConnectionUrl(a),createdAt:new Date,lastActivity:new Date};this.connections.set(s,n),this.activeConnection=n,this.notifyListeners();try{return await this.establishConnection(n),n.status="connected",n.lastActivity=new Date,this.connections.set(s,n),this.notifyListeners(),n}catch(o){throw n.status="error",this.connections.set(s,n),this.notifyListeners(),o}}getActiveConnection(){return this.activeConnection}getConnection(t){return this.connections.get(t)||null}getUserConnections(t){return Array.from(this.connections.values()).filter(s=>s.userId===t).sort((s,a)=>a.createdAt.getTime()-s.createdAt.getTime())}closeConnection(t){var a;const s=this.connections.get(t);s&&(s.status="disconnected",this.connections.set(t,s),((a=this.activeConnection)==null?void 0:a.id)===t&&(this.activeConnection=null),this.notifyListeners())}updateActivity(t){const s=this.connections.get(t);s&&(s.lastActivity=new Date,this.connections.set(t,s),this.notifyListeners())}subscribe(t){return this.listeners.add(t),()=>{this.listeners.delete(t)}}generateConnectionUrl(t){return`${window.location.origin}/user/dashboard?chat=${t}`}generateChatLink(t){return`${window.location.origin}/chat/${t}`}async establishConnection(t){return new Promise((s,a)=>{setTimeout(()=>{console.log(`[ChatConnection] Establishing connection for room ${t.roomId}`),console.log(`[ChatConnection] User: ${t.userName} (${t.userEmail})`),console.log(`[ChatConnection] Connection URL: ${t.connectionUrl}`),s()},1e3)})}notifyListeners(){this.listeners.forEach(t=>{try{t(this.activeConnection)}catch(s){console.error("Error notifying connection listener:",s)}})}clearAllConnections(){this.connections.clear(),this.activeConnection=null,this.notifyListeners()}}const ks=new F6,z6=()=>{const e=ve(wt),[t,s]=y.useState(null),[a,n]=y.useState(!1),[o,i]=y.useState(!1),[l,c]=y.useState([]);y.useEffect(()=>{const g=ks.subscribe(x=>{if(s(x),n((x==null?void 0:x.status)==="connecting"),i((x==null?void 0:x.status)==="error"),e!=null&&e.id){const f=ks.getUserConnections(e.id);c(f)}}),w=ks.getActiveConnection();return s(w),n((w==null?void 0:w.status)==="connecting"),i((w==null?void 0:w.status)==="error"),g},[e==null?void 0:e.id]);const d=y.useCallback(async g=>{if(!(e!=null&&e.id))throw new Error("User must be logged in to create a chat connection");n(!0),i(!1);try{const w={userId:e.id,userName:e.name||e.username||"Anonymous User",userEmail:e.email||"user@example.com",createNewRoom:!0,...g};return await ks.createConnection(w)}catch(w){throw i(!0),w}finally{n(!1)}},[e]),u=y.useCallback(()=>{t&&ks.closeConnection(t.id)},[t]),m=y.useCallback(()=>{t&&ks.updateActivity(t.id)},[t]),h=(t==null?void 0:t.connectionUrl)||null,v=t?ks.generateChatLink(t.roomId):null;return{activeConnection:t,isConnecting:a,isConnected:(t==null?void 0:t.status)==="connected",hasError:o,createConnection:d,closeConnection:u,refreshConnection:m,connectionUrl:h,chatLink:v,userConnections:l}},U6=()=>{const{roomId:e}=Va(),t=rr(),[s,a]=y.useState(!1),{activeConnection:n,isConnecting:o,isConnected:i,hasError:l,createConnection:c,connectionUrl:d,chatLink:u}=z6();y.useEffect(()=>{e&&!i&&c({createNewRoom:!1}).catch(console.error)},[e,i,c]);const m=async()=>{if(u)try{await navigator.clipboard.writeText(u),console.log("Chat link copied to clipboard")}catch(v){console.error("Failed to copy chat link:",v)}},h=()=>{t("/user/dashboard")};return r.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-slate-900",children:[r.jsx("div",{className:"bg-white dark:bg-slate-800 border-b border-gray-200 dark:border-slate-700",children:r.jsx("div",{className:"container mx-auto px-4 py-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("div",{className:"flex items-center space-x-4",children:r.jsxs("button",{onClick:h,className:"flex items-center space-x-2 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white transition-colors",children:[r.jsx(fr,{className:"w-4 h-4"}),r.jsx("span",{children:"Back to Dashboard"})]})}),r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(tt,{className:"w-5 h-5 text-red-600 dark:text-blue-400"}),r.jsx("span",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Admin Chat"})]}),i&&r.jsx("div",{className:"flex items-center space-x-2",children:r.jsx("button",{onClick:m,className:"p-2 hover:bg-gray-100 dark:hover:bg-slate-700 rounded-lg transition-colors",title:"Copy chat link",children:r.jsx(tl,{className:"w-4 h-4 text-gray-600 dark:text-gray-400"})})})]})]})})}),r.jsx("div",{className:"container mx-auto px-4 py-8",children:r.jsxs("div",{className:"max-w-4xl mx-auto",children:[r.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 border border-gray-200 dark:border-slate-700 mb-6",children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4",children:"Chat with Admin Team"}),o?r.jsxs("div",{className:"text-center py-8",children:[r.jsx("div",{className:"w-16 h-16 bg-yellow-100 dark:bg-yellow-900 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx("div",{className:"w-8 h-8 border-2 border-yellow-600 border-t-transparent rounded-full animate-spin"})}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Establishing Connection..."}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Please wait while we connect you to our admin team."})]}):l?r.jsxs("div",{className:"text-center py-8",children:[r.jsx("div",{className:"w-16 h-16 bg-red-100 dark:bg-red-900 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx(tt,{className:"w-8 h-8 text-red-600 dark:text-red-400"})}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Connection Failed"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"We couldn't establish a connection. Please try again."}),r.jsxs("button",{onClick:()=>c(),className:"inline-flex items-center px-4 py-2 bg-red-600 dark:bg-blue-600 text-white rounded-lg hover:bg-red-700 dark:hover:bg-blue-700 transition-colors",children:[r.jsx(tt,{className:"w-4 h-4 mr-2"}),"Retry Connection"]})]}):i?r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"text-center py-6",children:[r.jsx("div",{className:"w-16 h-16 bg-green-100 dark:bg-green-900 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx(tt,{className:"w-8 h-8 text-green-600 dark:text-green-400"})}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Connection Established"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"You're now connected to our admin team. Click below to start chatting!"}),r.jsxs("button",{onClick:()=>a(!0),className:"inline-flex items-center px-6 py-3 bg-red-600 dark:bg-blue-600 text-white rounded-lg hover:bg-red-700 dark:hover:bg-blue-700 transition-colors text-lg",children:[r.jsx(tt,{className:"w-5 h-5 mr-2"}),"Open Chat Window"]})]}),r.jsxs("div",{className:"bg-gray-50 dark:bg-slate-700 rounded-lg p-4",children:[r.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-3",children:"Connection Details"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Status:"}),r.jsx("span",{className:"text-green-600 dark:text-green-400 font-medium",children:"Connected"})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Room ID:"}),r.jsx("span",{className:"font-mono",children:n==null?void 0:n.roomId})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Connected:"}),r.jsx("span",{children:n==null?void 0:n.createdAt.toLocaleTimeString()})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Last Activity:"}),r.jsx("span",{children:n==null?void 0:n.lastActivity.toLocaleTimeString()})]})]})]})]})]}):r.jsxs("div",{className:"text-center py-8",children:[r.jsx(tt,{className:"w-12 h-12 text-gray-400 dark:text-gray-500 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Ready to Chat"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"Click below to establish a connection with our admin team."}),r.jsxs("button",{onClick:()=>c(),className:"inline-flex items-center px-4 py-2 bg-red-600 dark:bg-blue-600 text-white rounded-lg hover:bg-red-700 dark:hover:bg-blue-700 transition-colors",children:[r.jsx(tt,{className:"w-4 h-4 mr-2"}),"Start Connection"]})]})]}),r.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-xl p-6 border border-blue-200 dark:border-blue-800",children:[r.jsx("h3",{className:"text-lg font-semibold text-blue-900 dark:text-blue-100 mb-3",children:"How to Use This Chat"}),r.jsxs("div",{className:"space-y-2 text-blue-800 dark:text-blue-200",children:[r.jsx("p",{children:' Click "Open Chat Window" to start chatting with our admin team'}),r.jsx("p",{children:" Your messages will be sent in real-time to our support staff"}),r.jsx("p",{children:" You can copy the chat link to share with others if needed"}),r.jsx("p",{children:" The connection will remain active as long as you're on this page"})]})]})]})}),r.jsx(w0,{isOpen:s,onClose:()=>a(!1)})]})},B6=Qj([{path:"/",element:r.jsx(P3,{}),children:[{index:!0,element:r.jsx(U3,{})},{path:"shop",element:r.jsx(Sc,{})},{path:"deals",element:r.jsx(Sc,{})},{path:"category",element:r.jsx(Jh,{})},{path:"category/:slug",element:r.jsx(Sc,{})},{path:"product/:id",element:r.jsx(tS,{})},{path:"cart",element:r.jsx(rS,{})},{path:"wishlist",element:r.jsx(sS,{})},{path:"checkout",element:r.jsx(bS,{})},{path:"order-confirmation",element:r.jsx(Xh,{})},{path:"order-confirmation/:slug",element:r.jsx(Xh,{})},{path:"account",element:r.jsx(vS,{})},{path:"account/orders",element:r.jsx(wS,{})},{path:"search",element:r.jsx(jS,{})},{path:"services",element:r.jsx(ES,{})},{path:"service/:id",element:r.jsx(FS,{})},{path:"services/subcategory/:id",element:r.jsx(Gh,{})},{path:"services/:categoryName",element:r.jsx(Gh,{})},{path:"about",element:r.jsx(qS,{})},{path:"contact",element:r.jsx(VS,{})},{path:"privacy",element:r.jsx(QS,{})},{path:"terms",element:r.jsx(GS,{})},{path:"help",element:r.jsx(YS,{})},{path:"track-order",element:r.jsx(KS,{})},{path:"careers",element:r.jsx(JS,{})},{path:"findus",element:r.jsx(XS,{})},{path:"shipping",element:r.jsx(ZS,{})},{path:"returns",element:r.jsx(e6,{})},{path:"warranty",element:r.jsx(t6,{})},{path:"support",element:r.jsx(E6,{})},{path:"categories",element:r.jsx(Jh,{})},{path:"allsubcategories",element:r.jsx($6,{})},{path:"*",element:r.jsx(_6,{})}]},{path:"user/sign-in",element:r.jsx(L6,{})},{path:"user/sign-up",element:r.jsx(A6,{})},{path:"user/dashboard",element:r.jsx(D6,{})},{path:"user/settings",element:r.jsx(I6,{})},{path:"chat/:roomId",element:r.jsx(U6,{})}]),W6=({children:e})=>r.jsx(D2,{children:e}),H6=()=>{const{storeSettings:e}=Ya();return y.useEffect(()=>{if(e!=null&&e.favicon){document.querySelectorAll('link[rel*="icon"]').forEach(n=>n.remove());const s=document.createElement("link");s.rel="icon",s.type="image/x-icon",s.href=e.favicon,document.head.appendChild(s);const a=document.createElement("link");a.rel="apple-touch-icon",a.href=e.favicon,document.head.appendChild(a)}},[e==null?void 0:e.favicon]),null},q6="http://127.0.0.1:8001/api",V6=async(e,t={})=>{const s={headers:{"Content-Type":"application/json",...t.headers},...t};try{const a=await fetch(`${q6}${e}`,s);if(!a.ok){const n=await a.json().catch(()=>({detail:"Network error"}));throw new Error(n.detail||`HTTP ${a.status}: ${a.statusText}`)}return await a.json()}catch(a){throw console.error(`Auth API Error [${e}]:`,a),a}},Q6=async()=>{const e=localStorage.getItem("authToken");if(!e)throw new Error("No authentication token found");return V6("/me",{headers:{Authorization:`Bearer ${e}`}})},G6=()=>{const e=st();return y.useEffect(()=>{(async()=>{try{const s=await Q6();s&&e(el({email:s.email,name:s.first_name||s.username,username:s.username}))}catch(s){console.log("User not authenticated:",s.message)}})()},[e]),null},Y6=(e="")=>{const t=window.location.protocol==="https:"?"wss:":"ws:",s=window.location.hostname==="localhost"?"127.0.0.1:8001":window.location.host;return`${t}//${s}/ws${e}`},Ct={CONNECTING:"connecting",CONNECTED:"connected",DISCONNECTED:"disconnected",RECONNECTING:"reconnecting",ERROR:"error"},K6=my((e,t)=>({connectionState:Ct.DISCONNECTED,ws:null,reconnectAttempts:0,maxReconnectAttempts:5,reconnectInterval:3e3,currentRoom:null,messages:[],unreadCount:0,loading:!1,error:null,connect:(s=null)=>{const{ws:a,connectionState:n}=t();if(a&&(n===Ct.CONNECTED||n===Ct.CONNECTING))return;const o=localStorage.getItem("access_token")||localStorage.getItem("authToken");if(!o){console.error("No auth token found for WebSocket connection"),e({connectionState:Ct.ERROR,error:"No authentication token found"});return}const i=Y6("/admin/chat/"),l=new WebSocket(`${i}?token=${o}${s?`&room=${s}`:""}`);e({ws:l,connectionState:Ct.CONNECTING,reconnectAttempts:0,error:null}),l.onopen=()=>{console.log("WebSocket connected"),e({connectionState:Ct.CONNECTED,reconnectAttempts:0,error:null})},l.onmessage=c=>{try{const d=JSON.parse(c.data);d.type==="message"?e(u=>({messages:[...u.messages,d.message],unreadCount:d.message.is_admin?u.unreadCount:u.unreadCount+1})):d.type==="message_history"?e({messages:d.messages||[]}):d.type==="room_created"?e({currentRoom:d.room}):d.type==="room_updated"?e({currentRoom:d.room}):d.type==="error"&&(console.error("WebSocket error:",d.error),e({error:d.error}))}catch(d){console.error("Error parsing WebSocket message:",d),e({error:"Failed to parse message"})}},l.onclose=c=>{console.log("WebSocket disconnected:",c.code,c.reason),e({connectionState:Ct.DISCONNECTED}),c.code!==1e3&&t().attemptReconnect()},l.onerror=c=>{console.error("WebSocket error:",c),e({connectionState:Ct.ERROR,error:"WebSocket connection failed"})}},disconnect:()=>{const{ws:s}=t();s&&(s.close(1e3,"Manual disconnect"),e({ws:null,connectionState:Ct.DISCONNECTED,reconnectAttempts:0}))},disconnectWebSocket:()=>{t().disconnect()},connectWebSocket:(s=null)=>{t().connect(s)},connectAdminWebSocket:()=>{t().connect()},attemptReconnect:()=>{const{reconnectAttempts:s,maxReconnectAttempts:a,reconnectInterval:n}=t();if(s>=a){console.log("Max reconnection attempts reached"),e({connectionState:Ct.ERROR,error:"Max reconnection attempts reached"});return}e({connectionState:Ct.RECONNECTING,reconnectAttempts:s+1}),setTimeout(()=>{t().connect()},n)},retryConnection:()=>{e({error:null,reconnectAttempts:0}),t().connect()},clearError:()=>{e({error:null})},initializeCustomerChat:async s=>{e({loading:!0,error:null});try{const a={id:`room_${Date.now()}`,customer_name:s.name,customer_email:s.email,created_at:new Date().toISOString(),is_active:!0};return e({currentRoom:a,loading:!1,error:null}),t().connect(a.id),{success:!0,room:a}}catch(a){return console.error("Failed to initialize customer chat:",a),e({loading:!1,error:a.message||"Failed to initialize chat"}),{success:!1,error:a.message}}},getChatRoom:async s=>{e({loading:!0,error:null});try{const a=[{id:`msg_${Date.now()}`,content:"Welcome! How can I help you today?",sender_type:"admin",sender_name:"Admin",is_read:!0,created_at:new Date().toISOString()}];return e({messages:a,loading:!1,error:null}),t().connect(s),{success:!0,messages:a}}catch(a){return console.error("Failed to get chat room:",a),e({loading:!1,error:a.message||"Failed to load chat room"}),{success:!1,error:a.message}}},updateCustomerInfo:async s=>{try{const a=JSON.parse(localStorage.getItem("currentUser")||"{}");if(a&&a.name){const n={...t().currentRoom,customer_name:a.name,customer_email:a.email};return e({currentRoom:n}),{success:!0}}return{success:!1,error:"No user information available"}}catch(a){return console.error("Failed to update customer info:",a),{success:!1,error:a.message}}},sendMessage:async(s,a)=>{var i;const{ws:n,connectionState:o}=t();if(!n||o!==Ct.CONNECTED)return console.error("WebSocket not connected"),{success:!1,error:"WebSocket not connected"};try{const l={type:"message",content:a,room_id:s,sender_type:"customer"};n.send(JSON.stringify(l));const c={id:`msg_${Date.now()}`,content:a,sender_type:"customer",sender_name:((i=t().currentRoom)==null?void 0:i.customer_name)||"You",is_read:!1,created_at:new Date().toISOString()};return e(d=>({messages:[...d.messages,c]})),{success:!0}}catch(l){return console.error("Error sending message:",l),{success:!1,error:l.message}}},markAsRead:()=>{e({unreadCount:0})},clearMessages:()=>{e({messages:[],unreadCount:0})},isConnected:()=>t().connectionState===Ct.CONNECTED,isConnecting:()=>t().connectionState===Ct.CONNECTING,hasUnread:()=>t().unreadCount>0})),J6=()=>{const e=ve(wt),{initializeCustomerChat:t,isConnected:s}=K6();return y.useEffect(()=>{e!=null&&e.isAuthenticated&&!s&&(console.log("[WebSocketInitializer] User authenticated, initializing customer chat..."),setTimeout(()=>{const a={name:e.name||e.username||"User",email:e.email||"user@example.com"};t(a).catch(console.error)},500))},[e,s,t]),y.useEffect(()=>{if(e!=null&&e.isAuthenticated&&!s){console.log("[WebSocketInitializer] WebSocket disconnected, attempting reconnection...");const a=setInterval(()=>{if(e!=null&&e.isAuthenticated&&!s){const n={name:e.name||e.username||"User",email:e.email||"user@example.com"};t(n).catch(console.error)}else clearInterval(a)},5e3);return()=>clearInterval(a)}},[e,s,t]),null},X6=()=>{const{loadingState:e}=Kp();return e.isLoading?r.jsx(yr,{message:e.message,showProgress:e.showProgress,progress:e.progress}):null};_c.createRoot(document.getElementById("root")).render(r.jsx(Ba.StrictMode,{children:r.jsx(gw,{store:mp,children:r.jsx(pg,{loading:null,persistor:eN,children:r.jsx(q2,{children:r.jsxs(A3,{children:[r.jsx(G6,{}),r.jsx(J6,{}),r.jsx(H6,{}),r.jsxs(W6,{children:[r.jsx(r1,{router:B6}),r.jsx(X6,{})]})]})})})})}));
