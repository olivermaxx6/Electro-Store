var VA=Object.defineProperty;var qA=(e,t,r)=>t in e?VA(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var W0=(e,t,r)=>(qA(e,typeof t!="symbol"?t+"":t,r),r);function GA(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const s=Object.getOwnPropertyDescriptor(n,a);s&&Object.defineProperty(e,a,s.get?s:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(a){if(a.ep)return;a.ep=!0;const s=r(a);fetch(a.href,s)}})();function ta(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Wk={exports:{}},Nf={},Kk={exports:{}},Ce={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wc=Symbol.for("react.element"),YA=Symbol.for("react.portal"),JA=Symbol.for("react.fragment"),XA=Symbol.for("react.strict_mode"),QA=Symbol.for("react.profiler"),ZA=Symbol.for("react.provider"),eO=Symbol.for("react.context"),tO=Symbol.for("react.forward_ref"),rO=Symbol.for("react.suspense"),nO=Symbol.for("react.memo"),aO=Symbol.for("react.lazy"),cy=Symbol.iterator;function sO(e){return e===null||typeof e!="object"?null:(e=cy&&e[cy]||e["@@iterator"],typeof e=="function"?e:null)}var Hk={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Vk=Object.assign,qk={};function Nl(e,t,r){this.props=e,this.context=t,this.refs=qk,this.updater=r||Hk}Nl.prototype.isReactComponent={};Nl.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Nl.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Gk(){}Gk.prototype=Nl.prototype;function Jp(e,t,r){this.props=e,this.context=t,this.refs=qk,this.updater=r||Hk}var Xp=Jp.prototype=new Gk;Xp.constructor=Jp;Vk(Xp,Nl.prototype);Xp.isPureReactComponent=!0;var uy=Array.isArray,Yk=Object.prototype.hasOwnProperty,Qp={current:null},Jk={key:!0,ref:!0,__self:!0,__source:!0};function Xk(e,t,r){var n,a={},s=null,l=null;if(t!=null)for(n in t.ref!==void 0&&(l=t.ref),t.key!==void 0&&(s=""+t.key),t)Yk.call(t,n)&&!Jk.hasOwnProperty(n)&&(a[n]=t[n]);var o=arguments.length-2;if(o===1)a.children=r;else if(1<o){for(var c=Array(o),u=0;u<o;u++)c[u]=arguments[u+2];a.children=c}if(e&&e.defaultProps)for(n in o=e.defaultProps,o)a[n]===void 0&&(a[n]=o[n]);return{$$typeof:wc,type:e,key:s,ref:l,props:a,_owner:Qp.current}}function iO(e,t){return{$$typeof:wc,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Zp(e){return typeof e=="object"&&e!==null&&e.$$typeof===wc}function lO(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var dy=/\/+/g;function K0(e,t){return typeof e=="object"&&e!==null&&e.key!=null?lO(""+e.key):t.toString(36)}function Lu(e,t,r,n,a){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var l=!1;if(e===null)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case wc:case YA:l=!0}}if(l)return l=e,a=a(l),e=n===""?"."+K0(l,0):n,uy(a)?(r="",e!=null&&(r=e.replace(dy,"$&/")+"/"),Lu(a,t,r,"",function(u){return u})):a!=null&&(Zp(a)&&(a=iO(a,r+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(dy,"$&/")+"/")+e)),t.push(a)),1;if(l=0,n=n===""?".":n+":",uy(e))for(var o=0;o<e.length;o++){s=e[o];var c=n+K0(s,o);l+=Lu(s,t,r,c,a)}else if(c=sO(e),typeof c=="function")for(e=c.call(e),o=0;!(s=e.next()).done;)s=s.value,c=n+K0(s,o++),l+=Lu(s,t,r,c,a);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function tu(e,t,r){if(e==null)return e;var n=[],a=0;return Lu(e,n,"","",function(s){return t.call(r,s,a++)}),n}function oO(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var fr={current:null},Fu={transition:null},cO={ReactCurrentDispatcher:fr,ReactCurrentBatchConfig:Fu,ReactCurrentOwner:Qp};function Qk(){throw Error("act(...) is not supported in production builds of React.")}Ce.Children={map:tu,forEach:function(e,t,r){tu(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return tu(e,function(){t++}),t},toArray:function(e){return tu(e,function(t){return t})||[]},only:function(e){if(!Zp(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Ce.Component=Nl;Ce.Fragment=JA;Ce.Profiler=QA;Ce.PureComponent=Jp;Ce.StrictMode=XA;Ce.Suspense=rO;Ce.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=cO;Ce.act=Qk;Ce.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=Vk({},e.props),a=e.key,s=e.ref,l=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,l=Qp.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(c in t)Yk.call(t,c)&&!Jk.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&o!==void 0?o[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){o=Array(c);for(var u=0;u<c;u++)o[u]=arguments[u+2];n.children=o}return{$$typeof:wc,type:e.type,key:a,ref:s,props:n,_owner:l}};Ce.createContext=function(e){return e={$$typeof:eO,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:ZA,_context:e},e.Consumer=e};Ce.createElement=Xk;Ce.createFactory=function(e){var t=Xk.bind(null,e);return t.type=e,t};Ce.createRef=function(){return{current:null}};Ce.forwardRef=function(e){return{$$typeof:tO,render:e}};Ce.isValidElement=Zp;Ce.lazy=function(e){return{$$typeof:aO,_payload:{_status:-1,_result:e},_init:oO}};Ce.memo=function(e,t){return{$$typeof:nO,type:e,compare:t===void 0?null:t}};Ce.startTransition=function(e){var t=Fu.transition;Fu.transition={};try{e()}finally{Fu.transition=t}};Ce.unstable_act=Qk;Ce.useCallback=function(e,t){return fr.current.useCallback(e,t)};Ce.useContext=function(e){return fr.current.useContext(e)};Ce.useDebugValue=function(){};Ce.useDeferredValue=function(e){return fr.current.useDeferredValue(e)};Ce.useEffect=function(e,t){return fr.current.useEffect(e,t)};Ce.useId=function(){return fr.current.useId()};Ce.useImperativeHandle=function(e,t,r){return fr.current.useImperativeHandle(e,t,r)};Ce.useInsertionEffect=function(e,t){return fr.current.useInsertionEffect(e,t)};Ce.useLayoutEffect=function(e,t){return fr.current.useLayoutEffect(e,t)};Ce.useMemo=function(e,t){return fr.current.useMemo(e,t)};Ce.useReducer=function(e,t,r){return fr.current.useReducer(e,t,r)};Ce.useRef=function(e){return fr.current.useRef(e)};Ce.useState=function(e){return fr.current.useState(e)};Ce.useSyncExternalStore=function(e,t,r){return fr.current.useSyncExternalStore(e,t,r)};Ce.useTransition=function(){return fr.current.useTransition()};Ce.version="18.3.1";Kk.exports=Ce;var h=Kk.exports;const Ji=ta(h),Zk=GA({__proto__:null,default:Ji},[h]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uO=h,dO=Symbol.for("react.element"),fO=Symbol.for("react.fragment"),mO=Object.prototype.hasOwnProperty,hO=uO.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,pO={key:!0,ref:!0,__self:!0,__source:!0};function ej(e,t,r){var n,a={},s=null,l=null;r!==void 0&&(s=""+r),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(l=t.ref);for(n in t)mO.call(t,n)&&!pO.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:dO,type:e,key:s,ref:l,props:a,_owner:hO.current}}Nf.Fragment=fO;Nf.jsx=ej;Nf.jsxs=ej;Wk.exports=Nf;var i=Wk.exports,Jm={},tj={exports:{}},Gr={},rj={exports:{}},nj={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(M,W){var J=M.length;M.push(W);e:for(;0<J;){var Q=J-1>>>1,q=M[Q];if(0<a(q,W))M[Q]=W,M[J]=q,J=Q;else break e}}function r(M){return M.length===0?null:M[0]}function n(M){if(M.length===0)return null;var W=M[0],J=M.pop();if(J!==W){M[0]=J;e:for(var Q=0,q=M.length,Pe=q>>>1;Q<Pe;){var L=2*(Q+1)-1,ae=M[L],Ne=L+1,We=M[Ne];if(0>a(ae,J))Ne<q&&0>a(We,ae)?(M[Q]=We,M[Ne]=J,Q=Ne):(M[Q]=ae,M[L]=J,Q=L);else if(Ne<q&&0>a(We,J))M[Q]=We,M[Ne]=J,Q=Ne;else break e}}return W}function a(M,W){var J=M.sortIndex-W.sortIndex;return J!==0?J:M.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var l=Date,o=l.now();e.unstable_now=function(){return l.now()-o}}var c=[],u=[],d=1,f=null,m=3,p=!1,x=!1,g=!1,v=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(M){for(var W=r(u);W!==null;){if(W.callback===null)n(u);else if(W.startTime<=M)n(u),W.sortIndex=W.expirationTime,t(c,W);else break;W=r(u)}}function k(M){if(g=!1,w(M),!x)if(r(c)!==null)x=!0,I(N);else{var W=r(u);W!==null&&G(k,W.startTime-M)}}function N(M,W){x=!1,g&&(g=!1,b(P),P=-1),p=!0;var J=m;try{for(w(W),f=r(c);f!==null&&(!(f.expirationTime>W)||M&&!$());){var Q=f.callback;if(typeof Q=="function"){f.callback=null,m=f.priorityLevel;var q=Q(f.expirationTime<=W);W=e.unstable_now(),typeof q=="function"?f.callback=q:f===r(c)&&n(c),w(W)}else n(c);f=r(c)}if(f!==null)var Pe=!0;else{var L=r(u);L!==null&&G(k,L.startTime-W),Pe=!1}return Pe}finally{f=null,m=J,p=!1}}var S=!1,j=null,P=-1,D=5,O=-1;function $(){return!(e.unstable_now()-O<D)}function B(){if(j!==null){var M=e.unstable_now();O=M;var W=!0;try{W=j(!0,M)}finally{W?U():(S=!1,j=null)}}else S=!1}var U;if(typeof y=="function")U=function(){y(B)};else if(typeof MessageChannel<"u"){var T=new MessageChannel,K=T.port2;T.port1.onmessage=B,U=function(){K.postMessage(null)}}else U=function(){v(B,0)};function I(M){j=M,S||(S=!0,U())}function G(M,W){P=v(function(){M(e.unstable_now())},W)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(M){M.callback=null},e.unstable_continueExecution=function(){x||p||(x=!0,I(N))},e.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<M?Math.floor(1e3/M):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(M){switch(m){case 1:case 2:case 3:var W=3;break;default:W=m}var J=m;m=W;try{return M()}finally{m=J}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(M,W){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var J=m;m=M;try{return W()}finally{m=J}},e.unstable_scheduleCallback=function(M,W,J){var Q=e.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?Q+J:Q):J=Q,M){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=J+q,M={id:d++,callback:W,priorityLevel:M,startTime:J,expirationTime:q,sortIndex:-1},J>Q?(M.sortIndex=J,t(u,M),r(c)===null&&M===r(u)&&(g?(b(P),P=-1):g=!0,G(k,J-Q))):(M.sortIndex=q,t(c,M),x||p||(x=!0,I(N))),M},e.unstable_shouldYield=$,e.unstable_wrapCallback=function(M){var W=m;return function(){var J=m;m=W;try{return M.apply(this,arguments)}finally{m=J}}}})(nj);rj.exports=nj;var gO=rj.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xO=h,Kr=gO;function Y(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var aj=new Set,Wo={};function ji(e,t){il(e,t),il(e+"Capture",t)}function il(e,t){for(Wo[e]=t,e=0;e<t.length;e++)aj.add(t[e])}var Na=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Xm=Object.prototype.hasOwnProperty,vO=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,fy={},my={};function yO(e){return Xm.call(my,e)?!0:Xm.call(fy,e)?!1:vO.test(e)?my[e]=!0:(fy[e]=!0,!1)}function bO(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function wO(e,t,r,n){if(t===null||typeof t>"u"||bO(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function mr(e,t,r,n,a,s,l){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=l}var Wt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Wt[e]=new mr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Wt[t]=new mr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Wt[e]=new mr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Wt[e]=new mr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Wt[e]=new mr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Wt[e]=new mr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Wt[e]=new mr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Wt[e]=new mr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Wt[e]=new mr(e,5,!1,e.toLowerCase(),null,!1,!1)});var eg=/[\-:]([a-z])/g;function tg(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(eg,tg);Wt[t]=new mr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(eg,tg);Wt[t]=new mr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(eg,tg);Wt[t]=new mr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Wt[e]=new mr(e,1,!1,e.toLowerCase(),null,!1,!1)});Wt.xlinkHref=new mr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Wt[e]=new mr(e,1,!1,e.toLowerCase(),null,!0,!0)});function rg(e,t,r,n){var a=Wt.hasOwnProperty(t)?Wt[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(wO(t,r,a,n)&&(r=null),n||a===null?yO(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Ta=xO.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ru=Symbol.for("react.element"),$i=Symbol.for("react.portal"),Ri=Symbol.for("react.fragment"),ng=Symbol.for("react.strict_mode"),Qm=Symbol.for("react.profiler"),sj=Symbol.for("react.provider"),ij=Symbol.for("react.context"),ag=Symbol.for("react.forward_ref"),Zm=Symbol.for("react.suspense"),eh=Symbol.for("react.suspense_list"),sg=Symbol.for("react.memo"),Ja=Symbol.for("react.lazy"),lj=Symbol.for("react.offscreen"),hy=Symbol.iterator;function ao(e){return e===null||typeof e!="object"?null:(e=hy&&e[hy]||e["@@iterator"],typeof e=="function"?e:null)}var it=Object.assign,H0;function jo(e){if(H0===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);H0=t&&t[1]||""}return`
`+H0+e}var V0=!1;function q0(e,t){if(!e||V0)return"";V0=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var a=u.stack.split(`
`),s=n.stack.split(`
`),l=a.length-1,o=s.length-1;1<=l&&0<=o&&a[l]!==s[o];)o--;for(;1<=l&&0<=o;l--,o--)if(a[l]!==s[o]){if(l!==1||o!==1)do if(l--,o--,0>o||a[l]!==s[o]){var c=`
`+a[l].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=l&&0<=o);break}}}finally{V0=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?jo(e):""}function kO(e){switch(e.tag){case 5:return jo(e.type);case 16:return jo("Lazy");case 13:return jo("Suspense");case 19:return jo("SuspenseList");case 0:case 2:case 15:return e=q0(e.type,!1),e;case 11:return e=q0(e.type.render,!1),e;case 1:return e=q0(e.type,!0),e;default:return""}}function th(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ri:return"Fragment";case $i:return"Portal";case Qm:return"Profiler";case ng:return"StrictMode";case Zm:return"Suspense";case eh:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case ij:return(e.displayName||"Context")+".Consumer";case sj:return(e._context.displayName||"Context")+".Provider";case ag:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case sg:return t=e.displayName||null,t!==null?t:th(e.type)||"Memo";case Ja:t=e._payload,e=e._init;try{return th(e(t))}catch{}}return null}function jO(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return th(t);case 8:return t===ng?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function bs(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function oj(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function NO(e){var t=oj(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,s=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(l){n=""+l,s.call(this,l)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(l){n=""+l},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function nu(e){e._valueTracker||(e._valueTracker=NO(e))}function cj(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=oj(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function ad(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function rh(e,t){var r=t.checked;return it({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function py(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=bs(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function uj(e,t){t=t.checked,t!=null&&rg(e,"checked",t,!1)}function nh(e,t){uj(e,t);var r=bs(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?ah(e,t.type,r):t.hasOwnProperty("defaultValue")&&ah(e,t.type,bs(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function gy(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function ah(e,t,r){(t!=="number"||ad(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var No=Array.isArray;function Xi(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+bs(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function sh(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Y(91));return it({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function xy(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(Y(92));if(No(r)){if(1<r.length)throw Error(Y(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:bs(r)}}function dj(e,t){var r=bs(t.value),n=bs(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function vy(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function fj(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ih(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?fj(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var au,mj=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(au=au||document.createElement("div"),au.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=au.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ko(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Oo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},SO=["Webkit","ms","Moz","O"];Object.keys(Oo).forEach(function(e){SO.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Oo[t]=Oo[e]})});function hj(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Oo.hasOwnProperty(e)&&Oo[e]?(""+t).trim():t+"px"}function pj(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=hj(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var PO=it({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function lh(e,t){if(t){if(PO[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Y(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Y(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Y(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Y(62))}}function oh(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ch=null;function ig(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var uh=null,Qi=null,Zi=null;function yy(e){if(e=Nc(e)){if(typeof uh!="function")throw Error(Y(280));var t=e.stateNode;t&&(t=_f(t),uh(e.stateNode,e.type,t))}}function gj(e){Qi?Zi?Zi.push(e):Zi=[e]:Qi=e}function xj(){if(Qi){var e=Qi,t=Zi;if(Zi=Qi=null,yy(e),t)for(e=0;e<t.length;e++)yy(t[e])}}function vj(e,t){return e(t)}function yj(){}var G0=!1;function bj(e,t,r){if(G0)return e(t,r);G0=!0;try{return vj(e,t,r)}finally{G0=!1,(Qi!==null||Zi!==null)&&(yj(),xj())}}function Ho(e,t){var r=e.stateNode;if(r===null)return null;var n=_f(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(Y(231,t,typeof r));return r}var dh=!1;if(Na)try{var so={};Object.defineProperty(so,"passive",{get:function(){dh=!0}}),window.addEventListener("test",so,so),window.removeEventListener("test",so,so)}catch{dh=!1}function CO(e,t,r,n,a,s,l,o,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var To=!1,sd=null,id=!1,fh=null,EO={onError:function(e){To=!0,sd=e}};function _O(e,t,r,n,a,s,l,o,c){To=!1,sd=null,CO.apply(EO,arguments)}function AO(e,t,r,n,a,s,l,o,c){if(_O.apply(this,arguments),To){if(To){var u=sd;To=!1,sd=null}else throw Error(Y(198));id||(id=!0,fh=u)}}function Ni(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function wj(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function by(e){if(Ni(e)!==e)throw Error(Y(188))}function OO(e){var t=e.alternate;if(!t){if(t=Ni(e),t===null)throw Error(Y(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var s=a.alternate;if(s===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===s.child){for(s=a.child;s;){if(s===r)return by(a),e;if(s===n)return by(a),t;s=s.sibling}throw Error(Y(188))}if(r.return!==n.return)r=a,n=s;else{for(var l=!1,o=a.child;o;){if(o===r){l=!0,r=a,n=s;break}if(o===n){l=!0,n=a,r=s;break}o=o.sibling}if(!l){for(o=s.child;o;){if(o===r){l=!0,r=s,n=a;break}if(o===n){l=!0,n=s,r=a;break}o=o.sibling}if(!l)throw Error(Y(189))}}if(r.alternate!==n)throw Error(Y(190))}if(r.tag!==3)throw Error(Y(188));return r.stateNode.current===r?e:t}function kj(e){return e=OO(e),e!==null?jj(e):null}function jj(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=jj(e);if(t!==null)return t;e=e.sibling}return null}var Nj=Kr.unstable_scheduleCallback,wy=Kr.unstable_cancelCallback,TO=Kr.unstable_shouldYield,DO=Kr.unstable_requestPaint,mt=Kr.unstable_now,IO=Kr.unstable_getCurrentPriorityLevel,lg=Kr.unstable_ImmediatePriority,Sj=Kr.unstable_UserBlockingPriority,ld=Kr.unstable_NormalPriority,MO=Kr.unstable_LowPriority,Pj=Kr.unstable_IdlePriority,Sf=null,Jn=null;function $O(e){if(Jn&&typeof Jn.onCommitFiberRoot=="function")try{Jn.onCommitFiberRoot(Sf,e,void 0,(e.current.flags&128)===128)}catch{}}var In=Math.clz32?Math.clz32:FO,RO=Math.log,LO=Math.LN2;function FO(e){return e>>>=0,e===0?32:31-(RO(e)/LO|0)|0}var su=64,iu=4194304;function So(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function od(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,s=e.pingedLanes,l=r&268435455;if(l!==0){var o=l&~a;o!==0?n=So(o):(s&=l,s!==0&&(n=So(s)))}else l=r&~a,l!==0?n=So(l):s!==0&&(n=So(s));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,s=t&-t,a>=s||a===16&&(s&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-In(t),a=1<<r,n|=e[r],t&=~a;return n}function BO(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function zO(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,s=e.pendingLanes;0<s;){var l=31-In(s),o=1<<l,c=a[l];c===-1?(!(o&r)||o&n)&&(a[l]=BO(o,t)):c<=t&&(e.expiredLanes|=o),s&=~o}}function mh(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Cj(){var e=su;return su<<=1,!(su&4194240)&&(su=64),e}function Y0(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function kc(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-In(t),e[t]=r}function UO(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-In(r),s=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~s}}function og(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-In(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var Be=0;function Ej(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var _j,cg,Aj,Oj,Tj,hh=!1,lu=[],us=null,ds=null,fs=null,Vo=new Map,qo=new Map,ts=[],WO="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ky(e,t){switch(e){case"focusin":case"focusout":us=null;break;case"dragenter":case"dragleave":ds=null;break;case"mouseover":case"mouseout":fs=null;break;case"pointerover":case"pointerout":Vo.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":qo.delete(t.pointerId)}}function io(e,t,r,n,a,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[a]},t!==null&&(t=Nc(t),t!==null&&cg(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function KO(e,t,r,n,a){switch(t){case"focusin":return us=io(us,e,t,r,n,a),!0;case"dragenter":return ds=io(ds,e,t,r,n,a),!0;case"mouseover":return fs=io(fs,e,t,r,n,a),!0;case"pointerover":var s=a.pointerId;return Vo.set(s,io(Vo.get(s)||null,e,t,r,n,a)),!0;case"gotpointercapture":return s=a.pointerId,qo.set(s,io(qo.get(s)||null,e,t,r,n,a)),!0}return!1}function Dj(e){var t=Ys(e.target);if(t!==null){var r=Ni(t);if(r!==null){if(t=r.tag,t===13){if(t=wj(r),t!==null){e.blockedOn=t,Tj(e.priority,function(){Aj(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Bu(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=ph(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);ch=n,r.target.dispatchEvent(n),ch=null}else return t=Nc(r),t!==null&&cg(t),e.blockedOn=r,!1;t.shift()}return!0}function jy(e,t,r){Bu(e)&&r.delete(t)}function HO(){hh=!1,us!==null&&Bu(us)&&(us=null),ds!==null&&Bu(ds)&&(ds=null),fs!==null&&Bu(fs)&&(fs=null),Vo.forEach(jy),qo.forEach(jy)}function lo(e,t){e.blockedOn===t&&(e.blockedOn=null,hh||(hh=!0,Kr.unstable_scheduleCallback(Kr.unstable_NormalPriority,HO)))}function Go(e){function t(a){return lo(a,e)}if(0<lu.length){lo(lu[0],e);for(var r=1;r<lu.length;r++){var n=lu[r];n.blockedOn===e&&(n.blockedOn=null)}}for(us!==null&&lo(us,e),ds!==null&&lo(ds,e),fs!==null&&lo(fs,e),Vo.forEach(t),qo.forEach(t),r=0;r<ts.length;r++)n=ts[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<ts.length&&(r=ts[0],r.blockedOn===null);)Dj(r),r.blockedOn===null&&ts.shift()}var el=Ta.ReactCurrentBatchConfig,cd=!0;function VO(e,t,r,n){var a=Be,s=el.transition;el.transition=null;try{Be=1,ug(e,t,r,n)}finally{Be=a,el.transition=s}}function qO(e,t,r,n){var a=Be,s=el.transition;el.transition=null;try{Be=4,ug(e,t,r,n)}finally{Be=a,el.transition=s}}function ug(e,t,r,n){if(cd){var a=ph(e,t,r,n);if(a===null)sm(e,t,n,ud,r),ky(e,n);else if(KO(a,e,t,r,n))n.stopPropagation();else if(ky(e,n),t&4&&-1<WO.indexOf(e)){for(;a!==null;){var s=Nc(a);if(s!==null&&_j(s),s=ph(e,t,r,n),s===null&&sm(e,t,n,ud,r),s===a)break;a=s}a!==null&&n.stopPropagation()}else sm(e,t,n,null,r)}}var ud=null;function ph(e,t,r,n){if(ud=null,e=ig(n),e=Ys(e),e!==null)if(t=Ni(e),t===null)e=null;else if(r=t.tag,r===13){if(e=wj(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ud=e,null}function Ij(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(IO()){case lg:return 1;case Sj:return 4;case ld:case MO:return 16;case Pj:return 536870912;default:return 16}default:return 16}}var is=null,dg=null,zu=null;function Mj(){if(zu)return zu;var e,t=dg,r=t.length,n,a="value"in is?is.value:is.textContent,s=a.length;for(e=0;e<r&&t[e]===a[e];e++);var l=r-e;for(n=1;n<=l&&t[r-n]===a[s-n];n++);return zu=a.slice(e,1<n?1-n:void 0)}function Uu(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ou(){return!0}function Ny(){return!1}function Yr(e){function t(r,n,a,s,l){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=s,this.target=l,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(r=e[o],this[o]=r?r(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?ou:Ny,this.isPropagationStopped=Ny,this}return it(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=ou)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=ou)},persist:function(){},isPersistent:ou}),t}var Sl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fg=Yr(Sl),jc=it({},Sl,{view:0,detail:0}),GO=Yr(jc),J0,X0,oo,Pf=it({},jc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:mg,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==oo&&(oo&&e.type==="mousemove"?(J0=e.screenX-oo.screenX,X0=e.screenY-oo.screenY):X0=J0=0,oo=e),J0)},movementY:function(e){return"movementY"in e?e.movementY:X0}}),Sy=Yr(Pf),YO=it({},Pf,{dataTransfer:0}),JO=Yr(YO),XO=it({},jc,{relatedTarget:0}),Q0=Yr(XO),QO=it({},Sl,{animationName:0,elapsedTime:0,pseudoElement:0}),ZO=Yr(QO),e3=it({},Sl,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),t3=Yr(e3),r3=it({},Sl,{data:0}),Py=Yr(r3),n3={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},a3={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},s3={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function i3(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=s3[e])?!!t[e]:!1}function mg(){return i3}var l3=it({},jc,{key:function(e){if(e.key){var t=n3[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Uu(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?a3[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:mg,charCode:function(e){return e.type==="keypress"?Uu(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Uu(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),o3=Yr(l3),c3=it({},Pf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Cy=Yr(c3),u3=it({},jc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:mg}),d3=Yr(u3),f3=it({},Sl,{propertyName:0,elapsedTime:0,pseudoElement:0}),m3=Yr(f3),h3=it({},Pf,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),p3=Yr(h3),g3=[9,13,27,32],hg=Na&&"CompositionEvent"in window,Do=null;Na&&"documentMode"in document&&(Do=document.documentMode);var x3=Na&&"TextEvent"in window&&!Do,$j=Na&&(!hg||Do&&8<Do&&11>=Do),Ey=String.fromCharCode(32),_y=!1;function Rj(e,t){switch(e){case"keyup":return g3.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Lj(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Li=!1;function v3(e,t){switch(e){case"compositionend":return Lj(t);case"keypress":return t.which!==32?null:(_y=!0,Ey);case"textInput":return e=t.data,e===Ey&&_y?null:e;default:return null}}function y3(e,t){if(Li)return e==="compositionend"||!hg&&Rj(e,t)?(e=Mj(),zu=dg=is=null,Li=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return $j&&t.locale!=="ko"?null:t.data;default:return null}}var b3={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ay(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!b3[e.type]:t==="textarea"}function Fj(e,t,r,n){gj(n),t=dd(t,"onChange"),0<t.length&&(r=new fg("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Io=null,Yo=null;function w3(e){Jj(e,0)}function Cf(e){var t=zi(e);if(cj(t))return e}function k3(e,t){if(e==="change")return t}var Bj=!1;if(Na){var Z0;if(Na){var em="oninput"in document;if(!em){var Oy=document.createElement("div");Oy.setAttribute("oninput","return;"),em=typeof Oy.oninput=="function"}Z0=em}else Z0=!1;Bj=Z0&&(!document.documentMode||9<document.documentMode)}function Ty(){Io&&(Io.detachEvent("onpropertychange",zj),Yo=Io=null)}function zj(e){if(e.propertyName==="value"&&Cf(Yo)){var t=[];Fj(t,Yo,e,ig(e)),bj(w3,t)}}function j3(e,t,r){e==="focusin"?(Ty(),Io=t,Yo=r,Io.attachEvent("onpropertychange",zj)):e==="focusout"&&Ty()}function N3(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Cf(Yo)}function S3(e,t){if(e==="click")return Cf(t)}function P3(e,t){if(e==="input"||e==="change")return Cf(t)}function C3(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ln=typeof Object.is=="function"?Object.is:C3;function Jo(e,t){if(Ln(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!Xm.call(t,a)||!Ln(e[a],t[a]))return!1}return!0}function Dy(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Iy(e,t){var r=Dy(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Dy(r)}}function Uj(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Uj(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Wj(){for(var e=window,t=ad();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=ad(e.document)}return t}function pg(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function E3(e){var t=Wj(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Uj(r.ownerDocument.documentElement,r)){if(n!==null&&pg(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,s=Math.min(n.start,a);n=n.end===void 0?s:Math.min(n.end,a),!e.extend&&s>n&&(a=n,n=s,s=a),a=Iy(r,s);var l=Iy(r,n);a&&l&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),s>n?(e.addRange(t),e.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var _3=Na&&"documentMode"in document&&11>=document.documentMode,Fi=null,gh=null,Mo=null,xh=!1;function My(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;xh||Fi==null||Fi!==ad(n)||(n=Fi,"selectionStart"in n&&pg(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Mo&&Jo(Mo,n)||(Mo=n,n=dd(gh,"onSelect"),0<n.length&&(t=new fg("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Fi)))}function cu(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Bi={animationend:cu("Animation","AnimationEnd"),animationiteration:cu("Animation","AnimationIteration"),animationstart:cu("Animation","AnimationStart"),transitionend:cu("Transition","TransitionEnd")},tm={},Kj={};Na&&(Kj=document.createElement("div").style,"AnimationEvent"in window||(delete Bi.animationend.animation,delete Bi.animationiteration.animation,delete Bi.animationstart.animation),"TransitionEvent"in window||delete Bi.transitionend.transition);function Ef(e){if(tm[e])return tm[e];if(!Bi[e])return e;var t=Bi[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Kj)return tm[e]=t[r];return e}var Hj=Ef("animationend"),Vj=Ef("animationiteration"),qj=Ef("animationstart"),Gj=Ef("transitionend"),Yj=new Map,$y="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Cs(e,t){Yj.set(e,t),ji(t,[e])}for(var rm=0;rm<$y.length;rm++){var nm=$y[rm],A3=nm.toLowerCase(),O3=nm[0].toUpperCase()+nm.slice(1);Cs(A3,"on"+O3)}Cs(Hj,"onAnimationEnd");Cs(Vj,"onAnimationIteration");Cs(qj,"onAnimationStart");Cs("dblclick","onDoubleClick");Cs("focusin","onFocus");Cs("focusout","onBlur");Cs(Gj,"onTransitionEnd");il("onMouseEnter",["mouseout","mouseover"]);il("onMouseLeave",["mouseout","mouseover"]);il("onPointerEnter",["pointerout","pointerover"]);il("onPointerLeave",["pointerout","pointerover"]);ji("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ji("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ji("onBeforeInput",["compositionend","keypress","textInput","paste"]);ji("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ji("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ji("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Po="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),T3=new Set("cancel close invalid load scroll toggle".split(" ").concat(Po));function Ry(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,AO(n,t,void 0,e),e.currentTarget=null}function Jj(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var s=void 0;if(t)for(var l=n.length-1;0<=l;l--){var o=n[l],c=o.instance,u=o.currentTarget;if(o=o.listener,c!==s&&a.isPropagationStopped())break e;Ry(a,o,u),s=c}else for(l=0;l<n.length;l++){if(o=n[l],c=o.instance,u=o.currentTarget,o=o.listener,c!==s&&a.isPropagationStopped())break e;Ry(a,o,u),s=c}}}if(id)throw e=fh,id=!1,fh=null,e}function Ge(e,t){var r=t[kh];r===void 0&&(r=t[kh]=new Set);var n=e+"__bubble";r.has(n)||(Xj(t,e,2,!1),r.add(n))}function am(e,t,r){var n=0;t&&(n|=4),Xj(r,e,n,t)}var uu="_reactListening"+Math.random().toString(36).slice(2);function Xo(e){if(!e[uu]){e[uu]=!0,aj.forEach(function(r){r!=="selectionchange"&&(T3.has(r)||am(r,!1,e),am(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[uu]||(t[uu]=!0,am("selectionchange",!1,t))}}function Xj(e,t,r,n){switch(Ij(t)){case 1:var a=VO;break;case 4:a=qO;break;default:a=ug}r=a.bind(null,t,r,e),a=void 0,!dh||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function sm(e,t,r,n,a){var s=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var l=n.tag;if(l===3||l===4){var o=n.stateNode.containerInfo;if(o===a||o.nodeType===8&&o.parentNode===a)break;if(l===4)for(l=n.return;l!==null;){var c=l.tag;if((c===3||c===4)&&(c=l.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;l=l.return}for(;o!==null;){if(l=Ys(o),l===null)return;if(c=l.tag,c===5||c===6){n=s=l;continue e}o=o.parentNode}}n=n.return}bj(function(){var u=s,d=ig(r),f=[];e:{var m=Yj.get(e);if(m!==void 0){var p=fg,x=e;switch(e){case"keypress":if(Uu(r)===0)break e;case"keydown":case"keyup":p=o3;break;case"focusin":x="focus",p=Q0;break;case"focusout":x="blur",p=Q0;break;case"beforeblur":case"afterblur":p=Q0;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Sy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=JO;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=d3;break;case Hj:case Vj:case qj:p=ZO;break;case Gj:p=m3;break;case"scroll":p=GO;break;case"wheel":p=p3;break;case"copy":case"cut":case"paste":p=t3;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Cy}var g=(t&4)!==0,v=!g&&e==="scroll",b=g?m!==null?m+"Capture":null:m;g=[];for(var y=u,w;y!==null;){w=y;var k=w.stateNode;if(w.tag===5&&k!==null&&(w=k,b!==null&&(k=Ho(y,b),k!=null&&g.push(Qo(y,k,w)))),v)break;y=y.return}0<g.length&&(m=new p(m,x,null,r,d),f.push({event:m,listeners:g}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",m&&r!==ch&&(x=r.relatedTarget||r.fromElement)&&(Ys(x)||x[Sa]))break e;if((p||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,p?(x=r.relatedTarget||r.toElement,p=u,x=x?Ys(x):null,x!==null&&(v=Ni(x),x!==v||x.tag!==5&&x.tag!==6)&&(x=null)):(p=null,x=u),p!==x)){if(g=Sy,k="onMouseLeave",b="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(g=Cy,k="onPointerLeave",b="onPointerEnter",y="pointer"),v=p==null?m:zi(p),w=x==null?m:zi(x),m=new g(k,y+"leave",p,r,d),m.target=v,m.relatedTarget=w,k=null,Ys(d)===u&&(g=new g(b,y+"enter",x,r,d),g.target=w,g.relatedTarget=v,k=g),v=k,p&&x)t:{for(g=p,b=x,y=0,w=g;w;w=Ti(w))y++;for(w=0,k=b;k;k=Ti(k))w++;for(;0<y-w;)g=Ti(g),y--;for(;0<w-y;)b=Ti(b),w--;for(;y--;){if(g===b||b!==null&&g===b.alternate)break t;g=Ti(g),b=Ti(b)}g=null}else g=null;p!==null&&Ly(f,m,p,g,!1),x!==null&&v!==null&&Ly(f,v,x,g,!0)}}e:{if(m=u?zi(u):window,p=m.nodeName&&m.nodeName.toLowerCase(),p==="select"||p==="input"&&m.type==="file")var N=k3;else if(Ay(m))if(Bj)N=P3;else{N=N3;var S=j3}else(p=m.nodeName)&&p.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(N=S3);if(N&&(N=N(e,u))){Fj(f,N,r,d);break e}S&&S(e,m,u),e==="focusout"&&(S=m._wrapperState)&&S.controlled&&m.type==="number"&&ah(m,"number",m.value)}switch(S=u?zi(u):window,e){case"focusin":(Ay(S)||S.contentEditable==="true")&&(Fi=S,gh=u,Mo=null);break;case"focusout":Mo=gh=Fi=null;break;case"mousedown":xh=!0;break;case"contextmenu":case"mouseup":case"dragend":xh=!1,My(f,r,d);break;case"selectionchange":if(_3)break;case"keydown":case"keyup":My(f,r,d)}var j;if(hg)e:{switch(e){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else Li?Rj(e,r)&&(P="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(P="onCompositionStart");P&&($j&&r.locale!=="ko"&&(Li||P!=="onCompositionStart"?P==="onCompositionEnd"&&Li&&(j=Mj()):(is=d,dg="value"in is?is.value:is.textContent,Li=!0)),S=dd(u,P),0<S.length&&(P=new Py(P,e,null,r,d),f.push({event:P,listeners:S}),j?P.data=j:(j=Lj(r),j!==null&&(P.data=j)))),(j=x3?v3(e,r):y3(e,r))&&(u=dd(u,"onBeforeInput"),0<u.length&&(d=new Py("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=j))}Jj(f,t)})}function Qo(e,t,r){return{instance:e,listener:t,currentTarget:r}}function dd(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,s=a.stateNode;a.tag===5&&s!==null&&(a=s,s=Ho(e,r),s!=null&&n.unshift(Qo(e,s,a)),s=Ho(e,t),s!=null&&n.push(Qo(e,s,a))),e=e.return}return n}function Ti(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Ly(e,t,r,n,a){for(var s=t._reactName,l=[];r!==null&&r!==n;){var o=r,c=o.alternate,u=o.stateNode;if(c!==null&&c===n)break;o.tag===5&&u!==null&&(o=u,a?(c=Ho(r,s),c!=null&&l.unshift(Qo(r,c,o))):a||(c=Ho(r,s),c!=null&&l.push(Qo(r,c,o)))),r=r.return}l.length!==0&&e.push({event:t,listeners:l})}var D3=/\r\n?/g,I3=/\u0000|\uFFFD/g;function Fy(e){return(typeof e=="string"?e:""+e).replace(D3,`
`).replace(I3,"")}function du(e,t,r){if(t=Fy(t),Fy(e)!==t&&r)throw Error(Y(425))}function fd(){}var vh=null,yh=null;function bh(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var wh=typeof setTimeout=="function"?setTimeout:void 0,M3=typeof clearTimeout=="function"?clearTimeout:void 0,By=typeof Promise=="function"?Promise:void 0,$3=typeof queueMicrotask=="function"?queueMicrotask:typeof By<"u"?function(e){return By.resolve(null).then(e).catch(R3)}:wh;function R3(e){setTimeout(function(){throw e})}function im(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),Go(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);Go(t)}function ms(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function zy(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Pl=Math.random().toString(36).slice(2),Gn="__reactFiber$"+Pl,Zo="__reactProps$"+Pl,Sa="__reactContainer$"+Pl,kh="__reactEvents$"+Pl,L3="__reactListeners$"+Pl,F3="__reactHandles$"+Pl;function Ys(e){var t=e[Gn];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Sa]||r[Gn]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=zy(e);e!==null;){if(r=e[Gn])return r;e=zy(e)}return t}e=r,r=e.parentNode}return null}function Nc(e){return e=e[Gn]||e[Sa],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function zi(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Y(33))}function _f(e){return e[Zo]||null}var jh=[],Ui=-1;function Es(e){return{current:e}}function Je(e){0>Ui||(e.current=jh[Ui],jh[Ui]=null,Ui--)}function Ve(e,t){Ui++,jh[Ui]=e.current,e.current=t}var ws={},ar=Es(ws),Pr=Es(!1),di=ws;function ll(e,t){var r=e.type.contextTypes;if(!r)return ws;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},s;for(s in r)a[s]=t[s];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Cr(e){return e=e.childContextTypes,e!=null}function md(){Je(Pr),Je(ar)}function Uy(e,t,r){if(ar.current!==ws)throw Error(Y(168));Ve(ar,t),Ve(Pr,r)}function Qj(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(Y(108,jO(e)||"Unknown",a));return it({},r,n)}function hd(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ws,di=ar.current,Ve(ar,e),Ve(Pr,Pr.current),!0}function Wy(e,t,r){var n=e.stateNode;if(!n)throw Error(Y(169));r?(e=Qj(e,t,di),n.__reactInternalMemoizedMergedChildContext=e,Je(Pr),Je(ar),Ve(ar,e)):Je(Pr),Ve(Pr,r)}var fa=null,Af=!1,lm=!1;function Zj(e){fa===null?fa=[e]:fa.push(e)}function B3(e){Af=!0,Zj(e)}function _s(){if(!lm&&fa!==null){lm=!0;var e=0,t=Be;try{var r=fa;for(Be=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}fa=null,Af=!1}catch(a){throw fa!==null&&(fa=fa.slice(e+1)),Nj(lg,_s),a}finally{Be=t,lm=!1}}return null}var Wi=[],Ki=0,pd=null,gd=0,sn=[],ln=0,fi=null,xa=1,va="";function Us(e,t){Wi[Ki++]=gd,Wi[Ki++]=pd,pd=e,gd=t}function eN(e,t,r){sn[ln++]=xa,sn[ln++]=va,sn[ln++]=fi,fi=e;var n=xa;e=va;var a=32-In(n)-1;n&=~(1<<a),r+=1;var s=32-In(t)+a;if(30<s){var l=a-a%5;s=(n&(1<<l)-1).toString(32),n>>=l,a-=l,xa=1<<32-In(t)+a|r<<a|n,va=s+e}else xa=1<<s|r<<a|n,va=e}function gg(e){e.return!==null&&(Us(e,1),eN(e,1,0))}function xg(e){for(;e===pd;)pd=Wi[--Ki],Wi[Ki]=null,gd=Wi[--Ki],Wi[Ki]=null;for(;e===fi;)fi=sn[--ln],sn[ln]=null,va=sn[--ln],sn[ln]=null,xa=sn[--ln],sn[ln]=null}var Ur=null,zr=null,Qe=!1,On=null;function tN(e,t){var r=cn(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Ky(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ur=e,zr=ms(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ur=e,zr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=fi!==null?{id:xa,overflow:va}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=cn(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Ur=e,zr=null,!0):!1;default:return!1}}function Nh(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Sh(e){if(Qe){var t=zr;if(t){var r=t;if(!Ky(e,t)){if(Nh(e))throw Error(Y(418));t=ms(r.nextSibling);var n=Ur;t&&Ky(e,t)?tN(n,r):(e.flags=e.flags&-4097|2,Qe=!1,Ur=e)}}else{if(Nh(e))throw Error(Y(418));e.flags=e.flags&-4097|2,Qe=!1,Ur=e}}}function Hy(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ur=e}function fu(e){if(e!==Ur)return!1;if(!Qe)return Hy(e),Qe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!bh(e.type,e.memoizedProps)),t&&(t=zr)){if(Nh(e))throw rN(),Error(Y(418));for(;t;)tN(e,t),t=ms(t.nextSibling)}if(Hy(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Y(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){zr=ms(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}zr=null}}else zr=Ur?ms(e.stateNode.nextSibling):null;return!0}function rN(){for(var e=zr;e;)e=ms(e.nextSibling)}function ol(){zr=Ur=null,Qe=!1}function vg(e){On===null?On=[e]:On.push(e)}var z3=Ta.ReactCurrentBatchConfig;function co(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Y(309));var n=r.stateNode}if(!n)throw Error(Y(147,e));var a=n,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(l){var o=a.refs;l===null?delete o[s]:o[s]=l},t._stringRef=s,t)}if(typeof e!="string")throw Error(Y(284));if(!r._owner)throw Error(Y(290,e))}return e}function mu(e,t){throw e=Object.prototype.toString.call(t),Error(Y(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Vy(e){var t=e._init;return t(e._payload)}function nN(e){function t(b,y){if(e){var w=b.deletions;w===null?(b.deletions=[y],b.flags|=16):w.push(y)}}function r(b,y){if(!e)return null;for(;y!==null;)t(b,y),y=y.sibling;return null}function n(b,y){for(b=new Map;y!==null;)y.key!==null?b.set(y.key,y):b.set(y.index,y),y=y.sibling;return b}function a(b,y){return b=xs(b,y),b.index=0,b.sibling=null,b}function s(b,y,w){return b.index=w,e?(w=b.alternate,w!==null?(w=w.index,w<y?(b.flags|=2,y):w):(b.flags|=2,y)):(b.flags|=1048576,y)}function l(b){return e&&b.alternate===null&&(b.flags|=2),b}function o(b,y,w,k){return y===null||y.tag!==6?(y=hm(w,b.mode,k),y.return=b,y):(y=a(y,w),y.return=b,y)}function c(b,y,w,k){var N=w.type;return N===Ri?d(b,y,w.props.children,k,w.key):y!==null&&(y.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Ja&&Vy(N)===y.type)?(k=a(y,w.props),k.ref=co(b,y,w),k.return=b,k):(k=Yu(w.type,w.key,w.props,null,b.mode,k),k.ref=co(b,y,w),k.return=b,k)}function u(b,y,w,k){return y===null||y.tag!==4||y.stateNode.containerInfo!==w.containerInfo||y.stateNode.implementation!==w.implementation?(y=pm(w,b.mode,k),y.return=b,y):(y=a(y,w.children||[]),y.return=b,y)}function d(b,y,w,k,N){return y===null||y.tag!==7?(y=ai(w,b.mode,k,N),y.return=b,y):(y=a(y,w),y.return=b,y)}function f(b,y,w){if(typeof y=="string"&&y!==""||typeof y=="number")return y=hm(""+y,b.mode,w),y.return=b,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case ru:return w=Yu(y.type,y.key,y.props,null,b.mode,w),w.ref=co(b,null,y),w.return=b,w;case $i:return y=pm(y,b.mode,w),y.return=b,y;case Ja:var k=y._init;return f(b,k(y._payload),w)}if(No(y)||ao(y))return y=ai(y,b.mode,w,null),y.return=b,y;mu(b,y)}return null}function m(b,y,w,k){var N=y!==null?y.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return N!==null?null:o(b,y,""+w,k);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case ru:return w.key===N?c(b,y,w,k):null;case $i:return w.key===N?u(b,y,w,k):null;case Ja:return N=w._init,m(b,y,N(w._payload),k)}if(No(w)||ao(w))return N!==null?null:d(b,y,w,k,null);mu(b,w)}return null}function p(b,y,w,k,N){if(typeof k=="string"&&k!==""||typeof k=="number")return b=b.get(w)||null,o(y,b,""+k,N);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case ru:return b=b.get(k.key===null?w:k.key)||null,c(y,b,k,N);case $i:return b=b.get(k.key===null?w:k.key)||null,u(y,b,k,N);case Ja:var S=k._init;return p(b,y,w,S(k._payload),N)}if(No(k)||ao(k))return b=b.get(w)||null,d(y,b,k,N,null);mu(y,k)}return null}function x(b,y,w,k){for(var N=null,S=null,j=y,P=y=0,D=null;j!==null&&P<w.length;P++){j.index>P?(D=j,j=null):D=j.sibling;var O=m(b,j,w[P],k);if(O===null){j===null&&(j=D);break}e&&j&&O.alternate===null&&t(b,j),y=s(O,y,P),S===null?N=O:S.sibling=O,S=O,j=D}if(P===w.length)return r(b,j),Qe&&Us(b,P),N;if(j===null){for(;P<w.length;P++)j=f(b,w[P],k),j!==null&&(y=s(j,y,P),S===null?N=j:S.sibling=j,S=j);return Qe&&Us(b,P),N}for(j=n(b,j);P<w.length;P++)D=p(j,b,P,w[P],k),D!==null&&(e&&D.alternate!==null&&j.delete(D.key===null?P:D.key),y=s(D,y,P),S===null?N=D:S.sibling=D,S=D);return e&&j.forEach(function($){return t(b,$)}),Qe&&Us(b,P),N}function g(b,y,w,k){var N=ao(w);if(typeof N!="function")throw Error(Y(150));if(w=N.call(w),w==null)throw Error(Y(151));for(var S=N=null,j=y,P=y=0,D=null,O=w.next();j!==null&&!O.done;P++,O=w.next()){j.index>P?(D=j,j=null):D=j.sibling;var $=m(b,j,O.value,k);if($===null){j===null&&(j=D);break}e&&j&&$.alternate===null&&t(b,j),y=s($,y,P),S===null?N=$:S.sibling=$,S=$,j=D}if(O.done)return r(b,j),Qe&&Us(b,P),N;if(j===null){for(;!O.done;P++,O=w.next())O=f(b,O.value,k),O!==null&&(y=s(O,y,P),S===null?N=O:S.sibling=O,S=O);return Qe&&Us(b,P),N}for(j=n(b,j);!O.done;P++,O=w.next())O=p(j,b,P,O.value,k),O!==null&&(e&&O.alternate!==null&&j.delete(O.key===null?P:O.key),y=s(O,y,P),S===null?N=O:S.sibling=O,S=O);return e&&j.forEach(function(B){return t(b,B)}),Qe&&Us(b,P),N}function v(b,y,w,k){if(typeof w=="object"&&w!==null&&w.type===Ri&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case ru:e:{for(var N=w.key,S=y;S!==null;){if(S.key===N){if(N=w.type,N===Ri){if(S.tag===7){r(b,S.sibling),y=a(S,w.props.children),y.return=b,b=y;break e}}else if(S.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Ja&&Vy(N)===S.type){r(b,S.sibling),y=a(S,w.props),y.ref=co(b,S,w),y.return=b,b=y;break e}r(b,S);break}else t(b,S);S=S.sibling}w.type===Ri?(y=ai(w.props.children,b.mode,k,w.key),y.return=b,b=y):(k=Yu(w.type,w.key,w.props,null,b.mode,k),k.ref=co(b,y,w),k.return=b,b=k)}return l(b);case $i:e:{for(S=w.key;y!==null;){if(y.key===S)if(y.tag===4&&y.stateNode.containerInfo===w.containerInfo&&y.stateNode.implementation===w.implementation){r(b,y.sibling),y=a(y,w.children||[]),y.return=b,b=y;break e}else{r(b,y);break}else t(b,y);y=y.sibling}y=pm(w,b.mode,k),y.return=b,b=y}return l(b);case Ja:return S=w._init,v(b,y,S(w._payload),k)}if(No(w))return x(b,y,w,k);if(ao(w))return g(b,y,w,k);mu(b,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,y!==null&&y.tag===6?(r(b,y.sibling),y=a(y,w),y.return=b,b=y):(r(b,y),y=hm(w,b.mode,k),y.return=b,b=y),l(b)):r(b,y)}return v}var cl=nN(!0),aN=nN(!1),xd=Es(null),vd=null,Hi=null,yg=null;function bg(){yg=Hi=vd=null}function wg(e){var t=xd.current;Je(xd),e._currentValue=t}function Ph(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function tl(e,t){vd=e,yg=Hi=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Nr=!0),e.firstContext=null)}function fn(e){var t=e._currentValue;if(yg!==e)if(e={context:e,memoizedValue:t,next:null},Hi===null){if(vd===null)throw Error(Y(308));Hi=e,vd.dependencies={lanes:0,firstContext:e}}else Hi=Hi.next=e;return t}var Js=null;function kg(e){Js===null?Js=[e]:Js.push(e)}function sN(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,kg(t)):(r.next=a.next,a.next=r),t.interleaved=r,Pa(e,n)}function Pa(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Xa=!1;function jg(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function iN(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function wa(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function hs(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Ie&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,Pa(e,r)}return a=n.interleaved,a===null?(t.next=t,kg(n)):(t.next=a.next,a.next=t),n.interleaved=t,Pa(e,r)}function Wu(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,og(e,r)}}function qy(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var l={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?a=s=l:s=s.next=l,r=r.next}while(r!==null);s===null?a=s=t:s=s.next=t}else a=s=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:s,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function yd(e,t,r,n){var a=e.updateQueue;Xa=!1;var s=a.firstBaseUpdate,l=a.lastBaseUpdate,o=a.shared.pending;if(o!==null){a.shared.pending=null;var c=o,u=c.next;c.next=null,l===null?s=u:l.next=u,l=c;var d=e.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==l&&(o===null?d.firstBaseUpdate=u:o.next=u,d.lastBaseUpdate=c))}if(s!==null){var f=a.baseState;l=0,d=u=c=null,o=s;do{var m=o.lane,p=o.eventTime;if((n&m)===m){d!==null&&(d=d.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var x=e,g=o;switch(m=t,p=r,g.tag){case 1:if(x=g.payload,typeof x=="function"){f=x.call(p,f,m);break e}f=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=g.payload,m=typeof x=="function"?x.call(p,f,m):x,m==null)break e;f=it({},f,m);break e;case 2:Xa=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,m=a.effects,m===null?a.effects=[o]:m.push(o))}else p={eventTime:p,lane:m,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(u=d=p,c=f):d=d.next=p,l|=m;if(o=o.next,o===null){if(o=a.shared.pending,o===null)break;m=o,o=m.next,m.next=null,a.lastBaseUpdate=m,a.shared.pending=null}}while(1);if(d===null&&(c=f),a.baseState=c,a.firstBaseUpdate=u,a.lastBaseUpdate=d,t=a.shared.interleaved,t!==null){a=t;do l|=a.lane,a=a.next;while(a!==t)}else s===null&&(a.shared.lanes=0);hi|=l,e.lanes=l,e.memoizedState=f}}function Gy(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(Y(191,a));a.call(n)}}}var Sc={},Xn=Es(Sc),ec=Es(Sc),tc=Es(Sc);function Xs(e){if(e===Sc)throw Error(Y(174));return e}function Ng(e,t){switch(Ve(tc,t),Ve(ec,e),Ve(Xn,Sc),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ih(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=ih(t,e)}Je(Xn),Ve(Xn,t)}function ul(){Je(Xn),Je(ec),Je(tc)}function lN(e){Xs(tc.current);var t=Xs(Xn.current),r=ih(t,e.type);t!==r&&(Ve(ec,e),Ve(Xn,r))}function Sg(e){ec.current===e&&(Je(Xn),Je(ec))}var nt=Es(0);function bd(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var om=[];function Pg(){for(var e=0;e<om.length;e++)om[e]._workInProgressVersionPrimary=null;om.length=0}var Ku=Ta.ReactCurrentDispatcher,cm=Ta.ReactCurrentBatchConfig,mi=0,at=null,jt=null,Ot=null,wd=!1,$o=!1,rc=0,U3=0;function Xt(){throw Error(Y(321))}function Cg(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Ln(e[r],t[r]))return!1;return!0}function Eg(e,t,r,n,a,s){if(mi=s,at=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ku.current=e===null||e.memoizedState===null?V3:q3,e=r(n,a),$o){s=0;do{if($o=!1,rc=0,25<=s)throw Error(Y(301));s+=1,Ot=jt=null,t.updateQueue=null,Ku.current=G3,e=r(n,a)}while($o)}if(Ku.current=kd,t=jt!==null&&jt.next!==null,mi=0,Ot=jt=at=null,wd=!1,t)throw Error(Y(300));return e}function _g(){var e=rc!==0;return rc=0,e}function qn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ot===null?at.memoizedState=Ot=e:Ot=Ot.next=e,Ot}function mn(){if(jt===null){var e=at.alternate;e=e!==null?e.memoizedState:null}else e=jt.next;var t=Ot===null?at.memoizedState:Ot.next;if(t!==null)Ot=t,jt=e;else{if(e===null)throw Error(Y(310));jt=e,e={memoizedState:jt.memoizedState,baseState:jt.baseState,baseQueue:jt.baseQueue,queue:jt.queue,next:null},Ot===null?at.memoizedState=Ot=e:Ot=Ot.next=e}return Ot}function nc(e,t){return typeof t=="function"?t(e):t}function um(e){var t=mn(),r=t.queue;if(r===null)throw Error(Y(311));r.lastRenderedReducer=e;var n=jt,a=n.baseQueue,s=r.pending;if(s!==null){if(a!==null){var l=a.next;a.next=s.next,s.next=l}n.baseQueue=a=s,r.pending=null}if(a!==null){s=a.next,n=n.baseState;var o=l=null,c=null,u=s;do{var d=u.lane;if((mi&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(o=c=f,l=n):c=c.next=f,at.lanes|=d,hi|=d}u=u.next}while(u!==null&&u!==s);c===null?l=n:c.next=o,Ln(n,t.memoizedState)||(Nr=!0),t.memoizedState=n,t.baseState=l,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do s=a.lane,at.lanes|=s,hi|=s,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function dm(e){var t=mn(),r=t.queue;if(r===null)throw Error(Y(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,s=t.memoizedState;if(a!==null){r.pending=null;var l=a=a.next;do s=e(s,l.action),l=l.next;while(l!==a);Ln(s,t.memoizedState)||(Nr=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),r.lastRenderedState=s}return[s,n]}function oN(){}function cN(e,t){var r=at,n=mn(),a=t(),s=!Ln(n.memoizedState,a);if(s&&(n.memoizedState=a,Nr=!0),n=n.queue,Ag(fN.bind(null,r,n,e),[e]),n.getSnapshot!==t||s||Ot!==null&&Ot.memoizedState.tag&1){if(r.flags|=2048,ac(9,dN.bind(null,r,n,a,t),void 0,null),Dt===null)throw Error(Y(349));mi&30||uN(r,t,a)}return a}function uN(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=at.updateQueue,t===null?(t={lastEffect:null,stores:null},at.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function dN(e,t,r,n){t.value=r,t.getSnapshot=n,mN(t)&&hN(e)}function fN(e,t,r){return r(function(){mN(t)&&hN(e)})}function mN(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Ln(e,r)}catch{return!0}}function hN(e){var t=Pa(e,1);t!==null&&Mn(t,e,1,-1)}function Yy(e){var t=qn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:nc,lastRenderedState:e},t.queue=e,e=e.dispatch=H3.bind(null,at,e),[t.memoizedState,e]}function ac(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=at.updateQueue,t===null?(t={lastEffect:null,stores:null},at.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function pN(){return mn().memoizedState}function Hu(e,t,r,n){var a=qn();at.flags|=e,a.memoizedState=ac(1|t,r,void 0,n===void 0?null:n)}function Of(e,t,r,n){var a=mn();n=n===void 0?null:n;var s=void 0;if(jt!==null){var l=jt.memoizedState;if(s=l.destroy,n!==null&&Cg(n,l.deps)){a.memoizedState=ac(t,r,s,n);return}}at.flags|=e,a.memoizedState=ac(1|t,r,s,n)}function Jy(e,t){return Hu(8390656,8,e,t)}function Ag(e,t){return Of(2048,8,e,t)}function gN(e,t){return Of(4,2,e,t)}function xN(e,t){return Of(4,4,e,t)}function vN(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function yN(e,t,r){return r=r!=null?r.concat([e]):null,Of(4,4,vN.bind(null,t,e),r)}function Og(){}function bN(e,t){var r=mn();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Cg(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function wN(e,t){var r=mn();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Cg(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function kN(e,t,r){return mi&21?(Ln(r,t)||(r=Cj(),at.lanes|=r,hi|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Nr=!0),e.memoizedState=r)}function W3(e,t){var r=Be;Be=r!==0&&4>r?r:4,e(!0);var n=cm.transition;cm.transition={};try{e(!1),t()}finally{Be=r,cm.transition=n}}function jN(){return mn().memoizedState}function K3(e,t,r){var n=gs(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},NN(e))SN(t,r);else if(r=sN(e,t,r,n),r!==null){var a=dr();Mn(r,e,n,a),PN(r,t,n)}}function H3(e,t,r){var n=gs(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(NN(e))SN(t,a);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var l=t.lastRenderedState,o=s(l,r);if(a.hasEagerState=!0,a.eagerState=o,Ln(o,l)){var c=t.interleaved;c===null?(a.next=a,kg(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}r=sN(e,t,a,n),r!==null&&(a=dr(),Mn(r,e,n,a),PN(r,t,n))}}function NN(e){var t=e.alternate;return e===at||t!==null&&t===at}function SN(e,t){$o=wd=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function PN(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,og(e,r)}}var kd={readContext:fn,useCallback:Xt,useContext:Xt,useEffect:Xt,useImperativeHandle:Xt,useInsertionEffect:Xt,useLayoutEffect:Xt,useMemo:Xt,useReducer:Xt,useRef:Xt,useState:Xt,useDebugValue:Xt,useDeferredValue:Xt,useTransition:Xt,useMutableSource:Xt,useSyncExternalStore:Xt,useId:Xt,unstable_isNewReconciler:!1},V3={readContext:fn,useCallback:function(e,t){return qn().memoizedState=[e,t===void 0?null:t],e},useContext:fn,useEffect:Jy,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Hu(4194308,4,vN.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Hu(4194308,4,e,t)},useInsertionEffect:function(e,t){return Hu(4,2,e,t)},useMemo:function(e,t){var r=qn();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=qn();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=K3.bind(null,at,e),[n.memoizedState,e]},useRef:function(e){var t=qn();return e={current:e},t.memoizedState=e},useState:Yy,useDebugValue:Og,useDeferredValue:function(e){return qn().memoizedState=e},useTransition:function(){var e=Yy(!1),t=e[0];return e=W3.bind(null,e[1]),qn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=at,a=qn();if(Qe){if(r===void 0)throw Error(Y(407));r=r()}else{if(r=t(),Dt===null)throw Error(Y(349));mi&30||uN(n,t,r)}a.memoizedState=r;var s={value:r,getSnapshot:t};return a.queue=s,Jy(fN.bind(null,n,s,e),[e]),n.flags|=2048,ac(9,dN.bind(null,n,s,r,t),void 0,null),r},useId:function(){var e=qn(),t=Dt.identifierPrefix;if(Qe){var r=va,n=xa;r=(n&~(1<<32-In(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=rc++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=U3++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},q3={readContext:fn,useCallback:bN,useContext:fn,useEffect:Ag,useImperativeHandle:yN,useInsertionEffect:gN,useLayoutEffect:xN,useMemo:wN,useReducer:um,useRef:pN,useState:function(){return um(nc)},useDebugValue:Og,useDeferredValue:function(e){var t=mn();return kN(t,jt.memoizedState,e)},useTransition:function(){var e=um(nc)[0],t=mn().memoizedState;return[e,t]},useMutableSource:oN,useSyncExternalStore:cN,useId:jN,unstable_isNewReconciler:!1},G3={readContext:fn,useCallback:bN,useContext:fn,useEffect:Ag,useImperativeHandle:yN,useInsertionEffect:gN,useLayoutEffect:xN,useMemo:wN,useReducer:dm,useRef:pN,useState:function(){return dm(nc)},useDebugValue:Og,useDeferredValue:function(e){var t=mn();return jt===null?t.memoizedState=e:kN(t,jt.memoizedState,e)},useTransition:function(){var e=dm(nc)[0],t=mn().memoizedState;return[e,t]},useMutableSource:oN,useSyncExternalStore:cN,useId:jN,unstable_isNewReconciler:!1};function _n(e,t){if(e&&e.defaultProps){t=it({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Ch(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:it({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Tf={isMounted:function(e){return(e=e._reactInternals)?Ni(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=dr(),a=gs(e),s=wa(n,a);s.payload=t,r!=null&&(s.callback=r),t=hs(e,s,a),t!==null&&(Mn(t,e,a,n),Wu(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=dr(),a=gs(e),s=wa(n,a);s.tag=1,s.payload=t,r!=null&&(s.callback=r),t=hs(e,s,a),t!==null&&(Mn(t,e,a,n),Wu(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=dr(),n=gs(e),a=wa(r,n);a.tag=2,t!=null&&(a.callback=t),t=hs(e,a,n),t!==null&&(Mn(t,e,n,r),Wu(t,e,n))}};function Xy(e,t,r,n,a,s,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,s,l):t.prototype&&t.prototype.isPureReactComponent?!Jo(r,n)||!Jo(a,s):!0}function CN(e,t,r){var n=!1,a=ws,s=t.contextType;return typeof s=="object"&&s!==null?s=fn(s):(a=Cr(t)?di:ar.current,n=t.contextTypes,s=(n=n!=null)?ll(e,a):ws),t=new t(r,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Tf,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=s),t}function Qy(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Tf.enqueueReplaceState(t,t.state,null)}function Eh(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},jg(e);var s=t.contextType;typeof s=="object"&&s!==null?a.context=fn(s):(s=Cr(t)?di:ar.current,a.context=ll(e,s)),a.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(Ch(e,t,s,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&Tf.enqueueReplaceState(a,a.state,null),yd(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function dl(e,t){try{var r="",n=t;do r+=kO(n),n=n.return;while(n);var a=r}catch(s){a=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:a,digest:null}}function fm(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function _h(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var Y3=typeof WeakMap=="function"?WeakMap:Map;function EN(e,t,r){r=wa(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Nd||(Nd=!0,Fh=n),_h(e,t)},r}function _N(e,t,r){r=wa(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){_h(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){_h(e,t),typeof n!="function"&&(ps===null?ps=new Set([this]):ps.add(this));var l=t.stack;this.componentDidCatch(t.value,{componentStack:l!==null?l:""})}),r}function Zy(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new Y3;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=c4.bind(null,e,t,r),t.then(e,e))}function eb(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function tb(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=wa(-1,1),t.tag=2,hs(r,t,1))),r.lanes|=1),e)}var J3=Ta.ReactCurrentOwner,Nr=!1;function or(e,t,r,n){t.child=e===null?aN(t,null,r,n):cl(t,e.child,r,n)}function rb(e,t,r,n,a){r=r.render;var s=t.ref;return tl(t,a),n=Eg(e,t,r,n,s,a),r=_g(),e!==null&&!Nr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Ca(e,t,a)):(Qe&&r&&gg(t),t.flags|=1,or(e,t,n,a),t.child)}function nb(e,t,r,n,a){if(e===null){var s=r.type;return typeof s=="function"&&!Fg(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=s,AN(e,t,s,n,a)):(e=Yu(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&a)){var l=s.memoizedProps;if(r=r.compare,r=r!==null?r:Jo,r(l,n)&&e.ref===t.ref)return Ca(e,t,a)}return t.flags|=1,e=xs(s,n),e.ref=t.ref,e.return=t,t.child=e}function AN(e,t,r,n,a){if(e!==null){var s=e.memoizedProps;if(Jo(s,n)&&e.ref===t.ref)if(Nr=!1,t.pendingProps=n=s,(e.lanes&a)!==0)e.flags&131072&&(Nr=!0);else return t.lanes=e.lanes,Ca(e,t,a)}return Ah(e,t,r,n,a)}function ON(e,t,r){var n=t.pendingProps,a=n.children,s=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ve(qi,Rr),Rr|=r;else{if(!(r&1073741824))return e=s!==null?s.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ve(qi,Rr),Rr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,Ve(qi,Rr),Rr|=n}else s!==null?(n=s.baseLanes|r,t.memoizedState=null):n=r,Ve(qi,Rr),Rr|=n;return or(e,t,a,r),t.child}function TN(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Ah(e,t,r,n,a){var s=Cr(r)?di:ar.current;return s=ll(t,s),tl(t,a),r=Eg(e,t,r,n,s,a),n=_g(),e!==null&&!Nr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Ca(e,t,a)):(Qe&&n&&gg(t),t.flags|=1,or(e,t,r,a),t.child)}function ab(e,t,r,n,a){if(Cr(r)){var s=!0;hd(t)}else s=!1;if(tl(t,a),t.stateNode===null)Vu(e,t),CN(t,r,n),Eh(t,r,n,a),n=!0;else if(e===null){var l=t.stateNode,o=t.memoizedProps;l.props=o;var c=l.context,u=r.contextType;typeof u=="object"&&u!==null?u=fn(u):(u=Cr(r)?di:ar.current,u=ll(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof l.getSnapshotBeforeUpdate=="function";f||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==n||c!==u)&&Qy(t,l,n,u),Xa=!1;var m=t.memoizedState;l.state=m,yd(t,n,l,a),c=t.memoizedState,o!==n||m!==c||Pr.current||Xa?(typeof d=="function"&&(Ch(t,r,d,n),c=t.memoizedState),(o=Xa||Xy(t,r,o,n,m,c,u))?(f||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(t.flags|=4194308)):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),l.props=n,l.state=c,l.context=u,n=o):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{l=t.stateNode,iN(e,t),o=t.memoizedProps,u=t.type===t.elementType?o:_n(t.type,o),l.props=u,f=t.pendingProps,m=l.context,c=r.contextType,typeof c=="object"&&c!==null?c=fn(c):(c=Cr(r)?di:ar.current,c=ll(t,c));var p=r.getDerivedStateFromProps;(d=typeof p=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==f||m!==c)&&Qy(t,l,n,c),Xa=!1,m=t.memoizedState,l.state=m,yd(t,n,l,a);var x=t.memoizedState;o!==f||m!==x||Pr.current||Xa?(typeof p=="function"&&(Ch(t,r,p,n),x=t.memoizedState),(u=Xa||Xy(t,r,u,n,m,x,c)||!1)?(d||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(n,x,c),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(n,x,c)),typeof l.componentDidUpdate=="function"&&(t.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof l.componentDidUpdate!="function"||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=x),l.props=n,l.state=x,l.context=c,n=u):(typeof l.componentDidUpdate!="function"||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),n=!1)}return Oh(e,t,r,n,s,a)}function Oh(e,t,r,n,a,s){TN(e,t);var l=(t.flags&128)!==0;if(!n&&!l)return a&&Wy(t,r,!1),Ca(e,t,s);n=t.stateNode,J3.current=t;var o=l&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&l?(t.child=cl(t,e.child,null,s),t.child=cl(t,null,o,s)):or(e,t,o,s),t.memoizedState=n.state,a&&Wy(t,r,!0),t.child}function DN(e){var t=e.stateNode;t.pendingContext?Uy(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Uy(e,t.context,!1),Ng(e,t.containerInfo)}function sb(e,t,r,n,a){return ol(),vg(a),t.flags|=256,or(e,t,r,n),t.child}var Th={dehydrated:null,treeContext:null,retryLane:0};function Dh(e){return{baseLanes:e,cachePool:null,transitions:null}}function IN(e,t,r){var n=t.pendingProps,a=nt.current,s=!1,l=(t.flags&128)!==0,o;if((o=l)||(o=e!==null&&e.memoizedState===null?!1:(a&2)!==0),o?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),Ve(nt,a&1),e===null)return Sh(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=n.children,e=n.fallback,s?(n=t.mode,s=t.child,l={mode:"hidden",children:l},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=l):s=Mf(l,n,0,null),e=ai(e,n,r,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Dh(r),t.memoizedState=Th,e):Tg(t,l));if(a=e.memoizedState,a!==null&&(o=a.dehydrated,o!==null))return X3(e,t,l,n,o,a,r);if(s){s=n.fallback,l=t.mode,a=e.child,o=a.sibling;var c={mode:"hidden",children:n.children};return!(l&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=xs(a,c),n.subtreeFlags=a.subtreeFlags&14680064),o!==null?s=xs(o,s):(s=ai(s,l,r,null),s.flags|=2),s.return=t,n.return=t,n.sibling=s,t.child=n,n=s,s=t.child,l=e.child.memoizedState,l=l===null?Dh(r):{baseLanes:l.baseLanes|r,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=e.childLanes&~r,t.memoizedState=Th,n}return s=e.child,e=s.sibling,n=xs(s,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Tg(e,t){return t=Mf({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function hu(e,t,r,n){return n!==null&&vg(n),cl(t,e.child,null,r),e=Tg(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function X3(e,t,r,n,a,s,l){if(r)return t.flags&256?(t.flags&=-257,n=fm(Error(Y(422))),hu(e,t,l,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=n.fallback,a=t.mode,n=Mf({mode:"visible",children:n.children},a,0,null),s=ai(s,a,l,null),s.flags|=2,n.return=t,s.return=t,n.sibling=s,t.child=n,t.mode&1&&cl(t,e.child,null,l),t.child.memoizedState=Dh(l),t.memoizedState=Th,s);if(!(t.mode&1))return hu(e,t,l,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var o=n.dgst;return n=o,s=Error(Y(419)),n=fm(s,n,void 0),hu(e,t,l,n)}if(o=(l&e.childLanes)!==0,Nr||o){if(n=Dt,n!==null){switch(l&-l){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|l)?0:a,a!==0&&a!==s.retryLane&&(s.retryLane=a,Pa(e,a),Mn(n,e,a,-1))}return Lg(),n=fm(Error(Y(421))),hu(e,t,l,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=u4.bind(null,e),a._reactRetry=t,null):(e=s.treeContext,zr=ms(a.nextSibling),Ur=t,Qe=!0,On=null,e!==null&&(sn[ln++]=xa,sn[ln++]=va,sn[ln++]=fi,xa=e.id,va=e.overflow,fi=t),t=Tg(t,n.children),t.flags|=4096,t)}function ib(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Ph(e.return,t,r)}function mm(e,t,r,n,a){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=a)}function MN(e,t,r){var n=t.pendingProps,a=n.revealOrder,s=n.tail;if(or(e,t,n.children,r),n=nt.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ib(e,r,t);else if(e.tag===19)ib(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Ve(nt,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&bd(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),mm(t,!1,a,r,s);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&bd(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}mm(t,!0,r,null,s);break;case"together":mm(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Vu(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ca(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),hi|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Y(153));if(t.child!==null){for(e=t.child,r=xs(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=xs(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function Q3(e,t,r){switch(t.tag){case 3:DN(t),ol();break;case 5:lN(t);break;case 1:Cr(t.type)&&hd(t);break;case 4:Ng(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;Ve(xd,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Ve(nt,nt.current&1),t.flags|=128,null):r&t.child.childLanes?IN(e,t,r):(Ve(nt,nt.current&1),e=Ca(e,t,r),e!==null?e.sibling:null);Ve(nt,nt.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return MN(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Ve(nt,nt.current),n)break;return null;case 22:case 23:return t.lanes=0,ON(e,t,r)}return Ca(e,t,r)}var $N,Ih,RN,LN;$N=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Ih=function(){};RN=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,Xs(Xn.current);var s=null;switch(r){case"input":a=rh(e,a),n=rh(e,n),s=[];break;case"select":a=it({},a,{value:void 0}),n=it({},n,{value:void 0}),s=[];break;case"textarea":a=sh(e,a),n=sh(e,n),s=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=fd)}lh(r,n);var l;r=null;for(u in a)if(!n.hasOwnProperty(u)&&a.hasOwnProperty(u)&&a[u]!=null)if(u==="style"){var o=a[u];for(l in o)o.hasOwnProperty(l)&&(r||(r={}),r[l]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Wo.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in n){var c=n[u];if(o=a!=null?a[u]:void 0,n.hasOwnProperty(u)&&c!==o&&(c!=null||o!=null))if(u==="style")if(o){for(l in o)!o.hasOwnProperty(l)||c&&c.hasOwnProperty(l)||(r||(r={}),r[l]="");for(l in c)c.hasOwnProperty(l)&&o[l]!==c[l]&&(r||(r={}),r[l]=c[l])}else r||(s||(s=[]),s.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(s=s||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Wo.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Ge("scroll",e),s||o===c||(s=[])):(s=s||[]).push(u,c))}r&&(s=s||[]).push("style",r);var u=s;(t.updateQueue=u)&&(t.flags|=4)}};LN=function(e,t,r,n){r!==n&&(t.flags|=4)};function uo(e,t){if(!Qe)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Qt(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function Z3(e,t,r){var n=t.pendingProps;switch(xg(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qt(t),null;case 1:return Cr(t.type)&&md(),Qt(t),null;case 3:return n=t.stateNode,ul(),Je(Pr),Je(ar),Pg(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(fu(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,On!==null&&(Uh(On),On=null))),Ih(e,t),Qt(t),null;case 5:Sg(t);var a=Xs(tc.current);if(r=t.type,e!==null&&t.stateNode!=null)RN(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(Y(166));return Qt(t),null}if(e=Xs(Xn.current),fu(t)){n=t.stateNode,r=t.type;var s=t.memoizedProps;switch(n[Gn]=t,n[Zo]=s,e=(t.mode&1)!==0,r){case"dialog":Ge("cancel",n),Ge("close",n);break;case"iframe":case"object":case"embed":Ge("load",n);break;case"video":case"audio":for(a=0;a<Po.length;a++)Ge(Po[a],n);break;case"source":Ge("error",n);break;case"img":case"image":case"link":Ge("error",n),Ge("load",n);break;case"details":Ge("toggle",n);break;case"input":py(n,s),Ge("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},Ge("invalid",n);break;case"textarea":xy(n,s),Ge("invalid",n)}lh(r,s),a=null;for(var l in s)if(s.hasOwnProperty(l)){var o=s[l];l==="children"?typeof o=="string"?n.textContent!==o&&(s.suppressHydrationWarning!==!0&&du(n.textContent,o,e),a=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(s.suppressHydrationWarning!==!0&&du(n.textContent,o,e),a=["children",""+o]):Wo.hasOwnProperty(l)&&o!=null&&l==="onScroll"&&Ge("scroll",n)}switch(r){case"input":nu(n),gy(n,s,!0);break;case"textarea":nu(n),vy(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=fd)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{l=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=fj(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=l.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=l.createElement(r,{is:n.is}):(e=l.createElement(r),r==="select"&&(l=e,n.multiple?l.multiple=!0:n.size&&(l.size=n.size))):e=l.createElementNS(e,r),e[Gn]=t,e[Zo]=n,$N(e,t,!1,!1),t.stateNode=e;e:{switch(l=oh(r,n),r){case"dialog":Ge("cancel",e),Ge("close",e),a=n;break;case"iframe":case"object":case"embed":Ge("load",e),a=n;break;case"video":case"audio":for(a=0;a<Po.length;a++)Ge(Po[a],e);a=n;break;case"source":Ge("error",e),a=n;break;case"img":case"image":case"link":Ge("error",e),Ge("load",e),a=n;break;case"details":Ge("toggle",e),a=n;break;case"input":py(e,n),a=rh(e,n),Ge("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=it({},n,{value:void 0}),Ge("invalid",e);break;case"textarea":xy(e,n),a=sh(e,n),Ge("invalid",e);break;default:a=n}lh(r,a),o=a;for(s in o)if(o.hasOwnProperty(s)){var c=o[s];s==="style"?pj(e,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&mj(e,c)):s==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Ko(e,c):typeof c=="number"&&Ko(e,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Wo.hasOwnProperty(s)?c!=null&&s==="onScroll"&&Ge("scroll",e):c!=null&&rg(e,s,c,l))}switch(r){case"input":nu(e),gy(e,n,!1);break;case"textarea":nu(e),vy(e);break;case"option":n.value!=null&&e.setAttribute("value",""+bs(n.value));break;case"select":e.multiple=!!n.multiple,s=n.value,s!=null?Xi(e,!!n.multiple,s,!1):n.defaultValue!=null&&Xi(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=fd)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Qt(t),null;case 6:if(e&&t.stateNode!=null)LN(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(Y(166));if(r=Xs(tc.current),Xs(Xn.current),fu(t)){if(n=t.stateNode,r=t.memoizedProps,n[Gn]=t,(s=n.nodeValue!==r)&&(e=Ur,e!==null))switch(e.tag){case 3:du(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&du(n.nodeValue,r,(e.mode&1)!==0)}s&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Gn]=t,t.stateNode=n}return Qt(t),null;case 13:if(Je(nt),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Qe&&zr!==null&&t.mode&1&&!(t.flags&128))rN(),ol(),t.flags|=98560,s=!1;else if(s=fu(t),n!==null&&n.dehydrated!==null){if(e===null){if(!s)throw Error(Y(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Y(317));s[Gn]=t}else ol(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Qt(t),s=!1}else On!==null&&(Uh(On),On=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||nt.current&1?St===0&&(St=3):Lg())),t.updateQueue!==null&&(t.flags|=4),Qt(t),null);case 4:return ul(),Ih(e,t),e===null&&Xo(t.stateNode.containerInfo),Qt(t),null;case 10:return wg(t.type._context),Qt(t),null;case 17:return Cr(t.type)&&md(),Qt(t),null;case 19:if(Je(nt),s=t.memoizedState,s===null)return Qt(t),null;if(n=(t.flags&128)!==0,l=s.rendering,l===null)if(n)uo(s,!1);else{if(St!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(l=bd(e),l!==null){for(t.flags|=128,uo(s,!1),n=l.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)s=r,e=n,s.flags&=14680066,l=s.alternate,l===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,e=l.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Ve(nt,nt.current&1|2),t.child}e=e.sibling}s.tail!==null&&mt()>fl&&(t.flags|=128,n=!0,uo(s,!1),t.lanes=4194304)}else{if(!n)if(e=bd(l),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),uo(s,!0),s.tail===null&&s.tailMode==="hidden"&&!l.alternate&&!Qe)return Qt(t),null}else 2*mt()-s.renderingStartTime>fl&&r!==1073741824&&(t.flags|=128,n=!0,uo(s,!1),t.lanes=4194304);s.isBackwards?(l.sibling=t.child,t.child=l):(r=s.last,r!==null?r.sibling=l:t.child=l,s.last=l)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=mt(),t.sibling=null,r=nt.current,Ve(nt,n?r&1|2:r&1),t):(Qt(t),null);case 22:case 23:return Rg(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Rr&1073741824&&(Qt(t),t.subtreeFlags&6&&(t.flags|=8192)):Qt(t),null;case 24:return null;case 25:return null}throw Error(Y(156,t.tag))}function e4(e,t){switch(xg(t),t.tag){case 1:return Cr(t.type)&&md(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ul(),Je(Pr),Je(ar),Pg(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Sg(t),null;case 13:if(Je(nt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Y(340));ol()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Je(nt),null;case 4:return ul(),null;case 10:return wg(t.type._context),null;case 22:case 23:return Rg(),null;case 24:return null;default:return null}}var pu=!1,er=!1,t4=typeof WeakSet=="function"?WeakSet:Set,re=null;function Vi(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){ct(e,t,n)}else r.current=null}function Mh(e,t,r){try{r()}catch(n){ct(e,t,n)}}var lb=!1;function r4(e,t){if(vh=cd,e=Wj(),pg(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var l=0,o=-1,c=-1,u=0,d=0,f=e,m=null;t:for(;;){for(var p;f!==r||a!==0&&f.nodeType!==3||(o=l+a),f!==s||n!==0&&f.nodeType!==3||(c=l+n),f.nodeType===3&&(l+=f.nodeValue.length),(p=f.firstChild)!==null;)m=f,f=p;for(;;){if(f===e)break t;if(m===r&&++u===a&&(o=l),m===s&&++d===n&&(c=l),(p=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=p}r=o===-1||c===-1?null:{start:o,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(yh={focusedElem:e,selectionRange:r},cd=!1,re=t;re!==null;)if(t=re,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,re=e;else for(;re!==null;){t=re;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var g=x.memoizedProps,v=x.memoizedState,b=t.stateNode,y=b.getSnapshotBeforeUpdate(t.elementType===t.type?g:_n(t.type,g),v);b.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Y(163))}}catch(k){ct(t,t.return,k)}if(e=t.sibling,e!==null){e.return=t.return,re=e;break}re=t.return}return x=lb,lb=!1,x}function Ro(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var s=a.destroy;a.destroy=void 0,s!==void 0&&Mh(t,r,s)}a=a.next}while(a!==n)}}function Df(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function $h(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function FN(e){var t=e.alternate;t!==null&&(e.alternate=null,FN(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Gn],delete t[Zo],delete t[kh],delete t[L3],delete t[F3])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function BN(e){return e.tag===5||e.tag===3||e.tag===4}function ob(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||BN(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Rh(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=fd));else if(n!==4&&(e=e.child,e!==null))for(Rh(e,t,r),e=e.sibling;e!==null;)Rh(e,t,r),e=e.sibling}function Lh(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Lh(e,t,r),e=e.sibling;e!==null;)Lh(e,t,r),e=e.sibling}var Ft=null,An=!1;function Ya(e,t,r){for(r=r.child;r!==null;)zN(e,t,r),r=r.sibling}function zN(e,t,r){if(Jn&&typeof Jn.onCommitFiberUnmount=="function")try{Jn.onCommitFiberUnmount(Sf,r)}catch{}switch(r.tag){case 5:er||Vi(r,t);case 6:var n=Ft,a=An;Ft=null,Ya(e,t,r),Ft=n,An=a,Ft!==null&&(An?(e=Ft,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Ft.removeChild(r.stateNode));break;case 18:Ft!==null&&(An?(e=Ft,r=r.stateNode,e.nodeType===8?im(e.parentNode,r):e.nodeType===1&&im(e,r),Go(e)):im(Ft,r.stateNode));break;case 4:n=Ft,a=An,Ft=r.stateNode.containerInfo,An=!0,Ya(e,t,r),Ft=n,An=a;break;case 0:case 11:case 14:case 15:if(!er&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var s=a,l=s.destroy;s=s.tag,l!==void 0&&(s&2||s&4)&&Mh(r,t,l),a=a.next}while(a!==n)}Ya(e,t,r);break;case 1:if(!er&&(Vi(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){ct(r,t,o)}Ya(e,t,r);break;case 21:Ya(e,t,r);break;case 22:r.mode&1?(er=(n=er)||r.memoizedState!==null,Ya(e,t,r),er=n):Ya(e,t,r);break;default:Ya(e,t,r)}}function cb(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new t4),t.forEach(function(n){var a=d4.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function En(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var s=e,l=t,o=l;e:for(;o!==null;){switch(o.tag){case 5:Ft=o.stateNode,An=!1;break e;case 3:Ft=o.stateNode.containerInfo,An=!0;break e;case 4:Ft=o.stateNode.containerInfo,An=!0;break e}o=o.return}if(Ft===null)throw Error(Y(160));zN(s,l,a),Ft=null,An=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(u){ct(a,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)UN(t,e),t=t.sibling}function UN(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(En(t,e),Hn(e),n&4){try{Ro(3,e,e.return),Df(3,e)}catch(g){ct(e,e.return,g)}try{Ro(5,e,e.return)}catch(g){ct(e,e.return,g)}}break;case 1:En(t,e),Hn(e),n&512&&r!==null&&Vi(r,r.return);break;case 5:if(En(t,e),Hn(e),n&512&&r!==null&&Vi(r,r.return),e.flags&32){var a=e.stateNode;try{Ko(a,"")}catch(g){ct(e,e.return,g)}}if(n&4&&(a=e.stateNode,a!=null)){var s=e.memoizedProps,l=r!==null?r.memoizedProps:s,o=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{o==="input"&&s.type==="radio"&&s.name!=null&&uj(a,s),oh(o,l);var u=oh(o,s);for(l=0;l<c.length;l+=2){var d=c[l],f=c[l+1];d==="style"?pj(a,f):d==="dangerouslySetInnerHTML"?mj(a,f):d==="children"?Ko(a,f):rg(a,d,f,u)}switch(o){case"input":nh(a,s);break;case"textarea":dj(a,s);break;case"select":var m=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?Xi(a,!!s.multiple,p,!1):m!==!!s.multiple&&(s.defaultValue!=null?Xi(a,!!s.multiple,s.defaultValue,!0):Xi(a,!!s.multiple,s.multiple?[]:"",!1))}a[Zo]=s}catch(g){ct(e,e.return,g)}}break;case 6:if(En(t,e),Hn(e),n&4){if(e.stateNode===null)throw Error(Y(162));a=e.stateNode,s=e.memoizedProps;try{a.nodeValue=s}catch(g){ct(e,e.return,g)}}break;case 3:if(En(t,e),Hn(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Go(t.containerInfo)}catch(g){ct(e,e.return,g)}break;case 4:En(t,e),Hn(e);break;case 13:En(t,e),Hn(e),a=e.child,a.flags&8192&&(s=a.memoizedState!==null,a.stateNode.isHidden=s,!s||a.alternate!==null&&a.alternate.memoizedState!==null||(Mg=mt())),n&4&&cb(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(er=(u=er)||d,En(t,e),er=u):En(t,e),Hn(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(re=e,d=e.child;d!==null;){for(f=re=d;re!==null;){switch(m=re,p=m.child,m.tag){case 0:case 11:case 14:case 15:Ro(4,m,m.return);break;case 1:Vi(m,m.return);var x=m.stateNode;if(typeof x.componentWillUnmount=="function"){n=m,r=m.return;try{t=n,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(g){ct(n,r,g)}}break;case 5:Vi(m,m.return);break;case 22:if(m.memoizedState!==null){db(f);continue}}p!==null?(p.return=m,re=p):db(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{a=f.stateNode,u?(s=a.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(o=f.stateNode,c=f.memoizedProps.style,l=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=hj("display",l))}catch(g){ct(e,e.return,g)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(g){ct(e,e.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:En(t,e),Hn(e),n&4&&cb(e);break;case 21:break;default:En(t,e),Hn(e)}}function Hn(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(BN(r)){var n=r;break e}r=r.return}throw Error(Y(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(Ko(a,""),n.flags&=-33);var s=ob(e);Lh(e,s,a);break;case 3:case 4:var l=n.stateNode.containerInfo,o=ob(e);Rh(e,o,l);break;default:throw Error(Y(161))}}catch(c){ct(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function n4(e,t,r){re=e,WN(e)}function WN(e,t,r){for(var n=(e.mode&1)!==0;re!==null;){var a=re,s=a.child;if(a.tag===22&&n){var l=a.memoizedState!==null||pu;if(!l){var o=a.alternate,c=o!==null&&o.memoizedState!==null||er;o=pu;var u=er;if(pu=l,(er=c)&&!u)for(re=a;re!==null;)l=re,c=l.child,l.tag===22&&l.memoizedState!==null?fb(a):c!==null?(c.return=l,re=c):fb(a);for(;s!==null;)re=s,WN(s),s=s.sibling;re=a,pu=o,er=u}ub(e)}else a.subtreeFlags&8772&&s!==null?(s.return=a,re=s):ub(e)}}function ub(e){for(;re!==null;){var t=re;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:er||Df(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!er)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:_n(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&Gy(t,s,n);break;case 3:var l=t.updateQueue;if(l!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Gy(t,l,r)}break;case 5:var o=t.stateNode;if(r===null&&t.flags&4){r=o;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Go(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Y(163))}er||t.flags&512&&$h(t)}catch(m){ct(t,t.return,m)}}if(t===e){re=null;break}if(r=t.sibling,r!==null){r.return=t.return,re=r;break}re=t.return}}function db(e){for(;re!==null;){var t=re;if(t===e){re=null;break}var r=t.sibling;if(r!==null){r.return=t.return,re=r;break}re=t.return}}function fb(e){for(;re!==null;){var t=re;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Df(4,t)}catch(c){ct(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(c){ct(t,a,c)}}var s=t.return;try{$h(t)}catch(c){ct(t,s,c)}break;case 5:var l=t.return;try{$h(t)}catch(c){ct(t,l,c)}}}catch(c){ct(t,t.return,c)}if(t===e){re=null;break}var o=t.sibling;if(o!==null){o.return=t.return,re=o;break}re=t.return}}var a4=Math.ceil,jd=Ta.ReactCurrentDispatcher,Dg=Ta.ReactCurrentOwner,dn=Ta.ReactCurrentBatchConfig,Ie=0,Dt=null,yt=null,Ut=0,Rr=0,qi=Es(0),St=0,sc=null,hi=0,If=0,Ig=0,Lo=null,jr=null,Mg=0,fl=1/0,da=null,Nd=!1,Fh=null,ps=null,gu=!1,ls=null,Sd=0,Fo=0,Bh=null,qu=-1,Gu=0;function dr(){return Ie&6?mt():qu!==-1?qu:qu=mt()}function gs(e){return e.mode&1?Ie&2&&Ut!==0?Ut&-Ut:z3.transition!==null?(Gu===0&&(Gu=Cj()),Gu):(e=Be,e!==0||(e=window.event,e=e===void 0?16:Ij(e.type)),e):1}function Mn(e,t,r,n){if(50<Fo)throw Fo=0,Bh=null,Error(Y(185));kc(e,r,n),(!(Ie&2)||e!==Dt)&&(e===Dt&&(!(Ie&2)&&(If|=r),St===4&&rs(e,Ut)),Er(e,n),r===1&&Ie===0&&!(t.mode&1)&&(fl=mt()+500,Af&&_s()))}function Er(e,t){var r=e.callbackNode;zO(e,t);var n=od(e,e===Dt?Ut:0);if(n===0)r!==null&&wy(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&wy(r),t===1)e.tag===0?B3(mb.bind(null,e)):Zj(mb.bind(null,e)),$3(function(){!(Ie&6)&&_s()}),r=null;else{switch(Ej(n)){case 1:r=lg;break;case 4:r=Sj;break;case 16:r=ld;break;case 536870912:r=Pj;break;default:r=ld}r=XN(r,KN.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function KN(e,t){if(qu=-1,Gu=0,Ie&6)throw Error(Y(327));var r=e.callbackNode;if(rl()&&e.callbackNode!==r)return null;var n=od(e,e===Dt?Ut:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Pd(e,n);else{t=n;var a=Ie;Ie|=2;var s=VN();(Dt!==e||Ut!==t)&&(da=null,fl=mt()+500,ni(e,t));do try{l4();break}catch(o){HN(e,o)}while(1);bg(),jd.current=s,Ie=a,yt!==null?t=0:(Dt=null,Ut=0,t=St)}if(t!==0){if(t===2&&(a=mh(e),a!==0&&(n=a,t=zh(e,a))),t===1)throw r=sc,ni(e,0),rs(e,n),Er(e,mt()),r;if(t===6)rs(e,n);else{if(a=e.current.alternate,!(n&30)&&!s4(a)&&(t=Pd(e,n),t===2&&(s=mh(e),s!==0&&(n=s,t=zh(e,s))),t===1))throw r=sc,ni(e,0),rs(e,n),Er(e,mt()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(Y(345));case 2:Ws(e,jr,da);break;case 3:if(rs(e,n),(n&130023424)===n&&(t=Mg+500-mt(),10<t)){if(od(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){dr(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=wh(Ws.bind(null,e,jr,da),t);break}Ws(e,jr,da);break;case 4:if(rs(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var l=31-In(n);s=1<<l,l=t[l],l>a&&(a=l),n&=~s}if(n=a,n=mt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*a4(n/1960))-n,10<n){e.timeoutHandle=wh(Ws.bind(null,e,jr,da),n);break}Ws(e,jr,da);break;case 5:Ws(e,jr,da);break;default:throw Error(Y(329))}}}return Er(e,mt()),e.callbackNode===r?KN.bind(null,e):null}function zh(e,t){var r=Lo;return e.current.memoizedState.isDehydrated&&(ni(e,t).flags|=256),e=Pd(e,t),e!==2&&(t=jr,jr=r,t!==null&&Uh(t)),e}function Uh(e){jr===null?jr=e:jr.push.apply(jr,e)}function s4(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],s=a.getSnapshot;a=a.value;try{if(!Ln(s(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function rs(e,t){for(t&=~Ig,t&=~If,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-In(t),n=1<<r;e[r]=-1,t&=~n}}function mb(e){if(Ie&6)throw Error(Y(327));rl();var t=od(e,0);if(!(t&1))return Er(e,mt()),null;var r=Pd(e,t);if(e.tag!==0&&r===2){var n=mh(e);n!==0&&(t=n,r=zh(e,n))}if(r===1)throw r=sc,ni(e,0),rs(e,t),Er(e,mt()),r;if(r===6)throw Error(Y(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ws(e,jr,da),Er(e,mt()),null}function $g(e,t){var r=Ie;Ie|=1;try{return e(t)}finally{Ie=r,Ie===0&&(fl=mt()+500,Af&&_s())}}function pi(e){ls!==null&&ls.tag===0&&!(Ie&6)&&rl();var t=Ie;Ie|=1;var r=dn.transition,n=Be;try{if(dn.transition=null,Be=1,e)return e()}finally{Be=n,dn.transition=r,Ie=t,!(Ie&6)&&_s()}}function Rg(){Rr=qi.current,Je(qi)}function ni(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,M3(r)),yt!==null)for(r=yt.return;r!==null;){var n=r;switch(xg(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&md();break;case 3:ul(),Je(Pr),Je(ar),Pg();break;case 5:Sg(n);break;case 4:ul();break;case 13:Je(nt);break;case 19:Je(nt);break;case 10:wg(n.type._context);break;case 22:case 23:Rg()}r=r.return}if(Dt=e,yt=e=xs(e.current,null),Ut=Rr=t,St=0,sc=null,Ig=If=hi=0,jr=Lo=null,Js!==null){for(t=0;t<Js.length;t++)if(r=Js[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,s=r.pending;if(s!==null){var l=s.next;s.next=a,n.next=l}r.pending=n}Js=null}return e}function HN(e,t){do{var r=yt;try{if(bg(),Ku.current=kd,wd){for(var n=at.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}wd=!1}if(mi=0,Ot=jt=at=null,$o=!1,rc=0,Dg.current=null,r===null||r.return===null){St=1,sc=t,yt=null;break}e:{var s=e,l=r.return,o=r,c=t;if(t=Ut,o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=o,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=eb(l);if(p!==null){p.flags&=-257,tb(p,l,o,s,t),p.mode&1&&Zy(s,u,t),t=p,c=u;var x=t.updateQueue;if(x===null){var g=new Set;g.add(c),t.updateQueue=g}else x.add(c);break e}else{if(!(t&1)){Zy(s,u,t),Lg();break e}c=Error(Y(426))}}else if(Qe&&o.mode&1){var v=eb(l);if(v!==null){!(v.flags&65536)&&(v.flags|=256),tb(v,l,o,s,t),vg(dl(c,o));break e}}s=c=dl(c,o),St!==4&&(St=2),Lo===null?Lo=[s]:Lo.push(s),s=l;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var b=EN(s,c,t);qy(s,b);break e;case 1:o=c;var y=s.type,w=s.stateNode;if(!(s.flags&128)&&(typeof y.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(ps===null||!ps.has(w)))){s.flags|=65536,t&=-t,s.lanes|=t;var k=_N(s,o,t);qy(s,k);break e}}s=s.return}while(s!==null)}GN(r)}catch(N){t=N,yt===r&&r!==null&&(yt=r=r.return);continue}break}while(1)}function VN(){var e=jd.current;return jd.current=kd,e===null?kd:e}function Lg(){(St===0||St===3||St===2)&&(St=4),Dt===null||!(hi&268435455)&&!(If&268435455)||rs(Dt,Ut)}function Pd(e,t){var r=Ie;Ie|=2;var n=VN();(Dt!==e||Ut!==t)&&(da=null,ni(e,t));do try{i4();break}catch(a){HN(e,a)}while(1);if(bg(),Ie=r,jd.current=n,yt!==null)throw Error(Y(261));return Dt=null,Ut=0,St}function i4(){for(;yt!==null;)qN(yt)}function l4(){for(;yt!==null&&!TO();)qN(yt)}function qN(e){var t=JN(e.alternate,e,Rr);e.memoizedProps=e.pendingProps,t===null?GN(e):yt=t,Dg.current=null}function GN(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=e4(r,t),r!==null){r.flags&=32767,yt=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{St=6,yt=null;return}}else if(r=Z3(r,t,Rr),r!==null){yt=r;return}if(t=t.sibling,t!==null){yt=t;return}yt=t=e}while(t!==null);St===0&&(St=5)}function Ws(e,t,r){var n=Be,a=dn.transition;try{dn.transition=null,Be=1,o4(e,t,r,n)}finally{dn.transition=a,Be=n}return null}function o4(e,t,r,n){do rl();while(ls!==null);if(Ie&6)throw Error(Y(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(Y(177));e.callbackNode=null,e.callbackPriority=0;var s=r.lanes|r.childLanes;if(UO(e,s),e===Dt&&(yt=Dt=null,Ut=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||gu||(gu=!0,XN(ld,function(){return rl(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=dn.transition,dn.transition=null;var l=Be;Be=1;var o=Ie;Ie|=4,Dg.current=null,r4(e,r),UN(r,e),E3(yh),cd=!!vh,yh=vh=null,e.current=r,n4(r),DO(),Ie=o,Be=l,dn.transition=s}else e.current=r;if(gu&&(gu=!1,ls=e,Sd=a),s=e.pendingLanes,s===0&&(ps=null),$O(r.stateNode),Er(e,mt()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(Nd)throw Nd=!1,e=Fh,Fh=null,e;return Sd&1&&e.tag!==0&&rl(),s=e.pendingLanes,s&1?e===Bh?Fo++:(Fo=0,Bh=e):Fo=0,_s(),null}function rl(){if(ls!==null){var e=Ej(Sd),t=dn.transition,r=Be;try{if(dn.transition=null,Be=16>e?16:e,ls===null)var n=!1;else{if(e=ls,ls=null,Sd=0,Ie&6)throw Error(Y(331));var a=Ie;for(Ie|=4,re=e.current;re!==null;){var s=re,l=s.child;if(re.flags&16){var o=s.deletions;if(o!==null){for(var c=0;c<o.length;c++){var u=o[c];for(re=u;re!==null;){var d=re;switch(d.tag){case 0:case 11:case 15:Ro(8,d,s)}var f=d.child;if(f!==null)f.return=d,re=f;else for(;re!==null;){d=re;var m=d.sibling,p=d.return;if(FN(d),d===u){re=null;break}if(m!==null){m.return=p,re=m;break}re=p}}}var x=s.alternate;if(x!==null){var g=x.child;if(g!==null){x.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(g!==null)}}re=s}}if(s.subtreeFlags&2064&&l!==null)l.return=s,re=l;else e:for(;re!==null;){if(s=re,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Ro(9,s,s.return)}var b=s.sibling;if(b!==null){b.return=s.return,re=b;break e}re=s.return}}var y=e.current;for(re=y;re!==null;){l=re;var w=l.child;if(l.subtreeFlags&2064&&w!==null)w.return=l,re=w;else e:for(l=y;re!==null;){if(o=re,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Df(9,o)}}catch(N){ct(o,o.return,N)}if(o===l){re=null;break e}var k=o.sibling;if(k!==null){k.return=o.return,re=k;break e}re=o.return}}if(Ie=a,_s(),Jn&&typeof Jn.onPostCommitFiberRoot=="function")try{Jn.onPostCommitFiberRoot(Sf,e)}catch{}n=!0}return n}finally{Be=r,dn.transition=t}}return!1}function hb(e,t,r){t=dl(r,t),t=EN(e,t,1),e=hs(e,t,1),t=dr(),e!==null&&(kc(e,1,t),Er(e,t))}function ct(e,t,r){if(e.tag===3)hb(e,e,r);else for(;t!==null;){if(t.tag===3){hb(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(ps===null||!ps.has(n))){e=dl(r,e),e=_N(t,e,1),t=hs(t,e,1),e=dr(),t!==null&&(kc(t,1,e),Er(t,e));break}}t=t.return}}function c4(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=dr(),e.pingedLanes|=e.suspendedLanes&r,Dt===e&&(Ut&r)===r&&(St===4||St===3&&(Ut&130023424)===Ut&&500>mt()-Mg?ni(e,0):Ig|=r),Er(e,t)}function YN(e,t){t===0&&(e.mode&1?(t=iu,iu<<=1,!(iu&130023424)&&(iu=4194304)):t=1);var r=dr();e=Pa(e,t),e!==null&&(kc(e,t,r),Er(e,r))}function u4(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),YN(e,r)}function d4(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(Y(314))}n!==null&&n.delete(t),YN(e,r)}var JN;JN=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Pr.current)Nr=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Nr=!1,Q3(e,t,r);Nr=!!(e.flags&131072)}else Nr=!1,Qe&&t.flags&1048576&&eN(t,gd,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Vu(e,t),e=t.pendingProps;var a=ll(t,ar.current);tl(t,r),a=Eg(null,t,n,e,a,r);var s=_g();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Cr(n)?(s=!0,hd(t)):s=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,jg(t),a.updater=Tf,t.stateNode=a,a._reactInternals=t,Eh(t,n,e,r),t=Oh(null,t,n,!0,s,r)):(t.tag=0,Qe&&s&&gg(t),or(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Vu(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=m4(n),e=_n(n,e),a){case 0:t=Ah(null,t,n,e,r);break e;case 1:t=ab(null,t,n,e,r);break e;case 11:t=rb(null,t,n,e,r);break e;case 14:t=nb(null,t,n,_n(n.type,e),r);break e}throw Error(Y(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:_n(n,a),Ah(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:_n(n,a),ab(e,t,n,a,r);case 3:e:{if(DN(t),e===null)throw Error(Y(387));n=t.pendingProps,s=t.memoizedState,a=s.element,iN(e,t),yd(t,n,null,r);var l=t.memoizedState;if(n=l.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){a=dl(Error(Y(423)),t),t=sb(e,t,n,r,a);break e}else if(n!==a){a=dl(Error(Y(424)),t),t=sb(e,t,n,r,a);break e}else for(zr=ms(t.stateNode.containerInfo.firstChild),Ur=t,Qe=!0,On=null,r=aN(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(ol(),n===a){t=Ca(e,t,r);break e}or(e,t,n,r)}t=t.child}return t;case 5:return lN(t),e===null&&Sh(t),n=t.type,a=t.pendingProps,s=e!==null?e.memoizedProps:null,l=a.children,bh(n,a)?l=null:s!==null&&bh(n,s)&&(t.flags|=32),TN(e,t),or(e,t,l,r),t.child;case 6:return e===null&&Sh(t),null;case 13:return IN(e,t,r);case 4:return Ng(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=cl(t,null,n,r):or(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:_n(n,a),rb(e,t,n,a,r);case 7:return or(e,t,t.pendingProps,r),t.child;case 8:return or(e,t,t.pendingProps.children,r),t.child;case 12:return or(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,s=t.memoizedProps,l=a.value,Ve(xd,n._currentValue),n._currentValue=l,s!==null)if(Ln(s.value,l)){if(s.children===a.children&&!Pr.current){t=Ca(e,t,r);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var o=s.dependencies;if(o!==null){l=s.child;for(var c=o.firstContext;c!==null;){if(c.context===n){if(s.tag===1){c=wa(-1,r&-r),c.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}s.lanes|=r,c=s.alternate,c!==null&&(c.lanes|=r),Ph(s.return,r,t),o.lanes|=r;break}c=c.next}}else if(s.tag===10)l=s.type===t.type?null:s.child;else if(s.tag===18){if(l=s.return,l===null)throw Error(Y(341));l.lanes|=r,o=l.alternate,o!==null&&(o.lanes|=r),Ph(l,r,t),l=s.sibling}else l=s.child;if(l!==null)l.return=s;else for(l=s;l!==null;){if(l===t){l=null;break}if(s=l.sibling,s!==null){s.return=l.return,l=s;break}l=l.return}s=l}or(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,tl(t,r),a=fn(a),n=n(a),t.flags|=1,or(e,t,n,r),t.child;case 14:return n=t.type,a=_n(n,t.pendingProps),a=_n(n.type,a),nb(e,t,n,a,r);case 15:return AN(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:_n(n,a),Vu(e,t),t.tag=1,Cr(n)?(e=!0,hd(t)):e=!1,tl(t,r),CN(t,n,a),Eh(t,n,a,r),Oh(null,t,n,!0,e,r);case 19:return MN(e,t,r);case 22:return ON(e,t,r)}throw Error(Y(156,t.tag))};function XN(e,t){return Nj(e,t)}function f4(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function cn(e,t,r,n){return new f4(e,t,r,n)}function Fg(e){return e=e.prototype,!(!e||!e.isReactComponent)}function m4(e){if(typeof e=="function")return Fg(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ag)return 11;if(e===sg)return 14}return 2}function xs(e,t){var r=e.alternate;return r===null?(r=cn(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Yu(e,t,r,n,a,s){var l=2;if(n=e,typeof e=="function")Fg(e)&&(l=1);else if(typeof e=="string")l=5;else e:switch(e){case Ri:return ai(r.children,a,s,t);case ng:l=8,a|=8;break;case Qm:return e=cn(12,r,t,a|2),e.elementType=Qm,e.lanes=s,e;case Zm:return e=cn(13,r,t,a),e.elementType=Zm,e.lanes=s,e;case eh:return e=cn(19,r,t,a),e.elementType=eh,e.lanes=s,e;case lj:return Mf(r,a,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case sj:l=10;break e;case ij:l=9;break e;case ag:l=11;break e;case sg:l=14;break e;case Ja:l=16,n=null;break e}throw Error(Y(130,e==null?e:typeof e,""))}return t=cn(l,r,t,a),t.elementType=e,t.type=n,t.lanes=s,t}function ai(e,t,r,n){return e=cn(7,e,n,t),e.lanes=r,e}function Mf(e,t,r,n){return e=cn(22,e,n,t),e.elementType=lj,e.lanes=r,e.stateNode={isHidden:!1},e}function hm(e,t,r){return e=cn(6,e,null,t),e.lanes=r,e}function pm(e,t,r){return t=cn(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function h4(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Y0(0),this.expirationTimes=Y0(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Y0(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Bg(e,t,r,n,a,s,l,o,c){return e=new h4(e,t,r,o,c),t===1?(t=1,s===!0&&(t|=8)):t=0,s=cn(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},jg(s),e}function p4(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:$i,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function QN(e){if(!e)return ws;e=e._reactInternals;e:{if(Ni(e)!==e||e.tag!==1)throw Error(Y(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Cr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Y(171))}if(e.tag===1){var r=e.type;if(Cr(r))return Qj(e,r,t)}return t}function ZN(e,t,r,n,a,s,l,o,c){return e=Bg(r,n,!0,e,a,s,l,o,c),e.context=QN(null),r=e.current,n=dr(),a=gs(r),s=wa(n,a),s.callback=t??null,hs(r,s,a),e.current.lanes=a,kc(e,a,n),Er(e,n),e}function $f(e,t,r,n){var a=t.current,s=dr(),l=gs(a);return r=QN(r),t.context===null?t.context=r:t.pendingContext=r,t=wa(s,l),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=hs(a,t,l),e!==null&&(Mn(e,a,l,s),Wu(e,a,l)),l}function Cd(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function pb(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function zg(e,t){pb(e,t),(e=e.alternate)&&pb(e,t)}function g4(){return null}var e2=typeof reportError=="function"?reportError:function(e){console.error(e)};function Ug(e){this._internalRoot=e}Rf.prototype.render=Ug.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Y(409));$f(e,t,null,null)};Rf.prototype.unmount=Ug.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;pi(function(){$f(null,e,null,null)}),t[Sa]=null}};function Rf(e){this._internalRoot=e}Rf.prototype.unstable_scheduleHydration=function(e){if(e){var t=Oj();e={blockedOn:null,target:e,priority:t};for(var r=0;r<ts.length&&t!==0&&t<ts[r].priority;r++);ts.splice(r,0,e),r===0&&Dj(e)}};function Wg(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Lf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function gb(){}function x4(e,t,r,n,a){if(a){if(typeof n=="function"){var s=n;n=function(){var u=Cd(l);s.call(u)}}var l=ZN(t,n,e,0,null,!1,!1,"",gb);return e._reactRootContainer=l,e[Sa]=l.current,Xo(e.nodeType===8?e.parentNode:e),pi(),l}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var o=n;n=function(){var u=Cd(c);o.call(u)}}var c=Bg(e,0,!1,null,null,!1,!1,"",gb);return e._reactRootContainer=c,e[Sa]=c.current,Xo(e.nodeType===8?e.parentNode:e),pi(function(){$f(t,c,r,n)}),c}function Ff(e,t,r,n,a){var s=r._reactRootContainer;if(s){var l=s;if(typeof a=="function"){var o=a;a=function(){var c=Cd(l);o.call(c)}}$f(t,l,e,a)}else l=x4(r,t,e,a,n);return Cd(l)}_j=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=So(t.pendingLanes);r!==0&&(og(t,r|1),Er(t,mt()),!(Ie&6)&&(fl=mt()+500,_s()))}break;case 13:pi(function(){var n=Pa(e,1);if(n!==null){var a=dr();Mn(n,e,1,a)}}),zg(e,1)}};cg=function(e){if(e.tag===13){var t=Pa(e,134217728);if(t!==null){var r=dr();Mn(t,e,134217728,r)}zg(e,134217728)}};Aj=function(e){if(e.tag===13){var t=gs(e),r=Pa(e,t);if(r!==null){var n=dr();Mn(r,e,t,n)}zg(e,t)}};Oj=function(){return Be};Tj=function(e,t){var r=Be;try{return Be=e,t()}finally{Be=r}};uh=function(e,t,r){switch(t){case"input":if(nh(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=_f(n);if(!a)throw Error(Y(90));cj(n),nh(n,a)}}}break;case"textarea":dj(e,r);break;case"select":t=r.value,t!=null&&Xi(e,!!r.multiple,t,!1)}};vj=$g;yj=pi;var v4={usingClientEntryPoint:!1,Events:[Nc,zi,_f,gj,xj,$g]},fo={findFiberByHostInstance:Ys,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},y4={bundleType:fo.bundleType,version:fo.version,rendererPackageName:fo.rendererPackageName,rendererConfig:fo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ta.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=kj(e),e===null?null:e.stateNode},findFiberByHostInstance:fo.findFiberByHostInstance||g4,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xu.isDisabled&&xu.supportsFiber)try{Sf=xu.inject(y4),Jn=xu}catch{}}Gr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=v4;Gr.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Wg(t))throw Error(Y(200));return p4(e,t,null,r)};Gr.createRoot=function(e,t){if(!Wg(e))throw Error(Y(299));var r=!1,n="",a=e2;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=Bg(e,1,!1,null,null,r,!1,n,a),e[Sa]=t.current,Xo(e.nodeType===8?e.parentNode:e),new Ug(t)};Gr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Y(188)):(e=Object.keys(e).join(","),Error(Y(268,e)));return e=kj(t),e=e===null?null:e.stateNode,e};Gr.flushSync=function(e){return pi(e)};Gr.hydrate=function(e,t,r){if(!Lf(t))throw Error(Y(200));return Ff(null,e,t,!0,r)};Gr.hydrateRoot=function(e,t,r){if(!Wg(e))throw Error(Y(405));var n=r!=null&&r.hydratedSources||null,a=!1,s="",l=e2;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(l=r.onRecoverableError)),t=ZN(t,null,e,1,r??null,a,!1,s,l),e[Sa]=t.current,Xo(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new Rf(t)};Gr.render=function(e,t,r){if(!Lf(t))throw Error(Y(200));return Ff(null,e,t,!1,r)};Gr.unmountComponentAtNode=function(e){if(!Lf(e))throw Error(Y(40));return e._reactRootContainer?(pi(function(){Ff(null,null,e,!1,function(){e._reactRootContainer=null,e[Sa]=null})}),!0):!1};Gr.unstable_batchedUpdates=$g;Gr.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Lf(r))throw Error(Y(200));if(e==null||e._reactInternals===void 0)throw Error(Y(38));return Ff(e,t,r,!1,n)};Gr.version="18.3.1-next-f1338f8080-20240426";function t2(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t2)}catch(e){console.error(e)}}t2(),tj.exports=Gr;var r2=tj.exports,xb=r2;Jm.createRoot=xb.createRoot,Jm.hydrateRoot=xb.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ic(){return ic=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ic.apply(this,arguments)}var os;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(os||(os={}));const vb="popstate";function b4(e){e===void 0&&(e={});function t(n,a){let{pathname:s,search:l,hash:o}=n.location;return Wh("",{pathname:s,search:l,hash:o},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:Ed(a)}return k4(t,r,null,e)}function st(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function n2(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function w4(){return Math.random().toString(36).substr(2,8)}function yb(e,t){return{usr:e.state,key:e.key,idx:t}}function Wh(e,t,r,n){return r===void 0&&(r=null),ic({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Cl(t):t,{state:r,key:t&&t.key||n||w4()})}function Ed(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Cl(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function k4(e,t,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:s=!1}=n,l=a.history,o=os.Pop,c=null,u=d();u==null&&(u=0,l.replaceState(ic({},l.state,{idx:u}),""));function d(){return(l.state||{idx:null}).idx}function f(){o=os.Pop;let v=d(),b=v==null?null:v-u;u=v,c&&c({action:o,location:g.location,delta:b})}function m(v,b){o=os.Push;let y=Wh(g.location,v,b);r&&r(y,v),u=d()+1;let w=yb(y,u),k=g.createHref(y);try{l.pushState(w,"",k)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;a.location.assign(k)}s&&c&&c({action:o,location:g.location,delta:1})}function p(v,b){o=os.Replace;let y=Wh(g.location,v,b);r&&r(y,v),u=d();let w=yb(y,u),k=g.createHref(y);l.replaceState(w,"",k),s&&c&&c({action:o,location:g.location,delta:0})}function x(v){let b=a.location.origin!=="null"?a.location.origin:a.location.href,y=typeof v=="string"?v:Ed(v);return y=y.replace(/ $/,"%20"),st(b,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,b)}let g={get action(){return o},get location(){return e(a,l)},listen(v){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(vb,f),c=v,()=>{a.removeEventListener(vb,f),c=null}},createHref(v){return t(a,v)},createURL:x,encodeLocation(v){let b=x(v);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:m,replace:p,go(v){return l.go(v)}};return g}var bb;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(bb||(bb={}));function j4(e,t,r){return r===void 0&&(r="/"),N4(e,t,r,!1)}function N4(e,t,r,n){let a=typeof t=="string"?Cl(t):t,s=ml(a.pathname||"/",r);if(s==null)return null;let l=a2(e);S4(l);let o=null;for(let c=0;o==null&&c<l.length;++c){let u=$4(s);o=I4(l[c],u,n)}return o}function a2(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(s,l,o)=>{let c={relativePath:o===void 0?s.path||"":o,caseSensitive:s.caseSensitive===!0,childrenIndex:l,route:s};c.relativePath.startsWith("/")&&(st(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=vs([n,c.relativePath]),d=r.concat(c);s.children&&s.children.length>0&&(st(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),a2(s.children,t,d,u)),!(s.path==null&&!s.index)&&t.push({path:u,score:T4(u,s.index),routesMeta:d})};return e.forEach((s,l)=>{var o;if(s.path===""||!((o=s.path)!=null&&o.includes("?")))a(s,l);else for(let c of s2(s.path))a(s,l,c)}),t}function s2(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return a?[s,""]:[s];let l=s2(n.join("/")),o=[];return o.push(...l.map(c=>c===""?s:[s,c].join("/"))),a&&o.push(...l),o.map(c=>e.startsWith("/")&&c===""?"/":c)}function S4(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:D4(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const P4=/^:[\w-]+$/,C4=3,E4=2,_4=1,A4=10,O4=-2,wb=e=>e==="*";function T4(e,t){let r=e.split("/"),n=r.length;return r.some(wb)&&(n+=O4),t&&(n+=E4),r.filter(a=>!wb(a)).reduce((a,s)=>a+(P4.test(s)?C4:s===""?_4:A4),n)}function D4(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function I4(e,t,r){r===void 0&&(r=!1);let{routesMeta:n}=e,a={},s="/",l=[];for(let o=0;o<n.length;++o){let c=n[o],u=o===n.length-1,d=s==="/"?t:t.slice(s.length)||"/",f=_d({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),m=c.route;if(!f&&u&&r&&!n[n.length-1].route.index&&(f=_d({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!f)return null;Object.assign(a,f.params),l.push({params:a,pathname:vs([s,f.pathname]),pathnameBase:B4(vs([s,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(s=vs([s,f.pathnameBase]))}return l}function _d(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=M4(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let s=a[0],l=s.replace(/(.)\/+$/,"$1"),o=a.slice(1);return{params:n.reduce((u,d,f)=>{let{paramName:m,isOptional:p}=d;if(m==="*"){let g=o[f]||"";l=s.slice(0,s.length-g.length).replace(/(.)\/+$/,"$1")}const x=o[f];return p&&!x?u[m]=void 0:u[m]=(x||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:l,pattern:e}}function M4(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),n2(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,o,c)=>(n.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function $4(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return n2(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function ml(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function R4(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?Cl(e):e;return{pathname:r?r.startsWith("/")?r:L4(r,t):t,search:z4(n),hash:U4(a)}}function L4(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function gm(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function F4(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Kg(e,t){let r=F4(e);return t?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Hg(e,t,r,n){n===void 0&&(n=!1);let a;typeof e=="string"?a=Cl(e):(a=ic({},e),st(!a.pathname||!a.pathname.includes("?"),gm("?","pathname","search",a)),st(!a.pathname||!a.pathname.includes("#"),gm("#","pathname","hash",a)),st(!a.search||!a.search.includes("#"),gm("#","search","hash",a)));let s=e===""||a.pathname==="",l=s?"/":a.pathname,o;if(l==null)o=r;else{let f=t.length-1;if(!n&&l.startsWith("..")){let m=l.split("/");for(;m[0]==="..";)m.shift(),f-=1;a.pathname=m.join("/")}o=f>=0?t[f]:"/"}let c=R4(a,o),u=l&&l!=="/"&&l.endsWith("/"),d=(s||l===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const vs=e=>e.join("/").replace(/\/\/+/g,"/"),B4=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),z4=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,U4=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function W4(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const i2=["post","put","patch","delete"];new Set(i2);const K4=["get",...i2];new Set(K4);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function lc(){return lc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lc.apply(this,arguments)}const Bf=h.createContext(null),l2=h.createContext(null),Da=h.createContext(null),zf=h.createContext(null),As=h.createContext({outlet:null,matches:[],isDataRoute:!1}),o2=h.createContext(null);function H4(e,t){let{relative:r}=t===void 0?{}:t;El()||st(!1);let{basename:n,navigator:a}=h.useContext(Da),{hash:s,pathname:l,search:o}=Uf(e,{relative:r}),c=l;return n!=="/"&&(c=l==="/"?n:vs([n,l])),a.createHref({pathname:c,search:o,hash:s})}function El(){return h.useContext(zf)!=null}function Ia(){return El()||st(!1),h.useContext(zf).location}function c2(e){h.useContext(Da).static||h.useLayoutEffect(e)}function Ma(){let{isDataRoute:e}=h.useContext(As);return e?aT():V4()}function V4(){El()||st(!1);let e=h.useContext(Bf),{basename:t,future:r,navigator:n}=h.useContext(Da),{matches:a}=h.useContext(As),{pathname:s}=Ia(),l=JSON.stringify(Kg(a,r.v7_relativeSplatPath)),o=h.useRef(!1);return c2(()=>{o.current=!0}),h.useCallback(function(u,d){if(d===void 0&&(d={}),!o.current)return;if(typeof u=="number"){n.go(u);return}let f=Hg(u,JSON.parse(l),s,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:vs([t,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[t,n,l,s,e])}function Uf(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=h.useContext(Da),{matches:a}=h.useContext(As),{pathname:s}=Ia(),l=JSON.stringify(Kg(a,n.v7_relativeSplatPath));return h.useMemo(()=>Hg(e,JSON.parse(l),s,r==="path"),[e,l,s,r])}function q4(e,t){return G4(e,t)}function G4(e,t,r,n){El()||st(!1);let{navigator:a}=h.useContext(Da),{matches:s}=h.useContext(As),l=s[s.length-1],o=l?l.params:{};l&&l.pathname;let c=l?l.pathnameBase:"/";l&&l.route;let u=Ia(),d;if(t){var f;let v=typeof t=="string"?Cl(t):t;c==="/"||(f=v.pathname)!=null&&f.startsWith(c)||st(!1),d=v}else d=u;let m=d.pathname||"/",p=m;if(c!=="/"){let v=c.replace(/^\//,"").split("/");p="/"+m.replace(/^\//,"").split("/").slice(v.length).join("/")}let x=j4(e,{pathname:p}),g=Z4(x&&x.map(v=>Object.assign({},v,{params:Object.assign({},o,v.params),pathname:vs([c,a.encodeLocation?a.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?c:vs([c,a.encodeLocation?a.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),s,r,n);return t&&g?h.createElement(zf.Provider,{value:{location:lc({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:os.Pop}},g):g}function Y4(){let e=nT(),t=W4(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return h.createElement(h.Fragment,null,h.createElement("h2",null,"Unexpected Application Error!"),h.createElement("h3",{style:{fontStyle:"italic"}},t),r?h.createElement("pre",{style:a},r):null,s)}const J4=h.createElement(Y4,null);class X4 extends h.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?h.createElement(As.Provider,{value:this.props.routeContext},h.createElement(o2.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Q4(e){let{routeContext:t,match:r,children:n}=e,a=h.useContext(Bf);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),h.createElement(As.Provider,{value:t},n)}function Z4(e,t,r,n){var a;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var s;if(!r)return null;if(r.errors)e=r.matches;else if((s=n)!=null&&s.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let l=e,o=(a=r)==null?void 0:a.errors;if(o!=null){let d=l.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);d>=0||st(!1),l=l.slice(0,Math.min(l.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<l.length;d++){let f=l[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:m,errors:p}=r,x=f.route.loader&&m[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||x){c=!0,u>=0?l=l.slice(0,u+1):l=[l[0]];break}}}return l.reduceRight((d,f,m)=>{let p,x=!1,g=null,v=null;r&&(p=o&&f.route.id?o[f.route.id]:void 0,g=f.route.errorElement||J4,c&&(u<0&&m===0?(sT("route-fallback",!1),x=!0,v=null):u===m&&(x=!0,v=f.route.hydrateFallbackElement||null)));let b=t.concat(l.slice(0,m+1)),y=()=>{let w;return p?w=g:x?w=v:f.route.Component?w=h.createElement(f.route.Component,null):f.route.element?w=f.route.element:w=d,h.createElement(Q4,{match:f,routeContext:{outlet:d,matches:b,isDataRoute:r!=null},children:w})};return r&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?h.createElement(X4,{location:r.location,revalidation:r.revalidation,component:g,error:p,children:y(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):y()},null)}var u2=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(u2||{}),Ad=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Ad||{});function eT(e){let t=h.useContext(Bf);return t||st(!1),t}function tT(e){let t=h.useContext(l2);return t||st(!1),t}function rT(e){let t=h.useContext(As);return t||st(!1),t}function d2(e){let t=rT(),r=t.matches[t.matches.length-1];return r.route.id||st(!1),r.route.id}function nT(){var e;let t=h.useContext(o2),r=tT(Ad.UseRouteError),n=d2(Ad.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function aT(){let{router:e}=eT(u2.UseNavigateStable),t=d2(Ad.UseNavigateStable),r=h.useRef(!1);return c2(()=>{r.current=!0}),h.useCallback(function(a,s){s===void 0&&(s={}),r.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,lc({fromRouteId:t},s)))},[e,t])}const kb={};function sT(e,t,r){!t&&!kb[e]&&(kb[e]=!0)}function iT(e,t){e==null||e.v7_startTransition,(e==null?void 0:e.v7_relativeSplatPath)===void 0&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}function Kh(e){let{to:t,replace:r,state:n,relative:a}=e;El()||st(!1);let{future:s,static:l}=h.useContext(Da),{matches:o}=h.useContext(As),{pathname:c}=Ia(),u=Ma(),d=Hg(t,Kg(o,s.v7_relativeSplatPath),c,a==="path"),f=JSON.stringify(d);return h.useEffect(()=>u(JSON.parse(f),{replace:r,state:n,relative:a}),[u,f,a,r,n]),null}function rt(e){st(!1)}function lT(e){let{basename:t="/",children:r=null,location:n,navigationType:a=os.Pop,navigator:s,static:l=!1,future:o}=e;El()&&st(!1);let c=t.replace(/^\/*/,"/"),u=h.useMemo(()=>({basename:c,navigator:s,static:l,future:lc({v7_relativeSplatPath:!1},o)}),[c,o,s,l]);typeof n=="string"&&(n=Cl(n));let{pathname:d="/",search:f="",hash:m="",state:p=null,key:x="default"}=n,g=h.useMemo(()=>{let v=ml(d,c);return v==null?null:{location:{pathname:v,search:f,hash:m,state:p,key:x},navigationType:a}},[c,d,f,m,p,x,a]);return g==null?null:h.createElement(Da.Provider,{value:u},h.createElement(zf.Provider,{children:r,value:g}))}function f2(e){let{children:t,location:r}=e;return q4(Hh(t),r)}new Promise(()=>{});function Hh(e,t){t===void 0&&(t=[]);let r=[];return h.Children.forEach(e,(n,a)=>{if(!h.isValidElement(n))return;let s=[...t,a];if(n.type===h.Fragment){r.push.apply(r,Hh(n.props.children,s));return}n.type!==rt&&st(!1),!n.props.index||!n.props.children||st(!1);let l={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(l.children=Hh(n.props.children,s)),r.push(l)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Od(){return Od=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Od.apply(this,arguments)}function m2(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,s;for(s=0;s<n.length;s++)a=n[s],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function oT(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function cT(e,t){return e.button===0&&(!t||t==="_self")&&!oT(e)}const uT=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],dT=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],fT="6";try{window.__reactRouterVersion=fT}catch{}const mT=h.createContext({isTransitioning:!1}),hT="startTransition",jb=Zk[hT];function pT(e){let{basename:t,children:r,future:n,window:a}=e,s=h.useRef();s.current==null&&(s.current=b4({window:a,v5Compat:!0}));let l=s.current,[o,c]=h.useState({action:l.action,location:l.location}),{v7_startTransition:u}=n||{},d=h.useCallback(f=>{u&&jb?jb(()=>c(f)):c(f)},[c,u]);return h.useLayoutEffect(()=>l.listen(d),[l,d]),h.useEffect(()=>iT(n),[n]),h.createElement(lT,{basename:t,children:r,location:o.location,navigationType:o.action,navigator:l,future:n})}const gT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",xT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,si=h.forwardRef(function(t,r){let{onClick:n,relative:a,reloadDocument:s,replace:l,state:o,target:c,to:u,preventScrollReset:d,viewTransition:f}=t,m=m2(t,uT),{basename:p}=h.useContext(Da),x,g=!1;if(typeof u=="string"&&xT.test(u)&&(x=u,gT))try{let w=new URL(window.location.href),k=u.startsWith("//")?new URL(w.protocol+u):new URL(u),N=ml(k.pathname,p);k.origin===w.origin&&N!=null?u=N+k.search+k.hash:g=!0}catch{}let v=H4(u,{relative:a}),b=bT(u,{replace:l,state:o,target:c,preventScrollReset:d,relative:a,viewTransition:f});function y(w){n&&n(w),w.defaultPrevented||b(w)}return h.createElement("a",Od({},m,{href:x||v,onClick:g||s?n:y,ref:r,target:c}))}),vT=h.forwardRef(function(t,r){let{"aria-current":n="page",caseSensitive:a=!1,className:s="",end:l=!1,style:o,to:c,viewTransition:u,children:d}=t,f=m2(t,dT),m=Uf(c,{relative:f.relative}),p=Ia(),x=h.useContext(l2),{navigator:g,basename:v}=h.useContext(Da),b=x!=null&&wT(m)&&u===!0,y=g.encodeLocation?g.encodeLocation(m).pathname:m.pathname,w=p.pathname,k=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;a||(w=w.toLowerCase(),k=k?k.toLowerCase():null,y=y.toLowerCase()),k&&v&&(k=ml(k,v)||k);const N=y!=="/"&&y.endsWith("/")?y.length-1:y.length;let S=w===y||!l&&w.startsWith(y)&&w.charAt(N)==="/",j=k!=null&&(k===y||!l&&k.startsWith(y)&&k.charAt(y.length)==="/"),P={isActive:S,isPending:j,isTransitioning:b},D=S?n:void 0,O;typeof s=="function"?O=s(P):O=[s,S?"active":null,j?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let $=typeof o=="function"?o(P):o;return h.createElement(si,Od({},f,{"aria-current":D,className:O,ref:r,style:$,to:c,viewTransition:u}),typeof d=="function"?d(P):d)});var Vh;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Vh||(Vh={}));var Nb;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Nb||(Nb={}));function yT(e){let t=h.useContext(Bf);return t||st(!1),t}function bT(e,t){let{target:r,replace:n,state:a,preventScrollReset:s,relative:l,viewTransition:o}=t===void 0?{}:t,c=Ma(),u=Ia(),d=Uf(e,{relative:l});return h.useCallback(f=>{if(cT(f,r)){f.preventDefault();let m=n!==void 0?n:Ed(u)===Ed(d);c(e,{replace:m,state:a,preventScrollReset:s,relative:l,viewTransition:o})}},[u,c,d,n,a,r,e,s,l,o])}function wT(e,t){t===void 0&&(t={});let r=h.useContext(mT);r==null&&st(!1);let{basename:n}=yT(Vh.useViewTransitionState),a=Uf(e,{relative:t.relative});if(!r.isTransitioning)return!1;let s=ml(r.currentLocation.pathname,n)||r.currentLocation.pathname,l=ml(r.nextLocation.pathname,n)||r.nextLocation.pathname;return _d(a.pathname,l)!=null||_d(a.pathname,s)!=null}const Sb=e=>{let t;const r=new Set,n=(d,f)=>{const m=typeof d=="function"?d(t):d;if(!Object.is(m,t)){const p=t;t=f??(typeof m!="object"||m===null)?m:Object.assign({},t,m),r.forEach(x=>x(t,p))}},a=()=>t,c={setState:n,getState:a,getInitialState:()=>u,subscribe:d=>(r.add(d),()=>r.delete(d)),destroy:()=>{r.clear()}},u=t=e(n,a,c);return c},kT=e=>e?Sb(e):Sb;var h2={exports:{}},p2={},g2={exports:{}},x2={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hl=h;function jT(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var NT=typeof Object.is=="function"?Object.is:jT,ST=hl.useState,PT=hl.useEffect,CT=hl.useLayoutEffect,ET=hl.useDebugValue;function _T(e,t){var r=t(),n=ST({inst:{value:r,getSnapshot:t}}),a=n[0].inst,s=n[1];return CT(function(){a.value=r,a.getSnapshot=t,xm(a)&&s({inst:a})},[e,r,t]),PT(function(){return xm(a)&&s({inst:a}),e(function(){xm(a)&&s({inst:a})})},[e]),ET(r),r}function xm(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!NT(e,r)}catch{return!0}}function AT(e,t){return t()}var OT=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?AT:_T;x2.useSyncExternalStore=hl.useSyncExternalStore!==void 0?hl.useSyncExternalStore:OT;g2.exports=x2;var TT=g2.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wf=h,DT=TT;function IT(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var MT=typeof Object.is=="function"?Object.is:IT,$T=DT.useSyncExternalStore,RT=Wf.useRef,LT=Wf.useEffect,FT=Wf.useMemo,BT=Wf.useDebugValue;p2.useSyncExternalStoreWithSelector=function(e,t,r,n,a){var s=RT(null);if(s.current===null){var l={hasValue:!1,value:null};s.current=l}else l=s.current;s=FT(function(){function c(p){if(!u){if(u=!0,d=p,p=n(p),a!==void 0&&l.hasValue){var x=l.value;if(a(x,p))return f=x}return f=p}if(x=f,MT(d,p))return x;var g=n(p);return a!==void 0&&a(x,g)?(d=p,x):(d=p,f=g)}var u=!1,d,f,m=r===void 0?null:r;return[function(){return c(t())},m===null?void 0:function(){return c(m())}]},[t,r,n,a]);var o=$T(e,s[0],s[1]);return LT(function(){l.hasValue=!0,l.value=o},[o]),BT(o),o};h2.exports=p2;var v2=h2.exports;const zT=ta(v2),{useDebugValue:UT}=Ji,{useSyncExternalStoreWithSelector:WT}=zT;const KT=e=>e;function HT(e,t=KT,r){const n=WT(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,r);return UT(n),n}const Pb=e=>{const t=typeof e=="function"?kT(e):e,r=(n,a)=>HT(t,n,a);return Object.assign(r,t),r},Vg=e=>e?Pb(e):Pb;function y2(e,t){return function(){return e.apply(t,arguments)}}const{toString:VT}=Object.prototype,{getPrototypeOf:qg}=Object,{iterator:Kf,toStringTag:b2}=Symbol,Hf=(e=>t=>{const r=VT.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Fn=e=>(e=e.toLowerCase(),t=>Hf(t)===e),Vf=e=>t=>typeof t===e,{isArray:_l}=Array,pl=Vf("undefined");function Pc(e){return e!==null&&!pl(e)&&e.constructor!==null&&!pl(e.constructor)&&_r(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const w2=Fn("ArrayBuffer");function qT(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&w2(e.buffer),t}const GT=Vf("string"),_r=Vf("function"),k2=Vf("number"),Cc=e=>e!==null&&typeof e=="object",YT=e=>e===!0||e===!1,Ju=e=>{if(Hf(e)!=="object")return!1;const t=qg(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(b2 in e)&&!(Kf in e)},JT=e=>{if(!Cc(e)||Pc(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},XT=Fn("Date"),QT=Fn("File"),ZT=Fn("Blob"),eD=Fn("FileList"),tD=e=>Cc(e)&&_r(e.pipe),rD=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||_r(e.append)&&((t=Hf(e))==="formdata"||t==="object"&&_r(e.toString)&&e.toString()==="[object FormData]"))},nD=Fn("URLSearchParams"),[aD,sD,iD,lD]=["ReadableStream","Request","Response","Headers"].map(Fn),oD=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ec(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,a;if(typeof e!="object"&&(e=[e]),_l(e))for(n=0,a=e.length;n<a;n++)t.call(null,e[n],n,e);else{if(Pc(e))return;const s=r?Object.getOwnPropertyNames(e):Object.keys(e),l=s.length;let o;for(n=0;n<l;n++)o=s[n],t.call(null,e[o],o,e)}}function j2(e,t){if(Pc(e))return null;t=t.toLowerCase();const r=Object.keys(e);let n=r.length,a;for(;n-- >0;)if(a=r[n],t===a.toLowerCase())return a;return null}const Qs=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),N2=e=>!pl(e)&&e!==Qs;function qh(){const{caseless:e,skipUndefined:t}=N2(this)&&this||{},r={},n=(a,s)=>{const l=e&&j2(r,s)||s;Ju(r[l])&&Ju(a)?r[l]=qh(r[l],a):Ju(a)?r[l]=qh({},a):_l(a)?r[l]=a.slice():(!t||!pl(a))&&(r[l]=a)};for(let a=0,s=arguments.length;a<s;a++)arguments[a]&&Ec(arguments[a],n);return r}const cD=(e,t,r,{allOwnKeys:n}={})=>(Ec(t,(a,s)=>{r&&_r(a)?e[s]=y2(a,r):e[s]=a},{allOwnKeys:n}),e),uD=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),dD=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},fD=(e,t,r,n)=>{let a,s,l;const o={};if(t=t||{},e==null)return t;do{for(a=Object.getOwnPropertyNames(e),s=a.length;s-- >0;)l=a[s],(!n||n(l,e,t))&&!o[l]&&(t[l]=e[l],o[l]=!0);e=r!==!1&&qg(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},mD=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},hD=e=>{if(!e)return null;if(_l(e))return e;let t=e.length;if(!k2(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},pD=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&qg(Uint8Array)),gD=(e,t)=>{const n=(e&&e[Kf]).call(e);let a;for(;(a=n.next())&&!a.done;){const s=a.value;t.call(e,s[0],s[1])}},xD=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},vD=Fn("HTMLFormElement"),yD=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,a){return n.toUpperCase()+a}),Cb=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),bD=Fn("RegExp"),S2=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};Ec(r,(a,s)=>{let l;(l=t(a,s,e))!==!1&&(n[s]=l||a)}),Object.defineProperties(e,n)},wD=e=>{S2(e,(t,r)=>{if(_r(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(_r(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},kD=(e,t)=>{const r={},n=a=>{a.forEach(s=>{r[s]=!0})};return _l(e)?n(e):n(String(e).split(t)),r},jD=()=>{},ND=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function SD(e){return!!(e&&_r(e.append)&&e[b2]==="FormData"&&e[Kf])}const PD=e=>{const t=new Array(10),r=(n,a)=>{if(Cc(n)){if(t.indexOf(n)>=0)return;if(Pc(n))return n;if(!("toJSON"in n)){t[a]=n;const s=_l(n)?[]:{};return Ec(n,(l,o)=>{const c=r(l,a+1);!pl(c)&&(s[o]=c)}),t[a]=void 0,s}}return n};return r(e,0)},CD=Fn("AsyncFunction"),ED=e=>e&&(Cc(e)||_r(e))&&_r(e.then)&&_r(e.catch),P2=((e,t)=>e?setImmediate:t?((r,n)=>(Qs.addEventListener("message",({source:a,data:s})=>{a===Qs&&s===r&&n.length&&n.shift()()},!1),a=>{n.push(a),Qs.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",_r(Qs.postMessage)),_D=typeof queueMicrotask<"u"?queueMicrotask.bind(Qs):typeof process<"u"&&process.nextTick||P2,AD=e=>e!=null&&_r(e[Kf]),F={isArray:_l,isArrayBuffer:w2,isBuffer:Pc,isFormData:rD,isArrayBufferView:qT,isString:GT,isNumber:k2,isBoolean:YT,isObject:Cc,isPlainObject:Ju,isEmptyObject:JT,isReadableStream:aD,isRequest:sD,isResponse:iD,isHeaders:lD,isUndefined:pl,isDate:XT,isFile:QT,isBlob:ZT,isRegExp:bD,isFunction:_r,isStream:tD,isURLSearchParams:nD,isTypedArray:pD,isFileList:eD,forEach:Ec,merge:qh,extend:cD,trim:oD,stripBOM:uD,inherits:dD,toFlatObject:fD,kindOf:Hf,kindOfTest:Fn,endsWith:mD,toArray:hD,forEachEntry:gD,matchAll:xD,isHTMLForm:vD,hasOwnProperty:Cb,hasOwnProp:Cb,reduceDescriptors:S2,freezeMethods:wD,toObjectSet:kD,toCamelCase:yD,noop:jD,toFiniteNumber:ND,findKey:j2,global:Qs,isContextDefined:N2,isSpecCompliantForm:SD,toJSONObject:PD,isAsyncFn:CD,isThenable:ED,setImmediate:P2,asap:_D,isIterable:AD};function ke(e,t,r,n,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),a&&(this.response=a,this.status=a.status?a.status:null)}F.inherits(ke,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:F.toJSONObject(this.config),code:this.code,status:this.status}}});const C2=ke.prototype,E2={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{E2[e]={value:e}});Object.defineProperties(ke,E2);Object.defineProperty(C2,"isAxiosError",{value:!0});ke.from=(e,t,r,n,a,s)=>{const l=Object.create(C2);F.toFlatObject(e,l,function(d){return d!==Error.prototype},u=>u!=="isAxiosError");const o=e&&e.message?e.message:"Error",c=t==null&&e?e.code:t;return ke.call(l,o,c,r,n,a),e&&l.cause==null&&Object.defineProperty(l,"cause",{value:e,configurable:!0}),l.name=e&&e.name||"Error",s&&Object.assign(l,s),l};const OD=null;function Gh(e){return F.isPlainObject(e)||F.isArray(e)}function _2(e){return F.endsWith(e,"[]")?e.slice(0,-2):e}function Eb(e,t,r){return e?e.concat(t).map(function(a,s){return a=_2(a),!r&&s?"["+a+"]":a}).join(r?".":""):t}function TD(e){return F.isArray(e)&&!e.some(Gh)}const DD=F.toFlatObject(F,{},null,function(t){return/^is[A-Z]/.test(t)});function qf(e,t,r){if(!F.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=F.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,v){return!F.isUndefined(v[g])});const n=r.metaTokens,a=r.visitor||d,s=r.dots,l=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&F.isSpecCompliantForm(t);if(!F.isFunction(a))throw new TypeError("visitor must be a function");function u(x){if(x===null)return"";if(F.isDate(x))return x.toISOString();if(F.isBoolean(x))return x.toString();if(!c&&F.isBlob(x))throw new ke("Blob is not supported. Use a Buffer instead.");return F.isArrayBuffer(x)||F.isTypedArray(x)?c&&typeof Blob=="function"?new Blob([x]):Buffer.from(x):x}function d(x,g,v){let b=x;if(x&&!v&&typeof x=="object"){if(F.endsWith(g,"{}"))g=n?g:g.slice(0,-2),x=JSON.stringify(x);else if(F.isArray(x)&&TD(x)||(F.isFileList(x)||F.endsWith(g,"[]"))&&(b=F.toArray(x)))return g=_2(g),b.forEach(function(w,k){!(F.isUndefined(w)||w===null)&&t.append(l===!0?Eb([g],k,s):l===null?g:g+"[]",u(w))}),!1}return Gh(x)?!0:(t.append(Eb(v,g,s),u(x)),!1)}const f=[],m=Object.assign(DD,{defaultVisitor:d,convertValue:u,isVisitable:Gh});function p(x,g){if(!F.isUndefined(x)){if(f.indexOf(x)!==-1)throw Error("Circular reference detected in "+g.join("."));f.push(x),F.forEach(x,function(b,y){(!(F.isUndefined(b)||b===null)&&a.call(t,b,F.isString(y)?y.trim():y,g,m))===!0&&p(b,g?g.concat(y):[y])}),f.pop()}}if(!F.isObject(e))throw new TypeError("data must be an object");return p(e),t}function _b(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function Gg(e,t){this._pairs=[],e&&qf(e,this,t)}const A2=Gg.prototype;A2.append=function(t,r){this._pairs.push([t,r])};A2.toString=function(t){const r=t?function(n){return t.call(this,n,_b)}:_b;return this._pairs.map(function(a){return r(a[0])+"="+r(a[1])},"").join("&")};function ID(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function O2(e,t,r){if(!t)return e;const n=r&&r.encode||ID;F.isFunction(r)&&(r={serialize:r});const a=r&&r.serialize;let s;if(a?s=a(t,r):s=F.isURLSearchParams(t)?t.toString():new Gg(t,r).toString(n),s){const l=e.indexOf("#");l!==-1&&(e=e.slice(0,l)),e+=(e.indexOf("?")===-1?"?":"&")+s}return e}class MD{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){F.forEach(this.handlers,function(n){n!==null&&t(n)})}}const Ab=MD,T2={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},$D=typeof URLSearchParams<"u"?URLSearchParams:Gg,RD=typeof FormData<"u"?FormData:null,LD=typeof Blob<"u"?Blob:null,FD={isBrowser:!0,classes:{URLSearchParams:$D,FormData:RD,Blob:LD},protocols:["http","https","file","blob","url","data"]},Yg=typeof window<"u"&&typeof document<"u",Yh=typeof navigator=="object"&&navigator||void 0,BD=Yg&&(!Yh||["ReactNative","NativeScript","NS"].indexOf(Yh.product)<0),zD=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),UD=Yg&&window.location.href||"http://localhost",WD=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Yg,hasStandardBrowserEnv:BD,hasStandardBrowserWebWorkerEnv:zD,navigator:Yh,origin:UD},Symbol.toStringTag,{value:"Module"})),rr={...WD,...FD};function KD(e,t){return qf(e,new rr.classes.URLSearchParams,{visitor:function(r,n,a,s){return rr.isNode&&F.isBuffer(r)?(this.append(n,r.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)},...t})}function HD(e){return F.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function VD(e){const t={},r=Object.keys(e);let n;const a=r.length;let s;for(n=0;n<a;n++)s=r[n],t[s]=e[s];return t}function D2(e){function t(r,n,a,s){let l=r[s++];if(l==="__proto__")return!0;const o=Number.isFinite(+l),c=s>=r.length;return l=!l&&F.isArray(a)?a.length:l,c?(F.hasOwnProp(a,l)?a[l]=[a[l],n]:a[l]=n,!o):((!a[l]||!F.isObject(a[l]))&&(a[l]=[]),t(r,n,a[l],s)&&F.isArray(a[l])&&(a[l]=VD(a[l])),!o)}if(F.isFormData(e)&&F.isFunction(e.entries)){const r={};return F.forEachEntry(e,(n,a)=>{t(HD(n),a,r,0)}),r}return null}function qD(e,t,r){if(F.isString(e))try{return(t||JSON.parse)(e),F.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}const Jg={transitional:T2,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const n=r.getContentType()||"",a=n.indexOf("application/json")>-1,s=F.isObject(t);if(s&&F.isHTMLForm(t)&&(t=new FormData(t)),F.isFormData(t))return a?JSON.stringify(D2(t)):t;if(F.isArrayBuffer(t)||F.isBuffer(t)||F.isStream(t)||F.isFile(t)||F.isBlob(t)||F.isReadableStream(t))return t;if(F.isArrayBufferView(t))return t.buffer;if(F.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let o;if(s){if(n.indexOf("application/x-www-form-urlencoded")>-1)return KD(t,this.formSerializer).toString();if((o=F.isFileList(t))||n.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return qf(o?{"files[]":t}:t,c&&new c,this.formSerializer)}}return s||a?(r.setContentType("application/json",!1),qD(t)):t}],transformResponse:[function(t){const r=this.transitional||Jg.transitional,n=r&&r.forcedJSONParsing,a=this.responseType==="json";if(F.isResponse(t)||F.isReadableStream(t))return t;if(t&&F.isString(t)&&(n&&!this.responseType||a)){const l=!(r&&r.silentJSONParsing)&&a;try{return JSON.parse(t,this.parseReviver)}catch(o){if(l)throw o.name==="SyntaxError"?ke.from(o,ke.ERR_BAD_RESPONSE,this,null,this.response):o}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:rr.classes.FormData,Blob:rr.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};F.forEach(["delete","get","head","post","put","patch"],e=>{Jg.headers[e]={}});const Xg=Jg,GD=F.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),YD=e=>{const t={};let r,n,a;return e&&e.split(`
`).forEach(function(l){a=l.indexOf(":"),r=l.substring(0,a).trim().toLowerCase(),n=l.substring(a+1).trim(),!(!r||t[r]&&GD[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},Ob=Symbol("internals");function mo(e){return e&&String(e).trim().toLowerCase()}function Xu(e){return e===!1||e==null?e:F.isArray(e)?e.map(Xu):String(e)}function JD(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}const XD=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function vm(e,t,r,n,a){if(F.isFunction(n))return n.call(this,t,r);if(a&&(t=r),!!F.isString(t)){if(F.isString(n))return t.indexOf(n)!==-1;if(F.isRegExp(n))return n.test(t)}}function QD(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function ZD(e,t){const r=F.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(a,s,l){return this[n].call(this,t,a,s,l)},configurable:!0})})}class Gf{constructor(t){t&&this.set(t)}set(t,r,n){const a=this;function s(o,c,u){const d=mo(c);if(!d)throw new Error("header name must be a non-empty string");const f=F.findKey(a,d);(!f||a[f]===void 0||u===!0||u===void 0&&a[f]!==!1)&&(a[f||c]=Xu(o))}const l=(o,c)=>F.forEach(o,(u,d)=>s(u,d,c));if(F.isPlainObject(t)||t instanceof this.constructor)l(t,r);else if(F.isString(t)&&(t=t.trim())&&!XD(t))l(YD(t),r);else if(F.isObject(t)&&F.isIterable(t)){let o={},c,u;for(const d of t){if(!F.isArray(d))throw TypeError("Object iterator must return a key-value pair");o[u=d[0]]=(c=o[u])?F.isArray(c)?[...c,d[1]]:[c,d[1]]:d[1]}l(o,r)}else t!=null&&s(r,t,n);return this}get(t,r){if(t=mo(t),t){const n=F.findKey(this,t);if(n){const a=this[n];if(!r)return a;if(r===!0)return JD(a);if(F.isFunction(r))return r.call(this,a,n);if(F.isRegExp(r))return r.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=mo(t),t){const n=F.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||vm(this,this[n],n,r)))}return!1}delete(t,r){const n=this;let a=!1;function s(l){if(l=mo(l),l){const o=F.findKey(n,l);o&&(!r||vm(n,n[o],o,r))&&(delete n[o],a=!0)}}return F.isArray(t)?t.forEach(s):s(t),a}clear(t){const r=Object.keys(this);let n=r.length,a=!1;for(;n--;){const s=r[n];(!t||vm(this,this[s],s,t,!0))&&(delete this[s],a=!0)}return a}normalize(t){const r=this,n={};return F.forEach(this,(a,s)=>{const l=F.findKey(n,s);if(l){r[l]=Xu(a),delete r[s];return}const o=t?QD(s):String(s).trim();o!==s&&delete r[s],r[o]=Xu(a),n[o]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return F.forEach(this,(n,a)=>{n!=null&&n!==!1&&(r[a]=t&&F.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const n=new this(t);return r.forEach(a=>n.set(a)),n}static accessor(t){const n=(this[Ob]=this[Ob]={accessors:{}}).accessors,a=this.prototype;function s(l){const o=mo(l);n[o]||(ZD(a,l),n[o]=!0)}return F.isArray(t)?t.forEach(s):s(t),this}}Gf.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);F.reduceDescriptors(Gf.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[r]=n}}});F.freezeMethods(Gf);const $n=Gf;function ym(e,t){const r=this||Xg,n=t||r,a=$n.from(n.headers);let s=n.data;return F.forEach(e,function(o){s=o.call(r,s,a.normalize(),t?t.status:void 0)}),a.normalize(),s}function I2(e){return!!(e&&e.__CANCEL__)}function Al(e,t,r){ke.call(this,e??"canceled",ke.ERR_CANCELED,t,r),this.name="CanceledError"}F.inherits(Al,ke,{__CANCEL__:!0});function M2(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new ke("Request failed with status code "+r.status,[ke.ERR_BAD_REQUEST,ke.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function e6(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function t6(e,t){e=e||10;const r=new Array(e),n=new Array(e);let a=0,s=0,l;return t=t!==void 0?t:1e3,function(c){const u=Date.now(),d=n[s];l||(l=u),r[a]=c,n[a]=u;let f=s,m=0;for(;f!==a;)m+=r[f++],f=f%e;if(a=(a+1)%e,a===s&&(s=(s+1)%e),u-l<t)return;const p=d&&u-d;return p?Math.round(m*1e3/p):void 0}}function r6(e,t){let r=0,n=1e3/t,a,s;const l=(u,d=Date.now())=>{r=d,a=null,s&&(clearTimeout(s),s=null),e(...u)};return[(...u)=>{const d=Date.now(),f=d-r;f>=n?l(u,d):(a=u,s||(s=setTimeout(()=>{s=null,l(a)},n-f)))},()=>a&&l(a)]}const Td=(e,t,r=3)=>{let n=0;const a=t6(50,250);return r6(s=>{const l=s.loaded,o=s.lengthComputable?s.total:void 0,c=l-n,u=a(c),d=l<=o;n=l;const f={loaded:l,total:o,progress:o?l/o:void 0,bytes:c,rate:u||void 0,estimated:u&&o&&d?(o-l)/u:void 0,event:s,lengthComputable:o!=null,[t?"download":"upload"]:!0};e(f)},r)},Tb=(e,t)=>{const r=e!=null;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},Db=e=>(...t)=>F.asap(()=>e(...t)),n6=rr.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,rr.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(rr.origin),rr.navigator&&/(msie|trident)/i.test(rr.navigator.userAgent)):()=>!0,a6=rr.hasStandardBrowserEnv?{write(e,t,r,n,a,s){const l=[e+"="+encodeURIComponent(t)];F.isNumber(r)&&l.push("expires="+new Date(r).toGMTString()),F.isString(n)&&l.push("path="+n),F.isString(a)&&l.push("domain="+a),s===!0&&l.push("secure"),document.cookie=l.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function s6(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function i6(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function $2(e,t,r){let n=!s6(t);return e&&(n||r==!1)?i6(e,t):t}const Ib=e=>e instanceof $n?{...e}:e;function gi(e,t){t=t||{};const r={};function n(u,d,f,m){return F.isPlainObject(u)&&F.isPlainObject(d)?F.merge.call({caseless:m},u,d):F.isPlainObject(d)?F.merge({},d):F.isArray(d)?d.slice():d}function a(u,d,f,m){if(F.isUndefined(d)){if(!F.isUndefined(u))return n(void 0,u,f,m)}else return n(u,d,f,m)}function s(u,d){if(!F.isUndefined(d))return n(void 0,d)}function l(u,d){if(F.isUndefined(d)){if(!F.isUndefined(u))return n(void 0,u)}else return n(void 0,d)}function o(u,d,f){if(f in t)return n(u,d);if(f in e)return n(void 0,u)}const c={url:s,method:s,data:s,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:o,headers:(u,d,f)=>a(Ib(u),Ib(d),f,!0)};return F.forEach(Object.keys({...e,...t}),function(d){const f=c[d]||a,m=f(e[d],t[d],d);F.isUndefined(m)&&f!==o||(r[d]=m)}),r}const R2=e=>{const t=gi({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:a,xsrfCookieName:s,headers:l,auth:o}=t;if(t.headers=l=$n.from(l),t.url=O2($2(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),o&&l.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):""))),F.isFormData(r)){if(rr.hasStandardBrowserEnv||rr.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if(F.isFunction(r.getHeaders)){const c=r.getHeaders(),u=["content-type","content-length"];Object.entries(c).forEach(([d,f])=>{u.includes(d.toLowerCase())&&l.set(d,f)})}}if(rr.hasStandardBrowserEnv&&(n&&F.isFunction(n)&&(n=n(t)),n||n!==!1&&n6(t.url))){const c=a&&s&&a6.read(s);c&&l.set(a,c)}return t},l6=typeof XMLHttpRequest<"u",o6=l6&&function(e){return new Promise(function(r,n){const a=R2(e);let s=a.data;const l=$n.from(a.headers).normalize();let{responseType:o,onUploadProgress:c,onDownloadProgress:u}=a,d,f,m,p,x;function g(){p&&p(),x&&x(),a.cancelToken&&a.cancelToken.unsubscribe(d),a.signal&&a.signal.removeEventListener("abort",d)}let v=new XMLHttpRequest;v.open(a.method.toUpperCase(),a.url,!0),v.timeout=a.timeout;function b(){if(!v)return;const w=$n.from("getAllResponseHeaders"in v&&v.getAllResponseHeaders()),N={data:!o||o==="text"||o==="json"?v.responseText:v.response,status:v.status,statusText:v.statusText,headers:w,config:e,request:v};M2(function(j){r(j),g()},function(j){n(j),g()},N),v=null}"onloadend"in v?v.onloadend=b:v.onreadystatechange=function(){!v||v.readyState!==4||v.status===0&&!(v.responseURL&&v.responseURL.indexOf("file:")===0)||setTimeout(b)},v.onabort=function(){v&&(n(new ke("Request aborted",ke.ECONNABORTED,e,v)),v=null)},v.onerror=function(k){const N=k&&k.message?k.message:"Network Error",S=new ke(N,ke.ERR_NETWORK,e,v);S.event=k||null,n(S),v=null},v.ontimeout=function(){let k=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const N=a.transitional||T2;a.timeoutErrorMessage&&(k=a.timeoutErrorMessage),n(new ke(k,N.clarifyTimeoutError?ke.ETIMEDOUT:ke.ECONNABORTED,e,v)),v=null},s===void 0&&l.setContentType(null),"setRequestHeader"in v&&F.forEach(l.toJSON(),function(k,N){v.setRequestHeader(N,k)}),F.isUndefined(a.withCredentials)||(v.withCredentials=!!a.withCredentials),o&&o!=="json"&&(v.responseType=a.responseType),u&&([m,x]=Td(u,!0),v.addEventListener("progress",m)),c&&v.upload&&([f,p]=Td(c),v.upload.addEventListener("progress",f),v.upload.addEventListener("loadend",p)),(a.cancelToken||a.signal)&&(d=w=>{v&&(n(!w||w.type?new Al(null,e,v):w),v.abort(),v=null)},a.cancelToken&&a.cancelToken.subscribe(d),a.signal&&(a.signal.aborted?d():a.signal.addEventListener("abort",d)));const y=e6(a.url);if(y&&rr.protocols.indexOf(y)===-1){n(new ke("Unsupported protocol "+y+":",ke.ERR_BAD_REQUEST,e));return}v.send(s||null)})},c6=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let n=new AbortController,a;const s=function(u){if(!a){a=!0,o();const d=u instanceof Error?u:this.reason;n.abort(d instanceof ke?d:new Al(d instanceof Error?d.message:d))}};let l=t&&setTimeout(()=>{l=null,s(new ke(`timeout ${t} of ms exceeded`,ke.ETIMEDOUT))},t);const o=()=>{e&&(l&&clearTimeout(l),l=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(s):u.removeEventListener("abort",s)}),e=null)};e.forEach(u=>u.addEventListener("abort",s));const{signal:c}=n;return c.unsubscribe=()=>F.asap(o),c}},u6=c6,d6=function*(e,t){let r=e.byteLength;if(!t||r<t){yield e;return}let n=0,a;for(;n<r;)a=n+t,yield e.slice(n,a),n=a},f6=async function*(e,t){for await(const r of m6(e))yield*d6(r,t)},m6=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:n}=await t.read();if(r)break;yield n}}finally{await t.cancel()}},Mb=(e,t,r,n)=>{const a=f6(e,t);let s=0,l,o=c=>{l||(l=!0,n&&n(c))};return new ReadableStream({async pull(c){try{const{done:u,value:d}=await a.next();if(u){o(),c.close();return}let f=d.byteLength;if(r){let m=s+=f;r(m)}c.enqueue(new Uint8Array(d))}catch(u){throw o(u),u}},cancel(c){return o(c),a.return()}},{highWaterMark:2})},$b=64*1024,{isFunction:vu}=F,h6=(({Request:e,Response:t})=>({Request:e,Response:t}))(F.global),{ReadableStream:Rb,TextEncoder:Lb}=F.global,Fb=(e,...t)=>{try{return!!e(...t)}catch{return!1}},p6=e=>{e=F.merge.call({skipUndefined:!0},h6,e);const{fetch:t,Request:r,Response:n}=e,a=t?vu(t):typeof fetch=="function",s=vu(r),l=vu(n);if(!a)return!1;const o=a&&vu(Rb),c=a&&(typeof Lb=="function"?(x=>g=>x.encode(g))(new Lb):async x=>new Uint8Array(await new r(x).arrayBuffer())),u=s&&o&&Fb(()=>{let x=!1;const g=new r(rr.origin,{body:new Rb,method:"POST",get duplex(){return x=!0,"half"}}).headers.has("Content-Type");return x&&!g}),d=l&&o&&Fb(()=>F.isReadableStream(new n("").body)),f={stream:d&&(x=>x.body)};a&&["text","arrayBuffer","blob","formData","stream"].forEach(x=>{!f[x]&&(f[x]=(g,v)=>{let b=g&&g[x];if(b)return b.call(g);throw new ke(`Response type '${x}' is not supported`,ke.ERR_NOT_SUPPORT,v)})});const m=async x=>{if(x==null)return 0;if(F.isBlob(x))return x.size;if(F.isSpecCompliantForm(x))return(await new r(rr.origin,{method:"POST",body:x}).arrayBuffer()).byteLength;if(F.isArrayBufferView(x)||F.isArrayBuffer(x))return x.byteLength;if(F.isURLSearchParams(x)&&(x=x+""),F.isString(x))return(await c(x)).byteLength},p=async(x,g)=>{const v=F.toFiniteNumber(x.getContentLength());return v??m(g)};return async x=>{let{url:g,method:v,data:b,signal:y,cancelToken:w,timeout:k,onDownloadProgress:N,onUploadProgress:S,responseType:j,headers:P,withCredentials:D="same-origin",fetchOptions:O}=R2(x),$=t||fetch;j=j?(j+"").toLowerCase():"text";let B=u6([y,w&&w.toAbortSignal()],k),U=null;const T=B&&B.unsubscribe&&(()=>{B.unsubscribe()});let K;try{if(S&&u&&v!=="get"&&v!=="head"&&(K=await p(P,b))!==0){let Q=new r(g,{method:"POST",body:b,duplex:"half"}),q;if(F.isFormData(b)&&(q=Q.headers.get("content-type"))&&P.setContentType(q),Q.body){const[Pe,L]=Tb(K,Td(Db(S)));b=Mb(Q.body,$b,Pe,L)}}F.isString(D)||(D=D?"include":"omit");const I=s&&"credentials"in r.prototype,G={...O,signal:B,method:v.toUpperCase(),headers:P.normalize().toJSON(),body:b,duplex:"half",credentials:I?D:void 0};U=s&&new r(g,G);let M=await(s?$(U,O):$(g,G));const W=d&&(j==="stream"||j==="response");if(d&&(N||W&&T)){const Q={};["status","statusText","headers"].forEach(ae=>{Q[ae]=M[ae]});const q=F.toFiniteNumber(M.headers.get("content-length")),[Pe,L]=N&&Tb(q,Td(Db(N),!0))||[];M=new n(Mb(M.body,$b,Pe,()=>{L&&L(),T&&T()}),Q)}j=j||"text";let J=await f[F.findKey(f,j)||"text"](M,x);return!W&&T&&T(),await new Promise((Q,q)=>{M2(Q,q,{data:J,headers:$n.from(M.headers),status:M.status,statusText:M.statusText,config:x,request:U})})}catch(I){throw T&&T(),I&&I.name==="TypeError"&&/Load failed|fetch/i.test(I.message)?Object.assign(new ke("Network Error",ke.ERR_NETWORK,x,U),{cause:I.cause||I}):ke.from(I,I&&I.code,x,U)}}},g6=new Map,L2=e=>{let t=e?e.env:{};const{fetch:r,Request:n,Response:a}=t,s=[n,a,r];let l=s.length,o=l,c,u,d=g6;for(;o--;)c=s[o],u=d.get(c),u===void 0&&d.set(c,u=o?new Map:p6(t)),d=u;return u};L2();const Jh={http:OD,xhr:o6,fetch:{get:L2}};F.forEach(Jh,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const Bb=e=>`- ${e}`,x6=e=>F.isFunction(e)||e===null||e===!1,F2={getAdapter:(e,t)=>{e=F.isArray(e)?e:[e];const{length:r}=e;let n,a;const s={};for(let l=0;l<r;l++){n=e[l];let o;if(a=n,!x6(n)&&(a=Jh[(o=String(n)).toLowerCase()],a===void 0))throw new ke(`Unknown adapter '${o}'`);if(a&&(F.isFunction(a)||(a=a.get(t))))break;s[o||"#"+l]=a}if(!a){const l=Object.entries(s).map(([c,u])=>`adapter ${c} `+(u===!1?"is not supported by the environment":"is not available in the build"));let o=r?l.length>1?`since :
`+l.map(Bb).join(`
`):" "+Bb(l[0]):"as no adapter specified";throw new ke("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return a},adapters:Jh};function bm(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Al(null,e)}function zb(e){return bm(e),e.headers=$n.from(e.headers),e.data=ym.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),F2.getAdapter(e.adapter||Xg.adapter,e)(e).then(function(n){return bm(e),n.data=ym.call(e,e.transformResponse,n),n.headers=$n.from(n.headers),n},function(n){return I2(n)||(bm(e),n&&n.response&&(n.response.data=ym.call(e,e.transformResponse,n.response),n.response.headers=$n.from(n.response.headers))),Promise.reject(n)})}const B2="1.12.2",Yf={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Yf[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const Ub={};Yf.transitional=function(t,r,n){function a(s,l){return"[Axios v"+B2+"] Transitional option '"+s+"'"+l+(n?". "+n:"")}return(s,l,o)=>{if(t===!1)throw new ke(a(l," has been removed"+(r?" in "+r:"")),ke.ERR_DEPRECATED);return r&&!Ub[l]&&(Ub[l]=!0,console.warn(a(l," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(s,l,o):!0}};Yf.spelling=function(t){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function v6(e,t,r){if(typeof e!="object")throw new ke("options must be an object",ke.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let a=n.length;for(;a-- >0;){const s=n[a],l=t[s];if(l){const o=e[s],c=o===void 0||l(o,s,e);if(c!==!0)throw new ke("option "+s+" must be "+c,ke.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new ke("Unknown option "+s,ke.ERR_BAD_OPTION)}}const Qu={assertOptions:v6,validators:Yf},Vn=Qu.validators;class Dd{constructor(t){this.defaults=t||{},this.interceptors={request:new Ab,response:new Ab}}async request(t,r){try{return await this._request(t,r)}catch(n){if(n instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const s=a.stack?a.stack.replace(/^.+\n/,""):"";try{n.stack?s&&!String(n.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+s):n.stack=s}catch{}}throw n}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=gi(this.defaults,r);const{transitional:n,paramsSerializer:a,headers:s}=r;n!==void 0&&Qu.assertOptions(n,{silentJSONParsing:Vn.transitional(Vn.boolean),forcedJSONParsing:Vn.transitional(Vn.boolean),clarifyTimeoutError:Vn.transitional(Vn.boolean)},!1),a!=null&&(F.isFunction(a)?r.paramsSerializer={serialize:a}:Qu.assertOptions(a,{encode:Vn.function,serialize:Vn.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),Qu.assertOptions(r,{baseUrl:Vn.spelling("baseURL"),withXsrfToken:Vn.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let l=s&&F.merge(s.common,s[r.method]);s&&F.forEach(["delete","get","head","post","put","patch","common"],x=>{delete s[x]}),r.headers=$n.concat(l,s);const o=[];let c=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(r)===!1||(c=c&&g.synchronous,o.unshift(g.fulfilled,g.rejected))});const u=[];this.interceptors.response.forEach(function(g){u.push(g.fulfilled,g.rejected)});let d,f=0,m;if(!c){const x=[zb.bind(this),void 0];for(x.unshift(...o),x.push(...u),m=x.length,d=Promise.resolve(r);f<m;)d=d.then(x[f++],x[f++]);return d}m=o.length;let p=r;for(;f<m;){const x=o[f++],g=o[f++];try{p=x(p)}catch(v){g.call(this,v);break}}try{d=zb.call(this,p)}catch(x){return Promise.reject(x)}for(f=0,m=u.length;f<m;)d=d.then(u[f++],u[f++]);return d}getUri(t){t=gi(this.defaults,t);const r=$2(t.baseURL,t.url,t.allowAbsoluteUrls);return O2(r,t.params,t.paramsSerializer)}}F.forEach(["delete","get","head","options"],function(t){Dd.prototype[t]=function(r,n){return this.request(gi(n||{},{method:t,url:r,data:(n||{}).data}))}});F.forEach(["post","put","patch"],function(t){function r(n){return function(s,l,o){return this.request(gi(o||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:s,data:l}))}}Dd.prototype[t]=r(),Dd.prototype[t+"Form"]=r(!0)});const Zu=Dd;class Qg{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(s){r=s});const n=this;this.promise.then(a=>{if(!n._listeners)return;let s=n._listeners.length;for(;s-- >0;)n._listeners[s](a);n._listeners=null}),this.promise.then=a=>{let s;const l=new Promise(o=>{n.subscribe(o),s=o}).then(a);return l.cancel=function(){n.unsubscribe(s)},l},t(function(s,l,o){n.reason||(n.reason=new Al(s,l,o),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=n=>{t.abort(n)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new Qg(function(a){t=a}),cancel:t}}}const y6=Qg;function b6(e){return function(r){return e.apply(null,r)}}function w6(e){return F.isObject(e)&&e.isAxiosError===!0}const Xh={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Xh).forEach(([e,t])=>{Xh[t]=e});const k6=Xh;function z2(e){const t=new Zu(e),r=y2(Zu.prototype.request,t);return F.extend(r,Zu.prototype,t,{allOwnKeys:!0}),F.extend(r,t,null,{allOwnKeys:!0}),r.create=function(a){return z2(gi(e,a))},r}const kt=z2(Xg);kt.Axios=Zu;kt.CanceledError=Al;kt.CancelToken=y6;kt.isCancel=I2;kt.VERSION=B2;kt.toFormData=qf;kt.AxiosError=ke;kt.Cancel=kt.CanceledError;kt.all=function(t){return Promise.all(t)};kt.spread=b6;kt.isAxiosError=w6;kt.mergeConfig=gi;kt.AxiosHeaders=$n;kt.formToJSON=e=>D2(F.isHTMLForm(e)?new FormData(e):e);kt.getAdapter=F2.getAdapter;kt.HttpStatusCode=k6;kt.default=kt;const _c=kt,wr=_c.create({baseURL:"http://127.0.0.1:8001",timeout:3e4,withCredentials:!1});wr.interceptors.response.use(e=>e,async e=>{var r;const t=e.config;if(((r=e.response)==null?void 0:r.status)===401&&!t._retry){t._retry=!0;try{const n=JSON.parse(localStorage.getItem("auth")||"{}").refresh;if(n){const a=await _c.post("http://127.0.0.1:8001/api/auth/refresh/",{refresh:n}),{access:s}=a.data;return localStorage.setItem("auth",JSON.stringify({...JSON.parse(localStorage.getItem("auth")||"{}"),access:s})),localStorage.setItem("access_token",s),wr.defaults.headers.common.Authorization=`Bearer ${s}`,t.headers.Authorization=`Bearer ${s}`,wr(t)}}catch(n){console.error("Token refresh failed:",n),localStorage.removeItem("auth"),localStorage.removeItem("access_token"),delete wr.defaults.headers.common.Authorization,window.location.href="/sign-in"}}return Promise.reject(e)});const Wb=()=>{console.log("Token refresh initialized")},Ht=Vg((e,t)=>({user:JSON.parse(localStorage.getItem("auth")||"{}").user||null,token:JSON.parse(localStorage.getItem("auth")||"{}").access||null,refreshToken:JSON.parse(localStorage.getItem("auth")||"{}").refresh||null,loading:!1,isAuthed:()=>{const r=t().token;if(!r)return!1;try{const n=JSON.parse(atob(r.split(".")[1])),a=Math.floor(Date.now()/1e3);return n.exp>a}catch{return!1}},init:()=>{const r=JSON.parse(localStorage.getItem("auth")||"{}"),n=r.access||localStorage.getItem("access_token");return console.log("[AUTH] Initializing auth store with token:",n?"present":"missing"),console.log("[AUTH] Auth data from localStorage:",r),console.log("[AUTH] Token preview:",n?n.substring(0,20)+"...":"No token"),e({token:n,refreshToken:r.refresh||null,user:r.user||null}),n?(wr.defaults.headers.common.Authorization=`Bearer ${n}`,Wb(),console.log("[AUTH] Auth headers set and token refresh initialized")):console.log("[AUTH] No token found, auth not initialized"),Promise.resolve()},login:async(r,n)=>{var a;e({loading:!0});try{const{data:s}=await wr.post("/api/auth/login/",{username:r,password:n});console.log("[AUTH] Login response:",s);const l={access:s.access,refresh:s.refresh,user:s.user};return localStorage.setItem("auth",JSON.stringify(l)),localStorage.setItem("access_token",s.access),e({token:s.access,refreshToken:s.refresh,user:s.user,loading:!1}),wr.defaults.headers.common.Authorization=`Bearer ${s.access}`,Wb(),console.log("[AUTH] User set:",s.user),{ok:!0}}catch(s){return console.error("[AUTH] Login error:",s),e({loading:!1}),{ok:!1,error:((a=s.response)==null?void 0:a.data)||"Login failed"}}},me:async()=>{var r;try{console.log("[AUTH] Calling /api/auth/me/ with token:",!!wr.defaults.headers.common.Authorization);const{data:n}=await wr.get("/api/auth/me/"),a=JSON.parse(localStorage.getItem("auth")||"{}");return a.user=n,localStorage.setItem("auth",JSON.stringify(a)),e({user:n}),n}catch(n){return console.error("[AUTH] Me error:",n),((r=n.response)==null?void 0:r.status)===401&&(console.log("[AUTH] Token invalid, clearing auth data"),localStorage.removeItem("auth"),localStorage.removeItem("access_token"),delete wr.defaults.headers.common.Authorization,e({token:null,user:null})),null}},updateProfile:async r=>{var n;try{const{data:a}=await wr.put("/api/auth/profile/",r),s=JSON.parse(localStorage.getItem("auth")||"{}");return s.user=a,localStorage.setItem("auth",JSON.stringify(s)),e({user:a}),{ok:!0,data:a}}catch(a){return{ok:!1,error:((n=a.response)==null?void 0:n.data)||"Update failed"}}},changePassword:async r=>{var n;try{const{data:a}=await wr.post("/api/auth/password/",r);return{ok:!0,data:a}}catch(a){return{ok:!1,error:((n=a.response)==null?void 0:n.data)||"Password change failed"}}},refreshAccessToken:async()=>{const{refreshToken:r}=t();if(!r)return console.log("[AUTH] No refresh token available"),!1;try{console.log("[AUTH] Attempting to refresh access token...");const n=await _c.post("http://127.0.0.1:8001/api/auth/refresh/",{refresh:r}),{access:a}=n.data,s=JSON.parse(localStorage.getItem("auth")||"{}");return s.access=a,localStorage.setItem("auth",JSON.stringify(s)),localStorage.setItem("access_token",a),e({token:a}),wr.defaults.headers.common.Authorization=`Bearer ${a}`,console.log("[AUTH] Access token refreshed successfully"),!0}catch(n){return console.error("[AUTH] Token refresh failed:",n),t().logout(),!1}},logout:()=>{console.log("[AUTH] Logging out user..."),localStorage.removeItem("auth"),localStorage.removeItem("access_token"),delete wr.defaults.headers.common.Authorization,e({token:null,user:null,refreshToken:null}),console.log("[AUTH] User logged out successfully")}})),lr=({children:e})=>{const{isAuthed:t,init:r,refreshAccessToken:n}=Ht(),a=Ma(),s=Ia(),[l,o]=h.useState(!0),c=h.useCallback(async()=>{try{await r();let d=t();d||(console.log("[AuthGuard] Token expired, attempting refresh..."),await n()&&(d=t(),console.log("[AuthGuard] Token refreshed successfully"))),d?console.log("[AuthGuard] User is authenticated"):(console.log("[AuthGuard] User is not authenticated, redirecting to login"),s.pathname!=="/sign-in"&&a("/sign-in",{replace:!0,state:{from:s.pathname}}))}catch(d){console.error("[AuthGuard] Authentication check failed:",d),a("/sign-in",{replace:!0})}finally{o(!1)}},[r,t,n,a,s.pathname]);return h.useEffect(()=>{c()},[c]),l?i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50 dark:bg-slate-900",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-blue-500 to-purple-600 rounded-3xl flex items-center justify-center mx-auto mb-4 animate-pulse",children:i.jsx("span",{className:"text-2xl",children:""})}),i.jsx("div",{className:"text-slate-600 dark:text-slate-400 font-medium",children:"Checking authentication..."})]})}):t()?e:i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50 dark:bg-slate-900",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-red-500 to-orange-600 rounded-3xl flex items-center justify-center mx-auto mb-4 animate-pulse",children:i.jsx("span",{className:"text-2xl",children:""})}),i.jsx("div",{className:"text-slate-600 dark:text-slate-400 font-medium",children:"Redirecting to login..."})]})})};function j6(e,t){let r;try{r=e()}catch{return}return{getItem:a=>{var s;const l=c=>c===null?null:JSON.parse(c,t==null?void 0:t.reviver),o=(s=r.getItem(a))!=null?s:null;return o instanceof Promise?o.then(l):l(o)},setItem:(a,s)=>r.setItem(a,JSON.stringify(s,t==null?void 0:t.replacer)),removeItem:a=>r.removeItem(a)}}const oc=e=>t=>{try{const r=e(t);return r instanceof Promise?r:{then(n){return oc(n)(r)},catch(n){return this}}}catch(r){return{then(n){return this},catch(n){return oc(n)(r)}}}},N6=(e,t)=>(r,n,a)=>{let s={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:v=>v,version:0,merge:(v,b)=>({...b,...v}),...t},l=!1;const o=new Set,c=new Set;let u;try{u=s.getStorage()}catch{}if(!u)return e((...v)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),r(...v)},n,a);const d=oc(s.serialize),f=()=>{const v=s.partialize({...n()});let b;const y=d({state:v,version:s.version}).then(w=>u.setItem(s.name,w)).catch(w=>{b=w});if(b)throw b;return y},m=a.setState;a.setState=(v,b)=>{m(v,b),f()};const p=e((...v)=>{r(...v),f()},n,a);let x;const g=()=>{var v;if(!u)return;l=!1,o.forEach(y=>y(n()));const b=((v=s.onRehydrateStorage)==null?void 0:v.call(s,n()))||void 0;return oc(u.getItem.bind(u))(s.name).then(y=>{if(y)return s.deserialize(y)}).then(y=>{if(y)if(typeof y.version=="number"&&y.version!==s.version){if(s.migrate)return s.migrate(y.state,y.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return y.state}).then(y=>{var w;return x=s.merge(y,(w=n())!=null?w:p),r(x,!0),f()}).then(()=>{b==null||b(x,void 0),l=!0,c.forEach(y=>y(x))}).catch(y=>{b==null||b(void 0,y)})};return a.persist={setOptions:v=>{s={...s,...v},v.getStorage&&(u=v.getStorage())},clearStorage:()=>{u==null||u.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>g(),hasHydrated:()=>l,onHydrate:v=>(o.add(v),()=>{o.delete(v)}),onFinishHydration:v=>(c.add(v),()=>{c.delete(v)})},g(),x||p},S6=(e,t)=>(r,n,a)=>{let s={storage:j6(()=>localStorage),partialize:g=>g,version:0,merge:(g,v)=>({...v,...g}),...t},l=!1;const o=new Set,c=new Set;let u=s.storage;if(!u)return e((...g)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),r(...g)},n,a);const d=()=>{const g=s.partialize({...n()});return u.setItem(s.name,{state:g,version:s.version})},f=a.setState;a.setState=(g,v)=>{f(g,v),d()};const m=e((...g)=>{r(...g),d()},n,a);a.getInitialState=()=>m;let p;const x=()=>{var g,v;if(!u)return;l=!1,o.forEach(y=>{var w;return y((w=n())!=null?w:m)});const b=((v=s.onRehydrateStorage)==null?void 0:v.call(s,(g=n())!=null?g:m))||void 0;return oc(u.getItem.bind(u))(s.name).then(y=>{if(y)if(typeof y.version=="number"&&y.version!==s.version){if(s.migrate)return[!0,s.migrate(y.state,y.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,y.state];return[!1,void 0]}).then(y=>{var w;const[k,N]=y;if(p=s.merge(N,(w=n())!=null?w:m),r(p,!0),k)return d()}).then(()=>{b==null||b(p,void 0),p=n(),l=!0,c.forEach(y=>y(p))}).catch(y=>{b==null||b(void 0,y)})};return a.persist={setOptions:g=>{s={...s,...g},g.storage&&(u=g.storage)},clearStorage:()=>{u==null||u.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>x(),hasHydrated:()=>l,onHydrate:g=>(o.add(g),()=>{o.delete(g)}),onFinishHydration:g=>(c.add(g),()=>{c.delete(g)})},s.skipHydration||x(),p||m},P6=(e,t)=>"getStorage"in t||"serialize"in t||"deserialize"in t?N6(e,t):S6(e,t),C6=P6,Qa=[{code:"USD",symbol:"$",name:"US Dollar"},{code:"EUR",symbol:"",name:"Euro"},{code:"GBP",symbol:"",name:"British Pound"},{code:"JPY",symbol:"",name:"Japanese Yen"},{code:"CAD",symbol:"C$",name:"Canadian Dollar"},{code:"AUD",symbol:"A$",name:"Australian Dollar"},{code:"CHF",symbol:"CHF",name:"Swiss Franc"},{code:"CNY",symbol:"",name:"Chinese Yuan"},{code:"INR",symbol:"",name:"Indian Rupee"},{code:"KRW",symbol:"",name:"South Korean Won"},{code:"SGD",symbol:"S$",name:"Singapore Dollar"},{code:"HKD",symbol:"HK$",name:"Hong Kong Dollar"},{code:"NZD",symbol:"NZ$",name:"New Zealand Dollar"},{code:"SEK",symbol:"kr",name:"Swedish Krona"},{code:"NOK",symbol:"kr",name:"Norwegian Krone"},{code:"DKK",symbol:"kr",name:"Danish Krone"},{code:"PLN",symbol:"z",name:"Polish Zloty"},{code:"CZK",symbol:"K",name:"Czech Koruna"},{code:"HUF",symbol:"Ft",name:"Hungarian Forint"},{code:"RUB",symbol:"",name:"Russian Ruble"},{code:"BRL",symbol:"R$",name:"Brazilian Real"},{code:"MXN",symbol:"$",name:"Mexican Peso"},{code:"ZAR",symbol:"R",name:"South African Rand"},{code:"TRY",symbol:"",name:"Turkish Lira"},{code:"AED",symbol:".",name:"UAE Dirham"},{code:"SAR",symbol:"",name:"Saudi Riyal"},{code:"THB",symbol:"",name:"Thai Baht"},{code:"MYR",symbol:"RM",name:"Malaysian Ringgit"},{code:"IDR",symbol:"Rp",name:"Indonesian Rupiah"},{code:"PHP",symbol:"",name:"Philippine Peso"}],Ol=Vg(C6((e,t)=>({currency:"USD",getCurrentCurrency:()=>{const{currency:r}=t();return Qa.find(n=>n.code===r)||Qa[0]},setCurrency:r=>{e({currency:r})},formatAmount:r=>{const n=t().getCurrentCurrency(),a=typeof r=="number"?r.toFixed(2):r;return`${n.symbol}${a}`},getSymbol:()=>t().getCurrentCurrency().symbol,getName:()=>t().getCurrentCurrency().name}),{name:"currency-storage"})),ce={colors:{primary:{light:"from-blue-500 to-purple-600",dark:"from-blue-600 to-purple-700",focus:"focus:border-blue-500 dark:focus:border-blue-400",ring:"focus:ring-blue-200 dark:focus:ring-blue-800"},success:{light:"from-emerald-500 to-teal-600",dark:"from-emerald-600 to-teal-700",focus:"focus:border-emerald-500 dark:focus:border-emerald-400",ring:"focus:ring-emerald-200 dark:focus:ring-emerald-800"},warning:{light:"from-orange-500 to-yellow-600",dark:"from-orange-600 to-yellow-700",focus:"focus:border-orange-500 dark:focus:border-orange-400",ring:"focus:ring-orange-200 dark:focus:ring-orange-800"},danger:{light:"from-red-500 to-pink-600",dark:"from-red-600 to-pink-700",focus:"focus:border-red-500 dark:focus:border-red-400",ring:"focus:ring-red-200 dark:focus:ring-red-800"},info:{light:"from-purple-500 to-pink-600",dark:"from-purple-600 to-pink-700",focus:"focus:border-purple-500 dark:focus:border-purple-400",ring:"focus:ring-purple-200 dark:focus:ring-purple-800"},search:{light:"from-indigo-500 to-purple-600",dark:"from-indigo-600 to-purple-700",focus:"focus:border-indigo-500 dark:focus:border-indigo-400",ring:"focus:ring-indigo-200 dark:focus:ring-indigo-800"},edit:{light:"from-amber-500 to-orange-600",dark:"from-amber-600 to-orange-700",focus:"focus:border-amber-500 dark:focus:border-amber-400",ring:"focus:ring-amber-200 dark:focus:ring-amber-800"},secondary:{light:"from-slate-500 to-gray-600",dark:"from-slate-600 to-gray-700",focus:"focus:border-slate-500 dark:focus:border-slate-400",ring:"focus:ring-slate-200 dark:focus:ring-slate-800"}},backgrounds:{main:"bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800",card:"bg-white dark:bg-slate-800",pricing:"bg-gradient-to-r from-blue-50 to-purple-50 dark:from-blue-900/20 dark:to-purple-900/20",specs:"bg-gradient-to-r from-orange-50 to-yellow-50 dark:from-orange-900/20 dark:to-yellow-900/20",images:"bg-gradient-to-r from-purple-50 to-pink-50 dark:from-purple-900/20 dark:to-pink-900/20",search:"bg-gradient-to-r from-slate-50 to-gray-50 dark:from-slate-700 dark:to-slate-600"},borders:{card:"border border-slate-200 dark:border-slate-700",input:"border-2 border-slate-200 dark:border-slate-600",pricing:"border border-blue-200 dark:border-blue-800",specs:"border border-orange-200 dark:border-orange-800",images:"border border-purple-200 dark:border-purple-800",search:"border border-slate-200 dark:border-slate-600"},text:{primary:"text-slate-800 dark:text-slate-100",secondary:"text-slate-700 dark:text-slate-300",muted:"text-slate-600 dark:text-slate-400",placeholder:"placeholder-slate-400 dark:placeholder-slate-500"},spacing:{section:"space-y-8",card:"p-6",input:"px-4 py-3",button:"py-4 px-8"},radius:{card:"rounded-3xl",input:"rounded-2xl",button:"rounded-2xl",icon:"rounded-xl"},shadows:{card:"shadow-lg hover:shadow-xl",button:"shadow-lg hover:shadow-xl"},transitions:"transition-all duration-300",icons:{create:"",manage:"",edit:"",pricing:"",specs:"",images:"",search:"",save:"",delete:"",add:"",remove:""}};function Zg({title:e,icon:t,color:r="primary",subtitle:n,className:a=""}){const l=`w-10 h-10 bg-gradient-to-r ${(ce.colors[r]||ce.colors.primary).light} ${ce.radius.icon} flex items-center justify-center`;return i.jsx("div",{className:`${ce.spacing.card} ${a}`,children:i.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[i.jsx("div",{className:l,children:i.jsx("span",{className:"text-white text-lg",children:t})}),i.jsxs("div",{children:[i.jsx("h2",{className:`text-2xl font-bold ${ce.text.primary}`,children:e}),n&&i.jsx("p",{className:`text-sm ${ce.text.muted} mt-1`,children:n})]})]})})}function ut({children:e,className:t="",hover:r=!0,padding:n="default",background:a="card"}){const s=n==="default"?ce.spacing.card:n,l=r?ce.shadows.card:"";return i.jsx("section",{className:`
      ${ce.radius.card} 
      ${ce.borders.card} 
      ${ce.backgrounds[a]} 
      ${l} 
      ${ce.transitions} 
      ${s} 
      ${t}
    `,children:e})}function de({label:e,type:t="text",placeholder:r,value:n,onChange:a,className:s="",color:l="primary",required:o=!1,disabled:c=!1,helperText:u,...d}){const f=ce.colors[l]||ce.colors.primary,m=`
    w-full 
    ${ce.borders.input} 
    ${ce.radius.input} 
    ${ce.spacing.input} 
    ${ce.backgrounds.card} 
    ${ce.text.primary} 
    ${ce.text.placeholder} 
    ${f.focus} 
    ${f.ring} 
    ${ce.transitions}
    ${c?"opacity-50 cursor-not-allowed":""}
  `;return i.jsxs("div",{className:`space-y-2 ${s}`,children:[e&&i.jsxs("label",{className:`block text-sm font-semibold ${ce.text.secondary}`,children:[e,o&&i.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),i.jsx("input",{type:t,placeholder:r,value:n,onChange:a,disabled:c,className:m,...d}),u&&i.jsx("p",{className:`text-sm ${ce.text.muted}`,children:u})]})}function cs({label:e,value:t,onChange:r,options:n=[],placeholder:a="Select an option",className:s="",color:l="primary",disabled:o=!1,...c}){const u=ce.colors[l]||ce.colors.primary,d=`
    w-full 
    ${ce.borders.input} 
    ${ce.radius.input} 
    ${ce.spacing.input} 
    ${ce.backgrounds.card} 
    ${ce.text.primary} 
    ${u.focus} 
    ${u.ring} 
    ${ce.transitions}
    ${o?"opacity-50 cursor-not-allowed":""}
  `;return i.jsxs("div",{className:`space-y-2 ${s}`,children:[e&&i.jsx("label",{className:`block text-sm font-semibold ${ce.text.secondary}`,children:e}),i.jsxs("select",{value:t,onChange:r,disabled:o,className:d,...c,children:[i.jsx("option",{value:"",children:a}),n.map((f,m)=>i.jsx("option",{value:f.value||f.id,children:f.label||f.name},f.value||f.id||m))]})]})}function _e({children:e,onClick:t,disabled:r=!1,loading:n=!1,variant:a="primary",size:s="default",icon:l,className:o="",...c}){const u=ce.colors[a]||ce.colors.primary,d=s==="default"?ce.spacing.button:s,f=`
    bg-gradient-to-r 
    ${u.light} 
    hover:shadow-xl 
    hover:scale-105 
    hover:brightness-110 
    disabled:from-gray-400 
    disabled:to-gray-500 
    disabled:hover:scale-100 
    disabled:hover:brightness-100 
    text-white 
    font-bold 
    ${ce.radius.button} 
    ${ce.shadows.button} 
    ${ce.transitions} 
    ${d} 
    flex 
    items-center 
    gap-3 
    cursor-pointer 
    active:scale-95 
    ${o}
  `;return i.jsx("button",{onClick:t,disabled:r||n,className:f,...c,children:n?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Loading..."]}):i.jsxs(i.Fragment,{children:[l&&i.jsx("span",{className:"text-lg",children:l}),e]})})}function Bt({label:e,placeholder:t,value:r,onChange:n,rows:a=3,className:s="",color:l="primary",required:o=!1,disabled:c=!1,...u}){const d=ce.colors[l]||ce.colors.primary,f=`
    w-full 
    ${ce.borders.input} 
    ${ce.radius.input} 
    ${ce.spacing.input} 
    ${ce.backgrounds.card} 
    ${ce.text.primary} 
    ${ce.text.placeholder} 
    ${d.focus} 
    ${d.ring} 
    ${ce.transitions}
    resize-none
    ${c?"opacity-50 cursor-not-allowed":""}
  `;return i.jsxs("div",{className:`space-y-2 ${s}`,children:[e&&i.jsxs("label",{className:`block text-sm font-semibold ${ce.text.secondary}`,children:[e,o&&i.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),i.jsx("textarea",{placeholder:t,value:r,onChange:n,rows:a,disabled:c,className:f,...u})]})}function hn({message:e,type:t="info",className:r="",onClose:n,autoClose:a=!0,duration:s=1e3}){const o={success:{border:"border-emerald-200 dark:border-emerald-800",background:"bg-emerald-50 dark:bg-emerald-900/20",text:"text-emerald-700 dark:text-emerald-300",icon:"",iconBg:"bg-emerald-500"},error:{border:"border-red-200 dark:border-red-800",background:"bg-red-50 dark:bg-red-900/20",text:"text-red-700 dark:text-red-300",icon:"",iconBg:"bg-red-500"},warning:{border:"border-orange-200 dark:border-orange-800",background:"bg-orange-50 dark:bg-orange-900/20",text:"text-orange-700 dark:text-orange-300",icon:"",iconBg:"bg-orange-500"},info:{border:"border-blue-200 dark:border-blue-800",background:"bg-blue-50 dark:bg-blue-900/20",text:"text-blue-700 dark:text-blue-300",icon:"",iconBg:"bg-blue-500"}}[t];return h.useEffect(()=>{if(a&&n){const c=setTimeout(()=>{n()},s);return()=>clearTimeout(c)}},[a,n,s]),i.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[i.jsx("div",{className:"absolute inset-0 bg-black/20 backdrop-blur-sm",onClick:n}),i.jsxs("div",{className:`
        relative 
        max-w-md 
        w-full 
        ${ce.radius.input} 
        border-2 
        ${o.border} 
        ${o.background} 
        p-6 
        shadow-2xl 
        transform 
        transition-all 
        duration-300 
        ease-out
        animate-in 
        slide-in-from-bottom-4 
        fade-in
        ${r}
      `,children:[n&&i.jsx("button",{onClick:n,className:"absolute top-3 right-3 w-8 h-8 flex items-center justify-center rounded-full hover:bg-black/10 dark:hover:bg-white/10 transition-colors",title:"Close",children:i.jsx("span",{className:"text-slate-500 dark:text-slate-400 text-lg",children:""})}),i.jsxs("div",{className:"flex items-start gap-4 pr-8",children:[i.jsx("div",{className:`
            w-12 h-12 
            ${o.iconBg} 
            rounded-full 
            flex items-center justify-center 
            flex-shrink-0
            shadow-lg
          `,children:i.jsx("span",{className:"text-white text-xl",children:o.icon})}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("h3",{className:`
              text-lg 
              font-semibold 
              ${o.text} 
              mb-2
            `,children:[t==="success"&&"Success!",t==="error"&&"Error!",t==="warning"&&"Warning!",t==="info"&&"Information"]}),i.jsx("p",{className:`
              text-sm 
              font-medium 
              ${o.text}
              leading-relaxed
            `,children:e})]})]}),a&&n&&i.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1 bg-black/10 dark:bg-white/10 rounded-b-lg overflow-hidden",children:i.jsx("div",{className:`h-full ${o.iconBg} transition-all ease-linear animate-shrink`,style:{animationDuration:`${s}ms`}})})]})]})}function Rn({children:e,className:t=""}){return i.jsx("div",{className:`
      ${ce.spacing.section} 
      p-6 
      ${ce.backgrounds.main} 
      min-h-screen 
      ${t}
    `,children:e})}function ma({title:e,icon:t,color:r="primary",background:n="card",children:a,className:s="",padding:l="p-6"}){const c=`w-8 h-8 bg-gradient-to-r ${(ce.colors[r]||ce.colors.primary).light} ${ce.radius.icon} flex items-center justify-center`;return i.jsxs("div",{className:`
      ${ce.radius.card} 
      ${ce.borders[n]} 
      ${ce.backgrounds[n]} 
      ${l} 
      ${s}
    `,children:[i.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[i.jsx("div",{className:c,children:i.jsx("span",{className:"text-white text-sm",children:t})}),i.jsx("h3",{className:`text-xl font-bold ${ce.text.primary}`,children:e})]}),a]})}function U2(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=U2(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Ae(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=U2(e))&&(n&&(n+=" "),n+=t);return n}var Jf={},W2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(W2);var ex={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(ex);var tx={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var n;return typeof r=="string"||typeof r=="symbol"?r:Object.is((n=r==null?void 0:r.valueOf)==null?void 0:n.call(r),-0)?"-0":String(r)}e.toKey=t})(tx);var Xf={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){const n=[],a=r.length;if(a===0)return n;let s=0,l="",o="",c=!1;for(r.charCodeAt(0)===46&&(n.push(""),s++);s<a;){const u=r[s];o?u==="\\"&&s+1<a?(s++,l+=r[s]):u===o?o="":l+=u:c?u==='"'||u==="'"?o=u:u==="]"?(c=!1,n.push(l),l=""):l+=u:u==="["?(c=!0,l&&(n.push(l),l="")):u==="."?l&&(n.push(l),l=""):l+=u,s++}return l&&n.push(l),n}e.toPath=t})(Xf);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=W2,r=ex,n=tx,a=Xf;function s(o,c,u){if(o==null)return u;switch(typeof c){case"string":{if(t.isUnsafeProperty(c))return u;const d=o[c];return d===void 0?r.isDeepKey(c)?s(o,a.toPath(c),u):u:d}case"number":case"symbol":{typeof c=="number"&&(c=n.toKey(c));const d=o[c];return d===void 0?u:d}default:{if(Array.isArray(c))return l(o,c,u);if(Object.is(c==null?void 0:c.valueOf(),-0)?c="-0":c=String(c),t.isUnsafeProperty(c))return u;const d=o[c];return d===void 0?u:d}}}function l(o,c,u){if(c.length===0)return u;let d=o;for(let f=0;f<c.length;f++){if(d==null||t.isUnsafeProperty(c[f]))return u;d=d[c[f]]}return d===void 0?u:d}e.get=s})(Jf);var E6=Jf.get;const xi=ta(E6);var K2={exports:{}},Ue={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rx=Symbol.for("react.transitional.element"),nx=Symbol.for("react.portal"),Qf=Symbol.for("react.fragment"),Zf=Symbol.for("react.strict_mode"),e0=Symbol.for("react.profiler"),t0=Symbol.for("react.consumer"),r0=Symbol.for("react.context"),n0=Symbol.for("react.forward_ref"),a0=Symbol.for("react.suspense"),s0=Symbol.for("react.suspense_list"),i0=Symbol.for("react.memo"),l0=Symbol.for("react.lazy"),_6=Symbol.for("react.view_transition"),A6=Symbol.for("react.client.reference");function xn(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case rx:switch(e=e.type,e){case Qf:case e0:case Zf:case a0:case s0:case _6:return e;default:switch(e=e&&e.$$typeof,e){case r0:case n0:case l0:case i0:return e;case t0:return e;default:return t}}case nx:return t}}}Ue.ContextConsumer=t0;Ue.ContextProvider=r0;Ue.Element=rx;Ue.ForwardRef=n0;Ue.Fragment=Qf;Ue.Lazy=l0;Ue.Memo=i0;Ue.Portal=nx;Ue.Profiler=e0;Ue.StrictMode=Zf;Ue.Suspense=a0;Ue.SuspenseList=s0;Ue.isContextConsumer=function(e){return xn(e)===t0};Ue.isContextProvider=function(e){return xn(e)===r0};Ue.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===rx};Ue.isForwardRef=function(e){return xn(e)===n0};Ue.isFragment=function(e){return xn(e)===Qf};Ue.isLazy=function(e){return xn(e)===l0};Ue.isMemo=function(e){return xn(e)===i0};Ue.isPortal=function(e){return xn(e)===nx};Ue.isProfiler=function(e){return xn(e)===e0};Ue.isStrictMode=function(e){return xn(e)===Zf};Ue.isSuspense=function(e){return xn(e)===a0};Ue.isSuspenseList=function(e){return xn(e)===s0};Ue.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Qf||e===e0||e===Zf||e===a0||e===s0||typeof e=="object"&&e!==null&&(e.$$typeof===l0||e.$$typeof===i0||e.$$typeof===r0||e.$$typeof===t0||e.$$typeof===n0||e.$$typeof===A6||e.getModuleId!==void 0)};Ue.typeOf=xn;K2.exports=Ue;var O6=K2.exports,Tt=e=>e===0?0:e>0?1:-1,Hr=e=>typeof e=="number"&&e!=+e,Zs=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,me=e=>(typeof e=="number"||e instanceof Number)&&!Hr(e),Zn=e=>me(e)||typeof e=="string",T6=0,cc=e=>{var t=++T6;return"".concat(e||"").concat(t)},nr=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!me(t)&&typeof t!="string")return n;var s;if(Zs(t)){if(r==null)return n;var l=t.indexOf("%");s=r*parseFloat(t.slice(0,l))/100}else s=+t;return Hr(s)&&(s=n),a&&r!=null&&s>r&&(s=r),s},H2=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[e[n]])r[e[n]]=!0;else return!0;return!1};function dt(e,t,r){return me(e)&&me(t)?e+r*(t-e):t}function V2(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):xi(n,t))===r)}var et=e=>e===null||typeof e>"u",Ac=e=>et(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),D6=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function ax(e){if(typeof e!="string")return!1;var t=D6;return t.includes(e)}var I6=["viewBox","children"],Kb=["points","pathLength"],wm={svg:I6,polygon:Kb,polyline:Kb},sx=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(h.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(a=>{ax(a)&&(n[a]=t||(s=>r[a](r,s)))}),n},M6=(e,t,r)=>n=>(e(t,r,n),null),o0=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(a=>{var s=e[a];ax(a)&&typeof s=="function"&&(n||(n={}),n[a]=M6(s,t,r))}),n},$6=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function q2(e){if(typeof e!="string")return!1;var t=$6;return t.includes(e)}function ra(e){var t=Object.entries(e).filter(r=>{var[n]=r;return q2(n)});return Object.fromEntries(t)}var Hb=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",Vb=null,km=null,G2=e=>{if(e===Vb&&Array.isArray(km))return km;var t=[];return h.Children.forEach(e,r=>{et(r)||(O6.isFragment(r)?t=t.concat(G2(r.props.children)):t.push(r))}),km=t,Vb=e,t};function ix(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(a=>Hb(a)):n=[Hb(t)],G2(e).forEach(a=>{var s=xi(a,"type.displayName")||xi(a,"type.name");n.indexOf(s)!==-1&&r.push(a)}),r}var Y2=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,R6=(e,t,r,n)=>{var a;if(typeof t=="symbol"||typeof t=="number")return!0;var s=(a=n&&(wm==null?void 0:wm[n]))!==null&&a!==void 0?a:[],l=t.startsWith("data-"),o=typeof e!="function"&&(!!n&&s.includes(t)||q2(t)),c=!!r&&ax(t);return l||o||c},lt=(e,t,r)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(h.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var a={};return Object.keys(n).forEach(s=>{var l;R6((l=n)===null||l===void 0?void 0:l[s],s,t,r)&&(a[s]=n[s])}),a},L6=["children","width","height","viewBox","className","style","title","desc"];function Qh(){return Qh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qh.apply(null,arguments)}function F6(e,t){if(e==null)return{};var r,n,a=B6(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function B6(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var J2=h.forwardRef((e,t)=>{var{children:r,width:n,height:a,viewBox:s,className:l,style:o,title:c,desc:u}=e,d=F6(e,L6),f=s||{width:n,height:a,x:0,y:0},m=Ae("recharts-surface",l);return h.createElement("svg",Qh({},lt(d,!0,"svg"),{className:m,width:n,height:a,style:o,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height),ref:t}),h.createElement("title",null,c),h.createElement("desc",null,u),r)}),z6=["children","className"];function Zh(){return Zh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zh.apply(null,arguments)}function U6(e,t){if(e==null)return{};var r,n,a=W6(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function W6(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Kt=h.forwardRef((e,t)=>{var{children:r,className:n}=e,a=U6(e,z6),s=Ae("recharts-layer",n);return h.createElement("g",Zh({className:s},lt(a,!0),{ref:t}),r)}),K6=h.createContext(null);function He(e){return function(){return e}}const X2=Math.cos,Id=Math.sin,Bn=Math.sqrt,Md=Math.PI,c0=2*Md,ep=Math.PI,tp=2*ep,Ks=1e-6,H6=tp-Ks;function Q2(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function V6(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return Q2;const r=10**t;return function(n){this._+=n[0];for(let a=1,s=n.length;a<s;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class q6{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?Q2:V6(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,s,l){this._append`C${+t},${+r},${+n},${+a},${this._x1=+s},${this._y1=+l}`}arcTo(t,r,n,a,s){if(t=+t,r=+r,n=+n,a=+a,s=+s,s<0)throw new Error(`negative radius: ${s}`);let l=this._x1,o=this._y1,c=n-t,u=a-r,d=l-t,f=o-r,m=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(m>Ks)if(!(Math.abs(f*c-u*d)>Ks)||!s)this._append`L${this._x1=t},${this._y1=r}`;else{let p=n-l,x=a-o,g=c*c+u*u,v=p*p+x*x,b=Math.sqrt(g),y=Math.sqrt(m),w=s*Math.tan((ep-Math.acos((g+m-v)/(2*b*y)))/2),k=w/y,N=w/b;Math.abs(k-1)>Ks&&this._append`L${t+k*d},${r+k*f}`,this._append`A${s},${s},0,0,${+(f*p>d*x)},${this._x1=t+N*c},${this._y1=r+N*u}`}}arc(t,r,n,a,s,l){if(t=+t,r=+r,n=+n,l=!!l,n<0)throw new Error(`negative radius: ${n}`);let o=n*Math.cos(a),c=n*Math.sin(a),u=t+o,d=r+c,f=1^l,m=l?a-s:s-a;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>Ks||Math.abs(this._y1-d)>Ks)&&this._append`L${u},${d}`,n&&(m<0&&(m=m%tp+tp),m>H6?this._append`A${n},${n},0,1,${f},${t-o},${r-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:m>Ks&&this._append`A${n},${n},0,${+(m>=ep)},${f},${this._x1=t+n*Math.cos(s)},${this._y1=r+n*Math.sin(s)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function lx(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new q6(t)}function ox(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Z2(e){this._context=e}Z2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function u0(e){return new Z2(e)}function eS(e){return e[0]}function tS(e){return e[1]}function rS(e,t){var r=He(!0),n=null,a=u0,s=null,l=lx(o);e=typeof e=="function"?e:e===void 0?eS:He(e),t=typeof t=="function"?t:t===void 0?tS:He(t);function o(c){var u,d=(c=ox(c)).length,f,m=!1,p;for(n==null&&(s=a(p=l())),u=0;u<=d;++u)!(u<d&&r(f=c[u],u,c))===m&&((m=!m)?s.lineStart():s.lineEnd()),m&&s.point(+e(f,u,c),+t(f,u,c));if(p)return s=null,p+""||null}return o.x=function(c){return arguments.length?(e=typeof c=="function"?c:He(+c),o):e},o.y=function(c){return arguments.length?(t=typeof c=="function"?c:He(+c),o):t},o.defined=function(c){return arguments.length?(r=typeof c=="function"?c:He(!!c),o):r},o.curve=function(c){return arguments.length?(a=c,n!=null&&(s=a(n)),o):a},o.context=function(c){return arguments.length?(c==null?n=s=null:s=a(n=c),o):n},o}function yu(e,t,r){var n=null,a=He(!0),s=null,l=u0,o=null,c=lx(u);e=typeof e=="function"?e:e===void 0?eS:He(+e),t=typeof t=="function"?t:He(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?tS:He(+r);function u(f){var m,p,x,g=(f=ox(f)).length,v,b=!1,y,w=new Array(g),k=new Array(g);for(s==null&&(o=l(y=c())),m=0;m<=g;++m){if(!(m<g&&a(v=f[m],m,f))===b)if(b=!b)p=m,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),x=m-1;x>=p;--x)o.point(w[x],k[x]);o.lineEnd(),o.areaEnd()}b&&(w[m]=+e(v,m,f),k[m]=+t(v,m,f),o.point(n?+n(v,m,f):w[m],r?+r(v,m,f):k[m]))}if(y)return o=null,y+""||null}function d(){return rS().defined(a).curve(l).context(s)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:He(+f),n=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:He(+f),u):e},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:He(+f),u):n},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:He(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:He(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:He(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(f){return arguments.length?(a=typeof f=="function"?f:He(!!f),u):a},u.curve=function(f){return arguments.length?(l=f,s!=null&&(o=l(s)),u):l},u.context=function(f){return arguments.length?(f==null?s=o=null:o=l(s=f),u):s},u}class nS{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function G6(e){return new nS(e,!0)}function Y6(e){return new nS(e,!1)}const cx={draw(e,t){const r=Bn(t/Md);e.moveTo(r,0),e.arc(0,0,r,0,c0)}},J6={draw(e,t){const r=Bn(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},aS=Bn(1/3),X6=aS*2,Q6={draw(e,t){const r=Bn(t/X6),n=r*aS;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},Z6={draw(e,t){const r=Bn(t),n=-r/2;e.rect(n,n,r,r)}},eI=.8908130915292852,sS=Id(Md/10)/Id(7*Md/10),tI=Id(c0/10)*sS,rI=-X2(c0/10)*sS,nI={draw(e,t){const r=Bn(t*eI),n=tI*r,a=rI*r;e.moveTo(0,-r),e.lineTo(n,a);for(let s=1;s<5;++s){const l=c0*s/5,o=X2(l),c=Id(l);e.lineTo(c*r,-o*r),e.lineTo(o*n-c*a,c*n+o*a)}e.closePath()}},jm=Bn(3),aI={draw(e,t){const r=-Bn(t/(jm*3));e.moveTo(0,r*2),e.lineTo(-jm*r,-r),e.lineTo(jm*r,-r),e.closePath()}},rn=-.5,nn=Bn(3)/2,rp=1/Bn(12),sI=(rp/2+1)*3,iI={draw(e,t){const r=Bn(t/sI),n=r/2,a=r*rp,s=n,l=r*rp+r,o=-s,c=l;e.moveTo(n,a),e.lineTo(s,l),e.lineTo(o,c),e.lineTo(rn*n-nn*a,nn*n+rn*a),e.lineTo(rn*s-nn*l,nn*s+rn*l),e.lineTo(rn*o-nn*c,nn*o+rn*c),e.lineTo(rn*n+nn*a,rn*a-nn*n),e.lineTo(rn*s+nn*l,rn*l-nn*s),e.lineTo(rn*o+nn*c,rn*c-nn*o),e.closePath()}};function lI(e,t){let r=null,n=lx(a);e=typeof e=="function"?e:He(e||cx),t=typeof t=="function"?t:He(t===void 0?64:+t);function a(){let s;if(r||(r=s=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),s)return r=null,s+""||null}return a.type=function(s){return arguments.length?(e=typeof s=="function"?s:He(s),a):e},a.size=function(s){return arguments.length?(t=typeof s=="function"?s:He(+s),a):t},a.context=function(s){return arguments.length?(r=s??null,a):r},a}function $d(){}function Rd(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function iS(e){this._context=e}iS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Rd(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Rd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function oI(e){return new iS(e)}function lS(e){this._context=e}lS.prototype={areaStart:$d,areaEnd:$d,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Rd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function cI(e){return new lS(e)}function oS(e){this._context=e}oS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Rd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function uI(e){return new oS(e)}function cS(e){this._context=e}cS.prototype={areaStart:$d,areaEnd:$d,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function dI(e){return new cS(e)}function qb(e){return e<0?-1:1}function Gb(e,t,r){var n=e._x1-e._x0,a=t-e._x1,s=(e._y1-e._y0)/(n||a<0&&-0),l=(r-e._y1)/(a||n<0&&-0),o=(s*a+l*n)/(n+a);return(qb(s)+qb(l))*Math.min(Math.abs(s),Math.abs(l),.5*Math.abs(o))||0}function Yb(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Nm(e,t,r){var n=e._x0,a=e._y0,s=e._x1,l=e._y1,o=(s-n)/3;e._context.bezierCurveTo(n+o,a+o*t,s-o,l-o*r,s,l)}function Ld(e){this._context=e}Ld.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Nm(this,this._t0,Yb(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Nm(this,Yb(this,r=Gb(this,e,t)),r);break;default:Nm(this,this._t0,r=Gb(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function uS(e){this._context=new dS(e)}(uS.prototype=Object.create(Ld.prototype)).point=function(e,t){Ld.prototype.point.call(this,t,e)};function dS(e){this._context=e}dS.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,s){this._context.bezierCurveTo(t,e,n,r,s,a)}};function fI(e){return new Ld(e)}function mI(e){return new uS(e)}function fS(e){this._context=e}fS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=Jb(e),a=Jb(t),s=0,l=1;l<r;++s,++l)this._context.bezierCurveTo(n[0][s],a[0][s],n[1][s],a[1][s],e[l],t[l]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function Jb(e){var t,r=e.length-1,n,a=new Array(r),s=new Array(r),l=new Array(r);for(a[0]=0,s[0]=2,l[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,s[t]=4,l[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,s[r-1]=7,l[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/s[t-1],s[t]-=n,l[t]-=n*l[t-1];for(a[r-1]=l[r-1]/s[r-1],t=r-2;t>=0;--t)a[t]=(l[t]-a[t+1])/s[t];for(s[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)s[t]=2*e[t+1]-a[t+1];return[a,s]}function hI(e){return new fS(e)}function d0(e,t){this._context=e,this._t=t}d0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function pI(e){return new d0(e,.5)}function gI(e){return new d0(e,0)}function xI(e){return new d0(e,1)}function gl(e,t){if((l=e.length)>1)for(var r=1,n,a,s=e[t[0]],l,o=s.length;r<l;++r)for(a=s,s=e[t[r]],n=0;n<o;++n)s[n][1]+=s[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function np(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function vI(e,t){return e[t]}function yI(e){const t=[];return t.key=e,t}function bI(){var e=He([]),t=np,r=gl,n=vI;function a(s){var l=Array.from(e.apply(this,arguments),yI),o,c=l.length,u=-1,d;for(const f of s)for(o=0,++u;o<c;++o)(l[o][u]=[0,+n(f,l[o].key,u,s)]).data=f;for(o=0,d=ox(t(l));o<c;++o)l[d[o]].index=o;return r(l,d),l}return a.keys=function(s){return arguments.length?(e=typeof s=="function"?s:He(Array.from(s)),a):e},a.value=function(s){return arguments.length?(n=typeof s=="function"?s:He(+s),a):n},a.order=function(s){return arguments.length?(t=s==null?np:typeof s=="function"?s:He(Array.from(s)),a):t},a.offset=function(s){return arguments.length?(r=s??gl,a):r},a}function wI(e,t){if((n=e.length)>0){for(var r,n,a=0,s=e[0].length,l;a<s;++a){for(l=r=0;r<n;++r)l+=e[r][a][1]||0;if(l)for(r=0;r<n;++r)e[r][a][1]/=l}gl(e,t)}}function kI(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,s=n.length;r<s;++r){for(var l=0,o=0;l<a;++l)o+=e[l][r][1]||0;n[r][1]+=n[r][0]=-o/2}gl(e,t)}}function jI(e,t){if(!(!((l=e.length)>0)||!((s=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,s,l;n<s;++n){for(var o=0,c=0,u=0;o<l;++o){for(var d=e[t[o]],f=d[n][1]||0,m=d[n-1][1]||0,p=(f-m)/2,x=0;x<o;++x){var g=e[t[x]],v=g[n][1]||0,b=g[n-1][1]||0;p+=v-b}c+=f,u+=p*f}a[n-1][1]+=a[n-1][0]=r,c&&(r-=u/c)}a[n-1][1]+=a[n-1][0]=r,gl(e,t)}}var NI=["type","size","sizeType"];function ap(){return ap=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ap.apply(null,arguments)}function Xb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Qb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Xb(Object(r),!0).forEach(function(n){SI(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function SI(e,t,r){return(t=PI(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PI(e){var t=CI(e,"string");return typeof t=="symbol"?t:t+""}function CI(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function EI(e,t){if(e==null)return{};var r,n,a=_I(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function _I(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var mS={symbolCircle:cx,symbolCross:J6,symbolDiamond:Q6,symbolSquare:Z6,symbolStar:nI,symbolTriangle:aI,symbolWye:iI},AI=Math.PI/180,OI=e=>{var t="symbol".concat(Ac(e));return mS[t]||cx},TI=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*AI;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},DI=(e,t)=>{mS["symbol".concat(Ac(e))]=t},hS=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,a=EI(e,NI),s=Qb(Qb({},a),{},{type:t,size:r,sizeType:n}),l="circle";typeof t=="string"&&(l=t);var o=()=>{var m=OI(l),p=lI().type(m).size(TI(r,n,l));return p()},{className:c,cx:u,cy:d}=s,f=lt(s,!0);return u===+u&&d===+d&&r===+r?h.createElement("path",ap({},f,{className:Ae("recharts-symbols",c),transform:"translate(".concat(u,", ").concat(d,")"),d:o()})):null};hS.registerSymbol=DI;var pS={},gS={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const a=new Map;for(let s=0;s<r.length;s++){const l=r[s],o=n(l);a.has(o)||a.set(o,l)}return Array.from(a.values())}e.uniqBy=t})(gS);var ux={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(ux);var xS={},f0={},vS={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(vS);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=vS;function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(f0);var yS={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(yS);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=f0,r=yS;function n(a){return r.isObjectLike(a)&&t.isArrayLike(a)}e.isArrayLikeObject=n})(xS);var bS={},wS={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Jf;function r(n){return function(a){return t.get(a,n)}}e.property=r})(wS);var kS={},Sm={},Pm={},dx={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(dx);var fx={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(fx);var mx={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.eq=t})(mx);var Zb;function II(){return Zb||(Zb=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=hx(),r=dx,n=fx,a=mx;function s(f,m,p){return typeof p!="function"?t.isMatch(f,m):l(f,m,function x(g,v,b,y,w,k){const N=p(g,v,b,y,w,k);return N!==void 0?!!N:l(g,v,x,k)},new Map)}function l(f,m,p,x){if(m===f)return!0;switch(typeof m){case"object":return o(f,m,p,x);case"function":return Object.keys(m).length>0?l(f,{...m},p,x):a.eq(f,m);default:return r.isObject(f)?typeof m=="string"?m==="":!0:a.eq(f,m)}}function o(f,m,p,x){if(m==null)return!0;if(Array.isArray(m))return u(f,m,p,x);if(m instanceof Map)return c(f,m,p,x);if(m instanceof Set)return d(f,m,p,x);const g=Object.keys(m);if(f==null)return g.length===0;if(g.length===0)return!0;if(x&&x.has(m))return x.get(m)===f;x&&x.set(m,f);try{for(let v=0;v<g.length;v++){const b=g[v];if(!n.isPrimitive(f)&&!(b in f)||m[b]===void 0&&f[b]!==void 0||m[b]===null&&f[b]!==null||!p(f[b],m[b],b,f,m,x))return!1}return!0}finally{x&&x.delete(m)}}function c(f,m,p,x){if(m.size===0)return!0;if(!(f instanceof Map))return!1;for(const[g,v]of m.entries()){const b=f.get(g);if(p(b,v,g,f,m,x)===!1)return!1}return!0}function u(f,m,p,x){if(m.length===0)return!0;if(!Array.isArray(f))return!1;const g=new Set;for(let v=0;v<m.length;v++){const b=m[v];let y=!1;for(let w=0;w<f.length;w++){if(g.has(w))continue;const k=f[w];let N=!1;if(p(k,b,v,f,m,x)&&(N=!0),N){g.add(w),y=!0;break}}if(!y)return!1}return!0}function d(f,m,p,x){return m.size===0?!0:f instanceof Set?u([...f],[...m],p,x):!1}e.isMatchWith=s,e.isSetMatch=d}(Pm)),Pm}var ew;function hx(){return ew||(ew=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=II();function r(n,a){return t.isMatchWith(n,a,()=>{})}e.isMatch=r}(Sm)),Sm}var jS={},px={},NS={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(NS);var gx={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(gx);var xx={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",a="[object Boolean]",s="[object Arguments]",l="[object Symbol]",o="[object Date]",c="[object Map]",u="[object Set]",d="[object Array]",f="[object Function]",m="[object ArrayBuffer]",p="[object Object]",x="[object Error]",g="[object DataView]",v="[object Uint8Array]",b="[object Uint8ClampedArray]",y="[object Uint16Array]",w="[object Uint32Array]",k="[object BigUint64Array]",N="[object Int8Array]",S="[object Int16Array]",j="[object Int32Array]",P="[object BigInt64Array]",D="[object Float32Array]",O="[object Float64Array]";e.argumentsTag=s,e.arrayBufferTag=m,e.arrayTag=d,e.bigInt64ArrayTag=P,e.bigUint64ArrayTag=k,e.booleanTag=a,e.dataViewTag=g,e.dateTag=o,e.errorTag=x,e.float32ArrayTag=D,e.float64ArrayTag=O,e.functionTag=f,e.int16ArrayTag=S,e.int32ArrayTag=j,e.int8ArrayTag=N,e.mapTag=c,e.numberTag=n,e.objectTag=p,e.regexpTag=t,e.setTag=u,e.stringTag=r,e.symbolTag=l,e.uint16ArrayTag=y,e.uint32ArrayTag=w,e.uint8ArrayTag=v,e.uint8ClampedArrayTag=b})(xx);var SS={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(SS);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=NS,r=gx,n=xx,a=fx,s=SS;function l(d,f){return o(d,void 0,d,new Map,f)}function o(d,f,m,p=new Map,x=void 0){const g=x==null?void 0:x(d,f,m,p);if(g!==void 0)return g;if(a.isPrimitive(d))return d;if(p.has(d))return p.get(d);if(Array.isArray(d)){const v=new Array(d.length);p.set(d,v);for(let b=0;b<d.length;b++)v[b]=o(d[b],b,m,p,x);return Object.hasOwn(d,"index")&&(v.index=d.index),Object.hasOwn(d,"input")&&(v.input=d.input),v}if(d instanceof Date)return new Date(d.getTime());if(d instanceof RegExp){const v=new RegExp(d.source,d.flags);return v.lastIndex=d.lastIndex,v}if(d instanceof Map){const v=new Map;p.set(d,v);for(const[b,y]of d)v.set(b,o(y,b,m,p,x));return v}if(d instanceof Set){const v=new Set;p.set(d,v);for(const b of d)v.add(o(b,void 0,m,p,x));return v}if(typeof Buffer<"u"&&Buffer.isBuffer(d))return d.subarray();if(s.isTypedArray(d)){const v=new(Object.getPrototypeOf(d)).constructor(d.length);p.set(d,v);for(let b=0;b<d.length;b++)v[b]=o(d[b],b,m,p,x);return v}if(d instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&d instanceof SharedArrayBuffer)return d.slice(0);if(d instanceof DataView){const v=new DataView(d.buffer.slice(0),d.byteOffset,d.byteLength);return p.set(d,v),c(v,d,m,p,x),v}if(typeof File<"u"&&d instanceof File){const v=new File([d],d.name,{type:d.type});return p.set(d,v),c(v,d,m,p,x),v}if(d instanceof Blob){const v=new Blob([d],{type:d.type});return p.set(d,v),c(v,d,m,p,x),v}if(d instanceof Error){const v=new d.constructor;return p.set(d,v),v.message=d.message,v.name=d.name,v.stack=d.stack,v.cause=d.cause,c(v,d,m,p,x),v}if(typeof d=="object"&&u(d)){const v=Object.create(Object.getPrototypeOf(d));return p.set(d,v),c(v,d,m,p,x),v}return d}function c(d,f,m=d,p,x){const g=[...Object.keys(f),...t.getSymbols(f)];for(let v=0;v<g.length;v++){const b=g[v],y=Object.getOwnPropertyDescriptor(d,b);(y==null||y.writable)&&(d[b]=o(f[b],b,m,p,x))}}function u(d){switch(r.getTag(d)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=l,e.cloneDeepWithImpl=o,e.copyProperties=c})(px);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=px;function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(jS);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=hx(),r=jS;function n(a){return a=r.cloneDeep(a),s=>t.isMatch(s,a)}e.matches=n})(kS);var PS={},CS={},ES={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=px,r=xx;function n(a,s){return t.cloneDeepWith(a,(l,o,c,u)=>{const d=s==null?void 0:s(l,o,c,u);if(d!==void 0)return d;if(typeof a=="object")switch(Object.prototype.toString.call(a)){case r.numberTag:case r.stringTag:case r.booleanTag:{const f=new a.constructor(a==null?void 0:a.valueOf());return t.copyProperties(f,a),f}case r.argumentsTag:{const f={};return t.copyProperties(f,a),f.length=a.length,f[Symbol.iterator]=a[Symbol.iterator],f}default:return}})}e.cloneDeepWith=n})(ES);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ES;function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(CS);var _S={},vx={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,a=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<a;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(vx);var AS={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=gx;function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(AS);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ex,r=vx,n=AS,a=Xf;function s(l,o){let c;if(Array.isArray(o)?c=o:typeof o=="string"&&t.isDeepKey(o)&&(l==null?void 0:l[o])==null?c=a.toPath(o):c=[o],c.length===0)return!1;let u=l;for(let d=0;d<c.length;d++){const f=c[d];if((u==null||!Object.hasOwn(u,f))&&!((Array.isArray(u)||n.isArguments(u))&&r.isIndex(f)&&f<u.length))return!1;u=u[f]}return!0}e.has=s})(_S);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=hx(),r=tx,n=CS,a=Jf,s=_S;function l(o,c){switch(typeof o){case"object":{Object.is(o==null?void 0:o.valueOf(),-0)&&(o="-0");break}case"number":{o=r.toKey(o);break}}return c=n.cloneDeep(c),function(u){const d=a.get(u,o);return d===void 0?s.has(u,o):c===void 0?d===void 0:t.isMatch(d,c)}}e.matchesProperty=l})(PS);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ux,r=wS,n=kS,a=PS;function s(l){if(l==null)return t.identity;switch(typeof l){case"function":return l;case"object":return Array.isArray(l)&&l.length===2?a.matchesProperty(l[0],l[1]):n.matches(l);case"string":case"symbol":case"number":return r.property(l)}}e.iteratee=s})(bS);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=gS,r=ux,n=xS,a=bS;function s(l,o=r.identity){return n.isArrayLikeObject(l)?t.uniqBy(Array.from(l),a.iteratee(o)):[]}e.uniqBy=s})(pS);var MI=pS.uniqBy;const tw=ta(MI);function $I(e,t,r){return t===!0?tw(e,r):typeof t=="function"?tw(e,t):e}var yx=h.createContext(null),RI=e=>e,ht=()=>{var e=h.useContext(yx);return e?e.store.dispatch:RI},ed=()=>{},LI=()=>ed,FI=(e,t)=>e===t;function le(e){var t=h.useContext(yx);return v2.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:LI,t?t.store.getState:ed,t?t.store.getState:ed,t?e:ed,FI)}function BI(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function zI(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function UI(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var rw=e=>Array.isArray(e)?e:[e];function WI(e){const t=Array.isArray(e[0])?e[0]:e;return UI(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function KI(e,t){const r=[],{length:n}=e;for(let a=0;a<n;a++)r.push(e[a].apply(null,t));return r}var HI=class{constructor(e){this.value=e}deref(){return this.value}},VI=typeof WeakRef<"u"?WeakRef:HI,qI=0,nw=1;function bu(){return{s:qI,v:void 0,o:null,p:null}}function OS(e,t={}){let r=bu();const{resultEqualityCheck:n}=t;let a,s=0;function l(){var f;let o=r;const{length:c}=arguments;for(let m=0,p=c;m<p;m++){const x=arguments[m];if(typeof x=="function"||typeof x=="object"&&x!==null){let g=o.o;g===null&&(o.o=g=new WeakMap);const v=g.get(x);v===void 0?(o=bu(),g.set(x,o)):o=v}else{let g=o.p;g===null&&(o.p=g=new Map);const v=g.get(x);v===void 0?(o=bu(),g.set(x,o)):o=v}}const u=o;let d;if(o.s===nw)d=o.v;else if(d=e.apply(null,arguments),s++,n){const m=((f=a==null?void 0:a.deref)==null?void 0:f.call(a))??a;m!=null&&n(m,d)&&(d=m,s!==0&&s--),a=typeof d=="object"&&d!==null||typeof d=="function"?new VI(d):d}return u.s=nw,u.v=d,d}return l.clearCache=()=>{r=bu(),l.resetResultsCount()},l.resultsCount=()=>s,l.resetResultsCount=()=>{s=0},l}function GI(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...a)=>{let s=0,l=0,o,c={},u=a.pop();typeof u=="object"&&(c=u,u=a.pop()),BI(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const d={...r,...c},{memoize:f,memoizeOptions:m=[],argsMemoize:p=OS,argsMemoizeOptions:x=[],devModeChecks:g={}}=d,v=rw(m),b=rw(x),y=WI(a),w=f(function(){return s++,u.apply(null,arguments)},...v),k=p(function(){l++;const S=KI(y,arguments);return o=w.apply(null,S),o},...b);return Object.assign(k,{resultFunc:u,memoizedResultFunc:w,dependencies:y,dependencyRecomputations:()=>l,resetDependencyRecomputations:()=>{l=0},lastResult:()=>o,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:f,argsMemoize:p})};return Object.assign(n,{withTypes:()=>n}),n}var R=GI(OS),YI=Object.assign((e,t=R)=>{zI(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(s=>e[s]);return t(n,(...s)=>s.reduce((l,o,c)=>(l[r[c]]=o,l),{}))},{withTypes:()=>YI}),TS={},DS={},IS={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,a,s)=>{if(n!==a){const l=t(n),o=t(a);if(l===o&&l===0){if(n<a)return s==="desc"?1:-1;if(n>a)return s==="desc"?-1:1}return s==="desc"?o-l:l-o}return 0};e.compareValues=r})(IS);var MS={},bx={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(bx);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=bx,r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function a(s,l){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||t.isSymbol(s)?!0:typeof s=="string"&&(n.test(s)||!r.test(s))||l!=null&&Object.hasOwn(l,s)}e.isKey=a})(MS);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=IS,r=MS,n=Xf;function a(s,l,o,c){if(s==null)return[];o=c?void 0:o,Array.isArray(s)||(s=Object.values(s)),Array.isArray(l)||(l=l==null?[null]:[l]),l.length===0&&(l=[null]),Array.isArray(o)||(o=o==null?[]:[o]),o=o.map(p=>String(p));const u=(p,x)=>{let g=p;for(let v=0;v<x.length&&g!=null;++v)g=g[x[v]];return g},d=(p,x)=>x==null||p==null?x:typeof p=="object"&&"key"in p?Object.hasOwn(x,p.key)?x[p.key]:u(x,p.path):typeof p=="function"?p(x):Array.isArray(p)?u(x,p):typeof x=="object"?x[p]:x,f=l.map(p=>(Array.isArray(p)&&p.length===1&&(p=p[0]),p==null||typeof p=="function"||Array.isArray(p)||r.isKey(p)?p:{key:p,path:n.toPath(p)}));return s.map(p=>({original:p,criteria:f.map(x=>d(x,p))})).slice().sort((p,x)=>{for(let g=0;g<f.length;g++){const v=t.compareValues(p.criteria[g],x.criteria[g],o[g]);if(v!==0)return v}return 0}).map(p=>p.original)}e.orderBy=a})(DS);var $S={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const a=[],s=Math.floor(n),l=(o,c)=>{for(let u=0;u<o.length;u++){const d=o[u];Array.isArray(d)&&c<s?l(d,c+1):a.push(d)}};return l(r,0),a}e.flatten=t})($S);var wx={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=vx,r=f0,n=dx,a=mx;function s(l,o,c){return n.isObject(c)&&(typeof o=="number"&&r.isArrayLike(c)&&t.isIndex(o)&&o<c.length||typeof o=="string"&&o in c)?a.eq(c[o],l):!1}e.isIterateeCall=s})(wx);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=DS,r=$S,n=wx;function a(s,...l){const o=l.length;return o>1&&n.isIterateeCall(s,l[0],l[1])?l=[]:o>2&&n.isIterateeCall(l[0],l[1],l[2])&&(l=[l[0]]),t.orderBy(s,r.flatten(l),["asc"])}e.sortBy=a})(TS);var JI=TS.sortBy;const m0=ta(JI);var RS=e=>e.legend.settings,XI=e=>e.legend.size,QI=e=>e.legend.payload;R([QI,RS],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?m0(n,r):n});var wu=1;function ZI(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=h.useState({height:0,left:0,top:0,width:0}),n=h.useCallback(a=>{if(a!=null){var s=a.getBoundingClientRect(),l={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(l.height-t.height)>wu||Math.abs(l.left-t.left)>wu||Math.abs(l.top-t.top)>wu||Math.abs(l.width-t.width)>wu)&&r({height:l.height,left:l.left,top:l.top,width:l.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function Lt(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var e5=(()=>typeof Symbol=="function"&&Symbol.observable||"@@observable")(),aw=e5,Cm=()=>Math.random().toString(36).substring(7).split("").join("."),t5={INIT:`@@redux/INIT${Cm()}`,REPLACE:`@@redux/REPLACE${Cm()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Cm()}`},Fd=t5;function kx(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function LS(e,t,r){if(typeof e!="function")throw new Error(Lt(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(Lt(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(Lt(1));return r(LS)(e,t)}let n=e,a=t,s=new Map,l=s,o=0,c=!1;function u(){l===s&&(l=new Map,s.forEach((v,b)=>{l.set(b,v)}))}function d(){if(c)throw new Error(Lt(3));return a}function f(v){if(typeof v!="function")throw new Error(Lt(4));if(c)throw new Error(Lt(5));let b=!0;u();const y=o++;return l.set(y,v),function(){if(b){if(c)throw new Error(Lt(6));b=!1,u(),l.delete(y),s=null}}}function m(v){if(!kx(v))throw new Error(Lt(7));if(typeof v.type>"u")throw new Error(Lt(8));if(typeof v.type!="string")throw new Error(Lt(17));if(c)throw new Error(Lt(9));try{c=!0,a=n(a,v)}finally{c=!1}return(s=l).forEach(y=>{y()}),v}function p(v){if(typeof v!="function")throw new Error(Lt(10));n=v,m({type:Fd.REPLACE})}function x(){const v=f;return{subscribe(b){if(typeof b!="object"||b===null)throw new Error(Lt(11));function y(){const k=b;k.next&&k.next(d())}return y(),{unsubscribe:v(y)}},[aw](){return this}}}return m({type:Fd.INIT}),{dispatch:m,subscribe:f,getState:d,replaceReducer:p,[aw]:x}}function r5(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:Fd.INIT})>"u")throw new Error(Lt(12));if(typeof r(void 0,{type:Fd.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Lt(13))})}function FS(e){const t=Object.keys(e),r={};for(let s=0;s<t.length;s++){const l=t[s];typeof e[l]=="function"&&(r[l]=e[l])}const n=Object.keys(r);let a;try{r5(r)}catch(s){a=s}return function(l={},o){if(a)throw a;let c=!1;const u={};for(let d=0;d<n.length;d++){const f=n[d],m=r[f],p=l[f],x=m(p,o);if(typeof x>"u")throw o&&o.type,new Error(Lt(14));u[f]=x,c=c||x!==p}return c=c||n.length!==Object.keys(l).length,c?u:l}}function Bd(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function n5(...e){return t=>(r,n)=>{const a=t(r,n);let s=()=>{throw new Error(Lt(15))};const l={getState:a.getState,dispatch:(c,...u)=>s(c,...u)},o=e.map(c=>c(l));return s=Bd(...o)(a.dispatch),{...a,dispatch:s}}}function BS(e){return kx(e)&&"type"in e&&typeof e.type=="string"}var zS=Symbol.for("immer-nothing"),sw=Symbol.for("immer-draftable"),Vr=Symbol.for("immer-state");function Tn(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var xl=Object.getPrototypeOf;function vi(e){return!!e&&!!e[Vr]}function Ea(e){var t;return e?US(e)||Array.isArray(e)||!!e[sw]||!!((t=e.constructor)!=null&&t[sw])||Oc(e)||p0(e):!1}var a5=Object.prototype.constructor.toString();function US(e){if(!e||typeof e!="object")return!1;const t=xl(e);if(t===null)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===a5}function zd(e,t){h0(e)===0?Reflect.ownKeys(e).forEach(r=>{t(r,e[r],e)}):e.forEach((r,n)=>t(n,r,e))}function h0(e){const t=e[Vr];return t?t.type_:Array.isArray(e)?1:Oc(e)?2:p0(e)?3:0}function sp(e,t){return h0(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function WS(e,t,r){const n=h0(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function s5(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Oc(e){return e instanceof Map}function p0(e){return e instanceof Set}function Hs(e){return e.copy_||e.base_}function ip(e,t){if(Oc(e))return new Map(e);if(p0(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=US(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[Vr];let a=Reflect.ownKeys(n);for(let s=0;s<a.length;s++){const l=a[s],o=n[l];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(n[l]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[l]})}return Object.create(xl(e),n)}else{const n=xl(e);if(n!==null&&r)return{...e};const a=Object.create(n);return Object.assign(a,e)}}function jx(e,t=!1){return g0(e)||vi(e)||!Ea(e)||(h0(e)>1&&Object.defineProperties(e,{set:{value:ku},add:{value:ku},clear:{value:ku},delete:{value:ku}}),Object.freeze(e),t&&Object.values(e).forEach(r=>jx(r,!0))),e}function ku(){Tn(2)}function g0(e){return Object.isFrozen(e)}var i5={};function yi(e){const t=i5[e];return t||Tn(0,e),t}var uc;function KS(){return uc}function l5(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function iw(e,t){t&&(yi("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function lp(e){op(e),e.drafts_.forEach(o5),e.drafts_=null}function op(e){e===uc&&(uc=e.parent_)}function lw(e){return uc=l5(uc,e)}function o5(e){const t=e[Vr];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function ow(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[Vr].modified_&&(lp(t),Tn(4)),Ea(e)&&(e=Ud(t,e),t.parent_||Wd(t,e)),t.patches_&&yi("Patches").generateReplacementPatches_(r[Vr].base_,e,t.patches_,t.inversePatches_)):e=Ud(t,r,[]),lp(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==zS?e:void 0}function Ud(e,t,r){if(g0(t))return t;const n=t[Vr];if(!n)return zd(t,(a,s)=>cw(e,n,t,a,s,r)),t;if(n.scope_!==e)return t;if(!n.modified_)return Wd(e,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const a=n.copy_;let s=a,l=!1;n.type_===3&&(s=new Set(a),a.clear(),l=!0),zd(s,(o,c)=>cw(e,n,a,o,c,r,l)),Wd(e,a,!1),r&&e.patches_&&yi("Patches").generatePatches_(n,r,e.patches_,e.inversePatches_)}return n.copy_}function cw(e,t,r,n,a,s,l){if(vi(a)){const o=s&&t&&t.type_!==3&&!sp(t.assigned_,n)?s.concat(n):void 0,c=Ud(e,a,o);if(WS(r,n,c),vi(c))e.canAutoFreeze_=!1;else return}else l&&r.add(a);if(Ea(a)&&!g0(a)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;Ud(e,a),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(Oc(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&Wd(e,a)}}function Wd(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&jx(t,r)}function c5(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:KS(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=n,s=Nx;r&&(a=[n],s=dc);const{revoke:l,proxy:o}=Proxy.revocable(a,s);return n.draft_=o,n.revoke_=l,o}var Nx={get(e,t){if(t===Vr)return e;const r=Hs(e);if(!sp(r,t))return u5(e,r,t);const n=r[t];return e.finalized_||!Ea(n)?n:n===Em(e.base_,t)?(_m(e),e.copy_[t]=up(n,e)):n},has(e,t){return t in Hs(e)},ownKeys(e){return Reflect.ownKeys(Hs(e))},set(e,t,r){const n=HS(Hs(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const a=Em(Hs(e),t),s=a==null?void 0:a[Vr];if(s&&s.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(s5(r,a)&&(r!==void 0||sp(e.base_,t)))return!0;_m(e),cp(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return Em(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,_m(e),cp(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=Hs(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){Tn(11)},getPrototypeOf(e){return xl(e.base_)},setPrototypeOf(){Tn(12)}},dc={};zd(Nx,(e,t)=>{dc[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});dc.deleteProperty=function(e,t){return dc.set.call(this,e,t,void 0)};dc.set=function(e,t,r){return Nx.set.call(this,e[0],t,r,e[0])};function Em(e,t){const r=e[Vr];return(r?Hs(r):e)[t]}function u5(e,t,r){var a;const n=HS(t,r);return n?"value"in n?n.value:(a=n.get)==null?void 0:a.call(e.draft_):void 0}function HS(e,t){if(!(t in e))return;let r=xl(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=xl(r)}}function cp(e){e.modified_||(e.modified_=!0,e.parent_&&cp(e.parent_))}function _m(e){e.copy_||(e.copy_=ip(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var d5=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const s=r;r=t;const l=this;return function(c=s,...u){return l.produce(c,d=>r.call(this,d,...u))}}typeof r!="function"&&Tn(6),n!==void 0&&typeof n!="function"&&Tn(7);let a;if(Ea(t)){const s=lw(this),l=up(t,void 0);let o=!0;try{a=r(l),o=!1}finally{o?lp(s):op(s)}return iw(s,n),ow(a,s)}else if(!t||typeof t!="object"){if(a=r(t),a===void 0&&(a=t),a===zS&&(a=void 0),this.autoFreeze_&&jx(a,!0),n){const s=[],l=[];yi("Patches").generateReplacementPatches_(t,a,s,l),n(s,l)}return a}else Tn(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(l,...o)=>this.produceWithPatches(l,c=>t(c,...o));let n,a;return[this.produce(t,r,(l,o)=>{n=l,a=o}),n,a]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){Ea(e)||Tn(8),vi(e)&&(e=ka(e));const t=lw(this),r=up(e,void 0);return r[Vr].isManual_=!0,op(t),r}finishDraft(e,t){const r=e&&e[Vr];(!r||!r.isManual_)&&Tn(9);const{scope_:n}=r;return iw(n,t),ow(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const a=t[r];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}r>-1&&(t=t.slice(r+1));const n=yi("Patches").applyPatches_;return vi(e)?n(e,t):this.produce(e,a=>n(a,t))}};function up(e,t){const r=Oc(e)?yi("MapSet").proxyMap_(e,t):p0(e)?yi("MapSet").proxySet_(e,t):c5(e,t);return(t?t.scope_:KS()).drafts_.push(r),r}function ka(e){return vi(e)||Tn(10,e),VS(e)}function VS(e){if(!Ea(e)||g0(e))return e;const t=e[Vr];let r;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=ip(e,t.scope_.immer_.useStrictShallowCopy_)}else r=ip(e,!0);return zd(r,(n,a)=>{WS(r,n,VS(a))}),t&&(t.finalized_=!1),r}var f5=new d5,qS=f5.produce;function GS(e){return({dispatch:r,getState:n})=>a=>s=>typeof s=="function"?s(r,n,e):a(s)}var m5=GS(),h5=GS,p5=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Bd:Bd.apply(null,arguments)};function pn(e,t){function r(...n){if(t){let a=t(...n);if(!a)throw new Error(Wr(0));return{type:e,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>BS(n)&&n.type===e,r}var YS=class Co extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Co.prototype)}static get[Symbol.species](){return Co}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Co(...t[0].concat(this)):new Co(...t.concat(this))}};function uw(e){return Ea(e)?qS(e,()=>{}):e}function ju(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function g5(e){return typeof e=="boolean"}var x5=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:a=!0,actionCreatorCheck:s=!0}=t??{};let l=new YS;return r&&(g5(r)?l.push(m5):l.push(h5(r.extraArgument))),l},v5="RTK_autoBatch",dw=e=>t=>{setTimeout(t,e)},y5=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let a=!0,s=!1,l=!1;const o=new Set,c=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:dw(10):e.type==="callback"?e.queueNotification:dw(e.timeout),u=()=>{l=!1,s&&(s=!1,o.forEach(d=>d()))};return Object.assign({},n,{subscribe(d){const f=()=>a&&d(),m=n.subscribe(f);return o.add(d),()=>{m(),o.delete(d)}},dispatch(d){var f;try{return a=!((f=d==null?void 0:d.meta)!=null&&f[v5]),s=!a,s&&(l||(l=!0,c(u))),n.dispatch(d)}finally{a=!0}}})},b5=e=>function(r){const{autoBatch:n=!0}=r??{};let a=new YS(e);return n&&a.push(y5(typeof n=="object"?n:void 0)),a};function w5(e){const t=x5(),{reducer:r=void 0,middleware:n,devTools:a=!0,duplicateMiddlewareCheck:s=!0,preloadedState:l=void 0,enhancers:o=void 0}=e||{};let c;if(typeof r=="function")c=r;else if(kx(r))c=FS(r);else throw new Error(Wr(1));let u;typeof n=="function"?u=n(t):u=t();let d=Bd;a&&(d=p5({trace:!1,...typeof a=="object"&&a}));const f=n5(...u),m=b5(f);let p=typeof o=="function"?o(m):m();const x=d(...p);return LS(c,l,x)}function JS(e){const t={},r=[];let n;const a={addCase(s,l){const o=typeof s=="string"?s:s.type;if(!o)throw new Error(Wr(28));if(o in t)throw new Error(Wr(29));return t[o]=l,a},addAsyncThunk(s,l){return l.pending&&(t[s.pending.type]=l.pending),l.rejected&&(t[s.rejected.type]=l.rejected),l.fulfilled&&(t[s.fulfilled.type]=l.fulfilled),l.settled&&r.push({matcher:s.settled,reducer:l.settled}),a},addMatcher(s,l){return r.push({matcher:s,reducer:l}),a},addDefaultCase(s){return n=s,a}};return e(a),[t,r,n]}function k5(e){return typeof e=="function"}function j5(e,t){let[r,n,a]=JS(t),s;if(k5(e))s=()=>uw(e());else{const o=uw(e);s=()=>o}function l(o=s(),c){let u=[r[c.type],...n.filter(({matcher:d})=>d(c)).map(({reducer:d})=>d)];return u.filter(d=>!!d).length===0&&(u=[a]),u.reduce((d,f)=>{if(f)if(vi(d)){const p=f(d,c);return p===void 0?d:p}else{if(Ea(d))return qS(d,m=>f(m,c));{const m=f(d,c);if(m===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return m}}return d},o)}return l.getInitialState=s,l}var N5="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",S5=(e=21)=>{let t="",r=e;for(;r--;)t+=N5[Math.random()*64|0];return t},P5=Symbol.for("rtk-slice-createasyncthunk");function C5(e,t){return`${e}/${t}`}function E5({creators:e}={}){var r;const t=(r=e==null?void 0:e.asyncThunk)==null?void 0:r[P5];return function(a){const{name:s,reducerPath:l=s}=a;if(!s)throw new Error(Wr(11));typeof process<"u";const o=(typeof a.reducers=="function"?a.reducers(A5()):a.reducers)||{},c=Object.keys(o),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(k,N){const S=typeof k=="string"?k:k.type;if(!S)throw new Error(Wr(12));if(S in u.sliceCaseReducersByType)throw new Error(Wr(13));return u.sliceCaseReducersByType[S]=N,d},addMatcher(k,N){return u.sliceMatchers.push({matcher:k,reducer:N}),d},exposeAction(k,N){return u.actionCreators[k]=N,d},exposeCaseReducer(k,N){return u.sliceCaseReducersByName[k]=N,d}};c.forEach(k=>{const N=o[k],S={reducerName:k,type:C5(s,k),createNotation:typeof a.reducers=="function"};T5(N)?I5(S,N,d,t):O5(S,N,d)});function f(){const[k={},N=[],S=void 0]=typeof a.extraReducers=="function"?JS(a.extraReducers):[a.extraReducers],j={...k,...u.sliceCaseReducersByType};return j5(a.initialState,P=>{for(let D in j)P.addCase(D,j[D]);for(let D of u.sliceMatchers)P.addMatcher(D.matcher,D.reducer);for(let D of N)P.addMatcher(D.matcher,D.reducer);S&&P.addDefaultCase(S)})}const m=k=>k,p=new Map,x=new WeakMap;let g;function v(k,N){return g||(g=f()),g(k,N)}function b(){return g||(g=f()),g.getInitialState()}function y(k,N=!1){function S(P){let D=P[k];return typeof D>"u"&&N&&(D=ju(x,S,b)),D}function j(P=m){const D=ju(p,N,()=>new WeakMap);return ju(D,P,()=>{const O={};for(const[$,B]of Object.entries(a.selectors??{}))O[$]=_5(B,P,()=>ju(x,P,b),N);return O})}return{reducerPath:k,getSelectors:j,get selectors(){return j(S)},selectSlice:S}}const w={name:s,reducer:v,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:b,...y(l),injectInto(k,{reducerPath:N,...S}={}){const j=N??l;return k.inject({reducerPath:j,reducer:v},S),{...w,...y(j,!0)}}};return w}}function _5(e,t,r,n){function a(s,...l){let o=t(s);return typeof o>"u"&&n&&(o=r()),e(o,...l)}return a.unwrapped=e,a}var Jr=E5();function A5(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function O5({type:e,reducerName:t,createNotation:r},n,a){let s,l;if("reducer"in n){if(r&&!D5(n))throw new Error(Wr(17));s=n.reducer,l=n.prepare}else s=n;a.addCase(e,s).exposeCaseReducer(t,s).exposeAction(t,l?pn(e,l):pn(e))}function T5(e){return e._reducerDefinitionType==="asyncThunk"}function D5(e){return e._reducerDefinitionType==="reducerWithPrepare"}function I5({type:e,reducerName:t},r,n,a){if(!a)throw new Error(Wr(18));const{payloadCreator:s,fulfilled:l,pending:o,rejected:c,settled:u,options:d}=r,f=a(e,s,d);n.exposeAction(t,f),l&&n.addCase(f.fulfilled,l),o&&n.addCase(f.pending,o),c&&n.addCase(f.rejected,c),u&&n.addMatcher(f.settled,u),n.exposeCaseReducer(t,{fulfilled:l||Nu,pending:o||Nu,rejected:c||Nu,settled:u||Nu})}function Nu(){}var M5="task",XS="listener",QS="completed",Sx="cancelled",$5=`task-${Sx}`,R5=`task-${QS}`,dp=`${XS}-${Sx}`,L5=`${XS}-${QS}`,x0=class{constructor(e){W0(this,"name","TaskAbortError");W0(this,"message");this.code=e,this.message=`${M5} ${Sx} (reason: ${e})`}},Px=(e,t)=>{if(typeof e!="function")throw new TypeError(Wr(32))},Kd=()=>{},ZS=(e,t=Kd)=>(e.catch(t),e),eP=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),ii=(e,t)=>{const r=e.signal;r.aborted||("reason"in r||Object.defineProperty(r,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},li=e=>{if(e.aborted){const{reason:t}=e;throw new x0(t)}};function tP(e,t){let r=Kd;return new Promise((n,a)=>{const s=()=>a(new x0(e.reason));if(e.aborted){s();return}r=eP(e,s),t.finally(()=>r()).then(n,a)}).finally(()=>{r=Kd})}var F5=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof x0?"cancelled":"rejected",error:r}}finally{t==null||t()}},Hd=e=>t=>ZS(tP(e,t).then(r=>(li(e),r))),rP=e=>{const t=Hd(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:nl}=Object,fw={},v0="listenerMiddleware",B5=(e,t)=>{const r=n=>eP(e,()=>ii(n,e.reason));return(n,a)=>{Px(n);const s=new AbortController;r(s);const l=F5(async()=>{li(e),li(s.signal);const o=await n({pause:Hd(s.signal),delay:rP(s.signal),signal:s.signal});return li(s.signal),o},()=>ii(s,R5));return a!=null&&a.autoJoin&&t.push(l.catch(Kd)),{result:Hd(e)(l),cancel(){ii(s,$5)}}}},z5=(e,t)=>{const r=async(n,a)=>{li(t);let s=()=>{};const o=[new Promise((c,u)=>{let d=e({predicate:n,effect:(f,m)=>{m.unsubscribe(),c([f,m.getState(),m.getOriginalState()])}});s=()=>{d(),u()}})];a!=null&&o.push(new Promise(c=>setTimeout(c,a,null)));try{const c=await tP(t,Promise.race(o));return li(t),c}finally{s()}};return(n,a)=>ZS(r(n,a))},nP=e=>{let{type:t,actionCreator:r,matcher:n,predicate:a,effect:s}=e;if(t)a=pn(t).match;else if(r)t=r.type,a=r.match;else if(n)a=n;else if(!a)throw new Error(Wr(21));return Px(s),{predicate:a,type:t,effect:s}},aP=nl(e=>{const{type:t,predicate:r,effect:n}=nP(e);return{id:S5(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(Wr(22))}}},{withTypes:()=>aP}),mw=(e,t)=>{const{type:r,effect:n,predicate:a}=nP(t);return Array.from(e.values()).find(s=>(typeof r=="string"?s.type===r:s.predicate===a)&&s.effect===n)},fp=e=>{e.pending.forEach(t=>{ii(t,dp)})},U5=e=>()=>{e.forEach(fp),e.clear()},hw=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},sP=nl(pn(`${v0}/add`),{withTypes:()=>sP}),W5=pn(`${v0}/removeAll`),iP=nl(pn(`${v0}/remove`),{withTypes:()=>iP}),K5=(...e)=>{console.error(`${v0}/error`,...e)},Tc=(e={})=>{const t=new Map,{extra:r,onError:n=K5}=e;Px(n);const a=d=>(d.unsubscribe=()=>t.delete(d.id),t.set(d.id,d),f=>{d.unsubscribe(),f!=null&&f.cancelActive&&fp(d)}),s=d=>{const f=mw(t,d)??aP(d);return a(f)};nl(s,{withTypes:()=>s});const l=d=>{const f=mw(t,d);return f&&(f.unsubscribe(),d.cancelActive&&fp(f)),!!f};nl(l,{withTypes:()=>l});const o=async(d,f,m,p)=>{const x=new AbortController,g=z5(s,x.signal),v=[];try{d.pending.add(x),await Promise.resolve(d.effect(f,nl({},m,{getOriginalState:p,condition:(b,y)=>g(b,y).then(Boolean),take:g,delay:rP(x.signal),pause:Hd(x.signal),extra:r,signal:x.signal,fork:B5(x.signal,v),unsubscribe:d.unsubscribe,subscribe:()=>{t.set(d.id,d)},cancelActiveListeners:()=>{d.pending.forEach((b,y,w)=>{b!==x&&(ii(b,dp),w.delete(b))})},cancel:()=>{ii(x,dp),d.pending.delete(x)},throwIfCancelled:()=>{li(x.signal)}})))}catch(b){b instanceof x0||hw(n,b,{raisedBy:"effect"})}finally{await Promise.all(v),ii(x,L5),d.pending.delete(x)}},c=U5(t);return{middleware:d=>f=>m=>{if(!BS(m))return f(m);if(sP.match(m))return s(m.payload);if(W5.match(m)){c();return}if(iP.match(m))return l(m.payload);let p=d.getState();const x=()=>{if(p===fw)throw new Error(Wr(23));return p};let g;try{if(g=f(m),t.size>0){const v=d.getState(),b=Array.from(t.values());for(const y of b){let w=!1;try{w=y.predicate(m,v,p)}catch(k){w=!1,hw(n,k,{raisedBy:"predicate"})}w&&o(y,m,d,x)}}}finally{p=fw}return g},startListening:s,stopListening:l,clearListeners:c}};function Wr(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var H5={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},lP=Jr({name:"chartLayout",initialState:H5,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,a,s;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(a=t.payload.bottom)!==null&&a!==void 0?a:0,e.margin.left=(s=t.payload.left)!==null&&s!==void 0?s:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:V5,setLayout:q5,setChartSize:G5,setScale:Y5}=lP.actions,J5=lP.reducer;function pw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function gw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pw(Object(r),!0).forEach(function(n){X5(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function X5(e,t,r){return(t=Q5(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Q5(e){var t=Z5(e,"string");return typeof t=="symbol"?t:t+""}function Z5(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Vd=Math.PI/180,eM=e=>e*180/Math.PI,bt=(e,t,r,n)=>({x:e+Math.cos(-Vd*n)*r,y:t+Math.sin(-Vd*n)*r}),oP=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0,width:0,height:0,brushBottom:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},tM=(e,t)=>{var{x:r,y:n}=e,{x:a,y:s}=t;return Math.sqrt((r-a)**2+(n-s)**2)},rM=(e,t)=>{var{x:r,y:n}=e,{cx:a,cy:s}=t,l=tM({x:r,y:n},{x:a,y:s});if(l<=0)return{radius:l,angle:0};var o=(r-a)/l,c=Math.acos(o);return n>s&&(c=2*Math.PI-c),{radius:l,angle:eM(c),angleInRadian:c}},nM=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),a=Math.floor(r/360),s=Math.min(n,a);return{startAngle:t-s*360,endAngle:r-s*360}},aM=(e,t)=>{var{startAngle:r,endAngle:n}=t,a=Math.floor(r/360),s=Math.floor(n/360),l=Math.min(a,s);return e+l*360},sM=(e,t)=>{var{x:r,y:n}=e,{radius:a,angle:s}=rM({x:r,y:n},t),{innerRadius:l,outerRadius:o}=t;if(a<l||a>o||a===0)return null;var{startAngle:c,endAngle:u}=nM(t),d=s,f;if(c<=u){for(;d>u;)d-=360;for(;d<c;)d+=360;f=d>=c&&d<=u}else{for(;d>c;)d-=360;for(;d<u;)d+=360;f=d>=u&&d<=c}return f?gw(gw({},t),{},{radius:a,angle:aM(d,t)}):null};function cP(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function xw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function on(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xw(Object(r),!0).forEach(function(n){iM(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iM(e,t,r){return(t=lM(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lM(e){var t=oM(e,"string");return typeof t=="symbol"?t:t+""}function oM(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qe(e,t,r){return et(e)||et(t)?r:Zn(t)?xi(e,t,r):typeof t=="function"?t(e):r}var cM=(e,t,r,n,a)=>{var s,l=-1,o=(s=t==null?void 0:t.length)!==null&&s!==void 0?s:0;if(o<=1||e==null)return 0;if(n==="angleAxis"&&a!=null&&Math.abs(Math.abs(a[1]-a[0])-360)<=1e-6)for(var c=0;c<o;c++){var u=c>0?r[c-1].coordinate:r[o-1].coordinate,d=r[c].coordinate,f=c>=o-1?r[0].coordinate:r[c+1].coordinate,m=void 0;if(Tt(d-u)!==Tt(f-d)){var p=[];if(Tt(f-d)===Tt(a[1]-a[0])){m=f;var x=d+a[1]-a[0];p[0]=Math.min(x,(x+u)/2),p[1]=Math.max(x,(x+u)/2)}else{m=u;var g=f+a[1]-a[0];p[0]=Math.min(d,(g+d)/2),p[1]=Math.max(d,(g+d)/2)}var v=[Math.min(d,(m+d)/2),Math.max(d,(m+d)/2)];if(e>v[0]&&e<=v[1]||e>=p[0]&&e<=p[1]){({index:l}=r[c]);break}}else{var b=Math.min(u,f),y=Math.max(u,f);if(e>(b+d)/2&&e<=(y+d)/2){({index:l}=r[c]);break}}}else if(t){for(var w=0;w<o;w++)if(w===0&&e<=(t[w].coordinate+t[w+1].coordinate)/2||w>0&&w<o-1&&e>(t[w].coordinate+t[w-1].coordinate)/2&&e<=(t[w].coordinate+t[w+1].coordinate)/2||w===o-1&&e>(t[w].coordinate+t[w-1].coordinate)/2){({index:l}=t[w]);break}}return l},uM=(e,t,r)=>{if(t&&r){var{width:n,height:a}=r,{align:s,verticalAlign:l,layout:o}=t;if((o==="vertical"||o==="horizontal"&&l==="middle")&&s!=="center"&&me(e[s]))return on(on({},e),{},{[s]:e[s]+(n||0)});if((o==="horizontal"||o==="vertical"&&s==="center")&&l!=="middle"&&me(e[l]))return on(on({},e),{},{[l]:e[l]+(a||0)})}return e},Os=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",uP=(e,t,r,n)=>{if(n)return e.map(o=>o.coordinate);var a,s,l=e.map(o=>(o.coordinate===t&&(a=!0),o.coordinate===r&&(s=!0),o.coordinate));return a||l.push(t),s||l.push(r),l},dP=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:a,range:s,scale:l,realScaleType:o,isCategorical:c,categoricalDomain:u,tickCount:d,ticks:f,niceTicks:m,axisType:p}=e;if(!l)return null;var x=o==="scaleBand"&&l.bandwidth?l.bandwidth()/2:2,g=(t||r)&&a==="category"&&l.bandwidth?l.bandwidth()/x:0;if(g=p==="angleAxis"&&s&&s.length>=2?Tt(s[0]-s[1])*2*g:g,t&&(f||m)){var v=(f||m||[]).map((b,y)=>{var w=n?n.indexOf(b):b;return{coordinate:l(w)+g,value:b,offset:g,index:y}});return v.filter(b=>!Hr(b.coordinate))}return c&&u?u.map((b,y)=>({coordinate:l(b)+g,value:b,index:y,offset:g})):l.ticks&&!r&&d!=null?l.ticks(d).map((b,y)=>({coordinate:l(b)+g,value:b,offset:g,index:y})):l.domain().map((b,y)=>({coordinate:l(b)+g,value:n?n[b]:b,index:y,offset:g}))},vw=1e-4,dM=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),a=Math.min(n[0],n[1])-vw,s=Math.max(n[0],n[1])+vw,l=e(t[0]),o=e(t[r-1]);(l<a||l>s||o<a||o>s)&&e.domain([t[0],t[r-1]])}},fM=(e,t)=>{if(!t||t.length!==2||!me(t[0])||!me(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),a=[e[0],e[1]];return(!me(e[0])||e[0]<r)&&(a[0]=r),(!me(e[1])||e[1]>n)&&(a[1]=n),a[0]>n&&(a[0]=n),a[1]<r&&(a[1]=r),a},mM=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var a=0,s=0,l=0;l<t;++l){var o=Hr(e[l][r][1])?e[l][r][0]:e[l][r][1];o>=0?(e[l][r][0]=a,e[l][r][1]=a+o,a=e[l][r][1]):(e[l][r][0]=s,e[l][r][1]=s+o,s=e[l][r][1])}},hM=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var a=0,s=0;s<t;++s){var l=Hr(e[s][r][1])?e[s][r][0]:e[s][r][1];l>=0?(e[s][r][0]=a,e[s][r][1]=a+l,a=e[s][r][1]):(e[s][r][0]=0,e[s][r][1]=0)}},pM={sign:mM,expand:wI,none:gl,silhouette:kI,wiggle:jI,positive:hM},gM=(e,t,r)=>{var n=pM[r],a=bI().keys(t).value((s,l)=>+qe(s,l,0)).order(np).offset(n);return a(e)};function xM(e){return e==null?void 0:String(e)}function yw(e){var{axis:t,ticks:r,bandSize:n,entry:a,index:s,dataKey:l}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!et(a[t.dataKey])){var o=V2(r,"value",a[t.dataKey]);if(o)return o.coordinate+n/2}return r[s]?r[s].coordinate+n/2:null}var c=qe(a,et(l)?t.dataKey:l);return et(c)?null:t.scale(c)}var bw=e=>{var{axis:t,ticks:r,offset:n,bandSize:a,entry:s,index:l}=e;if(t.type==="category")return r[l]?r[l].coordinate+n:null;var o=qe(s,t.dataKey,t.scale.domain()[l]);return et(o)?null:t.scale(o)-a/2+n},vM=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return n<=0&&a>=0?0:a<0?a:n}return r[0]},yM=e=>{var t=e.flat(2).filter(me);return[Math.min(...t),Math.max(...t)]},bM=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],wM=(e,t,r)=>{if(e!=null)return bM(Object.keys(e).reduce((n,a)=>{var s=e[a],{stackedData:l}=s,o=l.reduce((c,u)=>{var d=cP(u,t,r),f=yM(d);return[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]);return[Math.min(o[0],n[0]),Math.max(o[1],n[1])]},[1/0,-1/0]))},ww=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,kw=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,fc=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var a=m0(t,d=>d.coordinate),s=1/0,l=1,o=a.length;l<o;l++){var c=a[l],u=a[l-1];s=Math.min((c.coordinate||0)-(u.coordinate||0),s)}return s===1/0?0:s}return r?void 0:0};function jw(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:a,name:s}=e;return on(on({},t),{},{dataKey:r,payload:n,value:a,name:s})}function Tl(e,t){if(e)return String(e);if(typeof t=="string")return t}function kM(e,t,r,n,a){if(r==="horizontal"||r==="vertical"){var s=e>=a.left&&e<=a.left+a.width&&t>=a.top&&t<=a.top+a.height;return s?{x:e,y:t}:null}return n?sM({x:e,y:t},n):null}var jM=(e,t,r,n)=>{var a=t.find(u=>u&&u.index===r);if(a){if(e==="horizontal")return{x:a.coordinate,y:n.y};if(e==="vertical")return{x:n.x,y:a.coordinate};if(e==="centric"){var s=a.coordinate,{radius:l}=n;return on(on(on({},n),bt(n.cx,n.cy,l,s)),{},{angle:s,radius:l})}var o=a.coordinate,{angle:c}=n;return on(on(on({},n),bt(n.cx,n.cy,o,c)),{},{angle:c,radius:o})}return{x:0,y:0}},NM=(e,t)=>t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius,$a=e=>e.layout.width,Ra=e=>e.layout.height,SM=e=>e.layout.scale,fP=e=>e.layout.margin,y0=R(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),b0=R(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),mP="data-recharts-item-index",hP="data-recharts-item-data-key",Dc=60;function Nw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Su(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Nw(Object(r),!0).forEach(function(n){PM(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Nw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function PM(e,t,r){return(t=CM(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CM(e){var t=EM(e,"string");return typeof t=="symbol"?t:t+""}function EM(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _M=e=>e.brush.height;function AM(e){var t=b0(e);return t.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:Dc;return r+a}return r},0)}function OM(e){var t=b0(e);return t.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:Dc;return r+a}return r},0)}function TM(e){var t=y0(e);return t.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function DM(e){var t=y0(e);return t.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var Pt=R([$a,Ra,fP,_M,AM,OM,TM,DM,RS,XI],(e,t,r,n,a,s,l,o,c,u)=>{var d={left:(r.left||0)+a,right:(r.right||0)+s},f={top:(r.top||0)+l,bottom:(r.bottom||0)+o},m=Su(Su({},f),d),p=m.bottom;m.bottom+=n,m=uM(m,c,u);var x=e-m.left-m.right,g=t-m.top-m.bottom;return Su(Su({brushBottom:p},m),{},{width:Math.max(x,0),height:Math.max(g,0)})}),IM=R(Pt,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),Cx=R($a,Ra,(e,t)=>({x:0,y:0,width:e,height:t})),MM=h.createContext(null),Ar=()=>h.useContext(MM)!=null,w0=e=>e.brush,k0=R([w0,Pt,fP],(e,t,r)=>({height:e.height,x:me(e.x)?e.x:t.left,y:me(e.y)?e.y:t.top+t.height+t.brushBottom-((r==null?void 0:r.bottom)||0),width:me(e.width)?e.width:t.width})),Ex=()=>{var e,t=Ar(),r=le(IM),n=le(k0),a=(e=le(w0))===null||e===void 0?void 0:e.padding;return!t||!n||!a?r:{width:n.width-a.left-a.right,height:n.height-a.top-a.bottom,x:a.left,y:a.top}},$M={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},pP=()=>{var e;return(e=le(Pt))!==null&&e!==void 0?e:$M},gP=()=>le($a),xP=()=>le(Ra),Te=e=>e.layout.layoutType,j0=()=>le(Te),RM={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},vP=Jr({name:"legend",initialState:RM,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload(e,t){e.payload.push(t.payload)},removeLegendPayload(e,t){var r=ka(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)}}}),{setLegendSize:gG,setLegendSettings:xG,addLegendPayload:yP,removeLegendPayload:bP}=vP.actions,LM=vP.reducer;function mp(){return mp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mp.apply(null,arguments)}function Sw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Am(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Sw(Object(r),!0).forEach(function(n){FM(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Sw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function FM(e,t,r){return(t=BM(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BM(e){var t=zM(e,"string");return typeof t=="symbol"?t:t+""}function zM(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function UM(e){return Array.isArray(e)&&Zn(e[0])&&Zn(e[1])?e.join(" ~ "):e}var WM=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:a={},payload:s,formatter:l,itemSorter:o,wrapperClassName:c,labelClassName:u,label:d,labelFormatter:f,accessibilityLayer:m=!1}=e,p=()=>{if(s&&s.length){var N={padding:0,margin:0},S=(o?m0(s,o):s).map((j,P)=>{if(j.type==="none")return null;var D=j.formatter||l||UM,{value:O,name:$}=j,B=O,U=$;if(D){var T=D(O,$,j,P,s);if(Array.isArray(T))[B,U]=T;else if(T!=null)B=T;else return null}var K=Am({display:"block",paddingTop:4,paddingBottom:4,color:j.color||"#000"},n);return h.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(P),style:K},Zn(U)?h.createElement("span",{className:"recharts-tooltip-item-name"},U):null,Zn(U)?h.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,h.createElement("span",{className:"recharts-tooltip-item-value"},B),h.createElement("span",{className:"recharts-tooltip-item-unit"},j.unit||""))});return h.createElement("ul",{className:"recharts-tooltip-item-list",style:N},S)}return null},x=Am({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),g=Am({margin:0},a),v=!et(d),b=v?d:"",y=Ae("recharts-default-tooltip",c),w=Ae("recharts-tooltip-label",u);v&&f&&s!==void 0&&s!==null&&(b=f(d,s));var k=m?{role:"status","aria-live":"assertive"}:{};return h.createElement("div",mp({className:y,style:x},k),h.createElement("p",{className:w,style:g},h.isValidElement(b)?b:"".concat(b)),p())},ho="recharts-tooltip-wrapper",KM={visibility:"hidden"};function HM(e){var{coordinate:t,translateX:r,translateY:n}=e;return Ae(ho,{["".concat(ho,"-right")]:me(r)&&t&&me(t.x)&&r>=t.x,["".concat(ho,"-left")]:me(r)&&t&&me(t.x)&&r<t.x,["".concat(ho,"-bottom")]:me(n)&&t&&me(t.y)&&n>=t.y,["".concat(ho,"-top")]:me(n)&&t&&me(t.y)&&n<t.y})}function Pw(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:a,position:s,reverseDirection:l,tooltipDimension:o,viewBox:c,viewBoxDimension:u}=e;if(s&&me(s[n]))return s[n];var d=r[n]-o-(a>0?a:0),f=r[n]+a;if(t[n])return l[n]?d:f;var m=c[n];if(m==null)return 0;if(l[n]){var p=d,x=m;return p<x?Math.max(f,m):Math.max(d,m)}if(u==null)return 0;var g=f+o,v=m+u;return g>v?Math.max(d,m):Math.max(f,m)}function VM(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function qM(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:n,position:a,reverseDirection:s,tooltipBox:l,useTranslate3d:o,viewBox:c}=e,u,d,f;return l.height>0&&l.width>0&&r?(d=Pw({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:s,tooltipDimension:l.width,viewBox:c,viewBoxDimension:c.width}),f=Pw({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:s,tooltipDimension:l.height,viewBox:c,viewBoxDimension:c.height}),u=VM({translateX:d,translateY:f,useTranslate3d:o})):u=KM,{cssProperties:u,cssClasses:HM({translateX:d,translateY:f,coordinate:r})}}function Cw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Pu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Cw(Object(r),!0).forEach(function(n){hp(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Cw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hp(e,t,r){return(t=GM(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GM(e){var t=YM(e,"string");return typeof t=="symbol"?t:t+""}function YM(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class JM extends h.PureComponent{constructor(){super(...arguments),hp(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),hp(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,a,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(a=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&a!==void 0?a:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:a,children:s,coordinate:l,hasPayload:o,isAnimationActive:c,offset:u,position:d,reverseDirection:f,useTranslate3d:m,viewBox:p,wrapperStyle:x,lastBoundingBox:g,innerRef:v,hasPortalFromProps:b}=this.props,{cssClasses:y,cssProperties:w}=qM({allowEscapeViewBox:r,coordinate:l,offsetTopLeft:u,position:d,reverseDirection:f,tooltipBox:{height:g.height,width:g.width},useTranslate3d:m,viewBox:p}),k=b?{}:Pu(Pu({transition:c&&t?"transform ".concat(n,"ms ").concat(a):void 0},w),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&o?"visible":"hidden",position:"absolute",top:0,left:0}),N=Pu(Pu({},k),{},{visibility:!this.state.dismissed&&t&&o?"visible":"hidden"},x);return h.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:y,style:N,ref:v},s)}}var XM=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Ts={devToolsEnabled:!1,isSsr:XM()},wP=()=>le(e=>e.rootProps.accessibilityLayer);function qr(e){return Number.isFinite(e)}function vl(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function pp(){return pp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pp.apply(null,arguments)}function Ew(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function _w(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ew(Object(r),!0).forEach(function(n){QM(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ew(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function QM(e,t,r){return(t=ZM(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZM(e){var t=e$(e,"string");return typeof t=="symbol"?t:t+""}function e$(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Aw={curveBasisClosed:cI,curveBasisOpen:uI,curveBasis:oI,curveBumpX:G6,curveBumpY:Y6,curveLinearClosed:dI,curveLinear:u0,curveMonotoneX:fI,curveMonotoneY:mI,curveNatural:hI,curveStep:pI,curveStepAfter:xI,curveStepBefore:gI},Cu=e=>qr(e.x)&&qr(e.y),po=e=>e.x,go=e=>e.y,t$=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(Ac(e));return(r==="curveMonotone"||r==="curveBump")&&t?Aw["".concat(r).concat(t==="vertical"?"Y":"X")]:Aw[r]||u0},r$=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:a,connectNulls:s=!1}=e,l=t$(t,a),o=s?r.filter(Cu):r,c;if(Array.isArray(n)){var u=s?n.filter(f=>Cu(f)):n,d=o.map((f,m)=>_w(_w({},f),{},{base:u[m]}));return a==="vertical"?c=yu().y(go).x1(po).x0(f=>f.base.x):c=yu().x(po).y1(go).y0(f=>f.base.y),c.defined(Cu).curve(l),c(d)}return a==="vertical"&&me(n)?c=yu().y(go).x1(po).x0(n):me(n)?c=yu().x(po).y1(go).y0(n):c=rS().x(po).y(go),c.defined(Cu).curve(l),c(o)},_x=e=>{var{className:t,points:r,path:n,pathRef:a}=e;if((!r||!r.length)&&!n)return null;var s=r&&r.length?r$(e):n;return h.createElement("path",pp({},ra(e),sx(e),{className:Ae("recharts-curve",t),d:s===null?void 0:s,ref:a}))},n$=["x","y","top","left","width","height","className"];function gp(){return gp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gp.apply(null,arguments)}function Ow(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function a$(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ow(Object(r),!0).forEach(function(n){s$(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ow(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function s$(e,t,r){return(t=i$(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i$(e){var t=l$(e,"string");return typeof t=="symbol"?t:t+""}function l$(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function o$(e,t){if(e==null)return{};var r,n,a=c$(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function c$(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var u$=(e,t,r,n,a,s)=>"M".concat(e,",").concat(a,"v").concat(n,"M").concat(s,",").concat(t,"h").concat(r),d$=e=>{var{x:t=0,y:r=0,top:n=0,left:a=0,width:s=0,height:l=0,className:o}=e,c=o$(e,n$),u=a$({x:t,y:r,top:n,left:a,width:s,height:l},c);return!me(t)||!me(r)||!me(s)||!me(l)||!me(n)||!me(a)?null:h.createElement("path",gp({},lt(u,!0),{className:Ae("recharts-cross",o),d:u$(t,r,s,l,n,a)}))};function f$(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function Tw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function m$(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Tw(Object(r),!0).forEach(function(n){h$(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Tw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function h$(e,t,r){return(t=p$(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p$(e){var t=g$(e,"string");return typeof t=="symbol"?t:t+""}function g$(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Vt(e,t){var r=m$({},e),n=t,a=Object.keys(t),s=a.reduce((l,o)=>(l[o]===void 0&&n[o]!==void 0&&(l[o]=n[o]),l),r);return s}function x$(){}function Dw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Iw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Dw(Object(r),!0).forEach(function(n){v$(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Dw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function v$(e,t,r){return(t=y$(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function y$(e){var t=b$(e,"string");return typeof t=="symbol"?t:t+""}function b$(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var w$=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),kP=(e,t,r)=>e.map(n=>"".concat(w$(n)," ").concat(t,"ms ").concat(r)).join(","),k$=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(a=>n.includes(a))),mc=(e,t)=>Object.keys(t).reduce((r,n)=>Iw(Iw({},r),{},{[n]:e(n,t[n])}),{});function Mw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function zt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Mw(Object(r),!0).forEach(function(n){j$(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Mw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function j$(e,t,r){return(t=N$(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function N$(e){var t=S$(e,"string");return typeof t=="symbol"?t:t+""}function S$(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qd=(e,t,r)=>e+(t-e)*r,xp=e=>{var{from:t,to:r}=e;return t!==r},jP=(e,t,r)=>{var n=mc((a,s)=>{if(xp(s)){var[l,o]=e(s.from,s.to,s.velocity);return zt(zt({},s),{},{from:l,velocity:o})}return s},t);return r<1?mc((a,s)=>xp(s)?zt(zt({},s),{},{velocity:qd(s.velocity,n[a].velocity,r),from:qd(s.from,n[a].from,r)}):s,t):jP(e,n,r-1)};function P$(e,t,r,n,a,s){var l,o=n.reduce((m,p)=>zt(zt({},m),{},{[p]:{from:e[p],velocity:0,to:t[p]}}),{}),c=()=>mc((m,p)=>p.from,o),u=()=>!Object.values(o).filter(xp).length,d=null,f=m=>{l||(l=m);var p=m-l,x=p/r.dt;o=jP(r,o,x),a(zt(zt(zt({},e),t),c())),l=m,u()||(d=s.setTimeout(f))};return()=>(d=s.setTimeout(f),()=>{d()})}function C$(e,t,r,n,a,s,l){var o=null,c=a.reduce((f,m)=>zt(zt({},f),{},{[m]:[e[m],t[m]]}),{}),u,d=f=>{u||(u=f);var m=(f-u)/n,p=mc((g,v)=>qd(...v,r(m)),c);if(s(zt(zt(zt({},e),t),p)),m<1)o=l.setTimeout(d);else{var x=mc((g,v)=>qd(...v,r(1)),c);s(zt(zt(zt({},e),t),x))}};return()=>(o=l.setTimeout(d),()=>{o()})}const E$=(e,t,r,n,a,s)=>{var l=k$(e,t);return r.isStepper===!0?P$(e,t,r,l,a,s):C$(e,t,r,n,l,a,s)};var Gd=1e-4,NP=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],SP=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),$w=(e,t)=>r=>{var n=NP(e,t);return SP(n,r)},_$=(e,t)=>r=>{var n=NP(e,t),a=[...n.map((s,l)=>s*l).slice(1),0];return SP(a,r)},Rw=function(){for(var t,r,n,a,s=arguments.length,l=new Array(s),o=0;o<s;o++)l[o]=arguments[o];if(l.length===1)switch(l[0]){case"linear":[t,n,r,a]=[0,0,1,1];break;case"ease":[t,n,r,a]=[.25,.1,.25,1];break;case"ease-in":[t,n,r,a]=[.42,0,1,1];break;case"ease-out":[t,n,r,a]=[.42,0,.58,1];break;case"ease-in-out":[t,n,r,a]=[0,0,.58,1];break;default:{var c=l[0].split("(");c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4&&([t,n,r,a]=c[1].split(")")[0].split(",").map(x=>parseFloat(x)))}}else l.length===4&&([t,n,r,a]=l);var u=$w(t,r),d=$w(n,a),f=_$(t,r),m=x=>x>1?1:x<0?0:x,p=x=>{for(var g=x>1?1:x,v=g,b=0;b<8;++b){var y=u(v)-g,w=f(v);if(Math.abs(y-g)<Gd||w<Gd)return d(v);v=m(v-y/w)}return d(v)};return p.isStepper=!1,p},A$=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:a=17}=t,s=(l,o,c)=>{var u=-(l-o)*r,d=c*n,f=c+(u-d)*a/1e3,m=c*a/1e3+l;return Math.abs(m-o)<Gd&&Math.abs(f)<Gd?[o,0]:[m,f]};return s.isStepper=!0,s.dt=a,s},O$=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return Rw(e);case"spring":return A$();default:if(e.split("(")[0]==="cubic-bezier")return Rw(e)}return typeof e=="function"?e:null};function T$(e){var t,r=()=>null,n=!1,a=null,s=l=>{if(!n){if(Array.isArray(l)){if(!l.length)return;var o=l,[c,...u]=o;if(typeof c=="number"){a=e.setTimeout(s.bind(null,u),c);return}s(c),a=e.setTimeout(s.bind(null,u));return}typeof l=="string"&&(t=l,r(t)),typeof l=="object"&&(t=l,r(t)),typeof l=="function"&&l()}};return{stop:()=>{n=!0},start:l=>{n=!1,a&&(a(),a=null),s(l)},subscribe:l=>(r=l,()=>{r=()=>null}),getTimeoutController:()=>e}}class D${setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),a=null,s=l=>{l-n>=r?t(l):typeof requestAnimationFrame=="function"&&(a=requestAnimationFrame(s))};return a=requestAnimationFrame(s),()=>{cancelAnimationFrame(a)}}}function I$(){return T$(new D$)}var M$=h.createContext(I$);function $$(e,t){var r=h.useContext(M$);return h.useMemo(()=>t??r(e),[e,t,r])}var R$={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},Lw={t:0},Om={t:1};function Ic(e){var t=Vt(e,R$),{isActive:r,canBegin:n,duration:a,easing:s,begin:l,onAnimationEnd:o,onAnimationStart:c,children:u}=t,d=$$(t.animationId,t.animationManager),[f,m]=h.useState(r?Lw:Om),p=h.useRef(null);return h.useEffect(()=>{r||m(Om)},[r]),h.useEffect(()=>{if(!r||!n)return x$;var x=E$(Lw,Om,O$(s),a,m,d.getTimeoutController()),g=()=>{p.current=x()};return d.start([c,l,g,a,o]),()=>{d.stop(),p.current&&p.current(),o()}},[r,n,a,s,l,c,o,d]),u(f.t)}function Mc(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=h.useRef(cc(t)),n=h.useRef(e);return n.current!==e&&(r.current=cc(t),n.current=e),r.current}function Fw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Bw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Fw(Object(r),!0).forEach(function(n){L$(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function L$(e,t,r){return(t=F$(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function F$(e){var t=B$(e,"string");return typeof t=="symbol"?t:t+""}function B$(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Yd(){return Yd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Yd.apply(null,arguments)}var zw=(e,t,r,n,a)=>{var s=Math.min(Math.abs(r)/2,Math.abs(n)/2),l=n>=0?1:-1,o=r>=0?1:-1,c=n>=0&&r>=0||n<0&&r<0?1:0,u;if(s>0&&a instanceof Array){for(var d=[0,0,0,0],f=0,m=4;f<m;f++)d[f]=a[f]>s?s:a[f];u="M".concat(e,",").concat(t+l*d[0]),d[0]>0&&(u+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(c,",").concat(e+o*d[0],",").concat(t)),u+="L ".concat(e+r-o*d[1],",").concat(t),d[1]>0&&(u+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(c,`,
        `).concat(e+r,",").concat(t+l*d[1])),u+="L ".concat(e+r,",").concat(t+n-l*d[2]),d[2]>0&&(u+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(c,`,
        `).concat(e+r-o*d[2],",").concat(t+n)),u+="L ".concat(e+o*d[3],",").concat(t+n),d[3]>0&&(u+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(t+n-l*d[3])),u+="Z"}else if(s>0&&a===+a&&a>0){var p=Math.min(s,a);u="M ".concat(e,",").concat(t+l*p,`
            A `).concat(p,",").concat(p,",0,0,").concat(c,",").concat(e+o*p,",").concat(t,`
            L `).concat(e+r-o*p,",").concat(t,`
            A `).concat(p,",").concat(p,",0,0,").concat(c,",").concat(e+r,",").concat(t+l*p,`
            L `).concat(e+r,",").concat(t+n-l*p,`
            A `).concat(p,",").concat(p,",0,0,").concat(c,",").concat(e+r-o*p,",").concat(t+n,`
            L `).concat(e+o*p,",").concat(t+n,`
            A `).concat(p,",").concat(p,",0,0,").concat(c,",").concat(e,",").concat(t+n-l*p," Z")}else u="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return u},z$={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},PP=e=>{var t=Vt(e,z$),r=h.useRef(null),[n,a]=h.useState(-1);h.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var T=r.current.getTotalLength();T&&a(T)}catch{}},[]);var{x:s,y:l,width:o,height:c,radius:u,className:d}=t,{animationEasing:f,animationDuration:m,animationBegin:p,isAnimationActive:x,isUpdateAnimationActive:g}=t,v=h.useRef(o),b=h.useRef(c),y=h.useRef(s),w=h.useRef(l),k=h.useMemo(()=>({x:s,y:l,width:o,height:c,radius:u}),[s,l,o,c,u]),N=Mc(k,"rectangle-");if(s!==+s||l!==+l||o!==+o||c!==+c||o===0||c===0)return null;var S=Ae("recharts-rectangle",d);if(!g)return h.createElement("path",Yd({},lt(t,!0),{className:S,d:zw(s,l,o,c,u)}));var j=v.current,P=b.current,D=y.current,O=w.current,$="0px ".concat(n===-1?1:n,"px"),B="".concat(n,"px 0px"),U=kP(["strokeDasharray"],m,typeof f=="string"?f:void 0);return h.createElement(Ic,{animationId:N,key:N,canBegin:n>0,duration:m,easing:f,isActive:g,begin:p},T=>{var K=dt(j,o,T),I=dt(P,c,T),G=dt(D,s,T),M=dt(O,l,T);r.current&&(v.current=K,b.current=I,y.current=G,w.current=M);var W;return x?T>0?W={transition:U,strokeDasharray:B}:W={strokeDasharray:$}:W={strokeDasharray:B},h.createElement("path",Yd({},lt(t,!0),{className:S,d:zw(G,M,K,I,u),ref:r,style:Bw(Bw({},W),t.style)}))})};function CP(e){var{cx:t,cy:r,radius:n,startAngle:a,endAngle:s}=e,l=bt(t,r,n,a),o=bt(t,r,n,s);return{points:[l,o],cx:t,cy:r,radius:n,startAngle:a,endAngle:s}}function vp(){return vp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vp.apply(null,arguments)}var U$=(e,t)=>{var r=Tt(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},Eu=e=>{var{cx:t,cy:r,radius:n,angle:a,sign:s,isExternal:l,cornerRadius:o,cornerIsExternal:c}=e,u=o*(l?1:-1)+n,d=Math.asin(o/u)/Vd,f=c?a:a+s*d,m=bt(t,r,u,f),p=bt(t,r,n,f),x=c?a-s*d:a,g=bt(t,r,u*Math.cos(d*Vd),x);return{center:m,circleTangency:p,lineTangency:g,theta:d}},EP=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:s,endAngle:l}=e,o=U$(s,l),c=s+o,u=bt(t,r,a,s),d=bt(t,r,a,c),f="M ".concat(u.x,",").concat(u.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(o)>180),",").concat(+(s>c),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(n>0){var m=bt(t,r,n,s),p=bt(t,r,n,c);f+="L ".concat(p.x,",").concat(p.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(o)>180),",").concat(+(s<=c),`,
            `).concat(m.x,",").concat(m.y," Z")}else f+="L ".concat(t,",").concat(r," Z");return f},W$=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,cornerRadius:s,forceCornerRadius:l,cornerIsExternal:o,startAngle:c,endAngle:u}=e,d=Tt(u-c),{circleTangency:f,lineTangency:m,theta:p}=Eu({cx:t,cy:r,radius:a,angle:c,sign:d,cornerRadius:s,cornerIsExternal:o}),{circleTangency:x,lineTangency:g,theta:v}=Eu({cx:t,cy:r,radius:a,angle:u,sign:-d,cornerRadius:s,cornerIsExternal:o}),b=o?Math.abs(c-u):Math.abs(c-u)-p-v;if(b<0)return l?"M ".concat(m.x,",").concat(m.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):EP({cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:c,endAngle:u});var y="M ".concat(m.x,",").concat(m.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(f.x,",").concat(f.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(b>180),",").concat(+(d<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(g.x,",").concat(g.y,`
  `);if(n>0){var{circleTangency:w,lineTangency:k,theta:N}=Eu({cx:t,cy:r,radius:n,angle:c,sign:d,isExternal:!0,cornerRadius:s,cornerIsExternal:o}),{circleTangency:S,lineTangency:j,theta:P}=Eu({cx:t,cy:r,radius:n,angle:u,sign:-d,isExternal:!0,cornerRadius:s,cornerIsExternal:o}),D=o?Math.abs(c-u):Math.abs(c-u)-N-P;if(D<0&&s===0)return"".concat(y,"L").concat(t,",").concat(r,"Z");y+="L".concat(j.x,",").concat(j.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(S.x,",").concat(S.y,`
      A`).concat(n,",").concat(n,",0,").concat(+(D>180),",").concat(+(d>0),",").concat(w.x,",").concat(w.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(k.x,",").concat(k.y,"Z")}else y+="L".concat(t,",").concat(r,"Z");return y},K$={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},_P=e=>{var t=Vt(e,K$),{cx:r,cy:n,innerRadius:a,outerRadius:s,cornerRadius:l,forceCornerRadius:o,cornerIsExternal:c,startAngle:u,endAngle:d,className:f}=t;if(s<a||u===d)return null;var m=Ae("recharts-sector",f),p=s-a,x=nr(l,p,0,!0),g;return x>0&&Math.abs(u-d)<360?g=W$({cx:r,cy:n,innerRadius:a,outerRadius:s,cornerRadius:Math.min(x,p/2),forceCornerRadius:o,cornerIsExternal:c,startAngle:u,endAngle:d}):g=EP({cx:r,cy:n,innerRadius:a,outerRadius:s,startAngle:u,endAngle:d}),h.createElement("path",vp({},lt(t,!0),{className:m,d:g}))};function H$(e,t,r){var n,a,s,l;if(e==="horizontal")n=t.x,s=n,a=r.top,l=r.top+r.height;else if(e==="vertical")a=t.y,l=a,n=r.left,s=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var{cx:o,cy:c,innerRadius:u,outerRadius:d,angle:f}=t,m=bt(o,c,u,f),p=bt(o,c,d,f);n=m.x,a=m.y,s=p.x,l=p.y}else return CP(t);return[{x:n,y:a},{x:s,y:l}]}var AP={},OP={},TP={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=bx;function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(TP);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=TP;function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(OP);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=wx,r=OP;function n(a,s,l){l&&typeof l!="number"&&t.isIterateeCall(a,s,l)&&(s=l=void 0),a=r.toFinite(a),s===void 0?(s=a,a=0):s=r.toFinite(s),l=l===void 0?a<s?1:-1:r.toFinite(l);const o=Math.max(Math.ceil((s-a)/(l||1)),0),c=new Array(o);for(let u=0;u<o;u++)c[u]=a,a+=l;return c}e.range=n})(AP);var V$=AP.range;const DP=ta(V$);function ys(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function q$(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Ax(e){let t,r,n;e.length!==2?(t=ys,r=(o,c)=>ys(e(o),c),n=(o,c)=>e(o)-c):(t=e===ys||e===q$?e:G$,r=e,n=e);function a(o,c,u=0,d=o.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(o[f],c)<0?u=f+1:d=f}while(u<d)}return u}function s(o,c,u=0,d=o.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(o[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function l(o,c,u=0,d=o.length){const f=a(o,c,u,d-1);return f>u&&n(o[f-1],c)>-n(o[f],c)?f-1:f}return{left:a,center:l,right:s}}function G$(){return 0}function IP(e){return e===null?NaN:+e}function*Y$(e,t){if(t===void 0)for(let r of e)r!=null&&(r=+r)>=r&&(yield r);else{let r=-1;for(let n of e)(n=t(n,++r,e))!=null&&(n=+n)>=n&&(yield n)}}const J$=Ax(ys),X$=J$.right;Ax(IP).center;const $c=X$;class Uw extends Map{constructor(t,r=eR){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(Ww(this,t))}has(t){return super.has(Ww(this,t))}set(t,r){return super.set(Q$(this,t),r)}delete(t){return super.delete(Z$(this,t))}}function Ww({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function Q$({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function Z$({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function eR(e){return e!==null&&typeof e=="object"?e.valueOf():e}function tR(e=ys){if(e===ys)return MP;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function MP(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const rR=Math.sqrt(50),nR=Math.sqrt(10),aR=Math.sqrt(2);function Jd(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),s=n/Math.pow(10,a),l=s>=rR?10:s>=nR?5:s>=aR?2:1;let o,c,u;return a<0?(u=Math.pow(10,-a)/l,o=Math.round(e*u),c=Math.round(t*u),o/u<e&&++o,c/u>t&&--c,u=-u):(u=Math.pow(10,a)*l,o=Math.round(e/u),c=Math.round(t/u),o*u<e&&++o,c*u>t&&--c),c<o&&.5<=r&&r<2?Jd(e,t,r*2):[o,c,u]}function yp(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,s,l]=n?Jd(t,e,r):Jd(e,t,r);if(!(s>=a))return[];const o=s-a+1,c=new Array(o);if(n)if(l<0)for(let u=0;u<o;++u)c[u]=(s-u)/-l;else for(let u=0;u<o;++u)c[u]=(s-u)*l;else if(l<0)for(let u=0;u<o;++u)c[u]=(a+u)/-l;else for(let u=0;u<o;++u)c[u]=(a+u)*l;return c}function bp(e,t,r){return t=+t,e=+e,r=+r,Jd(e,t,r)[2]}function wp(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?bp(t,e,r):bp(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function Kw(e,t){let r;if(t===void 0)for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);else{let n=-1;for(let a of e)(a=t(a,++n,e))!=null&&(r<a||r===void 0&&a>=a)&&(r=a)}return r}function Hw(e,t){let r;if(t===void 0)for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);else{let n=-1;for(let a of e)(a=t(a,++n,e))!=null&&(r>a||r===void 0&&a>=a)&&(r=a)}return r}function $P(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?MP:tR(a);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),m=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),p=Math.max(r,Math.floor(t-u*f/c+m)),x=Math.min(n,Math.floor(t+(c-u)*f/c+m));$P(e,t,p,x,a)}const s=e[t];let l=r,o=n;for(xo(e,r,t),a(e[n],s)>0&&xo(e,r,n);l<o;){for(xo(e,l,o),++l,--o;a(e[l],s)<0;)++l;for(;a(e[o],s)>0;)--o}a(e[r],s)===0?xo(e,r,o):(++o,xo(e,o,n)),o<=t&&(r=o+1),t<=o&&(n=o-1)}return e}function xo(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function sR(e,t,r){if(e=Float64Array.from(Y$(e,r)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return Hw(e);if(t>=1)return Kw(e);var n,a=(n-1)*t,s=Math.floor(a),l=Kw($P(e,s).subarray(0,s+1)),o=Hw(e.subarray(s+1));return l+(o-l)*(a-s)}}function iR(e,t,r=IP){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,s=Math.floor(a),l=+r(e[s],s,e),o=+r(e[s+1],s+1,e);return l+(o-l)*(a-s)}}function lR(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,s=new Array(a);++n<a;)s[n]=e+n*r;return s}function vn(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function La(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const kp=Symbol("implicit");function Ox(){var e=new Uw,t=[],r=[],n=kp;function a(s){let l=e.get(s);if(l===void 0){if(n!==kp)return n;e.set(s,l=t.push(s)-1)}return r[l%r.length]}return a.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new Uw;for(const l of s)e.has(l)||e.set(l,t.push(l)-1);return a},a.range=function(s){return arguments.length?(r=Array.from(s),a):r.slice()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return Ox(t,r).unknown(n)},vn.apply(a,arguments),a}function Tx(){var e=Ox().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,s,l,o=!1,c=0,u=0,d=.5;delete e.unknown;function f(){var m=t().length,p=a<n,x=p?a:n,g=p?n:a;s=(g-x)/Math.max(1,m-c+u*2),o&&(s=Math.floor(s)),x+=(g-x-s*(m-c))*d,l=s*(1-c),o&&(x=Math.round(x),l=Math.round(l));var v=lR(m).map(function(b){return x+s*b});return r(p?v.reverse():v)}return e.domain=function(m){return arguments.length?(t(m),f()):t()},e.range=function(m){return arguments.length?([n,a]=m,n=+n,a=+a,f()):[n,a]},e.rangeRound=function(m){return[n,a]=m,n=+n,a=+a,o=!0,f()},e.bandwidth=function(){return l},e.step=function(){return s},e.round=function(m){return arguments.length?(o=!!m,f()):o},e.padding=function(m){return arguments.length?(c=Math.min(1,u=+m),f()):c},e.paddingInner=function(m){return arguments.length?(c=Math.min(1,m),f()):c},e.paddingOuter=function(m){return arguments.length?(u=+m,f()):u},e.align=function(m){return arguments.length?(d=Math.max(0,Math.min(1,m)),f()):d},e.copy=function(){return Tx(t(),[n,a]).round(o).paddingInner(c).paddingOuter(u).align(d)},vn.apply(f(),arguments)}function RP(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return RP(t())},e}function oR(){return RP(Tx.apply(null,arguments).paddingInner(1))}function Dx(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function LP(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Rc(){}var hc=.7,Xd=1/hc,al="\\s*([+-]?\\d+)\\s*",pc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Qn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",cR=/^#([0-9a-f]{3,8})$/,uR=new RegExp(`^rgb\\(${al},${al},${al}\\)$`),dR=new RegExp(`^rgb\\(${Qn},${Qn},${Qn}\\)$`),fR=new RegExp(`^rgba\\(${al},${al},${al},${pc}\\)$`),mR=new RegExp(`^rgba\\(${Qn},${Qn},${Qn},${pc}\\)$`),hR=new RegExp(`^hsl\\(${pc},${Qn},${Qn}\\)$`),pR=new RegExp(`^hsla\\(${pc},${Qn},${Qn},${pc}\\)$`),Vw={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Dx(Rc,gc,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:qw,formatHex:qw,formatHex8:gR,formatHsl:xR,formatRgb:Gw,toString:Gw});function qw(){return this.rgb().formatHex()}function gR(){return this.rgb().formatHex8()}function xR(){return FP(this).formatHsl()}function Gw(){return this.rgb().formatRgb()}function gc(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=cR.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?Yw(t):r===3?new Sr(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?_u(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?_u(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=uR.exec(e))?new Sr(t[1],t[2],t[3],1):(t=dR.exec(e))?new Sr(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=fR.exec(e))?_u(t[1],t[2],t[3],t[4]):(t=mR.exec(e))?_u(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=hR.exec(e))?Qw(t[1],t[2]/100,t[3]/100,1):(t=pR.exec(e))?Qw(t[1],t[2]/100,t[3]/100,t[4]):Vw.hasOwnProperty(e)?Yw(Vw[e]):e==="transparent"?new Sr(NaN,NaN,NaN,0):null}function Yw(e){return new Sr(e>>16&255,e>>8&255,e&255,1)}function _u(e,t,r,n){return n<=0&&(e=t=r=NaN),new Sr(e,t,r,n)}function vR(e){return e instanceof Rc||(e=gc(e)),e?(e=e.rgb(),new Sr(e.r,e.g,e.b,e.opacity)):new Sr}function jp(e,t,r,n){return arguments.length===1?vR(e):new Sr(e,t,r,n??1)}function Sr(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}Dx(Sr,jp,LP(Rc,{brighter(e){return e=e==null?Xd:Math.pow(Xd,e),new Sr(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?hc:Math.pow(hc,e),new Sr(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Sr(oi(this.r),oi(this.g),oi(this.b),Qd(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Jw,formatHex:Jw,formatHex8:yR,formatRgb:Xw,toString:Xw}));function Jw(){return`#${ei(this.r)}${ei(this.g)}${ei(this.b)}`}function yR(){return`#${ei(this.r)}${ei(this.g)}${ei(this.b)}${ei((isNaN(this.opacity)?1:this.opacity)*255)}`}function Xw(){const e=Qd(this.opacity);return`${e===1?"rgb(":"rgba("}${oi(this.r)}, ${oi(this.g)}, ${oi(this.b)}${e===1?")":`, ${e})`}`}function Qd(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function oi(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function ei(e){return e=oi(e),(e<16?"0":"")+e.toString(16)}function Qw(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Dn(e,t,r,n)}function FP(e){if(e instanceof Dn)return new Dn(e.h,e.s,e.l,e.opacity);if(e instanceof Rc||(e=gc(e)),!e)return new Dn;if(e instanceof Dn)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),s=Math.max(t,r,n),l=NaN,o=s-a,c=(s+a)/2;return o?(t===s?l=(r-n)/o+(r<n)*6:r===s?l=(n-t)/o+2:l=(t-r)/o+4,o/=c<.5?s+a:2-s-a,l*=60):o=c>0&&c<1?0:l,new Dn(l,o,c,e.opacity)}function bR(e,t,r,n){return arguments.length===1?FP(e):new Dn(e,t,r,n??1)}function Dn(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}Dx(Dn,bR,LP(Rc,{brighter(e){return e=e==null?Xd:Math.pow(Xd,e),new Dn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?hc:Math.pow(hc,e),new Dn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new Sr(Tm(e>=240?e-240:e+120,a,n),Tm(e,a,n),Tm(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new Dn(Zw(this.h),Au(this.s),Au(this.l),Qd(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Qd(this.opacity);return`${e===1?"hsl(":"hsla("}${Zw(this.h)}, ${Au(this.s)*100}%, ${Au(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Zw(e){return e=(e||0)%360,e<0?e+360:e}function Au(e){return Math.max(0,Math.min(1,e||0))}function Tm(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const Ix=e=>()=>e;function wR(e,t){return function(r){return e+r*t}}function kR(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function jR(e){return(e=+e)==1?BP:function(t,r){return r-t?kR(t,r,e):Ix(isNaN(t)?r:t)}}function BP(e,t){var r=t-e;return r?wR(e,r):Ix(isNaN(e)?t:e)}const e1=function e(t){var r=jR(t);function n(a,s){var l=r((a=jp(a)).r,(s=jp(s)).r),o=r(a.g,s.g),c=r(a.b,s.b),u=BP(a.opacity,s.opacity);return function(d){return a.r=l(d),a.g=o(d),a.b=c(d),a.opacity=u(d),a+""}}return n.gamma=e,n}(1);function NR(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(s){for(a=0;a<r;++a)n[a]=e[a]*(1-s)+t[a]*s;return n}}function SR(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function PR(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),s=new Array(r),l;for(l=0;l<n;++l)a[l]=Dl(e[l],t[l]);for(;l<r;++l)s[l]=t[l];return function(o){for(l=0;l<n;++l)s[l]=a[l](o);return s}}function CR(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Zd(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function ER(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=Dl(e[a],t[a]):n[a]=t[a];return function(s){for(a in r)n[a]=r[a](s);return n}}var Np=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Dm=new RegExp(Np.source,"g");function _R(e){return function(){return e}}function AR(e){return function(t){return e(t)+""}}function OR(e,t){var r=Np.lastIndex=Dm.lastIndex=0,n,a,s,l=-1,o=[],c=[];for(e=e+"",t=t+"";(n=Np.exec(e))&&(a=Dm.exec(t));)(s=a.index)>r&&(s=t.slice(r,s),o[l]?o[l]+=s:o[++l]=s),(n=n[0])===(a=a[0])?o[l]?o[l]+=a:o[++l]=a:(o[++l]=null,c.push({i:l,x:Zd(n,a)})),r=Dm.lastIndex;return r<t.length&&(s=t.slice(r),o[l]?o[l]+=s:o[++l]=s),o.length<2?c[0]?AR(c[0].x):_R(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)o[(f=c[d]).i]=f.x(u);return o.join("")})}function Dl(e,t){var r=typeof t,n;return t==null||r==="boolean"?Ix(t):(r==="number"?Zd:r==="string"?(n=gc(t))?(t=n,e1):OR:t instanceof gc?e1:t instanceof Date?CR:SR(t)?NR:Array.isArray(t)?PR:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?ER:Zd)(e,t)}function Mx(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function TR(e,t){t===void 0&&(t=e,e=Dl);for(var r=0,n=t.length-1,a=t[0],s=new Array(n<0?0:n);r<n;)s[r]=e(a,a=t[++r]);return function(l){var o=Math.max(0,Math.min(n-1,Math.floor(l*=n)));return s[o](l-o)}}function DR(e){return function(){return e}}function ef(e){return+e}var t1=[0,1];function ur(e){return e}function Sp(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:DR(isNaN(t)?NaN:.5)}function IR(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function MR(e,t,r){var n=e[0],a=e[1],s=t[0],l=t[1];return a<n?(n=Sp(a,n),s=r(l,s)):(n=Sp(n,a),s=r(s,l)),function(o){return s(n(o))}}function $R(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),s=new Array(n),l=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++l<n;)a[l]=Sp(e[l],e[l+1]),s[l]=r(t[l],t[l+1]);return function(o){var c=$c(e,o,1,n)-1;return s[c](a[c](o))}}function Lc(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function N0(){var e=t1,t=t1,r=Dl,n,a,s,l=ur,o,c,u;function d(){var m=Math.min(e.length,t.length);return l!==ur&&(l=IR(e[0],e[m-1])),o=m>2?$R:MR,c=u=null,f}function f(m){return m==null||isNaN(m=+m)?s:(c||(c=o(e.map(n),t,r)))(n(l(m)))}return f.invert=function(m){return l(a((u||(u=o(t,e.map(n),Zd)))(m)))},f.domain=function(m){return arguments.length?(e=Array.from(m,ef),d()):e.slice()},f.range=function(m){return arguments.length?(t=Array.from(m),d()):t.slice()},f.rangeRound=function(m){return t=Array.from(m),r=Mx,d()},f.clamp=function(m){return arguments.length?(l=m?!0:ur,d()):l!==ur},f.interpolate=function(m){return arguments.length?(r=m,d()):r},f.unknown=function(m){return arguments.length?(s=m,f):s},function(m,p){return n=m,a=p,d()}}function $x(){return N0()(ur,ur)}function RR(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function tf(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function yl(e){return e=tf(Math.abs(e)),e?e[1]:NaN}function LR(e,t){return function(r,n){for(var a=r.length,s=[],l=0,o=e[0],c=0;a>0&&o>0&&(c+o+1>n&&(o=Math.max(1,n-c)),s.push(r.substring(a-=o,a+o)),!((c+=o+1)>n));)o=e[l=(l+1)%e.length];return s.reverse().join(t)}}function FR(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var BR=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function xc(e){if(!(t=BR.exec(e)))throw new Error("invalid format: "+e);var t;return new Rx({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}xc.prototype=Rx.prototype;function Rx(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Rx.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function zR(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var zP;function UR(e,t){var r=tf(e,t);if(!r)return e+"";var n=r[0],a=r[1],s=a-(zP=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,l=n.length;return s===l?n:s>l?n+new Array(s-l+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+tf(e,Math.max(0,t+s-1))[0]}function r1(e,t){var r=tf(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const n1={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:RR,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>r1(e*100,t),r:r1,s:UR,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function a1(e){return e}var s1=Array.prototype.map,i1=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function WR(e){var t=e.grouping===void 0||e.thousands===void 0?a1:LR(s1.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?a1:FR(s1.call(e.numerals,String)),l=e.percent===void 0?"%":e.percent+"",o=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f){f=xc(f);var m=f.fill,p=f.align,x=f.sign,g=f.symbol,v=f.zero,b=f.width,y=f.comma,w=f.precision,k=f.trim,N=f.type;N==="n"?(y=!0,N="g"):n1[N]||(w===void 0&&(w=12),k=!0,N="g"),(v||m==="0"&&p==="=")&&(v=!0,m="0",p="=");var S=g==="$"?r:g==="#"&&/[boxX]/.test(N)?"0"+N.toLowerCase():"",j=g==="$"?n:/[%p]/.test(N)?l:"",P=n1[N],D=/[defgprs%]/.test(N);w=w===void 0?6:/[gprs]/.test(N)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function O($){var B=S,U=j,T,K,I;if(N==="c")U=P($)+U,$="";else{$=+$;var G=$<0||1/$<0;if($=isNaN($)?c:P(Math.abs($),w),k&&($=zR($)),G&&+$==0&&x!=="+"&&(G=!1),B=(G?x==="("?x:o:x==="-"||x==="("?"":x)+B,U=(N==="s"?i1[8+zP/3]:"")+U+(G&&x==="("?")":""),D){for(T=-1,K=$.length;++T<K;)if(I=$.charCodeAt(T),48>I||I>57){U=(I===46?a+$.slice(T+1):$.slice(T))+U,$=$.slice(0,T);break}}}y&&!v&&($=t($,1/0));var M=B.length+$.length+U.length,W=M<b?new Array(b-M+1).join(m):"";switch(y&&v&&($=t(W+$,W.length?b-U.length:1/0),W=""),p){case"<":$=B+$+U+W;break;case"=":$=B+W+$+U;break;case"^":$=W.slice(0,M=W.length>>1)+B+$+U+W.slice(M);break;default:$=W+B+$+U;break}return s($)}return O.toString=function(){return f+""},O}function d(f,m){var p=u((f=xc(f),f.type="f",f)),x=Math.max(-8,Math.min(8,Math.floor(yl(m)/3)))*3,g=Math.pow(10,-x),v=i1[8+x/3];return function(b){return p(g*b)+v}}return{format:u,formatPrefix:d}}var Ou,Lx,UP;KR({thousands:",",grouping:[3],currency:["$",""]});function KR(e){return Ou=WR(e),Lx=Ou.format,UP=Ou.formatPrefix,Ou}function HR(e){return Math.max(0,-yl(Math.abs(e)))}function VR(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(yl(t)/3)))*3-yl(Math.abs(e)))}function qR(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,yl(t)-yl(e))+1}function WP(e,t,r,n){var a=wp(e,t,r),s;switch(n=xc(n??",f"),n.type){case"s":{var l=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(s=VR(a,l))&&(n.precision=s),UP(n,l)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=qR(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=HR(a))&&(n.precision=s-(n.type==="%")*2);break}}return Lx(n)}function Ds(e){var t=e.domain;return e.ticks=function(r){var n=t();return yp(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return WP(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,s=n.length-1,l=n[a],o=n[s],c,u,d=10;for(o<l&&(u=l,l=o,o=u,u=a,a=s,s=u);d-- >0;){if(u=bp(l,o,r),u===c)return n[a]=l,n[s]=o,t(n);if(u>0)l=Math.floor(l/u)*u,o=Math.ceil(o/u)*u;else if(u<0)l=Math.ceil(l*u)/u,o=Math.floor(o*u)/u;else break;c=u}return e},e}function KP(){var e=$x();return e.copy=function(){return Lc(e,KP())},vn.apply(e,arguments),Ds(e)}function HP(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,ef),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return HP(e).unknown(t)},e=arguments.length?Array.from(e,ef):[0,1],Ds(r)}function VP(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],s=e[n],l;return s<a&&(l=r,r=n,n=l,l=a,a=s,s=l),e[r]=t.floor(a),e[n]=t.ceil(s),e}function l1(e){return Math.log(e)}function o1(e){return Math.exp(e)}function GR(e){return-Math.log(-e)}function YR(e){return-Math.exp(-e)}function JR(e){return isFinite(e)?+("1e"+e):e<0?0:e}function XR(e){return e===10?JR:e===Math.E?Math.exp:t=>Math.pow(e,t)}function QR(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function c1(e){return(t,r)=>-e(-t,r)}function Fx(e){const t=e(l1,o1),r=t.domain;let n=10,a,s;function l(){return a=QR(n),s=XR(n),r()[0]<0?(a=c1(a),s=c1(s),e(GR,YR)):e(l1,o1),t}return t.base=function(o){return arguments.length?(n=+o,l()):n},t.domain=function(o){return arguments.length?(r(o),l()):r()},t.ticks=o=>{const c=r();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let m=a(u),p=a(d),x,g;const v=o==null?10:+o;let b=[];if(!(n%1)&&p-m<v){if(m=Math.floor(m),p=Math.ceil(p),u>0){for(;m<=p;++m)for(x=1;x<n;++x)if(g=m<0?x/s(-m):x*s(m),!(g<u)){if(g>d)break;b.push(g)}}else for(;m<=p;++m)for(x=n-1;x>=1;--x)if(g=m>0?x/s(-m):x*s(m),!(g<u)){if(g>d)break;b.push(g)}b.length*2<v&&(b=yp(u,d,v))}else b=yp(m,p,Math.min(p-m,v)).map(s);return f?b.reverse():b},t.tickFormat=(o,c)=>{if(o==null&&(o=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=xc(c)).precision==null&&(c.trim=!0),c=Lx(c)),o===1/0)return c;const u=Math.max(1,n*o/t.ticks().length);return d=>{let f=d/s(Math.round(a(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},t.nice=()=>r(VP(r(),{floor:o=>s(Math.floor(a(o))),ceil:o=>s(Math.ceil(a(o)))})),t}function qP(){const e=Fx(N0()).domain([1,10]);return e.copy=()=>Lc(e,qP()).base(e.base()),vn.apply(e,arguments),e}function u1(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function d1(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Bx(e){var t=1,r=e(u1(t),d1(t));return r.constant=function(n){return arguments.length?e(u1(t=+n),d1(t)):t},Ds(r)}function GP(){var e=Bx(N0());return e.copy=function(){return Lc(e,GP()).constant(e.constant())},vn.apply(e,arguments)}function f1(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function ZR(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function e8(e){return e<0?-e*e:e*e}function zx(e){var t=e(ur,ur),r=1;function n(){return r===1?e(ur,ur):r===.5?e(ZR,e8):e(f1(r),f1(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},Ds(t)}function Ux(){var e=zx(N0());return e.copy=function(){return Lc(e,Ux()).exponent(e.exponent())},vn.apply(e,arguments),e}function t8(){return Ux.apply(null,arguments).exponent(.5)}function m1(e){return Math.sign(e)*e*e}function r8(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function YP(){var e=$x(),t=[0,1],r=!1,n;function a(s){var l=r8(e(s));return isNaN(l)?n:r?Math.round(l):l}return a.invert=function(s){return e.invert(m1(s))},a.domain=function(s){return arguments.length?(e.domain(s),a):e.domain()},a.range=function(s){return arguments.length?(e.range((t=Array.from(s,ef)).map(m1)),a):t.slice()},a.rangeRound=function(s){return a.range(s).round(!0)},a.round=function(s){return arguments.length?(r=!!s,a):r},a.clamp=function(s){return arguments.length?(e.clamp(s),a):e.clamp()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return YP(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},vn.apply(a,arguments),Ds(a)}function JP(){var e=[],t=[],r=[],n;function a(){var l=0,o=Math.max(1,t.length);for(r=new Array(o-1);++l<o;)r[l-1]=iR(e,l/o);return s}function s(l){return l==null||isNaN(l=+l)?n:t[$c(r,l)]}return s.invertExtent=function(l){var o=t.indexOf(l);return o<0?[NaN,NaN]:[o>0?r[o-1]:e[0],o<r.length?r[o]:e[e.length-1]]},s.domain=function(l){if(!arguments.length)return e.slice();e=[];for(let o of l)o!=null&&!isNaN(o=+o)&&e.push(o);return e.sort(ys),a()},s.range=function(l){return arguments.length?(t=Array.from(l),a()):t.slice()},s.unknown=function(l){return arguments.length?(n=l,s):n},s.quantiles=function(){return r.slice()},s.copy=function(){return JP().domain(e).range(t).unknown(n)},vn.apply(s,arguments)}function XP(){var e=0,t=1,r=1,n=[.5],a=[0,1],s;function l(c){return c!=null&&c<=c?a[$c(n,c,0,r)]:s}function o(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return l}return l.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,o()):[e,t]},l.range=function(c){return arguments.length?(r=(a=Array.from(c)).length-1,o()):a.slice()},l.invertExtent=function(c){var u=a.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},l.unknown=function(c){return arguments.length&&(s=c),l},l.thresholds=function(){return n.slice()},l.copy=function(){return XP().domain([e,t]).range(a).unknown(s)},vn.apply(Ds(l),arguments)}function QP(){var e=[.5],t=[0,1],r,n=1;function a(s){return s!=null&&s<=s?t[$c(e,s,0,n)]:r}return a.domain=function(s){return arguments.length?(e=Array.from(s),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(s){return arguments.length?(t=Array.from(s),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(s){var l=t.indexOf(s);return[e[l-1],e[l]]},a.unknown=function(s){return arguments.length?(r=s,a):r},a.copy=function(){return QP().domain(e).range(t).unknown(r)},vn.apply(a,arguments)}const Im=new Date,Mm=new Date;function Ct(e,t,r,n){function a(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return a.floor=s=>(e(s=new Date(+s)),s),a.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),a.round=s=>{const l=a(s),o=a.ceil(s);return s-l<o-s?l:o},a.offset=(s,l)=>(t(s=new Date(+s),l==null?1:Math.floor(l)),s),a.range=(s,l,o)=>{const c=[];if(s=a.ceil(s),o=o==null?1:Math.floor(o),!(s<l)||!(o>0))return c;let u;do c.push(u=new Date(+s)),t(s,o),e(s);while(u<s&&s<l);return c},a.filter=s=>Ct(l=>{if(l>=l)for(;e(l),!s(l);)l.setTime(l-1)},(l,o)=>{if(l>=l)if(o<0)for(;++o<=0;)for(;t(l,-1),!s(l););else for(;--o>=0;)for(;t(l,1),!s(l););}),r&&(a.count=(s,l)=>(Im.setTime(+s),Mm.setTime(+l),e(Im),e(Mm),Math.floor(r(Im,Mm))),a.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?a.filter(n?l=>n(l)%s===0:l=>a.count(0,l)%s===0):a)),a}const rf=Ct(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);rf.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Ct(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):rf);rf.range;const ya=1e3,un=ya*60,ba=un*60,_a=ba*24,Wx=_a*7,h1=_a*30,$m=_a*365,ti=Ct(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*ya)},(e,t)=>(t-e)/ya,e=>e.getUTCSeconds());ti.range;const Kx=Ct(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ya)},(e,t)=>{e.setTime(+e+t*un)},(e,t)=>(t-e)/un,e=>e.getMinutes());Kx.range;const Hx=Ct(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*un)},(e,t)=>(t-e)/un,e=>e.getUTCMinutes());Hx.range;const Vx=Ct(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ya-e.getMinutes()*un)},(e,t)=>{e.setTime(+e+t*ba)},(e,t)=>(t-e)/ba,e=>e.getHours());Vx.range;const qx=Ct(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*ba)},(e,t)=>(t-e)/ba,e=>e.getUTCHours());qx.range;const Fc=Ct(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*un)/_a,e=>e.getDate()-1);Fc.range;const S0=Ct(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/_a,e=>e.getUTCDate()-1);S0.range;const ZP=Ct(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/_a,e=>Math.floor(e/_a));ZP.range;function Si(e){return Ct(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*un)/Wx)}const P0=Si(0),nf=Si(1),n8=Si(2),a8=Si(3),bl=Si(4),s8=Si(5),i8=Si(6);P0.range;nf.range;n8.range;a8.range;bl.range;s8.range;i8.range;function Pi(e){return Ct(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/Wx)}const C0=Pi(0),af=Pi(1),l8=Pi(2),o8=Pi(3),wl=Pi(4),c8=Pi(5),u8=Pi(6);C0.range;af.range;l8.range;o8.range;wl.range;c8.range;u8.range;const Gx=Ct(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Gx.range;const Yx=Ct(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Yx.range;const Aa=Ct(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Aa.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Ct(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Aa.range;const Oa=Ct(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Oa.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Ct(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Oa.range;function eC(e,t,r,n,a,s){const l=[[ti,1,ya],[ti,5,5*ya],[ti,15,15*ya],[ti,30,30*ya],[s,1,un],[s,5,5*un],[s,15,15*un],[s,30,30*un],[a,1,ba],[a,3,3*ba],[a,6,6*ba],[a,12,12*ba],[n,1,_a],[n,2,2*_a],[r,1,Wx],[t,1,h1],[t,3,3*h1],[e,1,$m]];function o(u,d,f){const m=d<u;m&&([u,d]=[d,u]);const p=f&&typeof f.range=="function"?f:c(u,d,f),x=p?p.range(u,+d+1):[];return m?x.reverse():x}function c(u,d,f){const m=Math.abs(d-u)/f,p=Ax(([,,v])=>v).right(l,m);if(p===l.length)return e.every(wp(u/$m,d/$m,f));if(p===0)return rf.every(Math.max(wp(u,d,f),1));const[x,g]=l[m/l[p-1][2]<l[p][2]/m?p-1:p];return x.every(g)}return[o,c]}const[d8,f8]=eC(Oa,Yx,C0,ZP,qx,Hx),[m8,h8]=eC(Aa,Gx,P0,Fc,Vx,Kx);function Rm(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Lm(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function vo(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function p8(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,s=e.days,l=e.shortDays,o=e.months,c=e.shortMonths,u=yo(a),d=bo(a),f=yo(s),m=bo(s),p=yo(l),x=bo(l),g=yo(o),v=bo(o),b=yo(c),y=bo(c),w={a:G,A:M,b:W,B:J,c:null,d:b1,e:b1,f:L8,g:G8,G:J8,H:M8,I:$8,j:R8,L:tC,m:F8,M:B8,p:Q,q,Q:j1,s:N1,S:z8,u:U8,U:W8,V:K8,w:H8,W:V8,x:null,X:null,y:q8,Y:Y8,Z:X8,"%":k1},k={a:Pe,A:L,b:ae,B:Ne,c:null,d:w1,e:w1,f:tL,g:dL,G:mL,H:Q8,I:Z8,j:eL,L:nC,m:rL,M:nL,p:We,q:Me,Q:j1,s:N1,S:aL,u:sL,U:iL,V:lL,w:oL,W:cL,x:null,X:null,y:uL,Y:fL,Z:hL,"%":k1},N={a:O,A:$,b:B,B:U,c:T,d:v1,e:v1,f:O8,g:x1,G:g1,H:y1,I:y1,j:C8,L:A8,m:P8,M:E8,p:D,q:S8,Q:D8,s:I8,S:_8,u:b8,U:w8,V:k8,w:y8,W:j8,x:K,X:I,y:x1,Y:g1,Z:N8,"%":T8};w.x=S(r,w),w.X=S(n,w),w.c=S(t,w),k.x=S(r,k),k.X=S(n,k),k.c=S(t,k);function S(V,ee){return function(he){var A=[],oe=-1,Z=0,ge=V.length,xe,Re,qt;for(he instanceof Date||(he=new Date(+he));++oe<ge;)V.charCodeAt(oe)===37&&(A.push(V.slice(Z,oe)),(Re=p1[xe=V.charAt(++oe)])!=null?xe=V.charAt(++oe):Re=xe==="e"?" ":"0",(qt=ee[xe])&&(xe=qt(he,Re)),A.push(xe),Z=oe+1);return A.push(V.slice(Z,oe)),A.join("")}}function j(V,ee){return function(he){var A=vo(1900,void 0,1),oe=P(A,V,he+="",0),Z,ge;if(oe!=he.length)return null;if("Q"in A)return new Date(A.Q);if("s"in A)return new Date(A.s*1e3+("L"in A?A.L:0));if(ee&&!("Z"in A)&&(A.Z=0),"p"in A&&(A.H=A.H%12+A.p*12),A.m===void 0&&(A.m="q"in A?A.q:0),"V"in A){if(A.V<1||A.V>53)return null;"w"in A||(A.w=1),"Z"in A?(Z=Lm(vo(A.y,0,1)),ge=Z.getUTCDay(),Z=ge>4||ge===0?af.ceil(Z):af(Z),Z=S0.offset(Z,(A.V-1)*7),A.y=Z.getUTCFullYear(),A.m=Z.getUTCMonth(),A.d=Z.getUTCDate()+(A.w+6)%7):(Z=Rm(vo(A.y,0,1)),ge=Z.getDay(),Z=ge>4||ge===0?nf.ceil(Z):nf(Z),Z=Fc.offset(Z,(A.V-1)*7),A.y=Z.getFullYear(),A.m=Z.getMonth(),A.d=Z.getDate()+(A.w+6)%7)}else("W"in A||"U"in A)&&("w"in A||(A.w="u"in A?A.u%7:"W"in A?1:0),ge="Z"in A?Lm(vo(A.y,0,1)).getUTCDay():Rm(vo(A.y,0,1)).getDay(),A.m=0,A.d="W"in A?(A.w+6)%7+A.W*7-(ge+5)%7:A.w+A.U*7-(ge+6)%7);return"Z"in A?(A.H+=A.Z/100|0,A.M+=A.Z%100,Lm(A)):Rm(A)}}function P(V,ee,he,A){for(var oe=0,Z=ee.length,ge=he.length,xe,Re;oe<Z;){if(A>=ge)return-1;if(xe=ee.charCodeAt(oe++),xe===37){if(xe=ee.charAt(oe++),Re=N[xe in p1?ee.charAt(oe++):xe],!Re||(A=Re(V,he,A))<0)return-1}else if(xe!=he.charCodeAt(A++))return-1}return A}function D(V,ee,he){var A=u.exec(ee.slice(he));return A?(V.p=d.get(A[0].toLowerCase()),he+A[0].length):-1}function O(V,ee,he){var A=p.exec(ee.slice(he));return A?(V.w=x.get(A[0].toLowerCase()),he+A[0].length):-1}function $(V,ee,he){var A=f.exec(ee.slice(he));return A?(V.w=m.get(A[0].toLowerCase()),he+A[0].length):-1}function B(V,ee,he){var A=b.exec(ee.slice(he));return A?(V.m=y.get(A[0].toLowerCase()),he+A[0].length):-1}function U(V,ee,he){var A=g.exec(ee.slice(he));return A?(V.m=v.get(A[0].toLowerCase()),he+A[0].length):-1}function T(V,ee,he){return P(V,t,ee,he)}function K(V,ee,he){return P(V,r,ee,he)}function I(V,ee,he){return P(V,n,ee,he)}function G(V){return l[V.getDay()]}function M(V){return s[V.getDay()]}function W(V){return c[V.getMonth()]}function J(V){return o[V.getMonth()]}function Q(V){return a[+(V.getHours()>=12)]}function q(V){return 1+~~(V.getMonth()/3)}function Pe(V){return l[V.getUTCDay()]}function L(V){return s[V.getUTCDay()]}function ae(V){return c[V.getUTCMonth()]}function Ne(V){return o[V.getUTCMonth()]}function We(V){return a[+(V.getUTCHours()>=12)]}function Me(V){return 1+~~(V.getUTCMonth()/3)}return{format:function(V){var ee=S(V+="",w);return ee.toString=function(){return V},ee},parse:function(V){var ee=j(V+="",!1);return ee.toString=function(){return V},ee},utcFormat:function(V){var ee=S(V+="",k);return ee.toString=function(){return V},ee},utcParse:function(V){var ee=j(V+="",!0);return ee.toString=function(){return V},ee}}}var p1={"-":"",_:" ",0:"0"},It=/^\s*\d+/,g8=/^%/,x8=/[\\^$*+?|[\]().{}]/g;function $e(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",s=a.length;return n+(s<r?new Array(r-s+1).join(t)+a:a)}function v8(e){return e.replace(x8,"\\$&")}function yo(e){return new RegExp("^(?:"+e.map(v8).join("|")+")","i")}function bo(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function y8(e,t,r){var n=It.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function b8(e,t,r){var n=It.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function w8(e,t,r){var n=It.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function k8(e,t,r){var n=It.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function j8(e,t,r){var n=It.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function g1(e,t,r){var n=It.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function x1(e,t,r){var n=It.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function N8(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function S8(e,t,r){var n=It.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function P8(e,t,r){var n=It.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function v1(e,t,r){var n=It.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function C8(e,t,r){var n=It.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function y1(e,t,r){var n=It.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function E8(e,t,r){var n=It.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function _8(e,t,r){var n=It.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function A8(e,t,r){var n=It.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function O8(e,t,r){var n=It.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function T8(e,t,r){var n=g8.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function D8(e,t,r){var n=It.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function I8(e,t,r){var n=It.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function b1(e,t){return $e(e.getDate(),t,2)}function M8(e,t){return $e(e.getHours(),t,2)}function $8(e,t){return $e(e.getHours()%12||12,t,2)}function R8(e,t){return $e(1+Fc.count(Aa(e),e),t,3)}function tC(e,t){return $e(e.getMilliseconds(),t,3)}function L8(e,t){return tC(e,t)+"000"}function F8(e,t){return $e(e.getMonth()+1,t,2)}function B8(e,t){return $e(e.getMinutes(),t,2)}function z8(e,t){return $e(e.getSeconds(),t,2)}function U8(e){var t=e.getDay();return t===0?7:t}function W8(e,t){return $e(P0.count(Aa(e)-1,e),t,2)}function rC(e){var t=e.getDay();return t>=4||t===0?bl(e):bl.ceil(e)}function K8(e,t){return e=rC(e),$e(bl.count(Aa(e),e)+(Aa(e).getDay()===4),t,2)}function H8(e){return e.getDay()}function V8(e,t){return $e(nf.count(Aa(e)-1,e),t,2)}function q8(e,t){return $e(e.getFullYear()%100,t,2)}function G8(e,t){return e=rC(e),$e(e.getFullYear()%100,t,2)}function Y8(e,t){return $e(e.getFullYear()%1e4,t,4)}function J8(e,t){var r=e.getDay();return e=r>=4||r===0?bl(e):bl.ceil(e),$e(e.getFullYear()%1e4,t,4)}function X8(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+$e(t/60|0,"0",2)+$e(t%60,"0",2)}function w1(e,t){return $e(e.getUTCDate(),t,2)}function Q8(e,t){return $e(e.getUTCHours(),t,2)}function Z8(e,t){return $e(e.getUTCHours()%12||12,t,2)}function eL(e,t){return $e(1+S0.count(Oa(e),e),t,3)}function nC(e,t){return $e(e.getUTCMilliseconds(),t,3)}function tL(e,t){return nC(e,t)+"000"}function rL(e,t){return $e(e.getUTCMonth()+1,t,2)}function nL(e,t){return $e(e.getUTCMinutes(),t,2)}function aL(e,t){return $e(e.getUTCSeconds(),t,2)}function sL(e){var t=e.getUTCDay();return t===0?7:t}function iL(e,t){return $e(C0.count(Oa(e)-1,e),t,2)}function aC(e){var t=e.getUTCDay();return t>=4||t===0?wl(e):wl.ceil(e)}function lL(e,t){return e=aC(e),$e(wl.count(Oa(e),e)+(Oa(e).getUTCDay()===4),t,2)}function oL(e){return e.getUTCDay()}function cL(e,t){return $e(af.count(Oa(e)-1,e),t,2)}function uL(e,t){return $e(e.getUTCFullYear()%100,t,2)}function dL(e,t){return e=aC(e),$e(e.getUTCFullYear()%100,t,2)}function fL(e,t){return $e(e.getUTCFullYear()%1e4,t,4)}function mL(e,t){var r=e.getUTCDay();return e=r>=4||r===0?wl(e):wl.ceil(e),$e(e.getUTCFullYear()%1e4,t,4)}function hL(){return"+0000"}function k1(){return"%"}function j1(e){return+e}function N1(e){return Math.floor(+e/1e3)}var Di,sC,iC;pL({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function pL(e){return Di=p8(e),sC=Di.format,Di.parse,iC=Di.utcFormat,Di.utcParse,Di}function gL(e){return new Date(e)}function xL(e){return e instanceof Date?+e:+new Date(+e)}function Jx(e,t,r,n,a,s,l,o,c,u){var d=$x(),f=d.invert,m=d.domain,p=u(".%L"),x=u(":%S"),g=u("%I:%M"),v=u("%I %p"),b=u("%a %d"),y=u("%b %d"),w=u("%B"),k=u("%Y");function N(S){return(c(S)<S?p:o(S)<S?x:l(S)<S?g:s(S)<S?v:n(S)<S?a(S)<S?b:y:r(S)<S?w:k)(S)}return d.invert=function(S){return new Date(f(S))},d.domain=function(S){return arguments.length?m(Array.from(S,xL)):m().map(gL)},d.ticks=function(S){var j=m();return e(j[0],j[j.length-1],S??10)},d.tickFormat=function(S,j){return j==null?N:u(j)},d.nice=function(S){var j=m();return(!S||typeof S.range!="function")&&(S=t(j[0],j[j.length-1],S??10)),S?m(VP(j,S)):d},d.copy=function(){return Lc(d,Jx(e,t,r,n,a,s,l,o,c,u))},d}function vL(){return vn.apply(Jx(m8,h8,Aa,Gx,P0,Fc,Vx,Kx,ti,sC).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function yL(){return vn.apply(Jx(d8,f8,Oa,Yx,C0,S0,qx,Hx,ti,iC).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function E0(){var e=0,t=1,r,n,a,s,l=ur,o=!1,c;function u(f){return f==null||isNaN(f=+f)?c:l(a===0?.5:(f=(s(f)-r)*a,o?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=s(e=+e),n=s(t=+t),a=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(f){return arguments.length?(o=!!f,u):o},u.interpolator=function(f){return arguments.length?(l=f,u):l};function d(f){return function(m){var p,x;return arguments.length?([p,x]=m,l=f(p,x),u):[l(0),l(1)]}}return u.range=d(Dl),u.rangeRound=d(Mx),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return s=f,r=f(e),n=f(t),a=r===n?0:1/(n-r),u}}function Is(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function lC(){var e=Ds(E0()(ur));return e.copy=function(){return Is(e,lC())},La.apply(e,arguments)}function oC(){var e=Fx(E0()).domain([1,10]);return e.copy=function(){return Is(e,oC()).base(e.base())},La.apply(e,arguments)}function cC(){var e=Bx(E0());return e.copy=function(){return Is(e,cC()).constant(e.constant())},La.apply(e,arguments)}function Xx(){var e=zx(E0());return e.copy=function(){return Is(e,Xx()).exponent(e.exponent())},La.apply(e,arguments)}function bL(){return Xx.apply(null,arguments).exponent(.5)}function uC(){var e=[],t=ur;function r(n){if(n!=null&&!isNaN(n=+n))return t(($c(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(ys),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,s)=>sR(e,s/n))},r.copy=function(){return uC(t).domain(e)},La.apply(r,arguments)}function _0(){var e=0,t=.5,r=1,n=1,a,s,l,o,c,u=ur,d,f=!1,m;function p(g){return isNaN(g=+g)?m:(g=.5+((g=+d(g))-s)*(n*g<n*s?o:c),u(f?Math.max(0,Math.min(1,g)):g))}p.domain=function(g){return arguments.length?([e,t,r]=g,a=d(e=+e),s=d(t=+t),l=d(r=+r),o=a===s?0:.5/(s-a),c=s===l?0:.5/(l-s),n=s<a?-1:1,p):[e,t,r]},p.clamp=function(g){return arguments.length?(f=!!g,p):f},p.interpolator=function(g){return arguments.length?(u=g,p):u};function x(g){return function(v){var b,y,w;return arguments.length?([b,y,w]=v,u=TR(g,[b,y,w]),p):[u(0),u(.5),u(1)]}}return p.range=x(Dl),p.rangeRound=x(Mx),p.unknown=function(g){return arguments.length?(m=g,p):m},function(g){return d=g,a=g(e),s=g(t),l=g(r),o=a===s?0:.5/(s-a),c=s===l?0:.5/(l-s),n=s<a?-1:1,p}}function dC(){var e=Ds(_0()(ur));return e.copy=function(){return Is(e,dC())},La.apply(e,arguments)}function fC(){var e=Fx(_0()).domain([.1,1,10]);return e.copy=function(){return Is(e,fC()).base(e.base())},La.apply(e,arguments)}function mC(){var e=Bx(_0());return e.copy=function(){return Is(e,mC()).constant(e.constant())},La.apply(e,arguments)}function Qx(){var e=zx(_0());return e.copy=function(){return Is(e,Qx()).exponent(e.exponent())},La.apply(e,arguments)}function wL(){return Qx.apply(null,arguments).exponent(.5)}const Eo=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Tx,scaleDiverging:dC,scaleDivergingLog:fC,scaleDivergingPow:Qx,scaleDivergingSqrt:wL,scaleDivergingSymlog:mC,scaleIdentity:HP,scaleImplicit:kp,scaleLinear:KP,scaleLog:qP,scaleOrdinal:Ox,scalePoint:oR,scalePow:Ux,scaleQuantile:JP,scaleQuantize:XP,scaleRadial:YP,scaleSequential:lC,scaleSequentialLog:oC,scaleSequentialPow:Xx,scaleSequentialQuantile:uC,scaleSequentialSqrt:bL,scaleSequentialSymlog:cC,scaleSqrt:t8,scaleSymlog:GP,scaleThreshold:QP,scaleTime:vL,scaleUtc:yL,tickFormat:WP},Symbol.toStringTag,{value:"Module"}));var Ms=e=>e.chartData,Zx=R([Ms],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),A0=(e,t,r,n)=>n?Zx(e):Ms(e);function kl(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(qr(t)&&qr(r))return!0}return!1}function S1(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function kL(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,a,s;if(qr(r))a=r;else if(typeof r=="function")return;if(qr(n))s=n;else if(typeof n=="function")return;var l=[a,s];if(kl(l))return l}}function jL(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(kl(n))return S1(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[a,s]=e,l,o;if(a==="auto")t!=null&&(l=Math.min(...t));else if(me(a))l=a;else if(typeof a=="function")try{t!=null&&(l=a(t==null?void 0:t[0]))}catch{}else if(typeof a=="string"&&ww.test(a)){var c=ww.exec(a);if(c==null||t==null)l=void 0;else{var u=+c[1];l=t[0]-u}}else l=t==null?void 0:t[0];if(s==="auto")t!=null&&(o=Math.max(...t));else if(me(s))o=s;else if(typeof s=="function")try{t!=null&&(o=s(t==null?void 0:t[1]))}catch{}else if(typeof s=="string"&&kw.test(s)){var d=kw.exec(s);if(d==null||t==null)o=void 0;else{var f=+d[1];o=t[1]+f}}else o=t==null?void 0:t[1];var m=[l,o];if(kl(m))return t==null?m:S1(m,t,r)}}}var Il=1e9,NL={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},tv,Ze=!0,gn="[DecimalError] ",ci=gn+"Invalid argument: ",ev=gn+"Exponent out of range: ",Ml=Math.floor,Vs=Math.pow,SL=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Br,At=1e7,Ye=7,hC=9007199254740991,sf=Ml(hC/Ye),ne={};ne.absoluteValue=ne.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};ne.comparedTo=ne.cmp=function(e){var t,r,n,a,s=this;if(e=new s.constructor(e),s.s!==e.s)return s.s||-e.s;if(s.e!==e.e)return s.e>e.e^s.s<0?1:-1;for(n=s.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(s.d[t]!==e.d[t])return s.d[t]>e.d[t]^s.s<0?1:-1;return n===a?0:n>a^s.s<0?1:-1};ne.decimalPlaces=ne.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Ye;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};ne.dividedBy=ne.div=function(e){return ja(this,new this.constructor(e))};ne.dividedToIntegerBy=ne.idiv=function(e){var t=this,r=t.constructor;return ze(ja(t,new r(e),0,1),r.precision)};ne.equals=ne.eq=function(e){return!this.cmp(e)};ne.exponent=function(){return wt(this)};ne.greaterThan=ne.gt=function(e){return this.cmp(e)>0};ne.greaterThanOrEqualTo=ne.gte=function(e){return this.cmp(e)>=0};ne.isInteger=ne.isint=function(){return this.e>this.d.length-2};ne.isNegative=ne.isneg=function(){return this.s<0};ne.isPositive=ne.ispos=function(){return this.s>0};ne.isZero=function(){return this.s===0};ne.lessThan=ne.lt=function(e){return this.cmp(e)<0};ne.lessThanOrEqualTo=ne.lte=function(e){return this.cmp(e)<1};ne.logarithm=ne.log=function(e){var t,r=this,n=r.constructor,a=n.precision,s=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Br))throw Error(gn+"NaN");if(r.s<1)throw Error(gn+(r.s?"NaN":"-Infinity"));return r.eq(Br)?new n(0):(Ze=!1,t=ja(vc(r,s),vc(e,s),s),Ze=!0,ze(t,a))};ne.minus=ne.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?xC(t,e):pC(t,(e.s=-e.s,e))};ne.modulo=ne.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(gn+"NaN");return r.s?(Ze=!1,t=ja(r,e,0,1).times(e),Ze=!0,r.minus(t)):ze(new n(r),a)};ne.naturalExponential=ne.exp=function(){return gC(this)};ne.naturalLogarithm=ne.ln=function(){return vc(this)};ne.negated=ne.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};ne.plus=ne.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?pC(t,e):xC(t,(e.s=-e.s,e))};ne.precision=ne.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(ci+e);if(t=wt(a)+1,n=a.d.length-1,r=n*Ye+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};ne.squareRoot=ne.sqrt=function(){var e,t,r,n,a,s,l,o=this,c=o.constructor;if(o.s<1){if(!o.s)return new c(0);throw Error(gn+"NaN")}for(e=wt(o),Ze=!1,a=Math.sqrt(+o),a==0||a==1/0?(t=Yn(o.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=Ml((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(a.toString()),r=c.precision,a=l=r+3;;)if(s=n,n=s.plus(ja(o,s,l+2)).times(.5),Yn(s.d).slice(0,l)===(t=Yn(n.d)).slice(0,l)){if(t=t.slice(l-3,l+1),a==l&&t=="4999"){if(ze(s,r+1,0),s.times(s).eq(o)){n=s;break}}else if(t!="9999")break;l+=4}return Ze=!0,ze(n,r)};ne.times=ne.mul=function(e){var t,r,n,a,s,l,o,c,u,d=this,f=d.constructor,m=d.d,p=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,c=m.length,u=p.length,c<u&&(s=m,m=p,p=s,l=c,c=u,u=l),s=[],l=c+u,n=l;n--;)s.push(0);for(n=u;--n>=0;){for(t=0,a=c+n;a>n;)o=s[a]+p[n]*m[a-n-1]+t,s[a--]=o%At|0,t=o/At|0;s[a]=(s[a]+t)%At|0}for(;!s[--l];)s.pop();return t?++r:s.shift(),e.d=s,e.e=r,Ze?ze(e,f.precision):e};ne.toDecimalPlaces=ne.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(ea(e,0,Il),t===void 0?t=n.rounding:ea(t,0,8),ze(r,e+wt(r)+1,t))};ne.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=bi(n,!0):(ea(e,0,Il),t===void 0?t=a.rounding:ea(t,0,8),n=ze(new a(n),e+1,t),r=bi(n,!0,e+1)),r};ne.toFixed=function(e,t){var r,n,a=this,s=a.constructor;return e===void 0?bi(a):(ea(e,0,Il),t===void 0?t=s.rounding:ea(t,0,8),n=ze(new s(a),e+wt(a)+1,t),r=bi(n.abs(),!1,e+wt(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};ne.toInteger=ne.toint=function(){var e=this,t=e.constructor;return ze(new t(e),wt(e)+1,t.rounding)};ne.toNumber=function(){return+this};ne.toPower=ne.pow=function(e){var t,r,n,a,s,l,o=this,c=o.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(Br);if(o=new c(o),!o.s){if(e.s<1)throw Error(gn+"Infinity");return o}if(o.eq(Br))return o;if(n=c.precision,e.eq(Br))return ze(o,n);if(t=e.e,r=e.d.length-1,l=t>=r,s=o.s,l){if((r=d<0?-d:d)<=hC){for(a=new c(Br),t=Math.ceil(n/Ye+4),Ze=!1;r%2&&(a=a.times(o),C1(a.d,t)),r=Ml(r/2),r!==0;)o=o.times(o),C1(o.d,t);return Ze=!0,e.s<0?new c(Br).div(a):ze(a,n)}}else if(s<0)throw Error(gn+"NaN");return s=s<0&&e.d[Math.max(t,r)]&1?-1:1,o.s=1,Ze=!1,a=e.times(vc(o,n+u)),Ze=!0,a=gC(a),a.s=s,a};ne.toPrecision=function(e,t){var r,n,a=this,s=a.constructor;return e===void 0?(r=wt(a),n=bi(a,r<=s.toExpNeg||r>=s.toExpPos)):(ea(e,1,Il),t===void 0?t=s.rounding:ea(t,0,8),a=ze(new s(a),e,t),r=wt(a),n=bi(a,e<=r||r<=s.toExpNeg,e)),n};ne.toSignificantDigits=ne.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(ea(e,1,Il),t===void 0?t=n.rounding:ea(t,0,8)),ze(new n(r),e,t)};ne.toString=ne.valueOf=ne.val=ne.toJSON=ne[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=wt(e),r=e.constructor;return bi(e,t<=r.toExpNeg||t>=r.toExpPos)};function pC(e,t){var r,n,a,s,l,o,c,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),Ze?ze(t,f):t;if(c=e.d,u=t.d,l=e.e,a=t.e,c=c.slice(),s=l-a,s){for(s<0?(n=c,s=-s,o=u.length):(n=u,a=l,o=c.length),l=Math.ceil(f/Ye),o=l>o?l+1:o+1,s>o&&(s=o,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for(o=c.length,s=u.length,o-s<0&&(s=o,n=u,u=c,c=n),r=0;s;)r=(c[--s]=c[s]+u[s]+r)/At|0,c[s]%=At;for(r&&(c.unshift(r),++a),o=c.length;c[--o]==0;)c.pop();return t.d=c,t.e=a,Ze?ze(t,f):t}function ea(e,t,r){if(e!==~~e||e<t||e>r)throw Error(ci+e)}function Yn(e){var t,r,n,a=e.length-1,s="",l=e[0];if(a>0){for(s+=l,t=1;t<a;t++)n=e[t]+"",r=Ye-n.length,r&&(s+=Za(r)),s+=n;l=e[t],n=l+"",r=Ye-n.length,r&&(s+=Za(r))}else if(l===0)return"0";for(;l%10===0;)l/=10;return s+l}var ja=function(){function e(n,a){var s,l=0,o=n.length;for(n=n.slice();o--;)s=n[o]*a+l,n[o]=s%At|0,l=s/At|0;return l&&n.unshift(l),n}function t(n,a,s,l){var o,c;if(s!=l)c=s>l?1:-1;else for(o=c=0;o<s;o++)if(n[o]!=a[o]){c=n[o]>a[o]?1:-1;break}return c}function r(n,a,s){for(var l=0;s--;)n[s]-=l,l=n[s]<a[s]?1:0,n[s]=l*At+n[s]-a[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,s,l){var o,c,u,d,f,m,p,x,g,v,b,y,w,k,N,S,j,P,D=n.constructor,O=n.s==a.s?1:-1,$=n.d,B=a.d;if(!n.s)return new D(n);if(!a.s)throw Error(gn+"Division by zero");for(c=n.e-a.e,j=B.length,N=$.length,p=new D(O),x=p.d=[],u=0;B[u]==($[u]||0);)++u;if(B[u]>($[u]||0)&&--c,s==null?y=s=D.precision:l?y=s+(wt(n)-wt(a))+1:y=s,y<0)return new D(0);if(y=y/Ye+2|0,u=0,j==1)for(d=0,B=B[0],y++;(u<N||d)&&y--;u++)w=d*At+($[u]||0),x[u]=w/B|0,d=w%B|0;else{for(d=At/(B[0]+1)|0,d>1&&(B=e(B,d),$=e($,d),j=B.length,N=$.length),k=j,g=$.slice(0,j),v=g.length;v<j;)g[v++]=0;P=B.slice(),P.unshift(0),S=B[0],B[1]>=At/2&&++S;do d=0,o=t(B,g,j,v),o<0?(b=g[0],j!=v&&(b=b*At+(g[1]||0)),d=b/S|0,d>1?(d>=At&&(d=At-1),f=e(B,d),m=f.length,v=g.length,o=t(f,g,m,v),o==1&&(d--,r(f,j<m?P:B,m))):(d==0&&(o=d=1),f=B.slice()),m=f.length,m<v&&f.unshift(0),r(g,f,v),o==-1&&(v=g.length,o=t(B,g,j,v),o<1&&(d++,r(g,j<v?P:B,v))),v=g.length):o===0&&(d++,g=[0]),x[u++]=d,o&&g[0]?g[v++]=$[k]||0:(g=[$[k]],v=1);while((k++<N||g[0]!==void 0)&&y--)}return x[0]||x.shift(),p.e=c,ze(p,l?s+wt(p)+1:s)}}();function gC(e,t){var r,n,a,s,l,o,c=0,u=0,d=e.constructor,f=d.precision;if(wt(e)>16)throw Error(ev+wt(e));if(!e.s)return new d(Br);for(t==null?(Ze=!1,o=f):o=t,l=new d(.03125);e.abs().gte(.1);)e=e.times(l),u+=5;for(n=Math.log(Vs(2,u))/Math.LN10*2+5|0,o+=n,r=a=s=new d(Br),d.precision=o;;){if(a=ze(a.times(e),o),r=r.times(++c),l=s.plus(ja(a,r,o)),Yn(l.d).slice(0,o)===Yn(s.d).slice(0,o)){for(;u--;)s=ze(s.times(s),o);return d.precision=f,t==null?(Ze=!0,ze(s,f)):s}s=l}}function wt(e){for(var t=e.e*Ye,r=e.d[0];r>=10;r/=10)t++;return t}function Fm(e,t,r){if(t>e.LN10.sd())throw Ze=!0,r&&(e.precision=r),Error(gn+"LN10 precision limit exceeded");return ze(new e(e.LN10),t)}function Za(e){for(var t="";e--;)t+="0";return t}function vc(e,t){var r,n,a,s,l,o,c,u,d,f=1,m=10,p=e,x=p.d,g=p.constructor,v=g.precision;if(p.s<1)throw Error(gn+(p.s?"NaN":"-Infinity"));if(p.eq(Br))return new g(0);if(t==null?(Ze=!1,u=v):u=t,p.eq(10))return t==null&&(Ze=!0),Fm(g,u);if(u+=m,g.precision=u,r=Yn(x),n=r.charAt(0),s=wt(p),Math.abs(s)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(e),r=Yn(p.d),n=r.charAt(0),f++;s=wt(p),n>1?(p=new g("0."+r),s++):p=new g(n+"."+r.slice(1))}else return c=Fm(g,u+2,v).times(s+""),p=vc(new g(n+"."+r.slice(1)),u-m).plus(c),g.precision=v,t==null?(Ze=!0,ze(p,v)):p;for(o=l=p=ja(p.minus(Br),p.plus(Br),u),d=ze(p.times(p),u),a=3;;){if(l=ze(l.times(d),u),c=o.plus(ja(l,new g(a),u)),Yn(c.d).slice(0,u)===Yn(o.d).slice(0,u))return o=o.times(2),s!==0&&(o=o.plus(Fm(g,u+2,v).times(s+""))),o=ja(o,new g(f),u),g.precision=v,t==null?(Ze=!0,ze(o,v)):o;o=c,a+=2}}function P1(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=Ml(r/Ye),e.d=[],n=(r+1)%Ye,r<0&&(n+=Ye),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=Ye;n<a;)e.d.push(+t.slice(n,n+=Ye));t=t.slice(n),n=Ye-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),Ze&&(e.e>sf||e.e<-sf))throw Error(ev+r)}else e.s=0,e.e=0,e.d=[0];return e}function ze(e,t,r){var n,a,s,l,o,c,u,d,f=e.d;for(l=1,s=f[0];s>=10;s/=10)l++;if(n=t-l,n<0)n+=Ye,a=t,u=f[d=0];else{if(d=Math.ceil((n+1)/Ye),s=f.length,d>=s)return e;for(u=s=f[d],l=1;s>=10;s/=10)l++;n%=Ye,a=n-Ye+l}if(r!==void 0&&(s=Vs(10,l-a-1),o=u/s%10|0,c=t<0||f[d+1]!==void 0||u%s,c=r<4?(o||c)&&(r==0||r==(e.s<0?3:2)):o>5||o==5&&(r==4||c||r==6&&(n>0?a>0?u/Vs(10,l-a):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return c?(s=wt(e),f.length=1,t=t-s-1,f[0]=Vs(10,(Ye-t%Ye)%Ye),e.e=Ml(-t/Ye)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,s=1,d--):(f.length=d+1,s=Vs(10,Ye-n),f[d]=a>0?(u/Vs(10,l-a)%Vs(10,a)|0)*s:0),c)for(;;)if(d==0){(f[0]+=s)==At&&(f[0]=1,++e.e);break}else{if(f[d]+=s,f[d]!=At)break;f[d--]=0,s=1}for(n=f.length;f[--n]===0;)f.pop();if(Ze&&(e.e>sf||e.e<-sf))throw Error(ev+wt(e));return e}function xC(e,t){var r,n,a,s,l,o,c,u,d,f,m=e.constructor,p=m.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new m(e),Ze?ze(t,p):t;if(c=e.d,f=t.d,n=t.e,u=e.e,c=c.slice(),l=u-n,l){for(d=l<0,d?(r=c,l=-l,o=f.length):(r=f,n=u,o=c.length),a=Math.max(Math.ceil(p/Ye),o)+2,l>a&&(l=a,r.length=1),r.reverse(),a=l;a--;)r.push(0);r.reverse()}else{for(a=c.length,o=f.length,d=a<o,d&&(o=a),a=0;a<o;a++)if(c[a]!=f[a]){d=c[a]<f[a];break}l=0}for(d&&(r=c,c=f,f=r,t.s=-t.s),o=c.length,a=f.length-o;a>0;--a)c[o++]=0;for(a=f.length;a>l;){if(c[--a]<f[a]){for(s=a;s&&c[--s]===0;)c[s]=At-1;--c[s],c[a]+=At}c[a]-=f[a]}for(;c[--o]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,Ze?ze(t,p):t):new m(0)}function bi(e,t,r){var n,a=wt(e),s=Yn(e.d),l=s.length;return t?(r&&(n=r-l)>0?s=s.charAt(0)+"."+s.slice(1)+Za(n):l>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(a<0?"e":"e+")+a):a<0?(s="0."+Za(-a-1)+s,r&&(n=r-l)>0&&(s+=Za(n))):a>=l?(s+=Za(a+1-l),r&&(n=r-a-1)>0&&(s=s+"."+Za(n))):((n=a+1)<l&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-l)>0&&(a+1===l&&(s+="."),s+=Za(n))),e.s<0?"-"+s:s}function C1(e,t){if(e.length>t)return e.length=t,!0}function vC(e){var t,r,n;function a(s){var l=this;if(!(l instanceof a))return new a(s);if(l.constructor=a,s instanceof a){l.s=s.s,l.e=s.e,l.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(ci+s);if(s>0)l.s=1;else if(s<0)s=-s,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(s===~~s&&s<1e7){l.e=0,l.d=[s];return}return P1(l,s.toString())}else if(typeof s!="string")throw Error(ci+s);if(s.charCodeAt(0)===45?(s=s.slice(1),l.s=-1):l.s=1,SL.test(s))P1(l,s);else throw Error(ci+s)}if(a.prototype=ne,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=vC,a.config=a.set=PL,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function PL(e){if(!e||typeof e!="object")throw Error(gn+"Object expected");var t,r,n,a=["precision",1,Il,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(Ml(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(ci+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(ci+r+": "+n);return this}var tv=vC(NL);Br=new tv(1);const Fe=tv;var CL=e=>e,yC={"@@functional/placeholder":!0},bC=e=>e===yC,E1=e=>function t(){return arguments.length===0||arguments.length===1&&bC(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},wC=(e,t)=>e===1?t:E1(function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];var s=n.filter(l=>l!==yC).length;return s>=e?t(...n):wC(e-s,E1(function(){for(var l=arguments.length,o=new Array(l),c=0;c<l;c++)o[c]=arguments[c];var u=n.map(d=>bC(d)?o.shift():d);return t(...u,...o)}))}),O0=e=>wC(e.length,e),Pp=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},EL=O0((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),_L=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return CL;var a=r.reverse(),s=a[0],l=a.slice(1);return function(){return l.reduce((o,c)=>c(o),s(...arguments))}},Cp=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),kC=e=>{var t=null,r=null;return function(){for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return t&&a.every((l,o)=>{var c;return l===((c=t)===null||c===void 0?void 0:c[o])})||(t=a,r=e(...a)),r}};function jC(e){var t;return e===0?t=1:t=Math.floor(new Fe(e).abs().log(10).toNumber())+1,t}function NC(e,t,r){for(var n=new Fe(e),a=0,s=[];n.lt(t)&&a<1e5;)s.push(n.toNumber()),n=n.add(r),a++;return s}O0((e,t,r)=>{var n=+e,a=+t;return n+r*(a-n)});O0((e,t,r)=>{var n=t-+e;return n=n||1/0,(r-e)/n});O0((e,t,r)=>{var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});var SC=e=>{var[t,r]=e,[n,a]=[t,r];return t>r&&([n,a]=[r,t]),[n,a]},PC=(e,t,r)=>{if(e.lte(0))return new Fe(0);var n=jC(e.toNumber()),a=new Fe(10).pow(n),s=e.div(a),l=n!==1?.05:.1,o=new Fe(Math.ceil(s.div(l).toNumber())).add(r).mul(l),c=o.mul(a);return t?new Fe(c.toNumber()):new Fe(Math.ceil(c.toNumber()))},AL=(e,t,r)=>{var n=new Fe(1),a=new Fe(e);if(!a.isint()&&r){var s=Math.abs(e);s<1?(n=new Fe(10).pow(jC(e)-1),a=new Fe(Math.floor(a.div(n).toNumber())).mul(n)):s>1&&(a=new Fe(Math.floor(e)))}else e===0?a=new Fe(Math.floor((t-1)/2)):r||(a=new Fe(Math.floor(e)));var l=Math.floor((t-1)/2),o=_L(EL(c=>a.add(new Fe(c-l).mul(n)).toNumber()),Pp);return o(0,t)},CC=function(t,r,n,a){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new Fe(0),tickMin:new Fe(0),tickMax:new Fe(0)};var l=PC(new Fe(r).sub(t).div(n-1),a,s),o;t<=0&&r>=0?o=new Fe(0):(o=new Fe(t).add(r).div(2),o=o.sub(new Fe(o).mod(l)));var c=Math.ceil(o.sub(t).div(l).toNumber()),u=Math.ceil(new Fe(r).sub(o).div(l).toNumber()),d=c+u+1;return d>n?CC(t,r,n,a,s+1):(d<n&&(u=r>0?u+(n-d):u,c=r>0?c:c+(n-d)),{step:l,tickMin:o.sub(new Fe(c).mul(l)),tickMax:o.add(new Fe(u).mul(l))})};function OL(e){var[t,r]=e,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(n,2),[l,o]=SC([t,r]);if(l===-1/0||o===1/0){var c=o===1/0?[l,...Pp(0,n-1).map(()=>1/0)]:[...Pp(0,n-1).map(()=>-1/0),o];return t>r?Cp(c):c}if(l===o)return AL(l,n,a);var{step:u,tickMin:d,tickMax:f}=CC(l,o,s,a,0),m=NC(d,f.add(new Fe(.1).mul(u)),u);return t>r?Cp(m):m}function TL(e,t){var[r,n]=e,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[s,l]=SC([r,n]);if(s===-1/0||l===1/0)return[r,n];if(s===l)return[s];var o=Math.max(t,2),c=PC(new Fe(l).sub(s).div(o-1),a,0),u=[...NC(new Fe(s),new Fe(l),c),l];return a===!1&&(u=u.map(d=>Math.round(d))),r>n?Cp(u):u}var DL=kC(OL),IL=kC(TL),EC=e=>e.rootProps.maxBarSize,ML=e=>e.rootProps.barGap,_C=e=>e.rootProps.barCategoryGap,$L=e=>e.rootProps.barSize,Bc=e=>e.rootProps.stackOffset,rv=e=>e.options.chartName,nv=e=>e.rootProps.syncId,AC=e=>e.rootProps.syncMethod,av=e=>e.options.eventEmitter,ha={allowDuplicatedCategory:!0,angleAxisId:0,axisLine:!0,cx:0,cy:0,orientation:"outer",reversed:!1,scale:"auto",tick:!0,tickLine:!0,tickSize:8,type:"category"},Lr={allowDataOverflow:!1,allowDuplicatedCategory:!0,angle:0,axisLine:!0,cx:0,cy:0,orientation:"right",radiusAxisId:0,scale:"auto",stroke:"#ccc",tick:!0,tickCount:5,type:"number"},T0=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},RL={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:ha.angleAxisId,includeHidden:!1,name:void 0,reversed:ha.reversed,scale:ha.scale,tick:ha.tick,tickCount:void 0,ticks:void 0,type:ha.type,unit:void 0},LL={allowDataOverflow:Lr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Lr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Lr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Lr.scale,tick:Lr.tick,tickCount:Lr.tickCount,ticks:void 0,type:Lr.type,unit:void 0},FL={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:ha.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ha.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ha.scale,tick:ha.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},BL={allowDataOverflow:Lr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Lr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Lr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Lr.scale,tick:Lr.tick,tickCount:Lr.tickCount,ticks:void 0,type:"category",unit:void 0},sv=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?FL:RL,iv=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?BL:LL,D0=e=>e.polarOptions,lv=R([$a,Ra,Pt],oP),OC=R([D0,lv],(e,t)=>{if(e!=null)return nr(e.innerRadius,t,0)}),TC=R([D0,lv],(e,t)=>{if(e!=null)return nr(e.outerRadius,t,t*.8)}),zL=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},DC=R([D0],zL);R([sv,DC],T0);var IC=R([lv,OC,TC],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});R([iv,IC],T0);var MC=R([Te,D0,OC,TC,$a,Ra],(e,t,r,n,a,s)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:l,cy:o,startAngle:c,endAngle:u}=t;return{cx:nr(l,a,a/2),cy:nr(o,s,s/2),innerRadius:r,outerRadius:n,startAngle:c,endAngle:u,clockWise:!1}}}),tt=(e,t)=>t,zc=(e,t,r)=>r;function ov(e){return e==null?void 0:e.id}var Et=e=>{var t=Te(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},$l=e=>e.tooltip.settings.axisId,Mt=e=>{var t=Et(e),r=$l(e);return Uc(e,t,r)},$C=R([Mt],e=>e==null?void 0:e.dataKey);function RC(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:a,dataKey:s}=r,l=new Map;return e.forEach(o=>{var c,u=(c=o.data)!==null&&c!==void 0?c:n;if(!(u==null||u.length===0)){var d=ov(o);u.forEach((f,m)=>{var p=s==null||a?m:String(qe(f,s,null)),x=qe(f,o.dataKey,0),g;l.has(p)?g=l.get(p):g={},Object.assign(g,{[d]:x}),l.set(p,g)})}}),Array.from(l.values())}function I0(e){return e.stackId!=null&&e.dataKey!=null}function _1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function lf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_1(Object(r),!0).forEach(function(n){UL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function UL(e,t,r){return(t=WL(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WL(e){var t=KL(e,"string");return typeof t=="symbol"?t:t+""}function KL(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ep=[0,"auto"],Mr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},LC=(e,t)=>e.cartesianAxis.xAxis[t],Fa=(e,t)=>{var r=LC(e,t);return r??Mr},$r={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Ep,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Dc},FC=(e,t)=>e.cartesianAxis.yAxis[t],Ba=(e,t)=>{var r=FC(e,t);return r??$r},HL={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},cv=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??HL},pt=(e,t,r)=>{switch(t){case"xAxis":return Fa(e,r);case"yAxis":return Ba(e,r);case"zAxis":return cv(e,r);case"angleAxis":return sv(e,r);case"radiusAxis":return iv(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},VL=(e,t,r)=>{switch(t){case"xAxis":return Fa(e,r);case"yAxis":return Ba(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},Uc=(e,t,r)=>{switch(t){case"xAxis":return Fa(e,r);case"yAxis":return Ba(e,r);case"angleAxis":return sv(e,r);case"radiusAxis":return iv(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},BC=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function uv(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var M0=e=>e.graphicalItems.cartesianItems,qL=R([tt,zc],uv),dv=(e,t,r)=>e.filter(r).filter(n=>(t==null?void 0:t.includeHidden)===!0?!0:!n.hide),Wc=R([M0,pt,qL],dv),zC=R([Wc],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(I0)),UC=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),WC=R([Wc],UC),fv=e=>e.map(t=>t.data).filter(Boolean).flat(1),GL=R([Wc],fv),mv=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:a}=t;return e.length>0?e:r.slice(n,a+1)},hv=R([GL,A0],mv),pv=(e,t,r)=>(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:qe(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(a=>({value:qe(a,n)}))):e.map(n=>({value:n})),$0=R([hv,pt,Wc],pv);function KC(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function Ci(e){return e.filter(t=>Zn(t)||t instanceof Date).map(Number).filter(t=>Hr(t)===!1)}function YL(e,t,r){return!r||typeof t!="number"||Hr(t)?[]:r.length?Ci(r.flatMap(n=>{var a=qe(e,n.dataKey),s,l;if(Array.isArray(a)?[s,l]=a:s=l=a,!(!qr(s)||!qr(l)))return[t-s,t+l]})):[]}var JL=R([zC,A0,Mt],RC),HC=(e,t,r)=>{var n={},a=t.reduce((s,l)=>(l.stackId==null||(s[l.stackId]==null&&(s[l.stackId]=[]),s[l.stackId].push(l)),s),n);return Object.fromEntries(Object.entries(a).map(s=>{var[l,o]=s,c=o.map(ov);return[l,{stackedData:gM(e,c,r),graphicalItems:o}]}))},_p=R([JL,zC,Bc],HC),VC=(e,t,r)=>{var{dataStartIndex:n,dataEndIndex:a}=t;if(r!=="zAxis"){var s=wM(e,n,a);if(!(s!=null&&s[0]===0&&s[1]===0))return s}},XL=R([_p,Ms,tt],VC),qC=(e,t,r,n,a)=>r.length>0?e.flatMap(s=>r.flatMap(l=>{var o,c,u=(o=n[l.id])===null||o===void 0?void 0:o.filter(f=>KC(a,f)),d=qe(s,(c=t.dataKey)!==null&&c!==void 0?c:l.dataKey);return{value:d,errorDomain:YL(s,d,u)}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(s=>({value:qe(s,t.dataKey),errorDomain:[]})):e.map(s=>({value:s,errorDomain:[]})),R0=e=>e.errorBars,GC=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>KC(r,n));R([WC,R0,tt],GC);var QL=R([hv,pt,WC,R0,tt],qC);function ZL(e){var{value:t}=e;if(Zn(t)||t instanceof Date)return t}var A1=e=>{var t=e.flatMap(n=>[n.value,n.errorDomain]).flat(1),r=Ci(t);if(r.length!==0)return[Math.min(...r),Math.max(...r)]},e7=(e,t,r)=>{var n=e.map(ZL).filter(a=>a!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&H2(n))?DP(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},gv=e=>{var t;if(e==null||!("domain"in e))return Ep;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var r=Ci(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:Ep},of=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r.filter(Boolean);if(a.length!==0){var s=a.flat(),l=Math.min(...s),o=Math.max(...s);return[l,o]}},YC=e=>e.referenceElements.dots,Rl=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),t7=R([YC,tt,zc],Rl),JC=e=>e.referenceElements.areas,r7=R([JC,tt,zc],Rl),XC=e=>e.referenceElements.lines,n7=R([XC,tt,zc],Rl),QC=(e,t)=>{var r=Ci(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},a7=R(t7,tt,QC),ZC=(e,t)=>{var r=Ci(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},s7=R([r7,tt],ZC),eE=(e,t)=>{var r=Ci(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},i7=R(n7,tt,eE),l7=R(a7,i7,s7,(e,t,r)=>of(e,r,t)),tE=R([pt],gv),xv=(e,t,r,n,a,s,l)=>{var o=kL(t,e.allowDataOverflow);if(o!=null)return o;var c=s==="vertical"&&l==="xAxis"||s==="horizontal"&&l==="yAxis",u=c?of(r,a,A1(n)):of(a,A1(n));return jL(t,u,e.allowDataOverflow)},o7=R([pt,tE,XL,QL,l7,Te,tt],xv),c7=[0,1],vv=(e,t,r,n,a,s,l)=>{if(!((e==null||r==null||r.length===0)&&l===void 0)){var{dataKey:o,type:c}=e,u=Os(t,s);return u&&o==null?DP(0,r.length):c==="category"?e7(n,e,u):a==="expand"?c7:l}},yv=R([pt,Te,hv,$0,Bc,tt,o7],vv),rE=(e,t,r,n,a)=>{if(e!=null){var{scale:s,type:l}=e;if(s==="auto")return t==="radial"&&a==="radiusAxis"?"band":t==="radial"&&a==="angleAxis"?"linear":l==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":l==="category"?"band":"linear";if(typeof s=="string"){var o="scale".concat(Ac(s));return o in Eo?o:"point"}}},Ll=R([pt,Te,BC,rv,tt],rE);function u7(e){if(e!=null){if(e in Eo)return Eo[e]();var t="scale".concat(Ac(e));if(t in Eo)return Eo[t]()}}function bv(e,t,r,n){if(!(r==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(n);var a=u7(t);if(a!=null){var s=a.domain(r).range(n);return dM(s),s}}}var wv=(e,t,r)=>{var n=gv(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&kl(e))return DL(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&kl(e))return IL(e,t.tickCount,t.allowDecimals)}},kv=R([yv,Uc,Ll],wv),jv=(e,t,r,n)=>{if(n!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&kl(t)&&Array.isArray(r)&&r.length>0){var a=t[0],s=r[0],l=t[1],o=r[r.length-1];return[Math.min(a,s),Math.max(l,o)]}return t},d7=R([pt,yv,kv,tt],jv),f7=R($0,pt,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(Ci(e.map(o=>o.value))).sort((o,c)=>o-c);if(n.length<2)return 1/0;var a=n[n.length-1]-n[0];if(a===0)return 1/0;for(var s=0;s<n.length-1;s++){var l=n[s+1]-n[s];r=Math.min(r,l)}return r/a}}),nE=R(f7,Te,_C,Pt,(e,t,r,n)=>n,(e,t,r,n,a)=>{if(!qr(e))return 0;var s=t==="vertical"?n.height:n.width;if(a==="gap")return e*s/2;if(a==="no-gap"){var l=nr(r,e*s),o=e*s/2;return o-l-(o-l)/s*l}return 0}),m7=(e,t)=>{var r=Fa(e,t);return r==null||typeof r.padding!="string"?0:nE(e,"xAxis",t,r.padding)},h7=(e,t)=>{var r=Ba(e,t);return r==null||typeof r.padding!="string"?0:nE(e,"yAxis",t,r.padding)},p7=R(Fa,m7,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:a}=e;return typeof a=="string"?{left:t,right:t}:{left:((r=a.left)!==null&&r!==void 0?r:0)+t,right:((n=a.right)!==null&&n!==void 0?n:0)+t}}),g7=R(Ba,h7,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:a}=e;return typeof a=="string"?{top:t,bottom:t}:{top:((r=a.top)!==null&&r!==void 0?r:0)+t,bottom:((n=a.bottom)!==null&&n!==void 0?n:0)+t}}),x7=R([Pt,p7,k0,w0,(e,t,r)=>r],(e,t,r,n,a)=>{var{padding:s}=n;return a?[s.left,r.width-s.right]:[e.left+t.left,e.left+e.width-t.right]}),v7=R([Pt,Te,g7,k0,w0,(e,t,r)=>r],(e,t,r,n,a,s)=>{var{padding:l}=a;return s?[n.height-l.bottom,l.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),Kc=(e,t,r,n)=>{var a;switch(t){case"xAxis":return x7(e,r,n);case"yAxis":return v7(e,r,n);case"zAxis":return(a=cv(e,r))===null||a===void 0?void 0:a.range;case"angleAxis":return DC(e);case"radiusAxis":return IC(e,r);default:return}},aE=R([pt,Kc],T0),Fl=R([pt,Ll,d7,aE],bv);R([Wc,R0,tt],GC);function sE(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var L0=(e,t)=>t,F0=(e,t,r)=>r,y7=R(y0,L0,F0,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(sE)),b7=R(b0,L0,F0,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(sE)),iE=(e,t)=>({width:e.width,height:t.height}),w7=(e,t)=>{var r=typeof t.width=="number"?t.width:Dc;return{width:r,height:e.height}},lE=R(Pt,Fa,iE),k7=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},j7=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},N7=R(Ra,Pt,y7,L0,F0,(e,t,r,n,a)=>{var s={},l;return r.forEach(o=>{var c=iE(t,o);l==null&&(l=k7(t,n,e));var u=n==="top"&&!a||n==="bottom"&&a;s[o.id]=l-Number(u)*c.height,l+=(u?-1:1)*c.height}),s}),S7=R($a,Pt,b7,L0,F0,(e,t,r,n,a)=>{var s={},l;return r.forEach(o=>{var c=w7(t,o);l==null&&(l=j7(t,n,e));var u=n==="left"&&!a||n==="right"&&a;s[o.id]=l-Number(u)*c.width,l+=(u?-1:1)*c.width}),s}),P7=(e,t)=>{var r=Fa(e,t);if(r!=null)return N7(e,r.orientation,r.mirror)},C7=R([Pt,Fa,P7,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var a=r==null?void 0:r[n];return a==null?{x:e.left,y:0}:{x:e.left,y:a}}}),E7=(e,t)=>{var r=Ba(e,t);if(r!=null)return S7(e,r.orientation,r.mirror)},_7=R([Pt,Ba,E7,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var a=r==null?void 0:r[n];return a==null?{x:0,y:e.top}:{x:a,y:e.top}}}),oE=R(Pt,Ba,(e,t)=>{var r=typeof t.width=="number"?t.width:Dc;return{width:r,height:e.height}}),O1=(e,t,r)=>{switch(t){case"xAxis":return lE(e,r).width;case"yAxis":return oE(e,r).height;default:return}},cE=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:a,type:s,dataKey:l}=r,o=Os(e,n),c=t.map(u=>u.value);if(l&&o&&s==="category"&&a&&H2(c))return c}},Nv=R([Te,$0,pt,tt],cE),uE=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:a,scale:s}=r,l=Os(e,n);if(l&&(a==="number"||s!=="auto"))return t.map(o=>o.value)}},Sv=R([Te,$0,Uc,tt],uE),T1=R([Te,VL,Ll,Fl,Nv,Sv,Kc,kv,tt],(e,t,r,n,a,s,l,o,c)=>{if(t==null)return null;var u=Os(e,c);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:c,categoricalDomain:s,duplicateDomain:a,isCategorical:u,niceTicks:o,range:l,realScaleType:r,scale:n}}),A7=(e,t,r,n,a,s,l,o,c)=>{if(!(t==null||n==null)){var u=Os(e,c),{type:d,ticks:f,tickCount:m}=t,p=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,x=d==="category"&&n.bandwidth?n.bandwidth()/p:0;x=c==="angleAxis"&&s!=null&&s.length>=2?Tt(s[0]-s[1])*2*x:x;var g=f||a;if(g){var v=g.map((b,y)=>{var w=l?l.indexOf(b):b;return{index:y,coordinate:n(w)+x,value:b,offset:x}});return v.filter(b=>!Hr(b.coordinate))}return u&&o?o.map((b,y)=>({coordinate:n(b)+x,value:b,index:y,offset:x})):n.ticks?n.ticks(m).map(b=>({coordinate:n(b)+x,value:b,offset:x})):n.domain().map((b,y)=>({coordinate:n(b)+x,value:l?l[b]:b,index:y,offset:x}))}},dE=R([Te,Uc,Ll,Fl,kv,Kc,Nv,Sv,tt],A7),O7=(e,t,r,n,a,s,l)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var o=Os(e,l),{tickCount:c}=t,u=0;return u=l==="angleAxis"&&(n==null?void 0:n.length)>=2?Tt(n[0]-n[1])*2*u:u,o&&s?s.map((d,f)=>({coordinate:r(d)+u,value:d,index:f,offset:u})):r.ticks?r.ticks(c).map(d=>({coordinate:r(d)+u,value:d,offset:u})):r.domain().map((d,f)=>({coordinate:r(d)+u,value:a?a[d]:d,index:f,offset:u}))}},ks=R([Te,Uc,Fl,Kc,Nv,Sv,tt],O7),js=R(pt,Fl,(e,t)=>{if(!(e==null||t==null))return lf(lf({},e),{},{scale:t})}),T7=R([pt,Ll,yv,aE],bv);R((e,t,r)=>cv(e,r),T7,(e,t)=>{if(!(e==null||t==null))return lf(lf({},e),{},{scale:t})});var D7=R([Te,y0,b0],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),fE=e=>e.options.defaultTooltipEventType,mE=e=>e.options.validateTooltipEventTypes;function hE(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function Pv(e,t){var r=fE(e),n=mE(e);return hE(t,r,n)}function I7(e){return le(t=>Pv(t,e))}var pE=(e,t)=>{var r,n=Number(t);if(!(Hr(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},M7=e=>e.tooltip.settings,ns={active:!1,index:null,dataKey:void 0,coordinate:void 0},$7={itemInteraction:{click:ns,hover:ns},axisInteraction:{click:ns,hover:ns},keyboardInteraction:ns,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},gE=Jr({name:"tooltip",initialState:$7,reducers:{addTooltipEntrySettings(e,t){e.tooltipItemPayloads.push(t.payload)},removeTooltipEntrySettings(e,t){var r=ka(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:R7,removeTooltipEntrySettings:L7,setTooltipSettingsState:F7,setActiveMouseOverItemIndex:xE,mouseLeaveItem:B7,mouseLeaveChart:vE,setActiveClickItemIndex:z7,setMouseOverAxisIndex:yE,setMouseClickAxisIndex:U7,setSyncInteraction:Ap,setKeyboardInteraction:Op}=gE.actions,W7=gE.reducer;function D1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Tu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?D1(Object(r),!0).forEach(function(n){K7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):D1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function K7(e,t,r){return(t=H7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function H7(e){var t=V7(e,"string");return typeof t=="symbol"?t:t+""}function V7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function q7(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function G7(e){return e.index!=null}var bE=(e,t,r,n)=>{if(t==null)return ns;var a=q7(e,t,r);if(a==null)return ns;if(a.active)return a;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var s=e.settings.active===!0;if(G7(a)){if(s)return Tu(Tu({},a),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n};return Tu(Tu({},ns),{},{coordinate:a.coordinate})},Cv=(e,t)=>{var r=e==null?void 0:e.index;if(r==null)return null;var n=Number(r);if(!qr(n))return r;var a=0,s=1/0;return t.length>0&&(s=t.length-1),String(Math.max(a,Math.min(n,s)))},wE=(e,t,r,n,a,s,l,o)=>{if(!(s==null||o==null)){var c=l[0],u=c==null?void 0:o(c.positions,s);if(u!=null)return u;var d=a==null?void 0:a[Number(s)];if(d)switch(r){case"horizontal":return{x:d.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:d.coordinate}}}},kE=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var a;return r==="hover"?a=e.itemInteraction.hover.dataKey:a=e.itemInteraction.click.dataKey,a==null&&n!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(s=>{var l;return((l=s.settings)===null||l===void 0?void 0:l.dataKey)===a})},Hc=e=>e.options.tooltipPayloadSearcher,Bl=e=>e.tooltip;function I1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function M1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?I1(Object(r),!0).forEach(function(n){Y7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Y7(e,t,r){return(t=J7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function J7(e){var t=X7(e,"string");return typeof t=="symbol"?t:t+""}function X7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Q7(e,t){return e??t}var jE=(e,t,r,n,a,s,l)=>{if(!(t==null||s==null)){var{chartData:o,computedData:c,dataStartIndex:u,dataEndIndex:d}=r,f=[];return e.reduce((m,p)=>{var x,{dataDefinedOnItem:g,settings:v}=p,b=Q7(g,o),y=Array.isArray(b)?cP(b,u,d):b,w=(x=v==null?void 0:v.dataKey)!==null&&x!==void 0?x:n,k=v==null?void 0:v.nameKey,N;if(n&&Array.isArray(y)&&!Array.isArray(y[0])&&l==="axis"?N=V2(y,n,a):N=s(y,t,c,k),Array.isArray(N))N.forEach(j=>{var P=M1(M1({},v),{},{name:j.name,unit:j.unit,color:void 0,fill:void 0});m.push(jw({tooltipEntrySettings:P,dataKey:j.dataKey,payload:j.payload,value:qe(j.payload,j.dataKey),name:j.name}))});else{var S;m.push(jw({tooltipEntrySettings:v,dataKey:w,payload:N,value:qe(N,w),name:(S=qe(N,k))!==null&&S!==void 0?S:v==null?void 0:v.name}))}return m},f)}},Ev=R([Mt,Te,BC,rv,Et],rE),Z7=R([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),eF=R([Et,$l],uv),Vc=R([Z7,Mt,eF],dv),tF=R([Vc],e=>e.filter(I0)),rF=R([Vc],fv),zl=R([rF,Ms],mv),nF=R([tF,Ms,Mt],RC),_v=R([zl,Mt,Vc],pv),aF=R([Mt],gv),sF=R([Vc],e=>e.filter(I0)),iF=R([nF,sF,Bc],HC),lF=R([iF,Ms,Et],VC),oF=R([Vc],UC),cF=R([zl,Mt,oF,R0,Et],qC),uF=R([YC,Et,$l],Rl),dF=R([uF,Et],QC),fF=R([JC,Et,$l],Rl),mF=R([fF,Et],ZC),hF=R([XC,Et,$l],Rl),pF=R([hF,Et],eE),gF=R([dF,pF,mF],of),xF=R([Mt,aF,lF,cF,gF,Te,Et],xv),NE=R([Mt,Te,zl,_v,Bc,Et,xF],vv),vF=R([NE,Mt,Ev],wv),yF=R([Mt,NE,vF,Et],jv),SE=e=>{var t=Et(e),r=$l(e),n=!1;return Kc(e,t,r,n)},PE=R([Mt,SE],T0),CE=R([Mt,Ev,yF,PE],bv),bF=R([Te,_v,Mt,Et],cE),wF=R([Te,_v,Mt,Et],uE),kF=(e,t,r,n,a,s,l,o)=>{if(t){var{type:c}=t,u=Os(e,o);if(n){var d=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,f=c==="category"&&n.bandwidth?n.bandwidth()/d:0;return f=o==="angleAxis"&&a!=null&&(a==null?void 0:a.length)>=2?Tt(a[0]-a[1])*2*f:f,u&&l?l.map((m,p)=>({coordinate:n(m)+f,value:m,index:p,offset:f})):n.domain().map((m,p)=>({coordinate:n(m)+f,value:s?s[m]:m,index:p,offset:f}))}}},za=R([Te,Mt,Ev,CE,SE,bF,wF,Et],kF),Av=R([fE,mE,M7],(e,t,r)=>hE(r.shared,e,t)),EE=e=>e.tooltip.settings.trigger,Ov=e=>e.tooltip.settings.defaultIndex,B0=R([Bl,Av,EE,Ov],bE),Ns=R([B0,zl],Cv),_E=R([za,Ns],pE),AE=R([B0],e=>{if(e)return e.dataKey}),OE=R([Bl,Av,EE,Ov],kE),jF=R([$a,Ra,Te,Pt,za,Ov,OE,Hc],wE),NF=R([B0,jF],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),SF=R([B0],e=>e.active),PF=R([OE,Ns,Ms,$C,_E,Hc,Av],jE),CF=R([PF],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function $1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function R1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$1(Object(r),!0).forEach(function(n){EF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function EF(e,t,r){return(t=_F(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _F(e){var t=AF(e,"string");return typeof t=="symbol"?t:t+""}function AF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var OF=()=>le(Mt),TF=()=>{var e=OF(),t=le(za),r=le(CE);return fc(R1(R1({},e),{},{scale:r}),t)},DF=()=>le(rv),Tv=(e,t)=>t,TE=(e,t,r)=>r,Dv=(e,t,r,n)=>n,IF=R(za,e=>m0(e,t=>t.coordinate)),Iv=R([Bl,Tv,TE,Dv],bE),DE=R([Iv,zl],Cv),MF=(e,t,r)=>{if(t!=null){var n=Bl(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},IE=R([Bl,Tv,TE,Dv],kE),cf=R([$a,Ra,Te,Pt,za,Dv,IE,Hc],wE),$F=R([Iv,cf],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),ME=R(za,DE,pE),RF=R([IE,DE,Ms,$C,ME,Hc,Tv],jE),LF=R([Iv],e=>({isActive:e.active,activeIndex:e.index})),FF=(e,t,r,n,a,s,l,o)=>{if(!(!e||!t||!n||!a||!s)){var c=kM(e.chartX,e.chartY,t,r,o);if(c){var u=NM(c,t),d=cM(u,l,s,n,a),f=jM(t,s,d,c);return{activeIndex:String(d),activeCoordinate:f}}}};function Tp(){return Tp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Tp.apply(null,arguments)}function L1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Du(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?L1(Object(r),!0).forEach(function(n){BF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):L1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function BF(e,t,r){return(t=zF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zF(e){var t=UF(e,"string");return typeof t=="symbol"?t:t+""}function UF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function WF(e){var{coordinate:t,payload:r,index:n,offset:a,tooltipAxisBandSize:s,layout:l,cursor:o,tooltipEventType:c,chartName:u}=e,d=t,f=r,m=n;if(!o||!d||u!=="ScatterChart"&&c!=="axis")return null;var p,x;if(u==="ScatterChart")p=d,x=d$;else if(u==="BarChart")p=f$(l,d,a,s),x=PP;else if(l==="radial"){var{cx:g,cy:v,radius:b,startAngle:y,endAngle:w}=CP(d);p={cx:g,cy:v,startAngle:y,endAngle:w,innerRadius:b,outerRadius:b},x=_P}else p={points:H$(l,d,a)},x=_x;var k=typeof o=="object"&&"className"in o?o.className:void 0,N=Du(Du(Du(Du({stroke:"#ccc",pointerEvents:"none"},a),p),lt(o,!1)),{},{payload:f,payloadIndex:m,className:Ae("recharts-tooltip-cursor",k)});return h.isValidElement(o)?h.cloneElement(o,N):h.createElement(x,N)}function KF(e){var t=TF(),r=pP(),n=j0(),a=DF();return h.createElement(WF,Tp({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:r,layout:n,tooltipAxisBandSize:t,chartName:a}))}var $E=h.createContext(null),HF=()=>h.useContext($E),RE={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function s(c,u,d,f,m){if(typeof d!="function")throw new TypeError("The listener must be a function");var p=new a(d,f||c,m),x=r?r+u:u;return c._events[x]?c._events[x].fn?c._events[x]=[c._events[x],p]:c._events[x].push(p):(c._events[x]=p,c._eventsCount++),c}function l(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function o(){this._events=new n,this._eventsCount=0}o.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},o.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var m=0,p=f.length,x=new Array(p);m<p;m++)x[m]=f[m].fn;return x},o.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},o.prototype.emit=function(u,d,f,m,p,x){var g=r?r+u:u;if(!this._events[g])return!1;var v=this._events[g],b=arguments.length,y,w;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),b){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,d),!0;case 3:return v.fn.call(v.context,d,f),!0;case 4:return v.fn.call(v.context,d,f,m),!0;case 5:return v.fn.call(v.context,d,f,m,p),!0;case 6:return v.fn.call(v.context,d,f,m,p,x),!0}for(w=1,y=new Array(b-1);w<b;w++)y[w-1]=arguments[w];v.fn.apply(v.context,y)}else{var k=v.length,N;for(w=0;w<k;w++)switch(v[w].once&&this.removeListener(u,v[w].fn,void 0,!0),b){case 1:v[w].fn.call(v[w].context);break;case 2:v[w].fn.call(v[w].context,d);break;case 3:v[w].fn.call(v[w].context,d,f);break;case 4:v[w].fn.call(v[w].context,d,f,m);break;default:if(!y)for(N=1,y=new Array(b-1);N<b;N++)y[N-1]=arguments[N];v[w].fn.apply(v[w].context,y)}}return!0},o.prototype.on=function(u,d,f){return s(this,u,d,f,!1)},o.prototype.once=function(u,d,f){return s(this,u,d,f,!0)},o.prototype.removeListener=function(u,d,f,m){var p=r?r+u:u;if(!this._events[p])return this;if(!d)return l(this,p),this;var x=this._events[p];if(x.fn)x.fn===d&&(!m||x.once)&&(!f||x.context===f)&&l(this,p);else{for(var g=0,v=[],b=x.length;g<b;g++)(x[g].fn!==d||m&&!x[g].once||f&&x[g].context!==f)&&v.push(x[g]);v.length?this._events[p]=v.length===1?v[0]:v:l(this,p)}return this},o.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&l(this,d)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,e.exports=o})(RE);var VF=RE.exports;const qF=ta(VF);var yc=new qF,Dp="recharts.syncEvent.tooltip",F1="recharts.syncEvent.brush";function Mv(e,t){if(t){var r=Number.parseInt(t,10);if(!Hr(r))return e==null?void 0:e[r]}}var GF={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},LE=Jr({name:"options",initialState:GF,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),YF=LE.reducer,{createEventEmitter:JF}=LE.actions;function XF(e){return e.tooltip.syncInteraction}var QF={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},FE=Jr({name:"chartData",initialState:QF,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:B1,setDataStartEndIndexes:ZF,setComputedData:vG}=FE.actions,eB=FE.reducer,tB=["x","y"];function z1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function zs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?z1(Object(r),!0).forEach(function(n){rB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):z1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rB(e,t,r){return(t=nB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nB(e){var t=aB(e,"string");return typeof t=="symbol"?t:t+""}function aB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sB(e,t){if(e==null)return{};var r,n,a=iB(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function iB(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var BE=()=>{};function lB(){var e=le(nv),t=le(av),r=ht(),n=le(AC),a=le(za),s=j0(),l=Ex(),o=le(c=>c.rootProps.className);h.useEffect(()=>{if(e==null)return BE;var c=(u,d,f)=>{if(t!==f&&e===u){if(n==="index"){var m;if(l&&d!==null&&d!==void 0&&(m=d.payload)!==null&&m!==void 0&&m.coordinate){var p=d.payload.coordinate,{x,y:g}=p,v=sB(p,tB),b=zs(zs(zs({},v),typeof x=="number"&&{x:Math.max(l.x,Math.min(x,l.x+l.width))}),typeof g=="number"&&{y:Math.max(l.y,Math.min(g,l.y+l.height))}),y=zs(zs({},d),{},{payload:zs(zs({},d.payload),{},{coordinate:b})});r(y)}else r(d);return}if(a!=null){var w;if(typeof n=="function"){var k={activeTooltipIndex:d.payload.index==null?void 0:Number(d.payload.index),isTooltipActive:d.payload.active,activeIndex:d.payload.index==null?void 0:Number(d.payload.index),activeLabel:d.payload.label,activeDataKey:d.payload.dataKey,activeCoordinate:d.payload.coordinate},N=n(a,k);w=a[N]}else n==="value"&&(w=a.find(U=>String(U.value)===d.payload.label));var{coordinate:S}=d.payload;if(w==null||d.payload.active===!1||S==null||l==null){r(Ap({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:j,y:P}=S,D=Math.min(j,l.x+l.width),O=Math.min(P,l.y+l.height),$={x:s==="horizontal"?w.coordinate:D,y:s==="horizontal"?O:w.coordinate},B=Ap({active:d.payload.active,coordinate:$,dataKey:d.payload.dataKey,index:String(w.index),label:d.payload.label});r(B)}}};return yc.on(Dp,c),()=>{yc.off(Dp,c)}},[o,r,t,e,n,a,s,l])}function oB(){var e=le(nv),t=le(av),r=ht();h.useEffect(()=>{if(e==null)return BE;var n=(a,s,l)=>{t!==l&&e===a&&r(ZF(s))};return yc.on(F1,n),()=>{yc.off(F1,n)}},[r,t,e])}function cB(){var e=ht();h.useEffect(()=>{e(JF())},[e]),lB(),oB()}function uB(e,t,r,n,a,s){var l=le(m=>MF(m,e,t)),o=le(av),c=le(nv),u=le(AC),d=le(XF),f=d==null?void 0:d.active;h.useEffect(()=>{if(!f&&c!=null&&o!=null){var m=Ap({active:s,coordinate:r,dataKey:l,index:a,label:typeof n=="number"?String(n):n});yc.emit(Dp,c,m,o)}},[f,r,l,a,n,o,c,u,s])}function U1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function W1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?U1(Object(r),!0).forEach(function(n){dB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):U1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dB(e,t,r){return(t=fB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fB(e){var t=mB(e,"string");return typeof t=="symbol"?t:t+""}function mB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hB(e){return e.dataKey}function pB(e,t){return h.isValidElement(e)?h.cloneElement(e,t):typeof e=="function"?h.createElement(e,t):h.createElement(WM,t)}var K1=[],gB={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!Ts.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Bm(e){var t=Vt(e,gB),{active:r,allowEscapeViewBox:n,animationDuration:a,animationEasing:s,content:l,filterNull:o,isAnimationActive:c,offset:u,payloadUniqBy:d,position:f,reverseDirection:m,useTranslate3d:p,wrapperStyle:x,cursor:g,shared:v,trigger:b,defaultIndex:y,portal:w,axisId:k}=t,N=ht(),S=typeof y=="number"?String(y):y;h.useEffect(()=>{N(F7({shared:v,trigger:b,axisId:k,active:r,defaultIndex:S}))},[N,v,b,k,r,S]);var j=Ex(),P=wP(),D=I7(v),{activeIndex:O,isActive:$}=le(ae=>LF(ae,D,b,S)),B=le(ae=>RF(ae,D,b,S)),U=le(ae=>ME(ae,D,b,S)),T=le(ae=>$F(ae,D,b,S)),K=B,I=HF(),G=r??$,[M,W]=ZI([K,G]),J=D==="axis"?U:void 0;uB(D,b,T,J,O,G);var Q=w??I;if(Q==null)return null;var q=K??K1;G||(q=K1),o&&q.length&&(q=$I(K.filter(ae=>ae.value!=null&&(ae.hide!==!0||t.includeHidden)),d,hB));var Pe=q.length>0,L=h.createElement(JM,{allowEscapeViewBox:n,animationDuration:a,animationEasing:s,isAnimationActive:c,active:G,coordinate:T,hasPayload:Pe,offset:u,position:f,reverseDirection:m,useTranslate3d:p,viewBox:j,wrapperStyle:x,lastBoundingBox:M,innerRef:W,hasPortalFromProps:!!w},pB(l,W1(W1({},t),{},{payload:q,label:J,active:G,coordinate:T,accessibilityLayer:P})));return h.createElement(h.Fragment,null,r2.createPortal(L,Q),G&&h.createElement(KF,{cursor:g,tooltipEventType:D,coordinate:T,payload:K,index:O}))}var zE={},UE={},WE={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:a,edges:s}={}){let l,o=null;const c=s!=null&&s.includes("leading"),u=s==null||s.includes("trailing"),d=()=>{o!==null&&(r.apply(l,o),l=void 0,o=null)},f=()=>{u&&d(),g()};let m=null;const p=()=>{m!=null&&clearTimeout(m),m=setTimeout(()=>{m=null,f()},n)},x=()=>{m!==null&&(clearTimeout(m),m=null)},g=()=>{x(),l=void 0,o=null},v=()=>{d()},b=function(...y){if(a!=null&&a.aborted)return;l=this,o=y;const w=m==null;p(),c&&w&&d()};return b.schedule=p,b.cancel=g,b.flush=v,a==null||a.addEventListener("abort",g,{once:!0}),b}e.debounce=t})(WE);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=WE;function r(n,a=0,s={}){typeof s!="object"&&(s={});const{leading:l=!1,trailing:o=!0,maxWait:c}=s,u=Array(2);l&&(u[0]="leading"),o&&(u[1]="trailing");let d,f=null;const m=t.debounce(function(...g){d=n.apply(this,g),f=null},a,{edges:u}),p=function(...g){return c!=null&&(f===null&&(f=Date.now()),Date.now()-f>=c)?(d=n.apply(this,g),f=Date.now(),m.cancel(),m.schedule(),d):(m.apply(this,g),d)},x=()=>(m.flush(),d);return p.cancel=m.cancel,p.flush=x,p}e.debounce=r})(UE);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=UE;function r(n,a=0,s={}){const{leading:l=!0,trailing:o=!0}=s;return t.debounce(n,a,{leading:l,maxWait:a,trailing:o})}e.throttle=r})(zE);var xB=zE.throttle;const vB=ta(xB);var Bo=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),s=2;s<n;s++)a[s-2]=arguments[s]};function H1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function zm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?H1(Object(r),!0).forEach(function(n){yB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):H1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yB(e,t,r){return(t=bB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bB(e){var t=wB(e,"string");return typeof t=="symbol"?t:t+""}function wB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Um=h.forwardRef((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:a="100%",height:s="100%",minWidth:l=0,minHeight:o,maxHeight:c,children:u,debounce:d=0,id:f,className:m,onResize:p,style:x={}}=e,g=h.useRef(null),v=h.useRef();v.current=p,h.useImperativeHandle(t,()=>g.current);var[b,y]=h.useState({containerWidth:n.width,containerHeight:n.height}),w=h.useCallback((N,S)=>{y(j=>{var P=Math.round(N),D=Math.round(S);return j.containerWidth===P&&j.containerHeight===D?j:{containerWidth:P,containerHeight:D}})},[]);h.useEffect(()=>{var N=D=>{var O,{width:$,height:B}=D[0].contentRect;w($,B),(O=v.current)===null||O===void 0||O.call(v,$,B)};d>0&&(N=vB(N,d,{trailing:!0,leading:!1}));var S=new ResizeObserver(N),{width:j,height:P}=g.current.getBoundingClientRect();return w(j,P),S.observe(g.current),()=>{S.disconnect()}},[w,d]);var k=h.useMemo(()=>{var{containerWidth:N,containerHeight:S}=b;if(N<0||S<0)return null;Bo(Zs(a)||Zs(s),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,a,s),Bo(!r||r>0,"The aspect(%s) must be greater than zero.",r);var j=Zs(a)?N:a,P=Zs(s)?S:s;return r&&r>0&&(j?P=j/r:P&&(j=P*r),c&&P>c&&(P=c)),Bo(j>0||P>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,j,P,a,s,l,o,r),h.Children.map(u,D=>h.cloneElement(D,{width:j,height:P,style:zm({width:j,height:P},D.props.style)}))},[r,u,s,c,o,l,b,a]);return h.createElement("div",{id:f?"".concat(f):void 0,className:Ae("recharts-responsive-container",m),style:zm(zm({},x),{},{width:a,height:s,minWidth:l,minHeight:o,maxHeight:c}),ref:g},h.createElement("div",{style:{width:0,height:0,overflow:"visible"}},k))}),qc=e=>null;qc.displayName="Cell";function kB(e,t,r){return(t=jB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jB(e){var t=NB(e,"string");return typeof t=="symbol"?t:t+""}function NB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class SB{constructor(t){kB(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function V1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function PB(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?V1(Object(r),!0).forEach(function(n){CB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):V1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function CB(e,t,r){return(t=EB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function EB(e){var t=_B(e,"string");return typeof t=="symbol"?t:t+""}function _B(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var AB={cacheSize:2e3,enableCache:!0},KE=PB({},AB),q1=new SB(KE.cacheSize),OB={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},G1="recharts_measurement_span";function TB(e,t){var r=t.fontSize||"",n=t.fontFamily||"",a=t.fontWeight||"",s=t.fontStyle||"",l=t.letterSpacing||"",o=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(a,"|").concat(s,"|").concat(l,"|").concat(o)}var Y1=(e,t)=>{try{var r=document.getElementById(G1);r||(r=document.createElement("span"),r.setAttribute("id",G1),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,OB,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},zo=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Ts.isSsr)return{width:0,height:0};if(!KE.enableCache)return Y1(t,r);var n=TB(t,r),a=q1.get(n);if(a)return a;var s=Y1(t,r);return q1.set(n,s),s},J1=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,X1=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,DB=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,IB=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,HE={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},MB=Object.keys(HE),Gi="NaN";function $B(e,t){return e*HE[t]}class kr{static parse(t){var r,[,n,a]=(r=IB.exec(t))!==null&&r!==void 0?r:[];return new kr(parseFloat(n),a??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,Hr(t)&&(this.unit=""),r!==""&&!DB.test(r)&&(this.num=NaN,this.unit=""),MB.includes(r)&&(this.num=$B(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new kr(NaN,""):new kr(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new kr(NaN,""):new kr(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new kr(NaN,""):new kr(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new kr(NaN,""):new kr(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Hr(this.num)}}function VE(e){if(e.includes(Gi))return Gi;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,a,s]=(r=J1.exec(t))!==null&&r!==void 0?r:[],l=kr.parse(n??""),o=kr.parse(s??""),c=a==="*"?l.multiply(o):l.divide(o);if(c.isNaN())return Gi;t=t.replace(J1,c.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var u,[,d,f,m]=(u=X1.exec(t))!==null&&u!==void 0?u:[],p=kr.parse(d??""),x=kr.parse(m??""),g=f==="+"?p.add(x):p.subtract(x);if(g.isNaN())return Gi;t=t.replace(X1,g.toString())}return t}var Q1=/\(([^()]*)\)/;function RB(e){for(var t=e,r;(r=Q1.exec(t))!=null;){var[,n]=r;t=t.replace(Q1,VE(n))}return t}function LB(e){var t=e.replace(/\s+/g,"");return t=RB(t),t=VE(t),t}function FB(e){try{return LB(e)}catch{return Gi}}function Wm(e){var t=FB(e.slice(5,-1));return t===Gi?"":t}var BB=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],zB=["dx","dy","angle","className","breakAll"];function Ip(){return Ip=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ip.apply(null,arguments)}function Z1(e,t){if(e==null)return{};var r,n,a=UB(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function UB(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var qE=/[ \f\n\r\t\v\u2028\u2029]+/,GE=e=>{var{children:t,breakAll:r,style:n}=e;try{var a=[];et(t)||(r?a=t.toString().split(""):a=t.toString().split(qE));var s=a.map(o=>({word:o,width:zo(o,n).width})),l=r?0:zo("",n).width;return{wordsWithComputedWidth:s,spaceWidth:l}}catch{return null}},WB=(e,t,r,n,a)=>{var{maxLines:s,children:l,style:o,breakAll:c}=e,u=me(s),d=l,f=function(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return $.reduce((B,U)=>{var{word:T,width:K}=U,I=B[B.length-1];if(I&&(n==null||a||I.width+K+r<Number(n)))I.words.push(T),I.width+=K+r;else{var G={words:[T],width:K};B.push(G)}return B},[])},m=f(t),p=O=>O.reduce(($,B)=>$.width>B.width?$:B);if(!u||a)return m;var x=m.length>s||p(m).width>Number(n);if(!x)return m;for(var g="",v=O=>{var $=d.slice(0,O),B=GE({breakAll:c,style:o,children:$+g}).wordsWithComputedWidth,U=f(B),T=U.length>s||p(U).width>Number(n);return[T,U]},b=0,y=d.length-1,w=0,k;b<=y&&w<=d.length-1;){var N=Math.floor((b+y)/2),S=N-1,[j,P]=v(S),[D]=v(N);if(!j&&!D&&(b=N+1),j&&D&&(y=N-1),!j&&D){k=P;break}w++}return k||m},ek=e=>{var t=et(e)?[]:e.toString().split(qE);return[{words:t}]},KB=e=>{var{width:t,scaleToFit:r,children:n,style:a,breakAll:s,maxLines:l}=e;if((t||r)&&!Ts.isSsr){var o,c,u=GE({breakAll:s,children:n,style:a});if(u){var{wordsWithComputedWidth:d,spaceWidth:f}=u;o=d,c=f}else return ek(n);return WB({breakAll:s,children:n,maxLines:l,style:a},o,c,t,r)}return ek(n)},tk="#808080",z0=h.forwardRef((e,t)=>{var{x:r=0,y:n=0,lineHeight:a="1em",capHeight:s="0.71em",scaleToFit:l=!1,textAnchor:o="start",verticalAnchor:c="end",fill:u=tk}=e,d=Z1(e,BB),f=h.useMemo(()=>KB({breakAll:d.breakAll,children:d.children,maxLines:d.maxLines,scaleToFit:l,style:d.style,width:d.width}),[d.breakAll,d.children,d.maxLines,l,d.style,d.width]),{dx:m,dy:p,angle:x,className:g,breakAll:v}=d,b=Z1(d,zB);if(!Zn(r)||!Zn(n)||f.length===0)return null;var y=r+(me(m)?m:0),w=n+(me(p)?p:0),k;switch(c){case"start":k=Wm("calc(".concat(s,")"));break;case"middle":k=Wm("calc(".concat((f.length-1)/2," * -").concat(a," + (").concat(s," / 2))"));break;default:k=Wm("calc(".concat(f.length-1," * -").concat(a,")"));break}var N=[];if(l){var S=f[0].width,{width:j}=d;N.push("scale(".concat(me(j)?j/S:1,")"))}return x&&N.push("rotate(".concat(x,", ").concat(y,", ").concat(w,")")),N.length&&(b.transform=N.join(" ")),h.createElement("text",Ip({},lt(b,!0),{ref:t,x:y,y:w,className:Ae("recharts-text",g),textAnchor:o,fill:u.includes("url")?tk:u}),f.map((P,D)=>{var O=P.words.join(v?"":" ");return h.createElement("tspan",{x:y,dy:D===0?k:a,key:"".concat(O,"-").concat(D)},O)}))});z0.displayName="Text";var HB=["labelRef"];function VB(e,t){if(e==null)return{};var r,n,a=qB(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function qB(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function rk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ft(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rk(Object(r),!0).forEach(function(n){GB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function GB(e,t,r){return(t=YB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YB(e){var t=JB(e,"string");return typeof t=="symbol"?t:t+""}function JB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pa(){return pa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pa.apply(null,arguments)}var YE=h.createContext(null),XB=e=>{var{x:t,y:r,width:n,height:a,children:s}=e,l=h.useMemo(()=>({x:t,y:r,width:n,height:a}),[t,r,n,a]);return h.createElement(YE.Provider,{value:l},s)},JE=()=>{var e=h.useContext(YE),t=Ex();return e||t},QB=h.createContext(null),ZB=()=>{var e=h.useContext(QB),t=le(MC);return e||t},ez=e=>{var{value:t,formatter:r}=e,n=et(e.children)?t:e.children;return typeof r=="function"?r(n):n},$v=e=>e!=null&&typeof e=="function",tz=(e,t)=>{var r=Tt(t-e),n=Math.min(Math.abs(t-e),360);return r*n},rz=(e,t,r,n,a)=>{var{offset:s,className:l}=e,{cx:o,cy:c,innerRadius:u,outerRadius:d,startAngle:f,endAngle:m,clockWise:p}=a,x=(u+d)/2,g=tz(f,m),v=g>=0?1:-1,b,y;switch(t){case"insideStart":b=f+v*s,y=p;break;case"insideEnd":b=m-v*s,y=!p;break;case"end":b=m+v*s,y=p;break;default:throw new Error("Unsupported position ".concat(t))}y=g<=0?y:!y;var w=bt(o,c,x,b),k=bt(o,c,x,b+(y?1:-1)*359),N="M".concat(w.x,",").concat(w.y,`
    A`).concat(x,",").concat(x,",0,1,").concat(y?0:1,`,
    `).concat(k.x,",").concat(k.y),S=et(e.id)?cc("recharts-radial-line-"):e.id;return h.createElement("text",pa({},n,{dominantBaseline:"central",className:Ae("recharts-radial-bar-label",l)}),h.createElement("defs",null,h.createElement("path",{id:S,d:N})),h.createElement("textPath",{xlinkHref:"#".concat(S)},r))},nz=(e,t,r)=>{var{cx:n,cy:a,innerRadius:s,outerRadius:l,startAngle:o,endAngle:c}=e,u=(o+c)/2;if(r==="outside"){var{x:d,y:f}=bt(n,a,l+t,u);return{x:d,y:f,textAnchor:d>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"end"};var m=(s+l)/2,{x:p,y:x}=bt(n,a,m,u);return{x:p,y:x,textAnchor:"middle",verticalAnchor:"middle"}},XE=e=>"cx"in e&&me(e.cx),az=(e,t)=>{var{parentViewBox:r,offset:n,position:a}=e,s;r!=null&&!XE(r)&&(s=r);var{x:l,y:o,width:c,height:u}=t,d=u>=0?1:-1,f=d*n,m=d>0?"end":"start",p=d>0?"start":"end",x=c>=0?1:-1,g=x*n,v=x>0?"end":"start",b=x>0?"start":"end";if(a==="top"){var y={x:l+c/2,y:o-d*n,textAnchor:"middle",verticalAnchor:m};return ft(ft({},y),s?{height:Math.max(o-s.y,0),width:c}:{})}if(a==="bottom"){var w={x:l+c/2,y:o+u+f,textAnchor:"middle",verticalAnchor:p};return ft(ft({},w),s?{height:Math.max(s.y+s.height-(o+u),0),width:c}:{})}if(a==="left"){var k={x:l-g,y:o+u/2,textAnchor:v,verticalAnchor:"middle"};return ft(ft({},k),s?{width:Math.max(k.x-s.x,0),height:u}:{})}if(a==="right"){var N={x:l+c+g,y:o+u/2,textAnchor:b,verticalAnchor:"middle"};return ft(ft({},N),s?{width:Math.max(s.x+s.width-N.x,0),height:u}:{})}var S=s?{width:c,height:u}:{};return a==="insideLeft"?ft({x:l+g,y:o+u/2,textAnchor:b,verticalAnchor:"middle"},S):a==="insideRight"?ft({x:l+c-g,y:o+u/2,textAnchor:v,verticalAnchor:"middle"},S):a==="insideTop"?ft({x:l+c/2,y:o+f,textAnchor:"middle",verticalAnchor:p},S):a==="insideBottom"?ft({x:l+c/2,y:o+u-f,textAnchor:"middle",verticalAnchor:m},S):a==="insideTopLeft"?ft({x:l+g,y:o+f,textAnchor:b,verticalAnchor:p},S):a==="insideTopRight"?ft({x:l+c-g,y:o+f,textAnchor:v,verticalAnchor:p},S):a==="insideBottomLeft"?ft({x:l+g,y:o+u-f,textAnchor:b,verticalAnchor:m},S):a==="insideBottomRight"?ft({x:l+c-g,y:o+u-f,textAnchor:v,verticalAnchor:m},S):a&&typeof a=="object"&&(me(a.x)||Zs(a.x))&&(me(a.y)||Zs(a.y))?ft({x:l+nr(a.x,c),y:o+nr(a.y,u),textAnchor:"end",verticalAnchor:"end"},S):ft({x:l+c/2,y:o+u/2,textAnchor:"middle",verticalAnchor:"middle"},S)},sz={offset:5};function es(e){var t=Vt(e,sz),{viewBox:r,position:n,value:a,children:s,content:l,className:o="",textBreakAll:c,labelRef:u}=t,d=ZB(),f=JE(),m=n==="center"?f:d??f,p=r||m;if(!p||et(a)&&et(s)&&!h.isValidElement(l)&&typeof l!="function")return null;var x=ft(ft({},t),{},{viewBox:p});if(h.isValidElement(l)){var g=VB(x,HB);return h.cloneElement(l,g)}var v;if(typeof l=="function"){if(v=h.createElement(l,x),h.isValidElement(v))return v}else v=ez(t);var b=XE(p),y=lt(t,!0);if(b&&(n==="insideStart"||n==="insideEnd"||n==="end"))return rz(t,n,v,y,p);var w=b?nz(p,t.offset,t.position):az(t,p);return h.createElement(z0,pa({ref:u,className:Ae("recharts-label",o)},y,w,{breakAll:c}),v)}es.displayName="Label";var iz=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?h.createElement(es,pa({key:"label-implicit"},n)):Zn(e)?h.createElement(es,pa({key:"label-implicit",value:e},n)):h.isValidElement(e)?e.type===es?h.cloneElement(e,ft({key:"label-implicit"},n)):h.createElement(es,pa({key:"label-implicit",content:e},n)):$v(e)?h.createElement(es,pa({key:"label-implicit",content:e},n)):e&&typeof e=="object"?h.createElement(es,pa({},e,{key:"label-implicit"},n)):null};function lz(e){var{label:t}=e,r=JE();return iz(t,r)||null}var QE={},ZE={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(ZE);var e_={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(e_);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ZE,r=e_,n=f0;function a(s){if(n.isArrayLike(s))return t.last(r.toArray(s))}e.last=a})(QE);var oz=QE.last;const cz=ta(oz);var uz=["valueAccessor"],dz=["dataKey","clockWise","id","textBreakAll"];function uf(){return uf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},uf.apply(null,arguments)}function nk(e,t){if(e==null)return{};var r,n,a=fz(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function fz(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var mz=e=>Array.isArray(e.value)?cz(e.value):e.value,t_=h.createContext(void 0),r_=t_.Provider,n_=h.createContext(void 0),hz=n_.Provider;function pz(){return h.useContext(t_)}function gz(){return h.useContext(n_)}function td(e){var{valueAccessor:t=mz}=e,r=nk(e,uz),{dataKey:n,clockWise:a,id:s,textBreakAll:l}=r,o=nk(r,dz),c=pz(),u=gz(),d=c||u;return!d||!d.length?null:h.createElement(Kt,{className:"recharts-label-list"},d.map((f,m)=>{var p,x=et(n)?t(f,m):qe(f&&f.payload,n),g=et(s)?{}:{id:"".concat(s,"-").concat(m)};return h.createElement(es,uf({},lt(f,!0),o,g,{fill:(p=r.fill)!==null&&p!==void 0?p:f.fill,parentViewBox:f.parentViewBox,value:x,textBreakAll:l,viewBox:f.viewBox,key:"label-".concat(m),index:m}))}))}td.displayName="LabelList";function Rv(e){var{label:t}=e;return t?t===!0?h.createElement(td,{key:"labelList-implicit"}):h.isValidElement(t)||$v(t)?h.createElement(td,{key:"labelList-implicit",content:t}):typeof t=="object"?h.createElement(td,uf({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function Mp(){return Mp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Mp.apply(null,arguments)}var a_=e=>{var{cx:t,cy:r,r:n,className:a}=e,s=Ae("recharts-dot",a);return t===+t&&r===+r&&n===+n?h.createElement("circle",Mp({},ra(e),sx(e),{className:s,cx:t,cy:r,r:n})):null},s_=e=>e.graphicalItems.polarItems,xz=R([tt,zc],uv),Lv=R([s_,pt,xz],dv),vz=R([Lv],fv),Fv=R([vz,Zx],mv),yz=R([Fv,pt,Lv],pv),bz=R([Fv,pt,Lv],(e,t,r)=>r.length>0?e.flatMap(n=>r.flatMap(a=>{var s,l=qe(n,(s=t.dataKey)!==null&&s!==void 0?s:a.dataKey);return{value:l,errorDomain:[]}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:qe(n,t.dataKey),errorDomain:[]})):e.map(n=>({value:n,errorDomain:[]}))),ak=()=>{},wz=R([pt,tE,ak,bz,ak,Te,tt],xv),i_=R([pt,Te,Fv,yz,Bc,tt,wz],vv),kz=R([i_,pt,Ll],wv);R([pt,i_,kz,tt],jv);var jz={radiusAxis:{},angleAxis:{}},l_=Jr({name:"polarAxis",initialState:jz,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}});l_.actions;var Nz=l_.reducer;function sk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ik(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sk(Object(r),!0).forEach(function(n){Sz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Sz(e,t,r){return(t=Pz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pz(e){var t=Cz(e,"string");return typeof t=="symbol"?t:t+""}function Cz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ez=(e,t)=>t,Bv=R([s_,Ez],(e,t)=>e.filter(r=>r.type==="pie").find(r=>r.id===t)),_z=[],zv=(e,t,r)=>(r==null?void 0:r.length)===0?_z:r,o_=R([Zx,Bv,zv],(e,t,r)=>{var{chartData:n}=e;if(t!=null){var a;if((t==null?void 0:t.data)!=null&&t.data.length>0?a=t.data:a=n,(!a||!a.length)&&r!=null&&(a=r.map(s=>ik(ik({},t.presentationProps),s.props))),a!=null)return a}}),Az=R([o_,Bv,zv],(e,t,r)=>{if(!(e==null||t==null))return e.map((n,a)=>{var s,l=qe(n,t.nameKey,t.name),o;return r!=null&&(s=r[a])!==null&&s!==void 0&&(s=s.props)!==null&&s!==void 0&&s.fill?o=r[a].props.fill:typeof n=="object"&&n!=null&&"fill"in n?o=n.fill:o=t.fill,{value:Tl(l,t.dataKey),color:o,payload:n,type:t.legendType}})}),Oz=R([o_,Bv,zv,Pt],(e,t,r,n)=>{if(!(t==null||e==null))return PU({offset:n,pieSettings:t,displayedData:e,cells:r})}),c_={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var a;if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const s=r[Symbol.toStringTag];return s==null||!((a=Object.getOwnPropertyDescriptor(r,Symbol.toStringTag))!=null&&a.writable)?!1:r.toString()===`[object ${s}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})(c_);var Tz=c_.isPlainObject;const Dz=ta(Tz);function lk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ok(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lk(Object(r),!0).forEach(function(n){Iz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Iz(e,t,r){return(t=Mz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Mz(e){var t=$z(e,"string");return typeof t=="symbol"?t:t+""}function $z(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function df(){return df=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},df.apply(null,arguments)}var ck=(e,t,r,n,a)=>{var s=r-n,l;return l="M ".concat(e,",").concat(t),l+="L ".concat(e+r,",").concat(t),l+="L ".concat(e+r-s/2,",").concat(t+a),l+="L ".concat(e+r-s/2-n,",").concat(t+a),l+="L ".concat(e,",").concat(t," Z"),l},Rz={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Lz=e=>{var t=Vt(e,Rz),{x:r,y:n,upperWidth:a,lowerWidth:s,height:l,className:o}=t,{animationEasing:c,animationDuration:u,animationBegin:d,isUpdateAnimationActive:f}=t,m=h.useRef(),[p,x]=h.useState(-1),g=h.useRef(a),v=h.useRef(s),b=h.useRef(l),y=h.useRef(r),w=h.useRef(n),k=Mc(e,"trapezoid-");if(h.useEffect(()=>{if(m.current&&m.current.getTotalLength)try{var T=m.current.getTotalLength();T&&x(T)}catch{}},[]),r!==+r||n!==+n||a!==+a||s!==+s||l!==+l||a===0&&s===0||l===0)return null;var N=Ae("recharts-trapezoid",o);if(!f)return h.createElement("g",null,h.createElement("path",df({},lt(t,!0),{className:N,d:ck(r,n,a,s,l)})));var S=g.current,j=v.current,P=b.current,D=y.current,O=w.current,$="0px ".concat(p===-1?1:p,"px"),B="".concat(p,"px 0px"),U=kP(["strokeDasharray"],u,c);return h.createElement(Ic,{animationId:k,key:k,canBegin:p>0,duration:u,easing:c,isActive:f,begin:d},T=>{var K=dt(S,a,T),I=dt(j,s,T),G=dt(P,l,T),M=dt(D,r,T),W=dt(O,n,T);m.current&&(g.current=K,v.current=I,b.current=G,y.current=M,w.current=W);var J=T>0?{transition:U,strokeDasharray:B}:{strokeDasharray:$};return h.createElement("path",df({},lt(t,!0),{className:N,d:ck(M,W,K,I,G),ref:m,style:ok(ok({},J),t.style)}))})},Fz=["option","shapeType","propTransformer","activeClassName","isActive"];function Bz(e,t){if(e==null)return{};var r,n,a=zz(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function zz(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function uk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ff(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uk(Object(r),!0).forEach(function(n){Uz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Uz(e,t,r){return(t=Wz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wz(e){var t=Kz(e,"string");return typeof t=="symbol"?t:t+""}function Kz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Hz(e,t){return ff(ff({},t),e)}function Vz(e,t){return e==="symbols"}function dk(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return h.createElement(PP,r);case"trapezoid":return h.createElement(Lz,r);case"sector":return h.createElement(_P,r);case"symbols":if(Vz(t))return h.createElement(hS,r);break;default:return null}}function qz(e){return h.isValidElement(e)?e.props:e}function u_(e){var{option:t,shapeType:r,propTransformer:n=Hz,activeClassName:a="recharts-active-shape",isActive:s}=e,l=Bz(e,Fz),o;if(h.isValidElement(t))o=h.cloneElement(t,ff(ff({},l),qz(t)));else if(typeof t=="function")o=t(l);else if(Dz(t)&&typeof t!="boolean"){var c=n(t,l);o=h.createElement(dk,{shapeType:r,elementProps:c})}else{var u=l;o=h.createElement(dk,{shapeType:r,elementProps:u})}return s?h.createElement(Kt,{className:a},o):o}var Uv=(e,t)=>{var r=ht();return(n,a)=>s=>{e==null||e(n,a,s),r(xE({activeIndex:String(a),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}},Wv=e=>{var t=ht();return(r,n)=>a=>{e==null||e(r,n,a),t(B7())}},Kv=(e,t)=>{var r=ht();return(n,a)=>s=>{e==null||e(n,a,s),r(z7({activeIndex:String(a),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}};function Hv(e){var{fn:t,args:r}=e,n=ht(),a=Ar();return h.useEffect(()=>{if(!a){var s=t(r);return n(R7(s)),()=>{n(L7(s))}}},[t,r,n,a]),null}var d_=()=>{};function f_(e){var{legendPayload:t}=e,r=ht(),n=Ar();return h.useEffect(()=>n?d_:(r(yP(t)),()=>{r(bP(t))}),[r,n,t]),null}function Gz(e){var{legendPayload:t}=e,r=ht(),n=le(Te);return h.useEffect(()=>n!=="centric"&&n!=="radial"?d_:(r(yP(t)),()=>{r(bP(t))}),[r,n,t]),null}var Km,Yz=()=>{var[e]=h.useState(()=>cc("uid-"));return e},Jz=(Km=Zk["useId".toString()])!==null&&Km!==void 0?Km:Yz;function Xz(e,t){var r=Jz();return t||(e?"".concat(e,"-").concat(r):r)}var Qz=h.createContext(void 0),Vv=e=>{var{id:t,type:r,children:n}=e,a=Xz("recharts-".concat(r),t);return h.createElement(Qz.Provider,{value:a},n(a))},Zz={cartesianItems:[],polarItems:[]},m_=Jr({name:"graphicalItems",initialState:Zz,reducers:{addCartesianGraphicalItem(e,t){e.cartesianItems.push(t.payload)},replaceCartesianGraphicalItem(e,t){var{prev:r,next:n}=t.payload,a=ka(e).cartesianItems.indexOf(r);a>-1&&(e.cartesianItems[a]=n)},removeCartesianGraphicalItem(e,t){var r=ka(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},addPolarGraphicalItem(e,t){e.polarItems.push(t.payload)},removePolarGraphicalItem(e,t){var r=ka(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)}}}),{addCartesianGraphicalItem:eU,replaceCartesianGraphicalItem:tU,removeCartesianGraphicalItem:rU,addPolarGraphicalItem:nU,removePolarGraphicalItem:aU}=m_.actions,sU=m_.reducer;function h_(e){var t=ht(),r=h.useRef(null);return h.useEffect(()=>{r.current===null?t(eU(e)):r.current!==e&&t(tU({prev:r.current,next:e})),r.current=e},[t,e]),h.useEffect(()=>()=>{r.current&&(t(rU(r.current)),r.current=null)},[t]),null}function iU(e){var t=ht();return h.useEffect(()=>(t(nU(e)),()=>{t(aU(e))}),[t,e]),null}var lU=["onMouseEnter","onClick","onMouseLeave"],oU=["id"],cU=["id"];function qv(e,t){if(e==null)return{};var r,n,a=uU(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function uU(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function fk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Xe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fk(Object(r),!0).forEach(function(n){dU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dU(e,t,r){return(t=fU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fU(e){var t=mU(e,"string");return typeof t=="symbol"?t:t+""}function mU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ss(){return Ss=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ss.apply(null,arguments)}function hU(e){var t=h.useMemo(()=>ix(e.children,qc),[e.children]),r=le(n=>Az(n,e.id,t));return r==null?null:h.createElement(Gz,{legendPayload:r})}function pU(e){var{dataKey:t,nameKey:r,sectors:n,stroke:a,strokeWidth:s,fill:l,name:o,hide:c,tooltipType:u}=e;return{dataDefinedOnItem:n.map(d=>d.tooltipPayload),positions:n.map(d=>d.tooltipPosition),settings:{stroke:a,strokeWidth:s,fill:l,dataKey:t,nameKey:r,name:Tl(o,t),hide:c,type:u,color:l,unit:""}}}var gU=(e,t)=>e>t?"start":e<t?"end":"middle",xU=(e,t,r)=>nr(typeof t=="function"?t(e):t,r,r*.8),vU=(e,t,r)=>{var{top:n,left:a,width:s,height:l}=t,o=oP(s,l),c=a+nr(e.cx,s,s/2),u=n+nr(e.cy,l,l/2),d=nr(e.innerRadius,o,0),f=xU(r,e.outerRadius,o),m=e.maxRadius||Math.sqrt(s*s+l*l)/2;return{cx:c,cy:u,innerRadius:d,outerRadius:f,maxRadius:m}},yU=(e,t)=>{var r=Tt(t-e),n=Math.min(Math.abs(t-e),360);return r*n};function bU(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var wU=(e,t)=>{if(h.isValidElement(e))return h.cloneElement(e,t);if(typeof e=="function")return e(t);var r=Ae("recharts-pie-label-line",typeof e!="boolean"?e.className:"");return h.createElement(_x,Ss({},t,{type:"linear",className:r}))},kU=(e,t,r)=>{if(h.isValidElement(e))return h.cloneElement(e,t);var n=r;if(typeof e=="function"&&(n=e(t),h.isValidElement(n)))return n;var a=Ae("recharts-pie-label-text",bU(e));return h.createElement(z0,Ss({},t,{alignmentBaseline:"middle",className:a}),n)};function jU(e){var{sectors:t,props:r,showLabels:n}=e,{label:a,labelLine:s,dataKey:l}=r;if(!n||!a||!t)return null;var o=ra(r),c=lt(a,!1),u=lt(s,!1),d=typeof a=="object"&&"offsetRadius"in a&&typeof a.offsetRadius=="number"&&a.offsetRadius||20,f=t.map((m,p)=>{var x=(m.startAngle+m.endAngle)/2,g=bt(m.cx,m.cy,m.outerRadius+d,x),v=Xe(Xe(Xe(Xe({},o),m),{},{stroke:"none"},c),{},{index:p,textAnchor:gU(g.x,m.cx)},g),b=Xe(Xe(Xe(Xe({},o),m),{},{fill:"none",stroke:m.fill},u),{},{index:p,points:[bt(m.cx,m.cy,m.outerRadius,x),g],key:"line"});return h.createElement(Kt,{key:"label-".concat(m.startAngle,"-").concat(m.endAngle,"-").concat(m.midAngle,"-").concat(p)},s&&wU(s,b),kU(a,v,qe(m,l)))});return h.createElement(Kt,{className:"recharts-pie-labels"},f)}function NU(e){var{sectors:t,props:r,showLabels:n}=e,{label:a}=r;return typeof a=="object"&&a!=null&&"position"in a?h.createElement(Rv,{label:a}):h.createElement(jU,{sectors:t,props:r,showLabels:n})}function SU(e){var{sectors:t,activeShape:r,inactiveShape:n,allOtherPieProps:a}=e,s=le(Ns),{onMouseEnter:l,onClick:o,onMouseLeave:c}=a,u=qv(a,lU),d=Uv(l,a.dataKey),f=Wv(c),m=Kv(o,a.dataKey);return t==null||t.length===0?null:h.createElement(h.Fragment,null,t.map((p,x)=>{if((p==null?void 0:p.startAngle)===0&&(p==null?void 0:p.endAngle)===0&&t.length!==1)return null;var g=r&&String(x)===s,v=s?n:null,b=g?r:v,y=Xe(Xe({},p),{},{stroke:p.stroke,tabIndex:-1,[mP]:x,[hP]:a.dataKey});return h.createElement(Kt,Ss({tabIndex:-1,className:"recharts-pie-sector"},o0(u,p,x),{onMouseEnter:d(p,x),onMouseLeave:f(p,x),onClick:m(p,x),key:"sector-".concat(p==null?void 0:p.startAngle,"-").concat(p==null?void 0:p.endAngle,"-").concat(p.midAngle,"-").concat(x)}),h.createElement(u_,Ss({option:b,isActive:g,shapeType:"sector"},y)))}))}function PU(e){var t,{pieSettings:r,displayedData:n,cells:a,offset:s}=e,{cornerRadius:l,startAngle:o,endAngle:c,dataKey:u,nameKey:d,tooltipType:f}=r,m=Math.abs(r.minAngle),p=yU(o,c),x=Math.abs(p),g=n.length<=1?0:(t=r.paddingAngle)!==null&&t!==void 0?t:0,v=n.filter(S=>qe(S,u,0)!==0).length,b=(x>=360?v:v-1)*g,y=x-v*m-b,w=n.reduce((S,j)=>{var P=qe(j,u,0);return S+(me(P)?P:0)},0),k;if(w>0){var N;k=n.map((S,j)=>{var P=qe(S,u,0),D=qe(S,d,j),O=vU(r,s,S),$=(me(P)?P:0)/w,B,U=Xe(Xe({},S),a&&a[j]&&a[j].props);j?B=N.endAngle+Tt(p)*g*(P!==0?1:0):B=o;var T=B+Tt(p)*((P!==0?m:0)+$*y),K=(B+T)/2,I=(O.innerRadius+O.outerRadius)/2,G=[{name:D,value:P,payload:U,dataKey:u,type:f}],M=bt(O.cx,O.cy,I,K);return N=Xe(Xe(Xe(Xe({},r.presentationProps),{},{percent:$,cornerRadius:l,name:D,tooltipPayload:G,midAngle:K,middleRadius:I,tooltipPosition:M},U),O),{},{value:P,startAngle:B,endAngle:T,payload:U,paddingAngle:Tt(p)*g}),N})}return k}function CU(e){var{showLabels:t,sectors:r,children:n}=e,a=h.useMemo(()=>!t||!r?[]:r.map(s=>({value:s.value,payload:s.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:s.cx,cy:s.cy,innerRadius:s.innerRadius,outerRadius:s.outerRadius,startAngle:s.startAngle,endAngle:s.endAngle,clockWise:!1},fill:s.fill})),[r,t]);return h.createElement(hz,{value:t?a:void 0},n)}function EU(e){var{props:t,previousSectorsRef:r}=e,{sectors:n,isAnimationActive:a,animationBegin:s,animationDuration:l,animationEasing:o,activeShape:c,inactiveShape:u,onAnimationStart:d,onAnimationEnd:f}=t,m=Mc(t,"recharts-pie-"),p=r.current,[x,g]=h.useState(!1),v=h.useCallback(()=>{typeof f=="function"&&f(),g(!1)},[f]),b=h.useCallback(()=>{typeof d=="function"&&d(),g(!0)},[d]);return h.createElement(CU,{showLabels:!x,sectors:n},h.createElement(Ic,{animationId:m,begin:s,duration:l,isActive:a,easing:o,onAnimationStart:b,onAnimationEnd:v,key:m},y=>{var w=[],k=n&&n[0],N=k==null?void 0:k.startAngle;return n==null||n.forEach((S,j)=>{var P=p&&p[j],D=j>0?xi(S,"paddingAngle",0):0;if(P){var O=dt(P.endAngle-P.startAngle,S.endAngle-S.startAngle,y),$=Xe(Xe({},S),{},{startAngle:N+D,endAngle:N+O+D});w.push($),N=$.endAngle}else{var{endAngle:B,startAngle:U}=S,T=dt(0,B-U,y),K=Xe(Xe({},S),{},{startAngle:N+D,endAngle:N+T+D});w.push(K),N=K.endAngle}}),r.current=w,h.createElement(Kt,null,h.createElement(SU,{sectors:w,activeShape:c,inactiveShape:u,allOtherPieProps:t}))}),h.createElement(NU,{showLabels:!x,sectors:n,props:t}),t.children)}var _U={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!Ts.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function AU(e){var{id:t}=e,r=qv(e,oU),{hide:n,className:a,rootTabIndex:s}=e,l=h.useMemo(()=>ix(e.children,qc),[e.children]),o=le(d=>Oz(d,t,l)),c=h.useRef(null),u=Ae("recharts-pie",a);return n||o==null?(c.current=null,h.createElement(Kt,{tabIndex:s,className:u})):h.createElement(h.Fragment,null,h.createElement(Hv,{fn:pU,args:Xe(Xe({},e),{},{sectors:o})}),h.createElement(Kt,{tabIndex:s,className:u},h.createElement(EU,{props:Xe(Xe({},r),{},{sectors:o}),previousSectorsRef:c})))}function p_(e){var t=Vt(e,_U),{id:r}=t,n=qv(t,cU),a=ra(n);return h.createElement(Vv,{id:r,type:"pie"},s=>h.createElement(h.Fragment,null,h.createElement(iU,{type:"pie",id:s,data:n.data,dataKey:n.dataKey,hide:n.hide,angleAxisId:0,radiusAxisId:0,name:n.name,nameKey:n.nameKey,tooltipType:n.tooltipType,legendType:n.legendType,fill:n.fill,cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,paddingAngle:n.paddingAngle,minAngle:n.minAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius,cornerRadius:n.cornerRadius,presentationProps:a,maxRadius:t.maxRadius}),h.createElement(hU,Ss({},n,{id:s})),h.createElement(AU,Ss({},n,{id:s}))))}p_.displayName="Pie";function mk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function hk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mk(Object(r),!0).forEach(function(n){OU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function OU(e,t,r){return(t=TU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TU(e){var t=DU(e,"string");return typeof t=="symbol"?t:t+""}function DU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var IU={xAxis:{},yAxis:{},zAxis:{}},g_=Jr({name:"cartesianAxis",initialState:IU,reducers:{addXAxis(e,t){e.xAxis[t.payload.id]=t.payload},removeXAxis(e,t){delete e.xAxis[t.payload.id]},addYAxis(e,t){e.yAxis[t.payload.id]=t.payload},removeYAxis(e,t){delete e.yAxis[t.payload.id]},addZAxis(e,t){e.zAxis[t.payload.id]=t.payload},removeZAxis(e,t){delete e.zAxis[t.payload.id]},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload;e.yAxis[r]&&(e.yAxis[r]=hk(hk({},e.yAxis[r]),{},{width:n}))}}}),{addXAxis:MU,removeXAxis:$U,addYAxis:RU,removeYAxis:LU,addZAxis:yG,removeZAxis:bG,updateYAxisWidth:FU}=g_.actions,BU=g_.reducer,zU=R([Pt],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),UU=R([zU,$a,Ra],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),Gv=()=>le(UU),WU=()=>le(CF);function pk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function gk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pk(Object(r),!0).forEach(function(n){KU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function KU(e,t,r){return(t=HU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HU(e){var t=VU(e,"string");return typeof t=="symbol"?t:t+""}function VU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qU=e=>{var{point:t,childIndex:r,mainColor:n,activeDot:a,dataKey:s}=e;if(a===!1||t.x==null||t.y==null)return null;var l=gk(gk({index:r,dataKey:s,cx:t.x,cy:t.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},lt(a,!1)),sx(a)),o;return h.isValidElement(a)?o=h.cloneElement(a,l):typeof a=="function"?o=a(l):o=h.createElement(a_,l),h.createElement(Kt,{className:"recharts-active-dot"},o)};function GU(e){var{points:t,mainColor:r,activeDot:n,itemDataKey:a}=e,s=le(Ns),l=WU();if(t==null||l==null)return null;var o=t.find(c=>l.includes(c.payload));return et(o)?null:qU({point:o,childIndex:Number(s),mainColor:r,dataKey:a,activeDot:n})}var YU=!0,Hm="Invariant failed";function JU(e,t){if(!e){if(YU)throw new Error(Hm);var r=typeof t=="function"?t():t,n=r?"".concat(Hm,": ").concat(r):Hm;throw new Error(n)}}var XU=["x","y"];function $p(){return $p=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$p.apply(null,arguments)}function xk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function wo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xk(Object(r),!0).forEach(function(n){QU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function QU(e,t,r){return(t=ZU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZU(e){var t=e9(e,"string");return typeof t=="symbol"?t:t+""}function e9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function t9(e,t){if(e==null)return{};var r,n,a=r9(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function r9(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function n9(e,t){var{x:r,y:n}=e,a=t9(e,XU),s="".concat(r),l=parseInt(s,10),o="".concat(n),c=parseInt(o,10),u="".concat(t.height||a.height),d=parseInt(u,10),f="".concat(t.width||a.width),m=parseInt(f,10);return wo(wo(wo(wo(wo({},t),a),l?{x:l}:{}),c?{y:c}:{}),{},{height:d,width:m,name:t.name,radius:t.radius})}function Yv(e){return h.createElement(u_,$p({shapeType:"rectangle",propTransformer:n9,activeClassName:"recharts-active-bar"},e))}var a9=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,a)=>{if(me(t))return t;var s=me(n)||et(n);return s?t(n,a):(s||JU(!1),r)}},s9={},x_=Jr({name:"errorBars",initialState:s9,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:a}=t.payload;e[r]&&(e[r]=e[r].map(s=>s.dataKey===n.dataKey&&s.direction===n.direction?a:s))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(a=>a.dataKey!==n.dataKey||a.direction!==n.direction))}}});x_.actions;var i9=x_.reducer,l9=["children"];function o9(e,t){if(e==null)return{};var r,n,a=c9(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function c9(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var u9={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},d9=h.createContext(u9);function v_(e){var{children:t}=e,r=o9(e,l9);return h.createElement(d9.Provider,{value:r},t)}function Jv(e,t){var r,n,a=le(u=>Fa(u,e)),s=le(u=>Ba(u,t)),l=(r=a==null?void 0:a.allowDataOverflow)!==null&&r!==void 0?r:Mr.allowDataOverflow,o=(n=s==null?void 0:s.allowDataOverflow)!==null&&n!==void 0?n:$r.allowDataOverflow,c=l||o;return{needClip:c,needClipX:l,needClipY:o}}function y_(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,a=Gv(),{needClipX:s,needClipY:l,needClip:o}=Jv(t,r);if(!o)return null;var{x:c,y:u,width:d,height:f}=a;return h.createElement("clipPath",{id:"clipPath-".concat(n)},h.createElement("rect",{x:s?c:c-d/2,y:l?u:u-f/2,width:s?d:d*2,height:l?f:f*2}))}var f9=["onMouseEnter","onMouseLeave","onClick"],m9=["value","background","tooltipPosition"],h9=["id"],p9=["onMouseEnter","onClick","onMouseLeave"];function Ps(){return Ps=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ps.apply(null,arguments)}function vk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function cr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vk(Object(r),!0).forEach(function(n){g9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function g9(e,t,r){return(t=x9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function x9(e){var t=v9(e,"string");return typeof t=="symbol"?t:t+""}function v9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mf(e,t){if(e==null)return{};var r,n,a=y9(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function y9(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var b9=e=>{var{dataKey:t,name:r,fill:n,legendType:a,hide:s}=e;return[{inactive:s,dataKey:t,type:a,color:n,value:Tl(r,t),payload:e}]};function w9(e){var{dataKey:t,stroke:r,strokeWidth:n,fill:a,name:s,hide:l,unit:o}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:a,dataKey:t,nameKey:void 0,name:Tl(s,t),hide:l,type:e.tooltipType,color:e.fill,unit:o}}}function k9(e){var t=le(Ns),{data:r,dataKey:n,background:a,allOtherBarProps:s}=e,{onMouseEnter:l,onMouseLeave:o,onClick:c}=s,u=mf(s,f9),d=Uv(l,n),f=Wv(o),m=Kv(c,n);if(!a||r==null)return null;var p=lt(a,!1);return h.createElement(h.Fragment,null,r.map((x,g)=>{var{value:v,background:b,tooltipPosition:y}=x,w=mf(x,m9);if(!b)return null;var k=d(x,g),N=f(x,g),S=m(x,g),j=cr(cr(cr(cr(cr({option:a,isActive:String(g)===t},w),{},{fill:"#eee"},b),p),o0(u,x,g)),{},{onMouseEnter:k,onMouseLeave:N,onClick:S,dataKey:n,index:g,className:"recharts-bar-background-rectangle"});return h.createElement(Yv,Ps({key:"background-bar-".concat(j.index)},j))}))}function j9(e){var{showLabels:t,children:r,rects:n}=e,a=n==null?void 0:n.map(s=>{var l={x:s.x,y:s.y,width:s.width,height:s.height};return cr(cr({},l),{},{value:s.value,payload:s.payload,parentViewBox:s.parentViewBox,viewBox:l,fill:s.fill})});return h.createElement(r_,{value:t?a:void 0},r)}function N9(e){var{shape:t,activeBar:r,baseProps:n,entry:a,index:s,dataKey:l}=e,o=le(Ns),c=le(AE),u=r&&String(s)===o&&(c==null||l===c),d=u?r:t;return h.createElement(Yv,Ps({},n,a,{isActive:u,option:d,index:s,dataKey:l}))}function S9(e){var{shape:t,baseProps:r,entry:n,index:a,dataKey:s}=e;return h.createElement(Yv,Ps({},r,n,{isActive:!1,option:t,index:a,dataKey:s}))}function P9(e){var{data:t,props:r}=e,n=ra(r),a=mf(n,h9),{shape:s,dataKey:l,activeBar:o}=r,{onMouseEnter:c,onClick:u,onMouseLeave:d}=r,f=mf(r,p9),m=Uv(c,l),p=Wv(d),x=Kv(u,l);return t?h.createElement(h.Fragment,null,t.map((g,v)=>h.createElement(Kt,Ps({className:"recharts-bar-rectangle"},o0(f,g,v),{onMouseEnter:m(g,v),onMouseLeave:p(g,v),onClick:x(g,v),key:"rectangle-".concat(g==null?void 0:g.x,"-").concat(g==null?void 0:g.y,"-").concat(g==null?void 0:g.value,"-").concat(v)}),o?h.createElement(N9,{shape:s,activeBar:o,baseProps:a,entry:g,index:v,dataKey:l}):h.createElement(S9,{shape:s,baseProps:a,entry:g,index:v,dataKey:l})))):null}function C9(e){var{props:t,previousRectanglesRef:r}=e,{data:n,layout:a,isAnimationActive:s,animationBegin:l,animationDuration:o,animationEasing:c,onAnimationEnd:u,onAnimationStart:d}=t,f=r.current,m=Mc(t,"recharts-bar-"),[p,x]=h.useState(!1),g=!p,v=h.useCallback(()=>{typeof u=="function"&&u(),x(!1)},[u]),b=h.useCallback(()=>{typeof d=="function"&&d(),x(!0)},[d]);return h.createElement(j9,{showLabels:g,rects:n},h.createElement(Ic,{animationId:m,begin:l,duration:o,isActive:s,easing:c,onAnimationEnd:v,onAnimationStart:b,key:m},y=>{var w=y===1?n:n==null?void 0:n.map((k,N)=>{var S=f&&f[N];if(S)return cr(cr({},k),{},{x:dt(S.x,k.x,y),y:dt(S.y,k.y,y),width:dt(S.width,k.width,y),height:dt(S.height,k.height,y)});if(a==="horizontal"){var j=dt(0,k.height,y);return cr(cr({},k),{},{y:k.y+k.height-j,height:j})}var P=dt(0,k.width,y);return cr(cr({},k),{},{width:P})});return y>0&&(r.current=w??null),w==null?null:h.createElement(Kt,null,h.createElement(P9,{props:t,data:w}))}),h.createElement(Rv,{label:t.label}),t.children)}function E9(e){var t=h.useRef(null);return h.createElement(C9,{previousRectanglesRef:t,props:e})}var b_=0,_9=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:qe(e,t)}};class A9 extends h.PureComponent{render(){var{hide:t,data:r,dataKey:n,className:a,xAxisId:s,yAxisId:l,needClip:o,background:c,id:u}=this.props;if(t||r==null)return null;var d=Ae("recharts-bar",a),f=u;return h.createElement(Kt,{className:d,id:u},o&&h.createElement("defs",null,h.createElement(y_,{clipPathId:f,xAxisId:s,yAxisId:l})),h.createElement(Kt,{className:"recharts-bar-rectangles",clipPath:o?"url(#clipPath-".concat(f,")"):void 0},h.createElement(k9,{data:r,dataKey:n,background:c,allOtherBarProps:this.props}),h.createElement(E9,this.props)))}}var O9={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!Ts.isSsr,legendType:"rect",minPointSize:b_,xAxisId:0,yAxisId:0};function T9(e){var{xAxisId:t,yAxisId:r,hide:n,legendType:a,minPointSize:s,activeBar:l,animationBegin:o,animationDuration:c,animationEasing:u,isAnimationActive:d}=e,{needClip:f}=Jv(t,r),m=j0(),p=Ar(),x=ix(e.children,qc),g=le(y=>iW(y,t,r,p,e.id,x));if(m!=="vertical"&&m!=="horizontal")return null;var v,b=g==null?void 0:g[0];return b==null||b.height==null||b.width==null?v=0:v=m==="vertical"?b.height/2:b.width/2,h.createElement(v_,{xAxisId:t,yAxisId:r,data:g,dataPointFormatter:_9,errorBarOffset:v},h.createElement(A9,Ps({},e,{layout:m,needClip:f,data:g,xAxisId:t,yAxisId:r,hide:n,legendType:a,minPointSize:s,activeBar:l,animationBegin:o,animationDuration:c,animationEasing:u,isAnimationActive:d})))}function D9(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:a,bandSize:s,xAxis:l,yAxis:o,xAxisTicks:c,yAxisTicks:u,stackedData:d,displayedData:f,offset:m,cells:p,parentViewBox:x}=e,g=t==="horizontal"?o:l,v=d?g.scale.domain():null,b=vM({numericAxis:g});return f.map((y,w)=>{var k,N,S,j,P,D;d?k=fM(d[w],v):(k=qe(y,r),Array.isArray(k)||(k=[b,k]));var O=a9(n,b_)(k[1],w);if(t==="horizontal"){var $,[B,U]=[o.scale(k[0]),o.scale(k[1])];N=bw({axis:l,ticks:c,bandSize:s,offset:a.offset,entry:y,index:w}),S=($=U??B)!==null&&$!==void 0?$:void 0,j=a.size;var T=B-U;if(P=Hr(T)?0:T,D={x:N,y:m.top,width:j,height:m.height},Math.abs(O)>0&&Math.abs(P)<Math.abs(O)){var K=Tt(P||O)*(Math.abs(O)-Math.abs(P));S-=K,P+=K}}else{var[I,G]=[l.scale(k[0]),l.scale(k[1])];if(N=I,S=bw({axis:o,ticks:u,bandSize:s,offset:a.offset,entry:y,index:w}),j=G-I,P=a.size,D={x:m.left,y:S,width:m.width,height:P},Math.abs(O)>0&&Math.abs(j)<Math.abs(O)){var M=Tt(j||O)*(Math.abs(O)-Math.abs(j));j+=M}}if(N==null||S==null||j==null||P==null)return null;var W=cr(cr({},y),{},{x:N,y:S,width:j,height:P,value:d?k:k[1],payload:y,background:D,tooltipPosition:{x:N+j/2,y:S+P/2},parentViewBox:x},p&&p[w]&&p[w].props);return W}).filter(Boolean)}function I9(e){var t=Vt(e,O9),r=Ar();return h.createElement(Vv,{id:t.id,type:"bar"},n=>h.createElement(h.Fragment,null,h.createElement(f_,{legendPayload:b9(t)}),h.createElement(Hv,{fn:w9,args:t}),h.createElement(h_,{type:"bar",id:n,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:xM(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:r}),h.createElement(T9,Ps({},t,{id:n}))))}var w_=h.memo(I9);w_.displayName="Bar";function yk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Iu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yk(Object(r),!0).forEach(function(n){M9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function M9(e,t,r){return(t=$9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $9(e){var t=R9(e,"string");return typeof t=="symbol"?t:t+""}function R9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var L9=(e,t)=>t,F9=(e,t,r)=>r,B9=(e,t,r,n)=>n,z9=(e,t,r,n,a)=>a,Gc=R([M0,z9],(e,t)=>e.filter(r=>r.type==="bar").find(r=>r.id===t)),U9=R([Gc],e=>e==null?void 0:e.maxBarSize),W9=(e,t,r,n,a,s)=>s,bk=(e,t,r)=>{var n=r??e;if(!et(n))return nr(n,t,0)},K9=R([Te,M0,L9,F9,B9],(e,t,r,n,a)=>t.filter(s=>e==="horizontal"?s.xAxisId===r:s.yAxisId===n).filter(s=>s.isPanorama===a).filter(s=>s.hide===!1).filter(s=>s.type==="bar")),H9=(e,t,r,n)=>{var a=Te(e);return a==="horizontal"?_p(e,"yAxis",r,n):_p(e,"xAxis",t,n)},V9=(e,t,r)=>{var n=Te(e);return n==="horizontal"?O1(e,"xAxis",t):O1(e,"yAxis",r)},q9=(e,t,r)=>{var n={},a=e.filter(I0),s=e.filter(u=>u.stackId==null),l=a.reduce((u,d)=>(u[d.stackId]||(u[d.stackId]=[]),u[d.stackId].push(d),u),n),o=Object.entries(l).map(u=>{var[d,f]=u,m=f.map(x=>x.dataKey),p=bk(t,r,f[0].barSize);return{stackId:d,dataKeys:m,barSize:p}}),c=s.map(u=>{var d=[u.dataKey].filter(m=>m!=null),f=bk(t,r,u.barSize);return{stackId:void 0,dataKeys:d,barSize:f}});return[...o,...c]},G9=R([K9,$L,V9],q9),Y9=(e,t,r,n,a)=>{var s,l,o=Gc(e,t,r,n,a);if(o!=null){var c=Te(e),u=EC(e),{maxBarSize:d}=o,f=et(d)?u:d,m,p;return c==="horizontal"?(m=js(e,"xAxis",t,n),p=ks(e,"xAxis",t,n)):(m=js(e,"yAxis",r,n),p=ks(e,"yAxis",r,n)),(s=(l=fc(m,p,!0))!==null&&l!==void 0?l:f)!==null&&s!==void 0?s:0}},k_=(e,t,r,n)=>{var a=Te(e),s,l;return a==="horizontal"?(s=js(e,"xAxis",t,n),l=ks(e,"xAxis",t,n)):(s=js(e,"yAxis",r,n),l=ks(e,"yAxis",r,n)),fc(s,l)};function J9(e,t,r,n,a){var s=n.length;if(!(s<1)){var l=nr(e,r,0,!0),o,c=[];if(qr(n[0].barSize)){var u=!1,d=r/s,f=n.reduce((b,y)=>b+(y.barSize||0),0);f+=(s-1)*l,f>=r&&(f-=(s-1)*l,l=0),f>=r&&d>0&&(u=!0,d*=.9,f=s*d);var m=(r-f)/2>>0,p={offset:m-l,size:0};o=n.reduce((b,y)=>{var w,k={stackId:y.stackId,dataKeys:y.dataKeys,position:{offset:p.offset+p.size+l,size:u?d:(w=y.barSize)!==null&&w!==void 0?w:0}},N=[...b,k];return p=N[N.length-1].position,N},c)}else{var x=nr(t,r,0,!0);r-2*x-(s-1)*l<=0&&(l=0);var g=(r-2*x-(s-1)*l)/s;g>1&&(g>>=0);var v=qr(a)?Math.min(g,a):g;o=n.reduce((b,y,w)=>[...b,{stackId:y.stackId,dataKeys:y.dataKeys,position:{offset:x+(g+l)*w+(g-v)/2,size:v}}],c)}return o}}var X9=(e,t,r,n,a,s,l)=>{var o=et(l)?t:l,c=J9(r,n,a!==s?a:s,e,o);return a!==s&&c!=null&&(c=c.map(u=>Iu(Iu({},u),{},{position:Iu(Iu({},u.position),{},{offset:u.position.offset-a/2})}))),c},Q9=R([G9,EC,ML,_C,Y9,k_,U9],X9),Z9=(e,t,r,n)=>js(e,"xAxis",t,n),eW=(e,t,r,n)=>js(e,"yAxis",r,n),tW=(e,t,r,n)=>ks(e,"xAxis",t,n),rW=(e,t,r,n)=>ks(e,"yAxis",r,n),nW=R([Q9,Gc],(e,t)=>{if(!(e==null||t==null)){var r=e.find(n=>n.stackId===t.stackId&&t.dataKey!=null&&n.dataKeys.includes(t.dataKey));if(r!=null)return r.position}}),aW=(e,t)=>{var r=ov(t);if(!(!e||r==null||t==null)){var{stackId:n}=t;if(n!=null){var a=e[n];if(a){var{stackedData:s}=a;if(s)return s.find(l=>l.key===r)}}}},sW=R([H9,Gc],aW),iW=R([Pt,Cx,Z9,eW,tW,rW,nW,Te,A0,k_,sW,Gc,W9],(e,t,r,n,a,s,l,o,c,u,d,f,m)=>{var{chartData:p,dataStartIndex:x,dataEndIndex:g}=c;if(!(f==null||l==null||t==null||o!=="horizontal"&&o!=="vertical"||r==null||n==null||a==null||s==null||u==null)){var{data:v}=f,b;if(v!=null&&v.length>0?b=v:b=p==null?void 0:p.slice(x,g+1),b!=null)return D9({layout:o,barSettings:f,pos:l,parentViewBox:t,bandSize:u,xAxis:r,yAxis:n,xAxisTicks:a,yAxisTicks:s,stackedData:d,displayedData:b,offset:e,cells:m})}}),j_=e=>{var{chartData:t}=e,r=ht(),n=Ar();return h.useEffect(()=>n?()=>{}:(r(B1(t)),()=>{r(B1(void 0))}),[t,r,n]),null},wk={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},N_=Jr({name:"brush",initialState:wk,reducers:{setBrushSettings(e,t){return t.payload==null?wk:t.payload}}});N_.actions;var lW=N_.reducer;function oW(e,t,r){return(t=cW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cW(e){var t=uW(e,"string");return typeof t=="symbol"?t:t+""}function uW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Xv{static create(t){return new Xv(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(n)switch(n){case"start":return this.scale(t);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+a}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(t)+s}default:return this.scale(t)}if(r){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+l}return this.scale(t)}}isInRange(t){var r=this.range(),n=r[0],a=r[r.length-1];return n<=a?t>=n&&t<=a:t>=a&&t<=n}}oW(Xv,"EPS",1e-4);function dW(e){return(e%180+180)%180}var fW=function(t){var{width:r,height:n}=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=dW(a),l=s*Math.PI/180,o=Math.atan(n/r),c=l>o&&l<Math.PI-o?n/Math.sin(l):r/Math.cos(l);return Math.abs(c)},mW={dots:[],areas:[],lines:[]},S_=Jr({name:"referenceElements",initialState:mW,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=ka(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=ka(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=ka(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}});S_.actions;var hW=S_.reducer,pW=h.createContext(void 0),gW=e=>{var{children:t}=e,[r]=h.useState("".concat(cc("recharts"),"-clip")),n=Gv();if(n==null)return null;var{x:a,y:s,width:l,height:o}=n;return h.createElement(pW.Provider,{value:r},h.createElement("defs",null,h.createElement("clipPath",{id:r},h.createElement("rect",{x:a,y:s,height:o,width:l}))),t)};function jl(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function P_(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],a=0;a<e.length;a+=t)if(r===void 0||r(e[a])===!0)n.push(e[a]);else return;return n}function xW(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return fW(n,r)}function vW(e,t,r){var n=r==="width",{x:a,y:s,width:l,height:o}=e;return t===1?{start:n?a:s,end:n?a+l:s+o}:{start:n?a+l:s+o,end:n?a:s}}function hf(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var s=r();return e*(t-e*s/2-n)>=0&&e*(t+e*s/2-a)<=0}function yW(e,t){return P_(e,t+1)}function bW(e,t,r,n,a){for(var s=(n||[]).slice(),{start:l,end:o}=t,c=0,u=1,d=l,f=function(){var x=n==null?void 0:n[c];if(x===void 0)return{v:P_(n,u)};var g=c,v,b=()=>(v===void 0&&(v=r(x,g)),v),y=x.coordinate,w=c===0||hf(e,y,b,d,o);w||(c=0,d=l,u+=1),w&&(d=y+e*(b()/2+a),c+=u)},m;u<=s.length;)if(m=f(),m)return m.v;return[]}function kk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Zt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kk(Object(r),!0).forEach(function(n){wW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wW(e,t,r){return(t=kW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kW(e){var t=jW(e,"string");return typeof t=="symbol"?t:t+""}function jW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function NW(e,t,r,n,a){for(var s=(n||[]).slice(),l=s.length,{start:o}=t,{end:c}=t,u=function(m){var p=s[m],x,g=()=>(x===void 0&&(x=r(p,m)),x);if(m===l-1){var v=e*(p.coordinate+e*g()/2-c);s[m]=p=Zt(Zt({},p),{},{tickCoord:v>0?p.coordinate-v*e:p.coordinate})}else s[m]=p=Zt(Zt({},p),{},{tickCoord:p.coordinate});var b=hf(e,p.tickCoord,g,o,c);b&&(c=p.tickCoord-e*(g()/2+a),s[m]=Zt(Zt({},p),{},{isShow:!0}))},d=l-1;d>=0;d--)u(d);return s}function SW(e,t,r,n,a,s){var l=(n||[]).slice(),o=l.length,{start:c,end:u}=t;if(s){var d=n[o-1],f=r(d,o-1),m=e*(d.coordinate+e*f/2-u);l[o-1]=d=Zt(Zt({},d),{},{tickCoord:m>0?d.coordinate-m*e:d.coordinate});var p=hf(e,d.tickCoord,()=>f,c,u);p&&(u=d.tickCoord-e*(f/2+a),l[o-1]=Zt(Zt({},d),{},{isShow:!0}))}for(var x=s?o-1:o,g=function(y){var w=l[y],k,N=()=>(k===void 0&&(k=r(w,y)),k);if(y===0){var S=e*(w.coordinate-e*N()/2-c);l[y]=w=Zt(Zt({},w),{},{tickCoord:S<0?w.coordinate-S*e:w.coordinate})}else l[y]=w=Zt(Zt({},w),{},{tickCoord:w.coordinate});var j=hf(e,w.tickCoord,N,c,u);j&&(c=w.tickCoord+e*(N()/2+a),l[y]=Zt(Zt({},w),{},{isShow:!0}))},v=0;v<x;v++)g(v);return l}function Qv(e,t,r){var{tick:n,ticks:a,viewBox:s,minTickGap:l,orientation:o,interval:c,tickFormatter:u,unit:d,angle:f}=e;if(!a||!a.length||!n)return[];if(me(c)||Ts.isSsr){var m;return(m=yW(a,me(c)?c:0))!==null&&m!==void 0?m:[]}var p=[],x=o==="top"||o==="bottom"?"width":"height",g=d&&x==="width"?zo(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},v=(w,k)=>{var N=typeof u=="function"?u(w.value,k):w.value;return x==="width"?xW(zo(N,{fontSize:t,letterSpacing:r}),g,f):zo(N,{fontSize:t,letterSpacing:r})[x]},b=a.length>=2?Tt(a[1].coordinate-a[0].coordinate):1,y=vW(s,b,x);return c==="equidistantPreserveStart"?bW(b,y,v,a,l):(c==="preserveStart"||c==="preserveStartEnd"?p=SW(b,y,v,a,l,c==="preserveStartEnd"):p=NW(b,y,v,a,l),p.filter(w=>w.isShow))}var PW=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:a=0,tickMargin:s=0}=e,l=0;if(t){t.forEach(d=>{if(d){var f=d.getBoundingClientRect();f.width>l&&(l=f.width)}});var o=r?r.getBoundingClientRect().width:0,c=a+s,u=l+c+o+(r?n:0);return Math.round(u)}return 0},CW=["axisLine","width","height","className","hide","ticks"],EW=["viewBox"],_W=["viewBox"];function Rp(e,t){if(e==null)return{};var r,n,a=AW(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function AW(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function wi(){return wi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wi.apply(null,arguments)}function jk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Nt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jk(Object(r),!0).forEach(function(n){OW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function OW(e,t,r){return(t=TW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TW(e){var t=DW(e,"string");return typeof t=="symbol"?t:t+""}function DW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Zv={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"};function IW(e){var{x:t,y:r,width:n,height:a,orientation:s,mirror:l,axisLine:o,otherSvgProps:c}=e;if(!o)return null;var u=Nt(Nt(Nt({},c),lt(o,!1)),{},{fill:"none"});if(s==="top"||s==="bottom"){var d=+(s==="top"&&!l||s==="bottom"&&l);u=Nt(Nt({},u),{},{x1:t,y1:r+d*a,x2:t+n,y2:r+d*a})}else{var f=+(s==="left"&&!l||s==="right"&&l);u=Nt(Nt({},u),{},{x1:t+f*n,y1:r,x2:t+f*n,y2:r+a})}return h.createElement("line",wi({},u,{className:Ae("recharts-cartesian-axis-line",xi(o,"className"))}))}function MW(e,t,r,n,a,s,l,o,c){var u,d,f,m,p,x,g=o?-1:1,v=e.tickSize||l,b=me(e.tickCoord)?e.tickCoord:e.coordinate;switch(s){case"top":u=d=e.coordinate,m=r+ +!o*a,f=m-g*v,x=f-g*c,p=b;break;case"left":f=m=e.coordinate,d=t+ +!o*n,u=d-g*v,p=u-g*c,x=b;break;case"right":f=m=e.coordinate,d=t+ +o*n,u=d+g*v,p=u+g*c,x=b;break;default:u=d=e.coordinate,m=r+ +o*a,f=m+g*v,x=f+g*c,p=b;break}return{line:{x1:u,y1:f,x2:d,y2:m},tick:{x:p,y:x}}}function $W(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function RW(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function LW(e){var{option:t,tickProps:r,value:n}=e,a,s=Ae(r.className,"recharts-cartesian-axis-tick-value");if(h.isValidElement(t))a=h.cloneElement(t,Nt(Nt({},r),{},{className:s}));else if(typeof t=="function")a=t(Nt(Nt({},r),{},{className:s}));else{var l="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(l=Ae(l,t==null?void 0:t.className)),a=h.createElement(z0,wi({},r,{className:l}),n)}return a}function FW(e){var{ticks:t=[],tick:r,tickLine:n,stroke:a,tickFormatter:s,unit:l,padding:o,tickTextProps:c,orientation:u,mirror:d,x:f,y:m,width:p,height:x,tickSize:g,tickMargin:v,fontSize:b,letterSpacing:y,getTicksConfig:w,events:k}=e,N=Qv(Nt(Nt({},w),{},{ticks:t}),b,y),S=$W(u,d),j=RW(u,d),P=ra(w),D=lt(r,!1),O=Nt(Nt({},P),{},{fill:"none"},lt(n,!1)),$=N.map((B,U)=>{var{line:T,tick:K}=MW(B,f,m,p,x,u,g,d,v),I=Nt(Nt(Nt(Nt({textAnchor:S,verticalAnchor:j},P),{},{stroke:"none",fill:a},D),K),{},{index:U,payload:B,visibleTicksCount:N.length,tickFormatter:s,padding:o},c);return h.createElement(Kt,wi({className:"recharts-cartesian-axis-tick",key:"tick-".concat(B.value,"-").concat(B.coordinate,"-").concat(B.tickCoord)},o0(k,B,U)),n&&h.createElement("line",wi({},O,T,{className:Ae("recharts-cartesian-axis-tick-line",xi(n,"className"))})),r&&h.createElement(LW,{option:r,tickProps:I,value:"".concat(typeof s=="function"?s(B.value,U):B.value).concat(l||"")}))});return $.length>0?h.createElement("g",{className:"recharts-cartesian-axis-ticks"},$):null}var BW=h.forwardRef((e,t)=>{var{axisLine:r,width:n,height:a,className:s,hide:l,ticks:o}=e,c=Rp(e,CW),[u,d]=h.useState(""),[f,m]=h.useState(""),p=h.useRef([]);h.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var g;return PW({ticks:p.current,label:(g=e.labelRef)===null||g===void 0?void 0:g.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var x=h.useCallback(g=>{if(g){var v=g.getElementsByClassName("recharts-cartesian-axis-tick-value");p.current=Array.from(v);var b=v[0];if(b){var y=window.getComputedStyle(b),w=y.fontSize,k=y.letterSpacing;(w!==u||k!==f)&&(d(w),m(k))}}},[u,f]);return l||n!=null&&n<=0||a!=null&&a<=0?null:h.createElement(Kt,{className:Ae("recharts-cartesian-axis",s),ref:x},h.createElement(IW,{x:e.x,y:e.y,width:n,height:a,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:ra(e)}),h.createElement(FW,{ticks:o,tick:e.tick,tickLine:e.tickLine,stroke:e.stroke,tickFormatter:e.tickFormatter,unit:e.unit,padding:e.padding,tickTextProps:e.tickTextProps,orientation:e.orientation,mirror:e.mirror,x:e.x,y:e.y,width:e.width,height:e.height,tickSize:e.tickSize,tickMargin:e.tickMargin,fontSize:u,letterSpacing:f,getTicksConfig:e,events:c}),h.createElement(XB,{x:e.x,y:e.y,width:e.width,height:e.height},h.createElement(lz,{label:e.label}),e.children))}),zW=h.memo(BW,(e,t)=>{var{viewBox:r}=e,n=Rp(e,EW),{viewBox:a}=t,s=Rp(t,_W);return jl(r,a)&&jl(n,s)}),ey=h.forwardRef((e,t)=>{var r=Vt(e,Zv);return h.createElement(zW,wi({},r,{ref:t}))});ey.displayName="CartesianAxis";var UW=["x1","y1","x2","y2","key"],WW=["offset"],KW=["xAxisId","yAxisId"],HW=["xAxisId","yAxisId"];function Nk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function tr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Nk(Object(r),!0).forEach(function(n){VW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Nk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function VW(e,t,r){return(t=qW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qW(e){var t=GW(e,"string");return typeof t=="symbol"?t:t+""}function GW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ri(){return ri=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ri.apply(null,arguments)}function pf(e,t){if(e==null)return{};var r,n,a=YW(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function YW(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var JW=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:a,width:s,height:l,ry:o}=e;return h.createElement("rect",{x:n,y:a,ry:o,width:s,height:l,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function C_(e,t){var r;if(h.isValidElement(e))r=h.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var{x1:n,y1:a,x2:s,y2:l,key:o}=t,c=pf(t,UW),u=ra(c),d=pf(u,WW);r=h.createElement("line",ri({},d,{x1:n,y1:a,x2:s,y2:l,fill:"none",key:o}))}return r}function XW(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:a}=e;if(!n||!a||!a.length)return null;var s=pf(e,KW),l=a.map((o,c)=>{var u=tr(tr({},s),{},{x1:t,y1:o,x2:t+r,y2:o,key:"line-".concat(c),index:c});return C_(n,u)});return h.createElement("g",{className:"recharts-cartesian-grid-horizontal"},l)}function QW(e){var{y:t,height:r,vertical:n=!0,verticalPoints:a}=e;if(!n||!a||!a.length)return null;var s=pf(e,HW),l=a.map((o,c)=>{var u=tr(tr({},s),{},{x1:o,y1:t,x2:o,y2:t+r,key:"line-".concat(c),index:c});return C_(n,u)});return h.createElement("g",{className:"recharts-cartesian-grid-vertical"},l)}function ZW(e){var{horizontalFill:t,fillOpacity:r,x:n,y:a,width:s,height:l,horizontalPoints:o,horizontal:c=!0}=e;if(!c||!t||!t.length)return null;var u=o.map(f=>Math.round(f+a-a)).sort((f,m)=>f-m);a!==u[0]&&u.unshift(0);var d=u.map((f,m)=>{var p=!u[m+1],x=p?a+l-f:u[m+1]-f;if(x<=0)return null;var g=m%t.length;return h.createElement("rect",{key:"react-".concat(m),y:f,x:n,height:x,width:s,stroke:"none",fill:t[g],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return h.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function eK(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:a,y:s,width:l,height:o,verticalPoints:c}=e;if(!t||!r||!r.length)return null;var u=c.map(f=>Math.round(f+a-a)).sort((f,m)=>f-m);a!==u[0]&&u.unshift(0);var d=u.map((f,m)=>{var p=!u[m+1],x=p?a+l-f:u[m+1]-f;if(x<=0)return null;var g=m%r.length;return h.createElement("rect",{key:"react-".concat(m),x:f,y:s,width:x,height:o,stroke:"none",fill:r[g],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return h.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var tK=(e,t)=>{var{xAxis:r,width:n,height:a,offset:s}=e;return uP(Qv(tr(tr(tr({},Zv),r),{},{ticks:dP(r,!0),viewBox:{x:0,y:0,width:n,height:a}})),s.left,s.left+s.width,t)},rK=(e,t)=>{var{yAxis:r,width:n,height:a,offset:s}=e;return uP(Qv(tr(tr(tr({},Zv),r),{},{ticks:dP(r,!0),viewBox:{x:0,y:0,width:n,height:a}})),s.top,s.top+s.height,t)},nK={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function Lp(e){var t=gP(),r=xP(),n=pP(),a=tr(tr({},Vt(e,nK)),{},{x:me(e.x)?e.x:n.left,y:me(e.y)?e.y:n.top,width:me(e.width)?e.width:n.width,height:me(e.height)?e.height:n.height}),{xAxisId:s,yAxisId:l,x:o,y:c,width:u,height:d,syncWithTicks:f,horizontalValues:m,verticalValues:p}=a,x=Ar(),g=le(D=>T1(D,"xAxis",s,x)),v=le(D=>T1(D,"yAxis",l,x));if(!me(u)||u<=0||!me(d)||d<=0||!me(o)||o!==+o||!me(c)||c!==+c)return null;var b=a.verticalCoordinatesGenerator||tK,y=a.horizontalCoordinatesGenerator||rK,{horizontalPoints:w,verticalPoints:k}=a;if((!w||!w.length)&&typeof y=="function"){var N=m&&m.length,S=y({yAxis:v?tr(tr({},v),{},{ticks:N?m:v.ticks}):void 0,width:t,height:r,offset:n},N?!0:f);Bo(Array.isArray(S),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof S,"]")),Array.isArray(S)&&(w=S)}if((!k||!k.length)&&typeof b=="function"){var j=p&&p.length,P=b({xAxis:g?tr(tr({},g),{},{ticks:j?p:g.ticks}):void 0,width:t,height:r,offset:n},j?!0:f);Bo(Array.isArray(P),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof P,"]")),Array.isArray(P)&&(k=P)}return h.createElement("g",{className:"recharts-cartesian-grid"},h.createElement(JW,{fill:a.fill,fillOpacity:a.fillOpacity,x:a.x,y:a.y,width:a.width,height:a.height,ry:a.ry}),h.createElement(ZW,ri({},a,{horizontalPoints:w})),h.createElement(eK,ri({},a,{verticalPoints:k})),h.createElement(XW,ri({},a,{offset:n,horizontalPoints:w,xAxis:g,yAxis:v})),h.createElement(QW,ri({},a,{offset:n,verticalPoints:k,xAxis:g,yAxis:v})))}Lp.displayName="CartesianGrid";var E_=(e,t,r,n)=>js(e,"xAxis",t,n),__=(e,t,r,n)=>ks(e,"xAxis",t,n),A_=(e,t,r,n)=>js(e,"yAxis",r,n),O_=(e,t,r,n)=>ks(e,"yAxis",r,n),aK=R([Te,E_,A_,__,O_],(e,t,r,n,a)=>Os(e,"xAxis")?fc(t,n,!1):fc(r,a,!1)),sK=(e,t,r,n,a)=>a;function iK(e){return e.type==="line"}var lK=R([M0,sK],(e,t)=>e.filter(iK).find(r=>r.id===t)),oK=R([Te,E_,A_,__,O_,lK,aK,A0],(e,t,r,n,a,s,l,o)=>{var{chartData:c,dataStartIndex:u,dataEndIndex:d}=o;if(!(s==null||t==null||r==null||n==null||a==null||n.length===0||a.length===0||l==null)){var{dataKey:f,data:m}=s,p;if(m!=null&&m.length>0?p=m:p=c==null?void 0:c.slice(u,d+1),p!=null)return AK({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:a,dataKey:f,bandSize:l,displayedData:p})}}),cK=["id"],uK=["type","layout","connectNulls","needClip"],dK=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function Sk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Fr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Sk(Object(r),!0).forEach(function(n){fK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Sk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fK(e,t,r){return(t=mK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mK(e){var t=hK(e,"string");return typeof t=="symbol"?t:t+""}function hK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ty(e,t){if(e==null)return{};var r,n,a=pK(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function pK(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function ki(){return ki=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ki.apply(null,arguments)}var gK=e=>{var{dataKey:t,name:r,stroke:n,legendType:a,hide:s}=e;return[{inactive:s,dataKey:t,type:a,color:n,value:Tl(r,t),payload:e}]};function xK(e){var{dataKey:t,data:r,stroke:n,strokeWidth:a,fill:s,name:l,hide:o,unit:c}=e;return{dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:a,fill:s,dataKey:t,nameKey:void 0,name:Tl(l,t),hide:o,type:e.tooltipType,color:e.stroke,unit:c}}}var T_=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function vK(e,t){for(var r=e.length%2!==0?[...e,0]:e,n=[],a=0;a<t;++a)n=[...n,...r];return n}var yK=(e,t,r)=>{var n=r.reduce((f,m)=>f+m);if(!n)return T_(t,e);for(var a=Math.floor(e/n),s=e%n,l=t-e,o=[],c=0,u=0;c<r.length;u+=r[c],++c)if(u+r[c]>s){o=[...r.slice(0,c),s-u];break}var d=o.length%2===0?[0,l]:[l];return[...vK(r,a),...o,...d].map(f=>"".concat(f,"px")).join(", ")};function bK(e,t){var r;if(h.isValidElement(e))r=h.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var n=Ae("recharts-line-dot",typeof e!="boolean"?e.className:"");r=h.createElement(a_,ki({},t,{className:n}))}return r}function wK(e,t){return e==null?!1:t?!0:e.length===1}function kK(e){var{clipPathId:t,points:r,props:n}=e,{dot:a,dataKey:s,needClip:l}=n;if(!wK(r,a))return null;var o=ty(n,cK),c=Y2(a),u=ra(o),d=lt(a,!0),f=r.map((p,x)=>{var g=Fr(Fr(Fr({key:"dot-".concat(x),r:3},u),d),{},{index:x,cx:p.x,cy:p.y,dataKey:s,value:p.value,payload:p.payload,points:r});return bK(a,g)}),m={clipPath:l?"url(#clipPath-".concat(c?"":"dots-").concat(t,")"):void 0};return h.createElement(Kt,ki({className:"recharts-line-dots",key:"dots"},m),f)}function jK(e){var{showLabels:t,children:r,points:n}=e,a=h.useMemo(()=>n==null?void 0:n.map(s=>{var l={x:s.x,y:s.y,width:0,height:0};return Fr(Fr({},l),{},{value:s.value,payload:s.payload,viewBox:l,parentViewBox:void 0,fill:void 0})}),[n]);return h.createElement(r_,{value:t?a:null},r)}function Pk(e){var{clipPathId:t,pathRef:r,points:n,strokeDasharray:a,props:s}=e,{type:l,layout:o,connectNulls:c,needClip:u}=s,d=ty(s,uK),f=Fr(Fr({},lt(d,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:u?"url(#clipPath-".concat(t,")"):void 0,points:n,type:l,layout:o,connectNulls:c,strokeDasharray:a??s.strokeDasharray});return h.createElement(h.Fragment,null,(n==null?void 0:n.length)>1&&h.createElement(_x,ki({},f,{pathRef:r})),h.createElement(kK,{points:n,clipPathId:t,props:s}))}function NK(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function SK(e){var{clipPathId:t,props:r,pathRef:n,previousPointsRef:a,longestAnimatedLengthRef:s}=e,{points:l,strokeDasharray:o,isAnimationActive:c,animationBegin:u,animationDuration:d,animationEasing:f,animateNewValues:m,width:p,height:x,onAnimationEnd:g,onAnimationStart:v}=r,b=a.current,y=Mc(r,"recharts-line-"),[w,k]=h.useState(!1),N=!w,S=h.useCallback(()=>{typeof g=="function"&&g(),k(!1)},[g]),j=h.useCallback(()=>{typeof v=="function"&&v(),k(!0)},[v]),P=NK(n.current),D=s.current;return h.createElement(jK,{points:l,showLabels:N},r.children,h.createElement(Ic,{animationId:y,begin:u,duration:d,isActive:c,easing:f,onAnimationEnd:S,onAnimationStart:j,key:y},O=>{var $=dt(D,P+D,O),B=Math.min($,P),U;if(c)if(o){var T="".concat(o).split(/[,\s]+/gim).map(G=>parseFloat(G));U=yK(B,P,T)}else U=T_(P,B);else U=o==null?void 0:String(o);if(b){var K=b.length/l.length,I=O===1?l:l.map((G,M)=>{var W=Math.floor(M*K);if(b[W]){var J=b[W];return Fr(Fr({},G),{},{x:dt(J.x,G.x,O),y:dt(J.y,G.y,O)})}return m?Fr(Fr({},G),{},{x:dt(p*2,G.x,O),y:dt(x/2,G.y,O)}):Fr(Fr({},G),{},{x:G.x,y:G.y})});return a.current=I,h.createElement(Pk,{props:r,points:I,clipPathId:t,pathRef:n,strokeDasharray:U})}return O>0&&P>0&&(a.current=l,s.current=B),h.createElement(Pk,{props:r,points:l,clipPathId:t,pathRef:n,strokeDasharray:U})}),h.createElement(Rv,{label:r.label}))}function PK(e){var{clipPathId:t,props:r}=e,n=h.useRef(null),a=h.useRef(0),s=h.useRef(null);return h.createElement(SK,{props:r,clipPathId:t,previousPointsRef:n,longestAnimatedLengthRef:a,pathRef:s})}var CK=(e,t)=>({x:e.x,y:e.y,value:e.value,errorVal:qe(e.payload,t)});class EK extends h.Component{render(){var t,{hide:r,dot:n,points:a,className:s,xAxisId:l,yAxisId:o,top:c,left:u,width:d,height:f,id:m,needClip:p}=this.props;if(r)return null;var x=Ae("recharts-line",s),g=m,{r:v=3,strokeWidth:b=2}=(t=lt(n,!1))!==null&&t!==void 0?t:{r:3,strokeWidth:2},y=Y2(n),w=v*2+b;return h.createElement(h.Fragment,null,h.createElement(Kt,{className:x},p&&h.createElement("defs",null,h.createElement(y_,{clipPathId:g,xAxisId:l,yAxisId:o}),!y&&h.createElement("clipPath",{id:"clipPath-dots-".concat(g)},h.createElement("rect",{x:u-w/2,y:c-w/2,width:d+w,height:f+w}))),h.createElement(v_,{xAxisId:l,yAxisId:o,data:a,dataPointFormatter:CK,errorBarOffset:0},h.createElement(PK,{props:this.props,clipPathId:g}))),h.createElement(GU,{activeDot:this.props.activeDot,points:a,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var D_={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!Ts.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function _K(e){var t=Vt(e,D_),{activeDot:r,animateNewValues:n,animationBegin:a,animationDuration:s,animationEasing:l,connectNulls:o,dot:c,hide:u,isAnimationActive:d,label:f,legendType:m,xAxisId:p,yAxisId:x,id:g}=t,v=ty(t,dK),{needClip:b}=Jv(p,x),y=Gv(),w=j0(),k=Ar(),N=le(O=>oK(O,p,x,k,g));if(w!=="horizontal"&&w!=="vertical"||N==null||y==null)return null;var{height:S,width:j,x:P,y:D}=y;return h.createElement(EK,ki({},v,{id:g,connectNulls:o,dot:c,activeDot:r,animateNewValues:n,animationBegin:a,animationDuration:s,animationEasing:l,isAnimationActive:d,hide:u,label:f,legendType:m,xAxisId:p,yAxisId:x,points:N,layout:w,height:S,width:j,left:P,top:D,needClip:b}))}function AK(e){var{layout:t,xAxis:r,yAxis:n,xAxisTicks:a,yAxisTicks:s,dataKey:l,bandSize:o,displayedData:c}=e;return c.map((u,d)=>{var f=qe(u,l);if(t==="horizontal"){var m=yw({axis:r,ticks:a,bandSize:o,entry:u,index:d}),p=et(f)?null:n.scale(f);return{x:m,y:p,value:f,payload:u}}var x=et(f)?null:r.scale(f),g=yw({axis:n,ticks:s,bandSize:o,entry:u,index:d});return x==null||g==null?null:{x,y:g,value:f,payload:u}}).filter(Boolean)}function OK(e){var t=Vt(e,D_),r=Ar();return h.createElement(Vv,{id:t.id,type:"line"},n=>h.createElement(h.Fragment,null,h.createElement(f_,{legendPayload:gK(t)}),h.createElement(Hv,{fn:xK,args:t}),h.createElement(h_,{type:"line",id:n,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:r}),h.createElement(_K,ki({},t,{id:n}))))}var I_=h.memo(OK);I_.displayName="Line";var TK=["dangerouslySetInnerHTML","ticks"],DK=["id"],IK=["domain"],MK=["domain"];function Fp(){return Fp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fp.apply(null,arguments)}function gf(e,t){if(e==null)return{};var r,n,a=$K(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function $K(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function RK(e){var t=ht();return h.useEffect(()=>(t(MU(e)),()=>{t($U(e))}),[e,t]),null}var LK=e=>{var{xAxisId:t,className:r}=e,n=le(Cx),a=Ar(),s="xAxis",l=le(p=>Fl(p,s,t,a)),o=le(p=>dE(p,s,t,a)),c=le(p=>lE(p,t)),u=le(p=>C7(p,t)),d=le(p=>LC(p,t));if(c==null||u==null||d==null)return null;var f=gf(e,TK),m=gf(d,DK);return h.createElement(ey,Fp({},f,m,{scale:l,x:u.x,y:u.y,width:c.width,height:c.height,className:Ae("recharts-".concat(s," ").concat(s),r),viewBox:n,ticks:o}))},FK={allowDataOverflow:Mr.allowDataOverflow,allowDecimals:Mr.allowDecimals,allowDuplicatedCategory:Mr.allowDuplicatedCategory,height:Mr.height,hide:!1,mirror:Mr.mirror,orientation:Mr.orientation,padding:Mr.padding,reversed:Mr.reversed,scale:Mr.scale,tickCount:Mr.tickCount,type:Mr.type,xAxisId:0},BK=e=>{var t,r,n,a,s,l=Vt(e,FK);return h.createElement(h.Fragment,null,h.createElement(RK,{interval:(t=l.interval)!==null&&t!==void 0?t:"preserveEnd",id:l.xAxisId,scale:l.scale,type:l.type,padding:l.padding,allowDataOverflow:l.allowDataOverflow,domain:l.domain,dataKey:l.dataKey,allowDuplicatedCategory:l.allowDuplicatedCategory,allowDecimals:l.allowDecimals,tickCount:l.tickCount,includeHidden:(r=l.includeHidden)!==null&&r!==void 0?r:!1,reversed:l.reversed,ticks:l.ticks,height:l.height,orientation:l.orientation,mirror:l.mirror,hide:l.hide,unit:l.unit,name:l.name,angle:(n=l.angle)!==null&&n!==void 0?n:0,minTickGap:(a=l.minTickGap)!==null&&a!==void 0?a:5,tick:(s=l.tick)!==null&&s!==void 0?s:!0,tickFormatter:l.tickFormatter}),h.createElement(LK,l))},zK=(e,t)=>{var{domain:r}=e,n=gf(e,IK),{domain:a}=t,s=gf(t,MK);return jl(n,s)?Array.isArray(r)&&r.length===2&&Array.isArray(a)&&a.length===2?r[0]===a[0]&&r[1]===a[1]:jl({domain:r},{domain:a}):!1},Bp=h.memo(BK,zK);Bp.displayName="XAxis";var UK=["dangerouslySetInnerHTML","ticks"],WK=["id"],KK=["domain"],HK=["domain"];function zp(){return zp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zp.apply(null,arguments)}function xf(e,t){if(e==null)return{};var r,n,a=VK(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function VK(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function qK(e){var t=ht();return h.useEffect(()=>(t(RU(e)),()=>{t(LU(e))}),[e,t]),null}var GK=e=>{var{yAxisId:t,className:r,width:n,label:a}=e,s=h.useRef(null),l=h.useRef(null),o=le(Cx),c=Ar(),u=ht(),d="yAxis",f=le(y=>Fl(y,d,t,c)),m=le(y=>oE(y,t)),p=le(y=>_7(y,t)),x=le(y=>dE(y,d,t,c)),g=le(y=>FC(y,t));if(h.useLayoutEffect(()=>{if(!(n!=="auto"||!m||$v(a)||h.isValidElement(a)||g==null)){var y=s.current;if(y){var w=y.getCalculatedWidth();Math.round(m.width)!==Math.round(w)&&u(FU({id:t,width:w}))}}},[x,m,u,a,t,n,g]),m==null||p==null||g==null)return null;var v=xf(e,UK),b=xf(g,WK);return h.createElement(ey,zp({},v,b,{ref:s,labelRef:l,scale:f,x:p.x,y:p.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:m.width,height:m.height,className:Ae("recharts-".concat(d," ").concat(d),r),viewBox:o,ticks:x}))},YK={allowDataOverflow:$r.allowDataOverflow,allowDecimals:$r.allowDecimals,allowDuplicatedCategory:$r.allowDuplicatedCategory,hide:!1,mirror:$r.mirror,orientation:$r.orientation,padding:$r.padding,reversed:$r.reversed,scale:$r.scale,tickCount:$r.tickCount,type:$r.type,width:$r.width,yAxisId:0},JK=e=>{var t,r,n,a,s,l=Vt(e,YK);return h.createElement(h.Fragment,null,h.createElement(qK,{interval:(t=l.interval)!==null&&t!==void 0?t:"preserveEnd",id:l.yAxisId,scale:l.scale,type:l.type,domain:l.domain,allowDataOverflow:l.allowDataOverflow,dataKey:l.dataKey,allowDuplicatedCategory:l.allowDuplicatedCategory,allowDecimals:l.allowDecimals,tickCount:l.tickCount,padding:l.padding,includeHidden:(r=l.includeHidden)!==null&&r!==void 0?r:!1,reversed:l.reversed,ticks:l.ticks,width:l.width,orientation:l.orientation,mirror:l.mirror,hide:l.hide,unit:l.unit,name:l.name,angle:(n=l.angle)!==null&&n!==void 0?n:0,minTickGap:(a=l.minTickGap)!==null&&a!==void 0?a:5,tick:(s=l.tick)!==null&&s!==void 0?s:!0,tickFormatter:l.tickFormatter}),h.createElement(GK,l))},XK=(e,t)=>{var{domain:r}=e,n=xf(e,KK),{domain:a}=t,s=xf(t,HK);return jl(n,s)?Array.isArray(r)&&r.length===2&&Array.isArray(a)&&a.length===2?r[0]===a[0]&&r[1]===a[1]:jl({domain:r},{domain:a}):!1},Up=h.memo(JK,XK);Up.displayName="YAxis";var QK={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yc=h;function ZK(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var eH=typeof Object.is=="function"?Object.is:ZK,tH=Yc.useSyncExternalStore,rH=Yc.useRef,nH=Yc.useEffect,aH=Yc.useMemo,sH=Yc.useDebugValue;QK.useSyncExternalStoreWithSelector=function(e,t,r,n,a){var s=rH(null);if(s.current===null){var l={hasValue:!1,value:null};s.current=l}else l=s.current;s=aH(function(){function c(p){if(!u){if(u=!0,d=p,p=n(p),a!==void 0&&l.hasValue){var x=l.value;if(a(x,p))return f=x}return f=p}if(x=f,eH(d,p))return x;var g=n(p);return a!==void 0&&a(x,g)?(d=p,x):(d=p,f=g)}var u=!1,d,f,m=r===void 0?null:r;return[function(){return c(t())},m===null?void 0:function(){return c(m())}]},[t,r,n,a]);var o=tH(e,s[0],s[1]);return nH(function(){l.hasValue=!0,l.value=o},[o]),sH(o),o};function iH(e){e()}function lH(){let e=null,t=null;return{clear(){e=null,t=null},notify(){iH(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const a=t={callback:r,next:null,prev:t};return a.prev?a.prev.next=a:e=a,function(){!n||e===null||(n=!1,a.next?a.next.prev=a.prev:t=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}var Ck={notify(){},get:()=>[]};function oH(e,t){let r,n=Ck,a=0,s=!1;function l(g){d();const v=n.subscribe(g);let b=!1;return()=>{b||(b=!0,v(),f())}}function o(){n.notify()}function c(){x.onStateChange&&x.onStateChange()}function u(){return s}function d(){a++,r||(r=t?t.addNestedSub(c):e.subscribe(c),n=lH())}function f(){a--,r&&a===0&&(r(),r=void 0,n.clear(),n=Ck)}function m(){s||(s=!0,d())}function p(){s&&(s=!1,f())}const x={addNestedSub:l,notifyNestedSubs:o,handleChangeWrapper:c,isSubscribed:u,trySubscribe:m,tryUnsubscribe:p,getListeners:()=>n};return x}var cH=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",uH=cH(),dH=()=>typeof navigator<"u"&&navigator.product==="ReactNative",fH=dH(),mH=()=>uH||fH?h.useLayoutEffect:h.useEffect,hH=mH(),Vm=Symbol.for("react-redux-context"),qm=typeof globalThis<"u"?globalThis:{};function pH(){if(!h.createContext)return{};const e=qm[Vm]??(qm[Vm]=new Map);let t=e.get(h.createContext);return t||(t=h.createContext(null),e.set(h.createContext,t)),t}var gH=pH();function xH(e){const{children:t,context:r,serverState:n,store:a}=e,s=h.useMemo(()=>{const c=oH(a);return{store:a,subscription:c,getServerState:n?()=>n:void 0}},[a,n]),l=h.useMemo(()=>a.getState(),[a]);hH(()=>{const{subscription:c}=s;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),l!==a.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[s,l]);const o=r||gH;return h.createElement(o.Provider,{value:s},t)}var vH=xH,yH=(e,t)=>t,ry=R([yH,Te,MC,Et,PE,za,IF,Pt],FF),ny=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},M_=pn("mouseClick"),$_=Tc();$_.startListening({actionCreator:M_,effect:(e,t)=>{var r=e.payload,n=ry(t.getState(),ny(r));(n==null?void 0:n.activeIndex)!=null&&t.dispatch(U7({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var Wp=pn("mouseMove"),R_=Tc();R_.startListening({actionCreator:Wp,effect:(e,t)=>{var r=e.payload,n=t.getState(),a=Pv(n,n.tooltip.settings.shared),s=ry(n,ny(r));a==="axis"&&((s==null?void 0:s.activeIndex)!=null?t.dispatch(yE({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate})):t.dispatch(vE()))}});var Ek={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},L_=Jr({name:"rootProps",initialState:Ek,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:Ek.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),bH=L_.reducer,{updateOptions:wH}=L_.actions,F_=Jr({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:kH}=F_.actions,jH=F_.reducer,B_=pn("keyDown"),z_=pn("focus"),ay=Tc();ay.startListening({actionCreator:B_,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip,s=e.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var l=Number(Cv(a,zl(r))),o=za(r);if(s==="Enter"){var c=cf(r,"axis","hover",String(a.index));t.dispatch(Op({active:!a.active,activeIndex:a.index,activeDataKey:a.dataKey,activeCoordinate:c}));return}var u=D7(r),d=u==="left-to-right"?1:-1,f=s==="ArrowRight"?1:-1,m=l+f*d;if(!(o==null||m>=o.length||m<0)){var p=cf(r,"axis","hover",String(m));t.dispatch(Op({active:!0,activeIndex:m.toString(),activeDataKey:void 0,activeCoordinate:p}))}}}}});ay.startListening({actionCreator:z_,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip;if(!a.active&&a.index==null){var s="0",l=cf(r,"axis","hover",String(s));t.dispatch(Op({activeDataKey:void 0,active:!0,activeIndex:s,activeCoordinate:l}))}}}});var an=pn("externalEvent"),U_=Tc();U_.startListening({actionCreator:an,effect:(e,t)=>{if(e.payload.handler!=null){var r=t.getState(),n={activeCoordinate:NF(r),activeDataKey:AE(r),activeIndex:Ns(r),activeLabel:_E(r),activeTooltipIndex:Ns(r),isTooltipActive:SF(r)};e.payload.handler(n,e.payload.reactEvent)}}});var NH=R([Bl],e=>e.tooltipItemPayloads),SH=R([NH,Hc,(e,t,r)=>t,(e,t,r)=>r],(e,t,r,n)=>{var a=e.find(o=>o.settings.dataKey===n);if(a!=null){var{positions:s}=a;if(s!=null){var l=t(s,r);return l}}}),W_=pn("touchMove"),K_=Tc();K_.startListening({actionCreator:W_,effect:(e,t)=>{var r=e.payload,n=t.getState(),a=Pv(n,n.tooltip.settings.shared);if(a==="axis"){var s=ry(n,ny({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));(s==null?void 0:s.activeIndex)!=null&&t.dispatch(yE({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate}))}else if(a==="item"){var l,o=r.touches[0],c=document.elementFromPoint(o.clientX,o.clientY);if(!c||!c.getAttribute)return;var u=c.getAttribute(mP),d=(l=c.getAttribute(hP))!==null&&l!==void 0?l:void 0,f=SH(t.getState(),u,d);t.dispatch(xE({activeDataKey:d,activeIndex:u,activeCoordinate:f}))}}});var PH=FS({brush:lW,cartesianAxis:BU,chartData:eB,errorBars:i9,graphicalItems:sU,layout:J5,legend:LM,options:YF,polarAxis:Nz,polarOptions:jH,referenceElements:hW,rootProps:bH,tooltip:W7}),CH=function(t){return w5({reducer:PH,preloadedState:t,middleware:r=>r({serializableCheck:!1}).concat([$_.middleware,R_.middleware,ay.middleware,U_.middleware,K_.middleware]),devTools:Ts.devToolsEnabled})};function H_(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,a=Ar(),s=h.useRef(null);if(a)return r;s.current==null&&(s.current=CH(t));var l=yx;return h.createElement(vH,{context:l,store:s.current},r)}function V_(e){var{layout:t,width:r,height:n,margin:a}=e,s=ht(),l=Ar();return h.useEffect(()=>{l||(s(q5(t)),s(G5({width:r,height:n})),s(V5(a)))},[s,l,t,r,n,a]),null}function q_(e){var t=ht();return h.useEffect(()=>{t(wH(e))},[t,e]),null}var EH=["children"];function _H(e,t){if(e==null)return{};var r,n,a=AH(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function AH(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function vf(){return vf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vf.apply(null,arguments)}var OH={width:"100%",height:"100%"},TH=h.forwardRef((e,t)=>{var r=gP(),n=xP(),a=wP();if(!vl(r)||!vl(n))return null;var{children:s,otherAttributes:l,title:o,desc:c}=e,u,d;return typeof l.tabIndex=="number"?u=l.tabIndex:u=a?0:void 0,typeof l.role=="string"?d=l.role:d=a?"application":void 0,h.createElement(J2,vf({},l,{title:o,desc:c,role:d,tabIndex:u,width:r,height:n,style:OH,ref:t}),s)}),DH=e=>{var{children:t}=e,r=le(k0);if(!r)return null;var{width:n,height:a,y:s,x:l}=r;return h.createElement(J2,{width:n,height:a,x:l,y:s},t)},_k=h.forwardRef((e,t)=>{var{children:r}=e,n=_H(e,EH),a=Ar();return a?h.createElement(DH,null,r):h.createElement(TH,vf({ref:t},n),r)});function IH(){var e=ht(),[t,r]=h.useState(null),n=le(SM);return h.useEffect(()=>{if(t!=null){var a=t.getBoundingClientRect(),s=a.width/t.offsetWidth;qr(s)&&s!==n&&e(Y5(s))}},[t,e,n]),r}function Ak(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function MH(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ak(Object(r),!0).forEach(function(n){$H(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ak(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $H(e,t,r){return(t=RH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RH(e){var t=LH(e,"string");return typeof t=="symbol"?t:t+""}function LH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var FH=h.forwardRef((e,t)=>{var{children:r,className:n,height:a,onClick:s,onContextMenu:l,onDoubleClick:o,onMouseDown:c,onMouseEnter:u,onMouseLeave:d,onMouseMove:f,onMouseUp:m,onTouchEnd:p,onTouchMove:x,onTouchStart:g,style:v,width:b}=e,y=ht(),[w,k]=h.useState(null),[N,S]=h.useState(null);cB();var j=IH(),P=h.useCallback(q=>{j(q),typeof t=="function"&&t(q),k(q),S(q)},[j,t,k,S]),D=h.useCallback(q=>{y(M_(q)),y(an({handler:s,reactEvent:q}))},[y,s]),O=h.useCallback(q=>{y(Wp(q)),y(an({handler:u,reactEvent:q}))},[y,u]),$=h.useCallback(q=>{y(vE()),y(an({handler:d,reactEvent:q}))},[y,d]),B=h.useCallback(q=>{y(Wp(q)),y(an({handler:f,reactEvent:q}))},[y,f]),U=h.useCallback(()=>{y(z_())},[y]),T=h.useCallback(q=>{y(B_(q.key))},[y]),K=h.useCallback(q=>{y(an({handler:l,reactEvent:q}))},[y,l]),I=h.useCallback(q=>{y(an({handler:o,reactEvent:q}))},[y,o]),G=h.useCallback(q=>{y(an({handler:c,reactEvent:q}))},[y,c]),M=h.useCallback(q=>{y(an({handler:m,reactEvent:q}))},[y,m]),W=h.useCallback(q=>{y(an({handler:g,reactEvent:q}))},[y,g]),J=h.useCallback(q=>{y(W_(q)),y(an({handler:x,reactEvent:q}))},[y,x]),Q=h.useCallback(q=>{y(an({handler:p,reactEvent:q}))},[y,p]);return h.createElement($E.Provider,{value:w},h.createElement(K6.Provider,{value:N},h.createElement("div",{className:Ae("recharts-wrapper",n),style:MH({position:"relative",cursor:"default",width:b,height:a},v),onClick:D,onContextMenu:K,onDoubleClick:I,onFocus:U,onKeyDown:T,onMouseDown:G,onMouseEnter:O,onMouseLeave:$,onMouseMove:B,onMouseUp:M,onTouchEnd:Q,onTouchMove:J,onTouchStart:W,ref:P},r)))}),BH=["children","className","width","height","style","compact","title","desc"];function zH(e,t){if(e==null)return{};var r,n,a=UH(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function UH(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var G_=h.forwardRef((e,t)=>{var{children:r,className:n,width:a,height:s,style:l,compact:o,title:c,desc:u}=e,d=zH(e,BH),f=ra(d);return o?h.createElement(_k,{otherAttributes:f,title:c,desc:u},r):h.createElement(FH,{className:n,style:l,width:a,height:s,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},h.createElement(_k,{otherAttributes:f,title:c,desc:u,ref:t},h.createElement(gW,null,r)))}),WH=["width","height"];function Kp(){return Kp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Kp.apply(null,arguments)}function KH(e,t){if(e==null)return{};var r,n,a=HH(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function HH(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var VH={top:5,right:5,bottom:5,left:5},qH={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:VH,reverseStackOrder:!1,syncMethod:"index"},Y_=h.forwardRef(function(t,r){var n,a=Vt(t.categoricalChartProps,qH),{width:s,height:l}=a,o=KH(a,WH);if(!vl(s)||!vl(l))return null;var{chartName:c,defaultTooltipEventType:u,validateTooltipEventTypes:d,tooltipPayloadSearcher:f,categoricalChartProps:m}=t,p={chartName:c,defaultTooltipEventType:u,validateTooltipEventTypes:d,tooltipPayloadSearcher:f,eventEmitter:void 0};return h.createElement(H_,{preloadedState:{options:p},reduxStoreName:(n=m.id)!==null&&n!==void 0?n:c},h.createElement(j_,{chartData:m.data}),h.createElement(V_,{width:s,height:l,layout:a.layout,margin:a.margin}),h.createElement(q_,{accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className}),h.createElement(G_,Kp({},o,{width:s,height:l,ref:r})))}),GH=["axis"],YH=h.forwardRef((e,t)=>h.createElement(Y_,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:GH,tooltipPayloadSearcher:Mv,categoricalChartProps:e,ref:t})),JH=["axis","item"],XH=h.forwardRef((e,t)=>h.createElement(Y_,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:JH,tooltipPayloadSearcher:Mv,categoricalChartProps:e,ref:t}));function QH(e){var t=ht();return h.useEffect(()=>{t(kH(e))},[t,e]),null}var ZH=["width","height","layout"];function Hp(){return Hp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hp.apply(null,arguments)}function eV(e,t){if(e==null)return{};var r,n,a=tV(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function tV(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var rV={top:5,right:5,bottom:5,left:5},nV={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:rV,reverseStackOrder:!1,syncMethod:"index",layout:"radial"},aV=h.forwardRef(function(t,r){var n,a=Vt(t.categoricalChartProps,nV),{width:s,height:l,layout:o}=a,c=eV(a,ZH);if(!vl(s)||!vl(l))return null;var{chartName:u,defaultTooltipEventType:d,validateTooltipEventTypes:f,tooltipPayloadSearcher:m}=t,p={chartName:u,defaultTooltipEventType:d,validateTooltipEventTypes:f,tooltipPayloadSearcher:m,eventEmitter:void 0};return h.createElement(H_,{preloadedState:{options:p},reduxStoreName:(n=a.id)!==null&&n!==void 0?n:u},h.createElement(j_,{chartData:a.data}),h.createElement(V_,{width:s,height:l,layout:o,margin:a.margin}),h.createElement(q_,{accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className}),h.createElement(QH,{cx:a.cx,cy:a.cy,startAngle:a.startAngle,endAngle:a.endAngle,innerRadius:a.innerRadius,outerRadius:a.outerRadius}),h.createElement(G_,Hp({width:s,height:l},c,{ref:r})))}),sV=["item"],iV={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},lV=h.forwardRef((e,t)=>{var r=Vt(e,iV);return h.createElement(aV,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:sV,tooltipPayloadSearcher:Mv,categoricalChartProps:r,ref:t})});/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oV=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),cV=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,n)=>n?n.toUpperCase():r.toLowerCase()),Ok=e=>{const t=cV(e);return t.charAt(0).toUpperCase()+t.slice(1)},J_=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim(),uV=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var dV={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fV=h.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:s,iconNode:l,...o},c)=>h.createElement("svg",{ref:c,...dV,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:J_("lucide",a),...!s&&!uV(o)&&{"aria-hidden":"true"},...o},[...l.map(([u,d])=>h.createElement(u,d)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Se=(e,t)=>{const r=h.forwardRef(({className:n,...a},s)=>h.createElement(fV,{ref:s,iconNode:t,className:J_(`lucide-${oV(Ok(e))}`,`lucide-${e}`,n),...a}));return r.displayName=Ok(e),r};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mV=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Tk=Se("calendar",mV);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hV=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],pV=Se("camera",hV);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gV=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Dk=Se("check",gV);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xV=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],vV=Se("circle-alert",xV);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yV=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Vp=Se("circle-check-big",yV);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bV=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Gm=Se("circle-x",bV);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wV=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Ik=Se("clock",wV);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kV=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],Mk=Se("copy",kV);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jV=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],NV=Se("download",jV);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SV=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],PV=Se("ellipsis-vertical",SV);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CV=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],EV=Se("eye-off",CV);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _V=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],X_=Se("eye",_V);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AV=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],OV=Se("file-text",AV);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TV=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],DV=Se("funnel",TV);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IV=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],MV=Se("layout-dashboard",IV);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $V=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],RV=Se("log-out",$V);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LV=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],sl=Se("mail",LV);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FV=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],BV=Se("map-pin",FV);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zV=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],rd=Se("message-circle",zV);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UV=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],Ym=Se("message-square",UV);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WV=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],$k=Se("package",WV);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KV=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],Q_=Se("phone",KV);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HV=[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]],VV=Se("quote",HV);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qV=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],sy=Se("refresh-cw",qV);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GV=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],YV=Se("save",GV);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JV=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],XV=Se("search",JV);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QV=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],ZV=Se("send",QV);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eq=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],tq=Se("settings",eq);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rq=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Ii=Se("shield",rq);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nq=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],aq=Se("shopping-cart",nq);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sq=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],iq=Se("square-pen",sq);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lq=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Rk=Se("star",lq);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oq=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],bc=Se("trash-2",oq);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cq=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],qp=Se("triangle-alert",cq);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uq=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],dq=Se("user-plus",uq);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fq=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Uo=Se("user",fq);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mq=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],qs=Se("users",mq);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hq=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z",key:"1ngwbx"}]],nd=Se("wrench",hq),pq="http://127.0.0.1:8001/api",Z_=()=>{const e=JSON.parse(localStorage.getItem("auth")||"{}");return e.access?e.access:localStorage.getItem("access_token")||null},eA=()=>{const e=Z_();if(!e)return!1;try{const t=JSON.parse(atob(e.split(".")[1])),r=Math.floor(Date.now()/1e3);return t.exp>r}catch{return!1}},Lk=()=>{window.location.pathname!=="/sign-in"&&(window.location.href="/sign-in")},se=async(e,t={})=>{if(!eA())throw console.warn(`[API] Unauthenticated request to ${e} - redirecting to login`),Lk(),new Error("Authentication required");const r=Z_(),n={headers:{"Content-Type":"application/json",...r&&{Authorization:`Bearer ${r}`},...t.headers},...t};t.body instanceof FormData&&delete n.headers["Content-Type"];try{const a=await fetch(`${pq}${e}`,n);if(a.status===401)throw console.warn(`[API] Authentication failed for ${e} - redirecting to login`),localStorage.removeItem("auth"),localStorage.removeItem("access_token"),localStorage.removeItem("authToken"),Lk(),new Error("Authentication expired - please login again");if(!a.ok){const o=await a.json().catch(()=>({detail:"Network error"}));throw a.status===400&&o.detail&&(o.detail.includes("product(s) are using this category")||o.detail.includes("order item(s) are using this product"))?new Error(o.detail):a.status===404?new Error(o.detail||"Resource not found"):new Error(o.detail||`HTTP ${a.status}: ${a.statusText}`)}const s=a.headers.get("content-type");if(!s||!s.includes("application/json"))return{success:!0,status:a.status};const l=await a.text();return l.trim()?JSON.parse(l):{success:!0,status:a.status}}catch(a){throw a.message&&a.message.includes("product(s) are using this category")||a.message&&(a.message.includes("No ServiceCategory matches the given query")||a.message.includes("Resource not found"))||console.error(`API Error [${e}]:`,a),a}},tA=async()=>se("/admin/service-categories/"),rA=async()=>se("/admin/service-categories/tree/"),nA=async e=>se("/admin/service-categories/",{method:"POST",body:e instanceof FormData?e:JSON.stringify(e)}),aA=async(e,t)=>se(`/admin/service-categories/${e}/`,{method:"PUT",body:t instanceof FormData?t:JSON.stringify(t)}),sA=async e=>se(`/admin/service-categories/${e}/`,{method:"DELETE"}),iA=async(e={})=>{const t=new URLSearchParams(e).toString(),r=t?`/admin/services/?${t}`:"/admin/services/";return se(r)},gq=async e=>se(`/admin/services/${e}/`),lA=async e=>se("/admin/services/",{method:"POST",body:e instanceof FormData?e:JSON.stringify(e)}),oA=async(e,t)=>se(`/admin/services/${e}/`,{method:"PUT",body:t instanceof FormData?t:JSON.stringify(t)}),cA=async e=>se(`/admin/services/${e}/`,{method:"DELETE"}),uA=async(e,t)=>se(`/admin/services/${e}/set-main-image/`,{method:"POST",body:JSON.stringify({image_id:t})}),dA=async(e={})=>{const t=new URLSearchParams(e).toString(),r=t?`/admin/products/?${t}`:"/admin/products/";return se(r)},Gs=async e=>se(`/admin/products/${e}/`),fA=async e=>se("/admin/products/",{method:"POST",body:e instanceof FormData?e:JSON.stringify(e)}),mA=async(e,t)=>se(`/admin/products/${e}/`,{method:"PUT",body:t instanceof FormData?t:JSON.stringify(t)}),hA=async e=>se(`/admin/products/${e}/`,{method:"DELETE"}),Mi=async(e,t)=>{const r=new FormData;return t.forEach((n,a)=>{r.append(`image_${a}`,n)}),se(`/admin/products/${e}/images/`,{method:"POST",body:r})},pA=async(e,t)=>se(`/admin/products/${e}/images/${t}/`,{method:"DELETE"}),_o=async(e,t)=>se(`/admin/products/${e}/set-main-image/`,{method:"POST",body:JSON.stringify({image_id:t})}),yf=async()=>se("/admin/brands/"),iy=async e=>se("/admin/brands/",{method:"POST",body:e instanceof FormData?e:JSON.stringify(e)}),gA=async(e,t)=>se(`/admin/brands/${e}/`,{method:"PUT",body:t instanceof FormData?t:JSON.stringify(t)}),ly=async e=>se(`/admin/brands/${e}/`,{method:"DELETE"}),bf=async()=>se("/admin/categories/"),Gp=async e=>se(`/admin/categories/?parent=${e}`),wf=async e=>se("/admin/categories/",{method:"POST",body:e instanceof FormData?e:JSON.stringify(e)}),Yp=async(e,t)=>se(`/admin/categories/${e}/`,{method:"PUT",body:t instanceof FormData?t:JSON.stringify(t)}),kf=async e=>se(`/admin/categories/${e}/`,{method:"DELETE"}),xq=async(e={})=>{const t=new URLSearchParams(e).toString(),r=t?`/admin/orders/?${t}`:"/admin/orders/";return se(r)},xA=async(e,t)=>se(`/admin/orders/${e}/`,{method:"PUT",body:JSON.stringify(t)}),vA=async e=>se(`/admin/orders/${e}/`,{method:"DELETE"}),yA=async(e={})=>{const t=new URLSearchParams(e).toString(),r=t?`/admin/users/?${t}`:"/admin/users/";return se(r)},bA=async e=>se(`/admin/users/${e}/`,{method:"DELETE"}),vq=async e=>se(`/admin/users/${e}/suspend/`,{method:"POST"}),yq=async e=>se(`/admin/users/${e}/unsuspend/`,{method:"POST"}),wA=async(e={})=>{const t=new URLSearchParams(e).toString(),r=t?`/admin/reviews/?${t}`:"/admin/reviews/";return se(r)},kA=async e=>se(`/admin/reviews/${e}/`,{method:"DELETE"}),jA=async(e={})=>{const t=new URLSearchParams(e).toString(),r=t?`/admin/service-reviews/?${t}`:"/admin/service-reviews/";return se(r)},NA=async e=>se(`/admin/service-reviews/${e}/`,{method:"DELETE"}),SA=async e=>se(`/admin/service-reviews/${e}/verify/`,{method:"POST"}),PA=async e=>se(`/admin/service-reviews/${e}/unverify/`,{method:"POST"}),CA=async()=>se("/admin/website-content/"),EA=async e=>se("/admin/website-content/",{method:"PUT",body:e instanceof FormData?e:JSON.stringify(e)}),_A=async()=>se("/admin/store-settings/"),AA=async e=>se("/admin/store-settings/",{method:"PUT",body:e instanceof FormData?e:JSON.stringify(e)}),bq=async(e={})=>{const t=new URLSearchParams(e).toString(),r=t?`/admin/inquiries/?${t}`:"/admin/inquiries/";return se(r)},wq=async(e,t)=>se(`/admin/inquiries/${e}/`,{method:"PUT",body:JSON.stringify(t)}),OA=async(e={})=>{const t=new URLSearchParams(e).toString(),r=t?`/admin/contacts/?${t}`:"/admin/contacts/";return se(r)},TA=async e=>se(`/admin/contacts/${e}/mark_as_read/`,{method:"PATCH"}),kq=async e=>se(`/admin/contacts/${e}/mark_as_replied/`,{method:"PATCH"}),DA=async e=>se(`/admin/contacts/${e}/close/`,{method:"PATCH"}),IA=async e=>se(`/admin/contacts/${e}/`,{method:"DELETE"}),MA=async(e={})=>{const t=new URLSearchParams(e).toString(),r=t?`/admin/service-queries/?${t}`:"/admin/service-queries/";return se(r)},$A=async e=>se(`/admin/service-queries/${e}/mark_as_read/`,{method:"PATCH"}),jq=async e=>se(`/admin/service-queries/${e}/mark_as_replied/`,{method:"PATCH"}),RA=async e=>se(`/admin/service-queries/${e}/close/`,{method:"PATCH"}),LA=async e=>se(`/admin/service-queries/${e}/`,{method:"DELETE"}),FA=async()=>se("/admin/dashboard/stats/"),Nq=async(e,t)=>se(e,{method:"POST",body:t instanceof FormData?t:JSON.stringify(t)}),Sq=async e=>se(e),Pq=async(e,t)=>se(e,{method:"PUT",body:t instanceof FormData?t:JSON.stringify(t)}),Cq=async e=>se(e,{method:"DELETE"}),jf={post:Nq,get:Sq,put:Pq,delete:Cq,listProducts:dA,getProduct:Gs,createProduct:fA,updateProduct:mA,deleteProduct:hA,uploadProductImages:Mi,deleteProductImage:pA,setMainProductImage:_o,listBrands:yf,createBrand:iy,updateBrand:gA,deleteBrand:ly,listTopCategories:bf,listSubcategories:Gp,createCategory:wf,updateCategory:Yp,deleteCategory:kf,listOrders:xq,updateOrder:xA,deleteOrder:vA,listUsers:yA,deleteUser:bA,suspendUser:vq,unsuspendUser:yq,listReviews:wA,deleteReview:kA,listServiceReviews:jA,deleteServiceReview:NA,markServiceReviewVerified:SA,markServiceReviewUnverified:PA,listServiceCategories:tA,getServiceCategoryTree:rA,createServiceCategory:nA,updateServiceCategory:aA,deleteServiceCategory:sA,listServices:iA,getService:gq,createService:lA,updateService:oA,deleteService:cA,setMainServiceImage:uA,getContent:CA,updateContent:EA,getStoreSettings:_A,updateStoreSettings:AA,listInquiries:bq,updateInquiry:wq,listContacts:OA,markContactAsRead:TA,markContactAsReplied:kq,closeContact:DA,deleteContact:IA,listServiceQueries:MA,markServiceQueryAsRead:$A,markServiceQueryAsReplied:jq,closeServiceQuery:RA,deleteServiceQuery:LA,getDashboardStats:FA};function Eq(){const{isAuthed:e,me:t,logout:r,init:n}=Ht(),a=Ma(),{formatAmount:s}=Ol(),[l,o]=h.useState(null),[c,u]=h.useState(null),[d,f]=h.useState(Date.now()),[m,p]=h.useState(!1),x=async(g=0)=>{var v;try{const b=await FA();o(b),f(Date.now()),u(null)}catch(b){if(console.error("Dashboard error:",b),((v=b.response)==null?void 0:v.status)===401&&g===0)try{setTimeout(()=>x(1),1e3);return}catch(y){console.error("Token refresh failed:",y),u("Authentication expired. Please login again."),r(),a("/sign-in");return}u(b.uiMessage||b.message||"Failed to load dashboard stats"),o({totals:{revenue:0,orders:0,customers:0,avg_order_value:0},sales_by_day:[],weekly_sales:[],user_registrations:[],weekly_user_registrations:[],top_products:[],inventory:{total_products:0,low_stock_count:0,by_category:[]},recent_orders:[]})}};return h.useEffect(()=>{(async()=>{try{if(!JSON.parse(localStorage.getItem("auth")||"{}").access){u("No authentication token found. Please login again.");return}if(await n(),!await t()){u("Authentication failed. Please login again."),r(),a("/sign-in");return}await x()}catch(g){console.error("Dashboard initialization error:",g),u("Failed to initialize dashboard. Please refresh the page.")}})()},[t,n]),h.useEffect(()=>{const g=()=>{document.visibilityState==="visible"&&x()},v=()=>{x()},b=y=>{x()};return document.addEventListener("visibilitychange",g),window.addEventListener("focus",v),window.addEventListener("ordersUpdated",b),()=>{document.removeEventListener("visibilitychange",g),window.removeEventListener("focus",v),window.removeEventListener("ordersUpdated",b)}},[]),i.jsxs(Rn,{children:[c&&i.jsx(hn,{message:c,type:"error",onClose:()=>u(null),autoClose:!0,duration:1e3}),l?i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsx(Zg,{title:"Dashboard Overview",icon:"",color:"primary",subtitle:"Monitor your business performance and key metrics"}),i.jsxs("div",{className:"flex flex-col items-end gap-2",children:[i.jsxs("button",{onClick:x,className:"flex items-center gap-2 px-4 py-2 bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-slate-300 rounded-lg hover:bg-slate-200 dark:hover:bg-slate-600 transition-colors",title:"Refresh dashboard data",children:[i.jsx(sy,{className:"w-4 h-4"}),i.jsx("span",{className:"text-sm font-medium",children:"Refresh"})]}),i.jsxs("span",{className:"text-xs text-slate-500 dark:text-slate-400",children:["Last updated: ",d?new Date(d).toLocaleTimeString():"Never"]})]})]}),i.jsxs("div",{className:"grid gap-6 md:grid-cols-4",children:[i.jsx(Mu,{title:"Total Revenue",value:s(l.totals.revenue),icon:"",color:"success"}),i.jsx(Mu,{title:"Orders",value:l.totals.orders,icon:"",color:"primary"}),i.jsx(Mu,{title:"Customers",value:l.totals.customers,icon:"",color:"info"}),i.jsx(Mu,{title:"Avg Order Value",value:s(l.totals.avg_order_value),icon:"",color:"warning"})]}),i.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[i.jsxs(ut,{children:[i.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[i.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-blue-500 to-purple-600 rounded-lg flex items-center justify-center",children:i.jsx("span",{className:"text-white text-sm",children:""})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-slate-100",children:"Sales Analytics"}),i.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Last 30 days performance"})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("div",{className:"text-lg font-bold text-emerald-600 dark:text-emerald-400",children:s(l.sales_by_day.reduce((g,v)=>g+v.revenue,0))}),i.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Total Revenue"})]})]}),i.jsx("div",{className:"h-64 mb-4",children:i.jsx(Um,{width:"100%",height:"100%",children:i.jsxs(YH,{data:l.sales_by_day,children:[i.jsx("defs",{children:i.jsxs("linearGradient",{id:"salesGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[i.jsx("stop",{offset:"5%",stopColor:"#3b82f6",stopOpacity:.3}),i.jsx("stop",{offset:"95%",stopColor:"#3b82f6",stopOpacity:0})]})}),i.jsx(Lp,{strokeDasharray:"3 3",stroke:"#e2e8f0"}),i.jsx(Bp,{dataKey:"date",tick:{fontSize:12},tickFormatter:g=>new Date(g).toLocaleDateString("en-US",{month:"short",day:"numeric"})}),i.jsx(Up,{tick:{fontSize:12},tickFormatter:g=>`$${g}`}),i.jsx(Bm,{content:({active:g,payload:v,label:b})=>{if(g&&v&&v.length){const y=v[0].payload;return i.jsxs("div",{className:"bg-white dark:bg-slate-800 p-3 rounded-lg shadow-lg border border-slate-200 dark:border-slate-600",children:[i.jsx("p",{className:"font-semibold text-slate-800 dark:text-slate-200",children:new Date(b).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}),i.jsxs("div",{className:"mt-2 space-y-1",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Revenue:"}),i.jsx("span",{className:"font-semibold text-emerald-600 dark:text-emerald-400",children:s(y.revenue)})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Orders:"}),i.jsx("span",{className:"font-semibold text-blue-600 dark:text-blue-400",children:y.orders})]})]})]})}return null}}),i.jsx(I_,{type:"monotone",dataKey:"revenue",stroke:"#3b82f6",strokeWidth:3,dot:{fill:"#3b82f6",strokeWidth:2,r:4},activeDot:{r:6,stroke:"#3b82f6",strokeWidth:2}})]})})}),i.jsxs("div",{className:"grid grid-cols-3 gap-4 p-4 bg-slate-50 dark:bg-slate-700 rounded-xl",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-lg font-bold text-slate-800 dark:text-slate-200",children:l.sales_by_day.length}),i.jsx("div",{className:"text-xs text-slate-600 dark:text-slate-400",children:"Active Days"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-lg font-bold text-slate-800 dark:text-slate-200",children:l.sales_by_day.length>0?Math.round(l.sales_by_day.reduce((g,v)=>g+v.orders,0)/l.sales_by_day.length):0}),i.jsx("div",{className:"text-xs text-slate-600 dark:text-slate-400",children:"Avg Orders/Day"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-lg font-bold text-slate-800 dark:text-slate-200",children:l.sales_by_day.length>0?s(l.sales_by_day.reduce((g,v)=>g+v.revenue,0)/l.sales_by_day.length):s(0)}),i.jsx("div",{className:"text-xs text-slate-600 dark:text-slate-400",children:"Avg Revenue/Day"})]})]})]}),i.jsxs(ut,{children:[i.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[i.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-purple-500 to-pink-600 rounded-lg flex items-center justify-center",children:i.jsx("span",{className:"text-white text-sm",children:""})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-slate-100",children:"Weekly Sales Distribution"}),i.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Sales by day of the week"})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("div",{className:"text-lg font-bold text-purple-600 dark:text-purple-400",children:s(l.weekly_sales.reduce((g,v)=>g+v.revenue,0))}),i.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Total Weekly"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsx("div",{className:"h-64",children:i.jsx(Um,{width:"100%",height:"100%",children:i.jsxs(lV,{children:[i.jsx(p_,{data:l.weekly_sales.filter(g=>g.revenue>0),cx:"50%",cy:"50%",labelLine:!1,label:({day:g,revenue:v,percent:b})=>`${g} (${(b*100).toFixed(0)}%)`,outerRadius:80,fill:"#8884d8",dataKey:"revenue",children:l.weekly_sales.filter(g=>g.revenue>0).map((g,v)=>i.jsx(qc,{fill:["#3b82f6","#10b981","#f59e0b","#ef4444","#8b5cf6","#06b6d4","#84cc16"][v%7]},`cell-${v}`))}),i.jsx(Bm,{formatter:g=>[s(g),"Revenue"],labelFormatter:g=>`${g}`})]})})}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("h4",{className:"font-semibold text-slate-800 dark:text-slate-200 mb-4",children:"Daily Breakdown"}),l.weekly_sales.map((g,v)=>i.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-50 dark:bg-slate-700 rounded-xl",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:g.revenue>0?["#3b82f6","#10b981","#f59e0b","#ef4444","#8b5cf6","#06b6d4","#84cc16"][v]:"#e2e8f0"}}),i.jsx("span",{className:"font-medium text-slate-800 dark:text-slate-200 text-sm",children:g.day})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("div",{className:"text-sm font-semibold text-slate-800 dark:text-slate-200",children:s(g.revenue)}),i.jsxs("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:[g.orders," orders"]})]})]},g.day))]})]}),i.jsx("div",{className:"mt-6 p-4 bg-gradient-to-r from-purple-50 to-pink-50 dark:from-purple-900/20 dark:to-pink-900/20 rounded-xl",children:i.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[i.jsxs("div",{children:[i.jsx("div",{className:"text-lg font-bold text-purple-600 dark:text-purple-400",children:l.weekly_sales.filter(g=>g.revenue>0).length}),i.jsx("div",{className:"text-xs text-slate-600 dark:text-slate-400",children:"Active Days"})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-lg font-bold text-purple-600 dark:text-purple-400",children:l.weekly_sales.length>0?Math.round(l.weekly_sales.reduce((g,v)=>g+v.orders,0)/l.weekly_sales.length):0}),i.jsx("div",{className:"text-xs text-slate-600 dark:text-slate-400",children:"Avg Orders/Day"})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-lg font-bold text-purple-600 dark:text-purple-400",children:l.weekly_sales.length>0?s(l.weekly_sales.reduce((g,v)=>g+v.revenue,0)/l.weekly_sales.length):s(0)}),i.jsx("div",{className:"text-xs text-slate-600 dark:text-slate-400",children:"Avg Revenue/Day"})]})]})})]}),i.jsxs(ut,{children:[i.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[i.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-emerald-500 to-teal-600 rounded-lg flex items-center justify-center",children:i.jsx("span",{className:"text-white text-sm",children:""})}),i.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-slate-100",children:"Product Inventory"}),i.jsx("div",{className:"ml-auto",children:i.jsxs("select",{className:"px-3 py-1 text-sm border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-800 dark:text-slate-200",value:m?"all":"top-stock",onChange:g=>p(g.target.value==="all"),children:[i.jsx("option",{value:"top-stock",children:"Top Stock Products"}),i.jsx("option",{value:"all",children:"All Products"})]})})]}),i.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:(m?l.inventory.by_category:l.inventory.by_category.slice(0,10)).map((g,v)=>i.jsxs("div",{className:"bg-slate-50 dark:bg-slate-700 rounded-xl p-4 hover:bg-slate-100 dark:hover:bg-slate-600 transition-colors",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("h4",{className:"font-semibold text-slate-800 dark:text-slate-200 text-sm truncate",children:g.name}),i.jsxs("p",{className:"text-xs text-slate-600 dark:text-slate-400",children:[g.category,"  ",s(g.price)]})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("div",{className:"text-lg font-bold text-slate-800 dark:text-slate-200",children:g.stock}),i.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:"in stock"})]})]}),i.jsx("div",{className:"w-full bg-slate-200 dark:bg-slate-600 rounded-full h-2",children:i.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${g.stock>20?"bg-green-500":g.stock>10?"bg-yellow-500":g.stock>5?"bg-orange-500":"bg-red-500"}`,style:{width:`${Math.min(g.stock/50*100,100)}%`}})}),i.jsxs("div",{className:"flex justify-between items-center mt-2",children:[i.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${g.stock>20?"bg-green-100 text-green-700 dark:bg-green-900 dark:text-green-300":g.stock>10?"bg-yellow-100 text-yellow-700 dark:bg-yellow-900 dark:text-yellow-300":g.stock>5?"bg-orange-100 text-orange-700 dark:bg-orange-900 dark:text-orange-300":"bg-red-100 text-red-700 dark:bg-red-900 dark:text-red-300"}`,children:g.stock>20?"High Stock":g.stock>10?"Good Stock":g.stock>5?"Low Stock":"Critical Stock"}),i.jsxs("span",{className:"text-xs text-slate-500 dark:text-slate-400",children:["#",g.id]})]})]},g.id))}),i.jsx("div",{className:"mt-4 p-4 bg-slate-50 dark:bg-slate-700 rounded-2xl",children:i.jsxs("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:[i.jsx("span",{className:"font-semibold",children:"Total products:"})," ",l.inventory.total_products," ",i.jsx("span",{className:"font-semibold ml-2",children:"Low stock:"})," ",l.inventory.low_stock_count," ",i.jsx("span",{className:"font-semibold ml-2",children:"Showing:"})," ",m?l.inventory.by_category.length:Math.min(l.inventory.by_category.length,10)," products"]})})]}),i.jsxs(ut,{children:[i.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[i.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-indigo-500 to-purple-600 rounded-lg flex items-center justify-center",children:i.jsx("span",{className:"text-white text-sm",children:""})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-slate-100",children:"User Registrations"}),i.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Last 30 days activity"})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("div",{className:"text-lg font-bold text-indigo-600 dark:text-indigo-400",children:l.user_registrations.reduce((g,v)=>g+v.users,0)}),i.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Total Users"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsx("div",{className:"h-64",children:i.jsx(Um,{width:"100%",height:"100%",children:i.jsxs(XH,{data:l.user_registrations.slice(-14),margin:{top:20,right:30,left:20,bottom:5},children:[i.jsx("defs",{children:i.jsxs("linearGradient",{id:"userBarGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[i.jsx("stop",{offset:"5%",stopColor:"#6366f1",stopOpacity:.9}),i.jsx("stop",{offset:"95%",stopColor:"#8b5cf6",stopOpacity:.7})]})}),i.jsx(Lp,{strokeDasharray:"3 3",stroke:"#f1f5f9"}),i.jsx(Bp,{dataKey:"date",tick:{fontSize:11,fill:"#64748b"},tickFormatter:g=>new Date(g).toLocaleDateString("en-US",{month:"short",day:"numeric"}),axisLine:{stroke:"#e2e8f0"}}),i.jsx(Up,{tick:{fontSize:11,fill:"#64748b"},axisLine:{stroke:"#e2e8f0"},tickCount:6,domain:[0,"dataMax + 1"]}),i.jsx(Bm,{formatter:g=>[g,"New Users"],labelFormatter:g=>new Date(g).toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric"}),contentStyle:{backgroundColor:"white",border:"none",borderRadius:"12px",boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)",padding:"12px"},cursor:{fill:"rgba(99, 102, 241, 0.1)"}}),i.jsx(w_,{dataKey:"users",fill:"url(#userBarGradient)",radius:[4,4,0,0],stroke:"#6366f1",strokeWidth:1})]})})}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("h4",{className:"font-semibold text-slate-800 dark:text-slate-200 mb-4",children:"Weekly Pattern"}),l.weekly_user_registrations.map((g,v)=>i.jsx("div",{className:"group relative",children:i.jsxs("div",{className:"flex items-center justify-between p-4 bg-gradient-to-r from-slate-50 to-slate-100 dark:from-slate-700 dark:to-slate-600 rounded-xl hover:shadow-md transition-all duration-200",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"w-5 h-5 rounded-full shadow-sm",style:{backgroundColor:g.users>0?["#6366f1","#8b5cf6","#ec4899","#f59e0b","#10b981","#ef4444","#06b6d4"][v]:"#e2e8f0"}}),g.users>0&&i.jsx("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-white dark:bg-slate-800 rounded-full border-2 border-current"})]}),i.jsxs("div",{children:[i.jsx("span",{className:"font-medium text-slate-800 dark:text-slate-200 text-sm",children:g.day}),g.users>0&&i.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:g.users===1?"1 user":`${g.users} users`})]})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("div",{className:"text-lg font-bold text-slate-800 dark:text-slate-200",children:g.users}),g.users>0&&i.jsx("div",{className:"w-12 h-1 bg-gradient-to-r from-indigo-500 to-purple-500 rounded-full mt-1"})]})]})},g.day)),i.jsx("div",{className:"mt-4 p-4 bg-gradient-to-r from-indigo-50 to-purple-50 dark:from-indigo-900/30 dark:to-purple-900/30 rounded-xl border border-indigo-100 dark:border-indigo-800",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("div",{className:"text-sm font-semibold text-indigo-800 dark:text-indigo-200",children:"This Week"}),i.jsx("div",{className:"text-xs text-indigo-600 dark:text-indigo-400",children:"Registration Activity"})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("div",{className:"text-xl font-bold text-indigo-600 dark:text-indigo-400",children:l.weekly_user_registrations.reduce((g,v)=>g+v.users,0)}),i.jsx("div",{className:"text-xs text-indigo-500 dark:text-indigo-500",children:"Total Users"})]})]})})]})]}),i.jsx("div",{className:"mt-6 p-6 bg-gradient-to-r from-indigo-50 via-purple-50 to-pink-50 dark:from-indigo-900/20 dark:via-purple-900/20 dark:to-pink-900/20 rounded-2xl border border-indigo-100 dark:border-indigo-800",children:i.jsxs("div",{className:"grid grid-cols-3 gap-6 text-center",children:[i.jsxs("div",{className:"group",children:[i.jsx("div",{className:"w-12 h-12 mx-auto mb-3 bg-gradient-to-r from-indigo-500 to-purple-500 rounded-xl flex items-center justify-center group-hover:scale-110 transition-transform duration-200",children:i.jsx("span",{className:"text-white text-lg",children:""})}),i.jsx("div",{className:"text-2xl font-bold text-indigo-600 dark:text-indigo-400 mb-1",children:l.user_registrations.filter(g=>g.users>0).length}),i.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-400 font-medium",children:"Active Days"})]}),i.jsxs("div",{className:"group",children:[i.jsx("div",{className:"w-12 h-12 mx-auto mb-3 bg-gradient-to-r from-purple-500 to-pink-500 rounded-xl flex items-center justify-center group-hover:scale-110 transition-transform duration-200",children:i.jsx("span",{className:"text-white text-lg",children:""})}),i.jsx("div",{className:"text-2xl font-bold text-purple-600 dark:text-purple-400 mb-1",children:l.user_registrations.length>0?Math.round(l.user_registrations.reduce((g,v)=>g+v.users,0)/l.user_registrations.length*10)/10:0}),i.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-400 font-medium",children:"Avg Users/Day"})]}),i.jsxs("div",{className:"group",children:[i.jsx("div",{className:"w-12 h-12 mx-auto mb-3 bg-gradient-to-r from-pink-500 to-red-500 rounded-xl flex items-center justify-center group-hover:scale-110 transition-transform duration-200",children:i.jsx("span",{className:"text-white text-lg",children:""})}),i.jsx("div",{className:"text-2xl font-bold text-pink-600 dark:text-pink-400 mb-1",children:Math.max(...l.user_registrations.map(g=>g.users))}),i.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-400 font-medium",children:"Peak Day"})]})]})})]})]}),i.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[i.jsxs(ut,{children:[i.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[i.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-orange-500 to-yellow-600 rounded-lg flex items-center justify-center",children:i.jsx("span",{className:"text-white text-sm",children:""})}),i.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-slate-100",children:"Top Products (30d)"})]}),i.jsxs("div",{className:"space-y-3",children:[l.top_products.map(g=>i.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-50 dark:bg-slate-700 rounded-2xl",children:[i.jsx("span",{className:"font-medium text-slate-800 dark:text-slate-200 truncate",children:g.name}),i.jsxs("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:[i.jsx("span",{className:"font-semibold",children:g.sold_qty})," sold ",i.jsx("span",{className:"font-semibold text-emerald-600 dark:text-emerald-400 ml-1",children:s(g.revenue||0)})]})]},g.id)),!l.top_products.length&&i.jsxs("div",{className:"text-center py-8 text-slate-500 dark:text-slate-400",children:[i.jsx("div",{className:"text-4xl mb-2",children:""}),i.jsx("div",{children:"No sales data available"})]})]})]}),i.jsxs(ut,{children:[i.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[i.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-purple-500 to-pink-600 rounded-lg flex items-center justify-center",children:i.jsx("span",{className:"text-white text-sm",children:""})}),i.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-slate-100",children:"Recent Orders"})]}),i.jsx("div",{className:"overflow-auto",children:i.jsxs("div",{className:"space-y-3",children:[l.recent_orders.map(g=>i.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-700 rounded-2xl",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsxs("span",{className:"font-semibold text-slate-800 dark:text-slate-200",children:["Order #",g.id]}),i.jsx("span",{className:`px-2 py-1 rounded-lg text-xs font-semibold capitalize ${g.payment_status==="paid"?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-300":g.payment_status==="unpaid"?"bg-yellow-100 text-yellow-700 dark:bg-yellow-900/30 dark:text-yellow-300":g.payment_status==="failed"?"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-300":"bg-gray-100 text-gray-700 dark:bg-gray-900/30 dark:text-gray-300"}`,children:g.payment_status==="paid"?"Paid":g.payment_status==="unpaid"?"Unpaid":g.payment_status==="failed"?"Failed":g.payment_status==="refunded"?"Refunded":g.payment_status})]}),i.jsxs("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:[i.jsxs("div",{children:["Customer: ",g.customer_email||""]}),i.jsxs("div",{className:"flex justify-between mt-1",children:[i.jsxs("span",{children:["Total: ",i.jsx("span",{className:"font-semibold text-emerald-600 dark:text-emerald-400",children:s(Number(g.total_price))})]}),i.jsx("span",{children:new Date(g.created_at).toLocaleDateString()})]})]})]},g.id)),!l.recent_orders.length&&i.jsxs("div",{className:"text-center py-8 text-slate-500 dark:text-slate-400",children:[i.jsx("div",{className:"text-4xl mb-2",children:""}),i.jsx("div",{children:"No recent orders"})]})]})})]})]})]}):i.jsx(ut,{children:i.jsxs("div",{className:"text-center py-12",children:[i.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-slate-200 to-slate-300 dark:from-slate-600 dark:to-slate-700 rounded-3xl flex items-center justify-center mx-auto mb-4",children:i.jsx("span",{className:"text-2xl",children:""})}),i.jsx("div",{className:"text-slate-600 dark:text-slate-400 font-medium",children:"Loading dashboard..."}),c&&i.jsx("div",{className:"mt-4 p-4 bg-red-100 dark:bg-red-900 rounded-lg",children:i.jsxs("div",{className:"text-red-700 dark:text-red-300 text-sm",children:["Error: ",c]})})]})})]})}function Mu({title:e,value:t,icon:r,color:n="primary"}){const a={primary:"from-blue-500 to-purple-600",success:"from-emerald-500 to-teal-600",warning:"from-orange-500 to-yellow-600",info:"from-purple-500 to-pink-600"};return i.jsx(ut,{className:"group hover:scale-105 transition-transform duration-300",children:i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("div",{className:`w-12 h-12 bg-gradient-to-r ${a[n]} rounded-2xl flex items-center justify-center group-hover:scale-110 transition-transform duration-300`,children:i.jsx("span",{className:"text-white text-lg",children:r})}),i.jsxs("div",{className:"text-right",children:[i.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-400 font-medium",children:e}),i.jsx("div",{className:"text-2xl font-bold text-slate-800 dark:text-slate-100",children:t})]})]})})}class _q{constructor(){this.isConnected=!1,this.listeners=new Map,this.authToken=null,this.pollingInterval=null,this.pollingIntervalMs=5e3}connect(t){return this.authToken=t,console.log("[RealtimeService] Using REST API approach (no WebSocket required)"),this.isConnected=!0,this.lastConnected=new Date,this.lastError=null,this.startPolling(),this.notifyListeners("connected",{}),Promise.resolve()}startPolling(){this.pollingInterval&&clearInterval(this.pollingInterval),this.pollingInterval=setInterval(()=>{this.pollForUpdates()},this.pollingIntervalMs)}stopPolling(){this.pollingInterval&&(clearInterval(this.pollingInterval),this.pollingInterval=null)}pollForUpdates(){this.isConnected||this.stopPolling()}disconnect(){console.log("[RealtimeService] Disconnecting"),this.isConnected=!1,this.lastError=null,this.stopPolling(),this.notifyListeners("disconnected",{})}on(t,r){this.listeners.has(t)||this.listeners.set(t,[]),this.listeners.get(t).push(r)}off(t,r){if(this.listeners.has(t)){const n=this.listeners.get(t),a=n.indexOf(r);a>-1&&n.splice(a,1)}}notifyListeners(t,r){this.listeners.has(t)&&this.listeners.get(t).forEach(n=>{try{n(r)}catch(a){console.error("[RealtimeService] Error in listener:",a)}})}send(t,r){return console.log("[RealtimeService] Send method called (REST API mode):",t,r),Promise.resolve()}subscribeToResource(t,r){console.log(`[RealtimeService] Subscribing to resource: ${t}`);const n=`resource_${t}`;return this.on(n,r),()=>{this.off(n,r)}}subscribe(t,r){return console.log(`[RealtimeService] Subscribing to event: ${t}`),this.on(t,r),()=>{this.off(t,r)}}getConnectionStatus(){return{connected:this.isConnected,lastConnected:this.lastConnected||null,error:this.lastError||null}}}const as=new _q,ga=new Map,BA=5e3,Yi=(e,t=!1)=>{const r=ga.get(e);r&&(t&&r.errorListeners&&r.errorListeners.size>0?(console.log(`[useOptimizedData] Notifying ${r.errorListeners.size} error listeners for ${e}`),r.errorListeners.forEach(n=>{try{n(r.error)}catch(a){console.error(`[useOptimizedData] Error in error listener for ${e}:`,a)}})):!t&&r.dataListeners&&r.dataListeners.size>0?(console.log(`[useOptimizedData] Notifying ${r.dataListeners.size} data listeners for ${e}`),r.dataListeners.forEach(n=>{try{n(r.data)}catch(a){console.error(`[useOptimizedData] Error in data listener for ${e}:`,a)}})):console.log(`[useOptimizedData] No listeners to notify for ${e} (isError: ${t})`))},Ao=async e=>{const t=ga.get(e);if(!t||!t.fetchFunction){console.warn(`[useOptimizedData] No fetch function for ${e}`);return}try{console.log(`[useOptimizedData] Fetching data for ${e}...`);const r=await t.fetchFunction(),n=r.data||r,a=Array.isArray(n)?n:[];t.data=a,t.lastFetch=new Date,t.error=null,Yi(e),console.log(`[useOptimizedData] ${e} data updated with ${a.length} items.`)}catch(r){console.error(`[useOptimizedData] Failed to fetch ${e}:`,r),t&&(t.error=r,t.lastFetch=new Date),Yi(e,!0)}},Fk=e=>{const t=ga.get(e);if(t&&!t.intervalId){const r=setInterval(()=>Ao(e),BA);t.intervalId=r,console.log(`[useOptimizedData] Started polling for ${e}`)}},Aq=e=>{const t=ga.get(e);t&&t.intervalId&&(clearInterval(t.intervalId),delete t.intervalId,console.log(`[useOptimizedData] Stopped polling for ${e}`))},ui=(e,t,r=[])=>{const[n,a]=h.useState(r),[s,l]=h.useState(!0),[o,c]=h.useState(null),{token:u,isAuthed:d}=Ht(),f=h.useRef(null),m=h.useRef(null);h.useEffect(()=>{ga.has(e)?(console.log(`[useOptimizedData] Updating fetch function for existing ${e}`),ga.get(e).fetchFunction=t):(console.log(`[useOptimizedData] Initializing store entry for ${e}`),ga.set(e,{data:r,lastFetch:null,dataListeners:new Set,errorListeners:new Set,fetchFunction:t,intervalId:null}));const w=ga.get(e);w.dataListeners.add(a);const k=N=>{N&&(N instanceof Error||N.message)&&(c(N),l(!1))};if(w.errorListeners.add(k),!w.lastFetch||new Date-w.lastFetch>BA?(l(!0),c(null),Ao(e).finally(()=>l(!1))):(a(w.data),c(w.error),l(!1)),d()&&u){console.log(`[useOptimizedData] Subscribing to WebSocket updates for ${e}`);try{m.current=as.subscribeToResource(e,j=>{console.log(`[useOptimizedData] WebSocket update received for ${e}:`,j),j.action==="bulk_update"&&j.data?(w.data=j.data,w.lastFetch=new Date,Yi(e)):j.action==="create"&&j.data?(w.data=[...w.data,j.data],w.lastFetch=new Date,Yi(e)):j.action==="update"&&j.data?(w.data=w.data.map(P=>P.id===j.data.id?j.data:P),w.lastFetch=new Date,Yi(e)):j.action==="delete"&&j.data&&(w.data=w.data.filter(P=>P.id!==j.data.id),w.lastFetch=new Date,Yi(e))});const N=as.subscribe("data_update",j=>{j.resource===e&&(console.log(`[useOptimizedData] General data update for ${e}:`,j),Ao(e))}),S=m.current;m.current=()=>{S&&S(),N()}}catch(N){console.warn(`[useOptimizedData] Failed to subscribe to realtime updates for ${e}:`,N),Fk(e)}}else Fk(e);return()=>{w.dataListeners.delete(a),w.errorListeners.delete(k),m.current&&(m.current(),m.current=null),w.dataListeners.size===0&&w.errorListeners.size===0&&Aq(e),f.current&&clearTimeout(f.current)}},[e,t,u,d]);const p=h.useCallback(()=>{f.current&&clearTimeout(f.current),l(!0),c(null),Ao(e).finally(()=>l(!1))},[e]),x=h.useCallback(()=>{f.current&&clearTimeout(f.current),l(!0),c(null),Ao(e).finally(()=>l(!1))},[e]);return{data:n,loading:s,error:o,refresh:p,refreshImmediate:x,addItem:w=>{a(k=>[...k,{...w,id:`temp_${Date.now()}`}]),p()},updateItem:(w,k)=>{a(N=>N.map(S=>S.id===w?{...S,...k}:S)),p()},removeItem:w=>{a(k=>k.filter(N=>N.id!==w)),p()},setData:w=>{a(w);const k=ga.get(e);k&&(k.data=w,k.lastFetch=new Date)},isConnected:(as==null?void 0:as.isConnected)||!1}},Bk=e=>[...e].filter(t=>/\.(jpe?g|png)$/i.test(t.name)),zk=e=>{const t={};return e.forEach(({key:r,value:n})=>{const a=(r||"").trim();a&&(t[a]=n??"")}),t},Oq=(e={})=>Object.entries(e).map(([t,r])=>({key:t,value:String(r??"")})),$u=(e,t)=>{const r=parseFloat(e)||0,n=parseFloat(t)||0,a=r*n/100;return Math.max(0,r-a)};function Tq(){var _i,Zl,eo,qa,Fs;const{formatAmount:e}=Ol(),{data:t,loading:r,error:n,refresh:a,addItem:s,updateItem:l,removeItem:o}=ui("products",()=>dA()),{data:c,loading:u,refresh:d}=ui("brands",()=>yf()),f=Array.isArray(c)?c:((_i=c==null?void 0:c.data)==null?void 0:_i.results)||(c==null?void 0:c.data)||[],{data:m,loading:p,refresh:x}=ui("categories",()=>bf()),g=Array.isArray(m)?m:((Zl=m==null?void 0:m.data)==null?void 0:Zl.results)||(m==null?void 0:m.data)||[],[v,b]=h.useState(""),[y,w]=h.useState(""),[k,N]=h.useState(""),[S,j]=h.useState(""),[P,D]=h.useState(""),[O,$]=h.useState(""),[B,U]=h.useState(""),[T,K]=h.useState(""),[I,G]=h.useState(""),[M,W]=h.useState([{key:"",value:""}]),[J,Q]=h.useState([]),[q,Pe]=h.useState(null),[L,ae]=h.useState(!1),[Ne,We]=h.useState(!1),[Me,V]=h.useState(""),[ee,he]=h.useState(""),[A,oe]=h.useState(""),[Z,ge]=h.useState(""),[xe,Re]=h.useState(""),[qt,ve]=h.useState([]),[Gt,gt]=h.useState([]),[yn,zn]=h.useState([]),[na,$t]=h.useState([]),[pe,hr]=h.useState(null),[pr,bn]=h.useState(""),[Xr,wn]=h.useState(""),[Qr,gr]=h.useState(0),[kn,Ua]=h.useState(0),[aa,sa]=h.useState(0),[Zr,ia]=h.useState(""),[_t,jn]=h.useState(""),[xt,Wa]=h.useState(""),[$s,Or]=h.useState(""),[Un,Nn]=h.useState([{key:"",value:""}]),[la,Rs]=h.useState([]),[en,Sn]=h.useState([]),[Yt,Ka]=h.useState(null),[Ha,Va]=h.useState(!1),[oa,ca]=h.useState(!1),[tn,_]=h.useState(!1),[X,z]=h.useState(null),be=h.useRef(null),Rt=h.useRef(null),Pn=async()=>{try{await a(),await d(),await x()}catch(E){console.error("Failed to refresh data:",E)}},Jt=E=>{setTimeout(()=>{let te=null;switch(E){case"create":te=be.current;break;case"edit":te=Rt.current;break;default:return}te&&te.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"})},100)},xr=async()=>{try{const[E,te]=await Promise.all([yf(),bf()]);await d(),await x()}catch(E){console.error("Failed to load taxonomy from API:",E),localStorage.getItem("admin_categories"),localStorage.getItem("admin_brands")}},ot=async(E,te)=>{if(!E){te([]);return}const fe=Number(E);try{const we=(await Gp(fe)).data,ye=we.results||we;te(ye)}catch(je){console.error("Failed to load subcategories from API:",je);const we=localStorage.getItem("admin_categories");if(we){const vr=JSON.parse(we).filter(sr=>sr.parent===fe);te(vr)}else te([])}},Ke=async(E,te)=>{if(!E){te([]);return}const fe=Number(E);try{const we=(await Gp(fe)).data,ye=we.results||we;te(ye)}catch(je){console.error("Failed to load grandchild categories from API:",je);const we=localStorage.getItem("admin_categories");if(we){const vr=JSON.parse(we).filter(sr=>sr.parent===fe);te(vr)}else te([])}},Ls=h.useMemo(()=>{if(!t)return[];let E=[...t];if(Me.trim()){const fe=Me.toLowerCase();E=E.filter(je=>{var we,ye;return((we=je.name)==null?void 0:we.toLowerCase().includes(fe))||((ye=je.description)==null?void 0:ye.toLowerCase().includes(fe))})}ee&&(E=E.filter(fe=>fe.brand===parseInt(ee)));const te=xe||Z||A;return te&&(E=E.filter(fe=>fe.category===parseInt(te))),E},[t,Me,ee,A,Z,xe]);h.useEffect(()=>{xr()},[]),h.useEffect(()=>{A?ot(A,ve):(ve([]),ge(""),Re(""),gt([]))},[A]),h.useEffect(()=>{Z?Ke(Z,gt):(gt([]),Re(""))},[Z]),h.useEffect(()=>{B?ot(B,zn):(zn([]),K(""),G(""),$t([]))},[B]),h.useEffect(()=>{T?Ke(T,$t):($t([]),G(""))},[T]),h.useEffect(()=>{_t&&ot(_t,zn)},[_t]),h.useEffect(()=>{xt?Ke(xt,$t):($t([]),Or(""))},[xt]),h.useEffect(()=>{_t&&pe&&ot(_t,zn)},[_t,pe]),h.useEffect(()=>{xt&&pe?Ke(xt,$t):pe&&$t([])},[xt,pe]),h.useEffect(()=>{const E=()=>{console.log("Taxonomy updated, reloading..."),xr()};return window.addEventListener("taxonomy:updated",E),()=>window.removeEventListener("taxonomy:updated",E)},[]);const Ul=async E=>{hr(E),bn(E.name||""),wn(E.description||""),gr(E.price??0),Ua(E.discount_rate??0),sa(E.stock??0),ia(E.brand||"");const fe=(je=>{if(!je)return{topCat:"",subcat:"",grandchildCat:""};const ye=((vr,sr)=>{for(const yr of vr){if(yr.id===sr)return yr;if(yr.children)for(const Tr of yr.children){if(Tr.id===sr)return{parent:yr,category:Tr};if(Tr.children){for(const Wn of Tr.children)if(Wn.id===sr)return{parent:yr,subparent:Tr,category:Wn}}}}return null})(g,je);return ye?ye.category&&ye.subparent?{topCat:ye.parent.id,subcat:ye.subparent.id,grandchildCat:ye.category.id}:ye.category&&ye.parent?{topCat:ye.parent.id,subcat:ye.category.id,grandchildCat:""}:ye.id?{topCat:ye.id,subcat:"",grandchildCat:""}:{topCat:"",subcat:"",grandchildCat:""}:{topCat:"",subcat:"",grandchildCat:""}})(E.category);jn(fe.topCat),Wa(fe.subcat),Or(fe.grandchildCat),Nn(Oq(E.technical_specs||{})),Va(E.isNew||!1),ca(E.is_top_selling||!1),Rs([]),Sn([]),Ka(null),Jt("edit")},Wl=()=>W([...M,{key:"",value:""}]),Kl=E=>W(M.filter((te,fe)=>fe!==E)),Hl=(E,te,fe)=>W(M.map((je,we)=>we===E?{...je,[te]:fe}:je)),Vl=E=>{const te=Bk(E.target.files);Q(fe=>[...fe,...te])},Jc=E=>{Q(te=>te.filter((fe,je)=>je!==E))},ql=E=>{const te=Bk(E.target.files);Sn(fe=>[...fe,...te])},Xc=E=>{Sn(te=>te.filter((fe,je)=>je!==E))},Gl=async()=>{var je,we,ye,vr,sr,yr,Tr,Wn,Bs,Ga,Ai,Oi,Oe,Dr,eu;if(z(null),console.log("Form state:",{cName:v,cBrand:O,cTopCat:B,cSubcat:T,cImages:J,cPrice:k,cStock:P,cDiscount:S}),!v.trim())return z({kind:"error",text:"Name is required."});if(!O)return z({kind:"error",text:"Select a Brand."});const E=I||T||B;if(!E)return z({kind:"error",text:"Select Category/Subcategory/Grandchild Category."});if(!q&&J.length===0)return z({kind:"error",text:"Main image is required. Please select a main image or upload at least one image."});console.log("Validation passed, proceeding with product creation...");const fe=JSON.parse(localStorage.getItem("auth")||"{}").access;console.log("Auth token exists:",!!fe);try{_(!0);const br={name:v.trim(),description:y.trim(),price:Number(k)||0,discount_rate:Number(S)||0,stock:Number(P)||0,brand:Number(O),category:Number(E),technical_specs:zk(M),isNew:L,is_top_selling:Ne};console.log("Creating product with payload:",br);const{data:Cn}=await fA(br);if(console.log("Product created successfully:",Cn),q&&q instanceof File)try{await Mi(Cn.id,[q]);const vt=(await Gs(Cn.id)).data;if(vt.images&&vt.images.length>0){const Kn=vt.images[vt.images.length-1];await _o(Cn.id,Kn.id)}}catch(vt){console.error("[ProductsPage] Failed to upload main image:",vt),((we=(je=vt.response)==null?void 0:je.data)==null?void 0:we.error_type)==="duplicate_image"?z({kind:"error",text:"Duplicate Image: This image already exists for this product. Please upload a different image."}):z({kind:"error",text:`Failed to upload main image: ${((vr=(ye=vt.response)==null?void 0:ye.data)==null?void 0:vr.detail)||vt.message}`})}if(J.length>0)try{const vt=J.filter(Kn=>Kn&&Kn instanceof File);if(vt.length>0&&(await Mi(Cn.id,vt),!q)){const Kn=(await Gs(Cn.id)).data;if(Kn.images&&Kn.images.length>0){const U0=Kn.images[0];await _o(Cn.id,U0.id)}}}catch(vt){console.error("[ProductsPage] Failed to upload additional images:",vt),((yr=(sr=vt.response)==null?void 0:sr.data)==null?void 0:yr.error_type)==="duplicate_image"?z({kind:"error",text:"Duplicate Image: One or more images already exist for this product. Please upload different images."}):z({kind:"error",text:`Failed to upload additional images: ${((Wn=(Tr=vt.response)==null?void 0:Tr.data)==null?void 0:Wn.detail)||vt.message}`})}b(""),w(""),N(""),j(""),D(""),$(""),U(""),K(""),G(""),W([{key:"",value:""}]),Q([]),Pe(null),await Pn(),z({kind:"success",text:"Product created successfully!"})}catch(br){if(console.error("=== PRODUCT CREATION ERROR ==="),console.error("Error object:",br),console.error("Error response:",(Bs=br.response)==null?void 0:Bs.data),console.error("Error status:",(Ga=br.response)==null?void 0:Ga.status),console.error("Error message:",br.message),((Ai=br.response)==null?void 0:Ai.status)===401){console.log("Authentication error detected"),z({kind:"error",text:"Authentication failed. Please log in again."});return}const Cn=((Oe=(Oi=br.response)==null?void 0:Oi.data)==null?void 0:Oe.detail)||((eu=(Dr=br.response)==null?void 0:Dr.data)==null?void 0:eu.message)||br.uiMessage||br.message||"Failed to create product.";z({kind:"error",text:Cn})}finally{_(!1)}},Qc=()=>Nn([...Un,{key:"",value:""}]),Yl=E=>Nn(Un.filter((te,fe)=>fe!==E)),Ei=(E,te,fe)=>Nn(Un.map((je,we)=>we===E?{...je,[te]:fe}:je)),Jl=async()=>{var E,te,fe,je,we,ye,vr,sr,yr,Tr,Wn,Bs;if(pe){z(null);try{_(!0);const Ga=$s||xt||_t||pe.category,Ai={name:pr.trim(),description:Xr.trim(),price:Number(Qr),discount_rate:Number(kn)||0,stock:Number(aa),brand:Zr?Number(Zr):null,category:Number(Ga),technical_specs:zk(Un),isNew:Ha,is_top_selling:oa};if(await mA(pe.id,Ai),Yt&&Yt instanceof File){console.log("[ProductsPage] Uploading main image:",Yt.name,Yt.size);try{await Mi(pe.id,[Yt]);const Oe=(await Gs(pe.id)).data;if(Oe.images&&Oe.images.length>0){const Dr=Oe.images[Oe.images.length-1];await _o(pe.id,Dr.id)}}catch(Oe){console.error("[ProductsPage] Failed to upload main image:",Oe),((te=(E=Oe.response)==null?void 0:E.data)==null?void 0:te.error_type)==="duplicate_image"?z({kind:"error",text:"Duplicate Image: This image already exists for this product. Please upload a different image."}):z({kind:"error",text:`Failed to upload main image: ${((je=(fe=Oe.response)==null?void 0:fe.data)==null?void 0:je.detail)||Oe.message}`})}}else console.log("[ProductsPage] No main image to upload:",{eMainImage:Yt,isFile:Yt instanceof File});if(en.length>0){console.log("[ProductsPage] Uploading additional images:",en.length,en.map(Oe=>({name:Oe.name,size:Oe.size,isFile:Oe instanceof File})));try{const Oe=en.filter(Dr=>Dr&&Dr instanceof File);console.log("[ProductsPage] Valid images after filtering:",Oe.length),Oe.length>0&&await Mi(pe.id,Oe)}catch(Oe){console.error("[ProductsPage] Failed to upload additional images:",Oe),((ye=(we=Oe.response)==null?void 0:we.data)==null?void 0:ye.error_type)==="duplicate_image"?z({kind:"error",text:"Duplicate Image: One or more images already exist for this product. Please upload different images."}):z({kind:"error",text:`Failed to upload additional images: ${((sr=(vr=Oe.response)==null?void 0:vr.data)==null?void 0:sr.detail)||Oe.message}`})}}else console.log("[ProductsPage] No additional images to upload");if(la.length>0)try{const Oe=la.filter(Dr=>Dr&&Dr instanceof File);Oe.length>0&&await Mi(pe.id,Oe)}catch(Oe){console.error("[ProductsPage] Failed to upload files:",Oe),((Tr=(yr=Oe.response)==null?void 0:yr.data)==null?void 0:Tr.error_type)==="duplicate_image"?z({kind:"error",text:"Duplicate Image: One or more images already exist for this product. Please upload different images."}):z({kind:"error",text:`Failed to upload files: ${((Bs=(Wn=Oe.response)==null?void 0:Wn.data)==null?void 0:Bs.detail)||Oe.message}`})}const Oi=(await Gs(pe.id)).data;hr(Oi),Ka(null),await Pn(),z({kind:"success",text:"Product updated."})}catch(Ga){z({kind:"error",text:Ga.uiMessage||"Failed to save product."})}finally{_(!1)}}},Xl=async()=>{var E,te;if(pe&&confirm("Delete this product?")){z(null);try{_(!0),await hA(pe.id),hr(null),await Pn(),z({kind:"success",text:"Product deleted."})}catch(fe){if(console.error("[ProductsPage] Failed to delete product:",fe),fe.message&&fe.message.includes("order item(s) are using this product"))z({kind:"error",text:` Cannot delete product: ${fe.message}

To delete this product:
1. Go to Orders page
2. Find orders containing this product
3. Either delete those orders or modify them to remove this product
4. Then try deleting the product again`});else if(fe.message&&fe.message.includes("Authentication"))z({kind:"error",text:"Authentication expired. Please login again."});else{const je=((te=(E=fe.response)==null?void 0:E.data)==null?void 0:te.detail)||fe.message||"Failed to delete product";z({kind:"error",text:je})}}finally{_(!1)}}},Ql=async E=>{if(!pe)return;await pA(pe.id,E);const te=(await Gs(pe.id)).data;hr(te)},Zc=async E=>{if(pe)try{_(!0),await _o(pe.id,E);const te=(await Gs(pe.id)).data;hr(te),z({kind:"success",text:"Main image updated successfully!"})}catch(te){z({kind:"error",text:te.uiMessage||"Failed to set main image."})}finally{_(!1)}};return i.jsxs("div",{className:"space-y-8 p-6 bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800 min-h-screen",children:[i.jsxs("section",{ref:be,className:"rounded-3xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 shadow-lg hover:shadow-xl transition-all duration-300 p-6",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[i.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-500 to-purple-600 rounded-xl flex items-center justify-center",children:i.jsx("span",{className:"text-white text-lg",children:""})}),i.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-100",children:"Create Product"})]}),X&&i.jsx(hn,{message:X.text,type:X.kind,onClose:()=>z(null),autoClose:!0,duration:1e3}),i.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"block text-sm font-semibold text-slate-700 dark:text-slate-300",children:"Product Name"}),i.jsx("input",{placeholder:"Enter product name",className:"w-full border-2 border-slate-200 dark:border-slate-600 rounded-2xl px-4 py-3 bg-white dark:bg-slate-700 text-slate-800 dark:text-slate-200 placeholder-slate-400 dark:placeholder-slate-500 focus:border-blue-500 dark:focus:border-blue-400 focus:ring-2 focus:ring-blue-200 dark:focus:ring-blue-800 transition-all duration-200",value:v,onChange:E=>b(E.target.value)})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"block text-sm font-semibold text-slate-700 dark:text-slate-300",children:"Price"}),i.jsx("input",{type:"number",min:"0",step:"0.01",placeholder:"0.00",className:"w-full border-2 border-slate-200 dark:border-slate-600 rounded-2xl px-4 py-3 bg-white dark:bg-slate-700 text-slate-800 dark:text-slate-200 placeholder-slate-400 dark:placeholder-slate-500 focus:border-blue-500 dark:focus:border-blue-400 focus:ring-2 focus:ring-blue-200 dark:focus:ring-blue-800 transition-all duration-200",value:k,onChange:E=>N(E.target.value)})]}),i.jsxs("div",{className:"space-y-2 md:col-span-2",children:[i.jsx("label",{className:"block text-sm font-semibold text-slate-700 dark:text-slate-300",children:"Description"}),i.jsx("textarea",{placeholder:"Enter product description",rows:3,className:"w-full border-2 border-slate-200 dark:border-slate-600 rounded-2xl px-4 py-3 bg-white dark:bg-slate-700 text-slate-800 dark:text-slate-200 placeholder-slate-400 dark:placeholder-slate-500 focus:border-blue-500 dark:focus:border-blue-400 focus:ring-2 focus:ring-blue-200 dark:focus:ring-blue-800 transition-all duration-200 resize-none",value:y,onChange:E=>w(E.target.value)})]}),i.jsxs("div",{className:"space-y-2 md:col-span-2",children:[i.jsx("label",{className:"block text-sm font-semibold text-slate-700 dark:text-slate-300",children:"Technical Specifications"}),i.jsxs("div",{className:"space-y-3",children:[M.map((E,te)=>i.jsxs("div",{className:"grid gap-3 md:grid-cols-[1fr_1fr_auto] items-end",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsx("label",{className:"block text-xs font-medium text-slate-600 dark:text-slate-400",children:"Specification Key"}),i.jsx("input",{placeholder:"e.g., RAM, Storage, Color",className:"w-full border-2 border-slate-200 dark:border-slate-600 rounded-xl px-3 py-2 bg-white dark:bg-slate-700 text-slate-800 dark:text-slate-200 placeholder-slate-400 dark:placeholder-slate-500 focus:border-blue-500 dark:focus:border-blue-400 focus:ring-2 focus:ring-blue-200 dark:focus:ring-blue-800 transition-all duration-200 text-sm",value:E.key,onChange:fe=>Hl(te,"key",fe.target.value)})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx("label",{className:"block text-xs font-medium text-slate-600 dark:text-slate-400",children:"Value"}),i.jsx("input",{placeholder:"e.g., 8GB, 256GB, Black",className:"w-full border-2 border-slate-200 dark:border-slate-600 rounded-xl px-3 py-2 bg-white dark:bg-slate-700 text-slate-800 dark:text-slate-200 placeholder-slate-400 dark:placeholder-slate-500 focus:border-blue-500 dark:focus:border-blue-400 focus:ring-2 focus:ring-blue-200 dark:focus:ring-blue-800 transition-all duration-200 text-sm",value:E.value,onChange:fe=>Hl(te,"value",fe.target.value)})]}),i.jsx("button",{type:"button",className:"h-10 px-3 bg-red-500 hover:bg-red-600 text-white rounded-xl transition-all duration-200 flex items-center justify-center font-semibold shadow-lg hover:shadow-xl text-sm",onClick:()=>Kl(te),children:""})]},te)),i.jsxs("button",{type:"button",className:"w-full border-2 border-dashed border-blue-300 dark:border-blue-600 rounded-xl px-3 py-2 text-blue-600 dark:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/20 transition-all duration-200 font-medium flex items-center justify-center gap-2 text-sm",onClick:Wl,children:[i.jsx("span",{className:"text-sm",children:""}),"Add Specification"]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"block text-sm font-semibold text-slate-700 dark:text-slate-300",children:"Stock Quantity"}),i.jsx("input",{type:"number",min:"0",placeholder:"0",className:"w-full border-2 border-slate-200 dark:border-slate-600 rounded-2xl px-4 py-3 bg-white dark:bg-slate-700 text-slate-800 dark:text-slate-200 placeholder-slate-400 dark:placeholder-slate-500 focus:border-blue-500 dark:focus:border-blue-400 focus:ring-2 focus:ring-blue-200 dark:focus:ring-blue-800 transition-all duration-200",value:P,onChange:E=>D(E.target.value)})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"block text-sm font-semibold text-slate-700 dark:text-slate-300",children:"Brand"}),i.jsxs("select",{className:"w-full border-2 border-slate-200 dark:border-slate-600 rounded-2xl px-4 py-3 bg-white dark:bg-slate-700 text-slate-800 dark:text-slate-200 focus:border-blue-500 dark:focus:border-blue-400 focus:ring-2 focus:ring-blue-200 dark:focus:ring-blue-800 transition-all duration-200",value:O,onChange:E=>$(E.target.value),children:[i.jsx("option",{value:"",children:"Select Brand"}),f.map(E=>i.jsx("option",{value:E.id,children:E.name},E.id))]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"block text-sm font-semibold text-slate-700 dark:text-slate-300",children:"Category"}),i.jsxs("select",{className:"w-full border-2 border-slate-200 dark:border-slate-600 rounded-2xl px-4 py-3 bg-white dark:bg-slate-700 text-slate-800 dark:text-slate-200 focus:border-blue-500 dark:focus:border-blue-400 focus:ring-2 focus:ring-blue-200 dark:focus:ring-blue-800 transition-all duration-200",value:B,onChange:E=>{U(E.target.value),K("")},children:[i.jsx("option",{value:"",children:"Select Category"}),g.map(E=>i.jsx("option",{value:E.id,children:E.name},E.id))]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"block text-sm font-semibold text-slate-700 dark:text-slate-300",children:"Subcategory"}),i.jsxs("select",{className:"w-full border-2 border-slate-200 dark:border-slate-600 rounded-2xl px-4 py-3 bg-white dark:bg-slate-700 text-slate-800 dark:text-slate-200 focus:border-blue-500 dark:focus:border-blue-400 focus:ring-2 focus:ring-blue-200 dark:focus:ring-blue-800 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",value:T,onChange:E=>{K(E.target.value),G("")},disabled:!B,children:[i.jsx("option",{value:"",children:B?"Select Subcategory":"Select a category first"}),yn.map(E=>i.jsx("option",{value:E.id,children:E.name},E.id))]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"block text-sm font-semibold text-slate-700 dark:text-slate-300",children:"Grandchild Category"}),i.jsxs("select",{className:"w-full border-2 border-slate-200 dark:border-slate-600 rounded-2xl px-4 py-3 bg-white dark:bg-slate-700 text-slate-800 dark:text-slate-200 focus:border-blue-500 dark:focus:border-blue-400 focus:ring-2 focus:ring-blue-200 dark:focus:ring-blue-800 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",value:I,onChange:E=>G(E.target.value),disabled:!T,children:[i.jsx("option",{value:"",children:T?"Select Grandchild Category":"Select a subcategory first"}),na.map(E=>i.jsx("option",{value:E.id,children:E.name},E.id))]})]})]}),i.jsxs("div",{className:"mt-8 p-6 bg-gradient-to-r from-blue-50 to-purple-50 dark:from-blue-900/20 dark:to-purple-900/20 rounded-3xl border border-blue-200 dark:border-blue-800",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[i.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-green-500 to-emerald-600 rounded-lg flex items-center justify-center",children:i.jsx("span",{className:"text-white text-sm",children:""})}),i.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-slate-100",children:"Pricing & Discounts"})]}),i.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[i.jsxs("div",{className:"space-y-3",children:[i.jsx("label",{className:"block text-sm font-semibold text-slate-700 dark:text-slate-300",children:"Discount Rate (%)"}),i.jsx("input",{type:"number",min:"0",max:"100",step:"0.01",placeholder:"0.00",className:"w-full border-2 border-slate-200 dark:border-slate-600 rounded-2xl px-4 py-3 bg-white dark:bg-slate-700 text-slate-800 dark:text-slate-200 placeholder-slate-400 dark:placeholder-slate-500 focus:border-green-500 dark:focus:border-green-400 focus:ring-2 focus:ring-green-200 dark:focus:ring-green-800 transition-all duration-200",value:S,onChange:E=>j(E.target.value)})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("label",{className:"block text-sm font-semibold text-slate-700 dark:text-slate-300",children:"Final Price"}),i.jsxs("div",{className:"border-2 border-emerald-200 dark:border-emerald-800 rounded-2xl px-4 py-3 bg-gradient-to-r from-emerald-50 to-green-50 dark:from-emerald-900/30 dark:to-green-900/30",children:[i.jsx("div",{className:"text-2xl font-bold text-emerald-600 dark:text-emerald-400",children:e($u(k,S))}),S>0&&i.jsxs("div",{className:"text-sm text-emerald-600 dark:text-emerald-400 mt-1",children:[" You save ",e((parseFloat(k)||0)-$u(k,S))]})]})]})]})]}),i.jsxs("div",{className:"mt-8 p-6 bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 rounded-3xl border border-blue-200 dark:border-blue-800",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[i.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-blue-500 to-indigo-600 rounded-lg flex items-center justify-center",children:i.jsx("span",{className:"text-white text-sm",children:""})}),i.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-slate-100",children:"New Arrivals"})]}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[i.jsx("input",{type:"checkbox",checked:L,onChange:E=>ae(E.target.checked),className:"w-5 h-5 text-blue-600 bg-white border-2 border-blue-300 rounded focus:ring-blue-500 focus:ring-2"}),i.jsx("span",{className:"text-lg font-semibold text-slate-800 dark:text-slate-200",children:"Mark as New Arrival"})]}),i.jsx("div",{className:"text-sm text-blue-600 dark:text-blue-400 font-medium",children:L?" Will appear in New Arrivals section":" Will not appear in New Arrivals section"})]}),i.jsx("div",{className:"mt-4 p-4 bg-blue-100 dark:bg-blue-900/30 border border-blue-200 dark:border-blue-800 rounded-2xl",children:i.jsx("div",{className:"text-blue-700 dark:text-blue-300 text-sm font-medium",children:' New arrival products will be displayed in the "NEW PRODUCTS" section on the home page to showcase your latest additions.'})})]}),i.jsxs("div",{className:"mt-8 p-6 bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 rounded-3xl border border-green-200 dark:border-green-800",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[i.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-green-500 to-emerald-600 rounded-lg flex items-center justify-center",children:i.jsx("span",{className:"text-white text-sm",children:""})}),i.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-slate-100",children:"Top Selling Product"})]}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[i.jsx("input",{type:"checkbox",checked:Ne,onChange:E=>We(E.target.checked),className:"w-5 h-5 text-green-600 bg-white border-2 border-green-300 rounded focus:ring-green-500 focus:ring-2"}),i.jsx("span",{className:"text-lg font-semibold text-slate-800 dark:text-slate-200",children:"Mark as Top Selling Product"})]}),i.jsx("div",{className:"text-sm text-green-600 dark:text-green-400 font-medium",children:Ne?" Will appear on home page":" Will not appear on home page"})]}),i.jsx("div",{className:"mt-4 p-4 bg-green-100 dark:bg-green-900/30 border border-green-200 dark:border-green-800 rounded-2xl",children:i.jsx("div",{className:"text-green-700 dark:text-green-300 text-sm font-medium",children:" Top selling products will be displayed in a special section on the home page to highlight your best products."})})]}),i.jsxs("div",{className:"mt-8 p-6 bg-gradient-to-r from-purple-50 to-pink-50 dark:from-purple-900/20 dark:to-pink-900/20 rounded-3xl border border-purple-200 dark:border-purple-800",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[i.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-purple-500 to-pink-600 rounded-lg flex items-center justify-center",children:i.jsx("span",{className:"text-white text-sm",children:""})}),i.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-slate-100",children:"Product Images"})]}),i.jsxs("div",{className:"mb-6 p-4 bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 rounded-2xl border border-blue-200 dark:border-blue-800",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx("div",{className:"w-6 h-6 bg-gradient-to-r from-blue-500 to-indigo-600 rounded-lg flex items-center justify-center",children:i.jsx("span",{className:"text-white text-xs",children:""})}),i.jsx("h4",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100",children:"Main Picture *"})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Select the main image that will be displayed as the primary product image"}),i.jsx("div",{className:"text-red-500 text-sm font-medium",children:" Main image is required"}),i.jsx("input",{type:"file",accept:".jpg,.jpeg,.png",onChange:E=>Pe(E.target.files[0]),className:"w-full text-sm border-2 border-slate-200 dark:border-slate-600 rounded-xl px-4 py-2 bg-white dark:bg-slate-700 text-slate-800 dark:text-slate-200 focus:border-blue-500 dark:focus:border-blue-400 focus:ring-2 focus:ring-blue-200 dark:focus:ring-blue-800 transition-all duration-200"}),q&&i.jsxs("div",{className:"mt-2 text-sm text-green-600 dark:text-green-400 font-medium",children:[" Main picture selected: ",q.name]})]})]}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"border-2 border-dashed border-purple-300 dark:border-purple-600 rounded-3xl p-8 text-center bg-white/50 dark:bg-slate-700/50 hover:bg-purple-50 dark:hover:bg-purple-900/20 transition-all duration-300",children:[i.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-purple-500 to-pink-600 rounded-2xl flex items-center justify-center mx-auto mb-4",children:i.jsx("span",{className:"text-white text-2xl",children:""})}),i.jsx("div",{className:"font-semibold text-slate-800 dark:text-slate-200 mb-2",children:"Upload Additional Product Images"}),i.jsx("div",{className:"text-blue-600 dark:text-blue-400 text-sm font-medium mb-4",children:"Optional - Additional images for product gallery"}),i.jsx("input",{type:"file",accept:".jpg,.jpeg,.png",multiple:!0,onChange:Vl,className:"w-full text-sm border-2 border-slate-200 dark:border-slate-600 rounded-2xl px-4 py-3 bg-white dark:bg-slate-700 text-slate-800 dark:text-slate-200 focus:border-purple-500 dark:focus:border-purple-400 focus:ring-2 focus:ring-purple-200 dark:focus:ring-purple-800 transition-all duration-200"}),i.jsx("div",{className:"mt-4 text-slate-500 dark:text-slate-400 text-sm",children:"You can select multiple images at once (JPG, PNG only)"})]}),J.length>0&&i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"text-lg font-semibold text-slate-800 dark:text-slate-200",children:["Selected Images (",J.length,")"]}),i.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:J.map((E,te)=>i.jsxs("div",{className:"relative group",children:[i.jsx("div",{className:"aspect-square bg-gray-100 dark:bg-slate-700 rounded-lg overflow-hidden border-2 border-gray-200 dark:border-slate-600",children:i.jsx("img",{src:URL.createObjectURL(E),alt:`Preview ${te+1}`,className:"w-full h-full object-cover"})}),i.jsx("button",{onClick:()=>Jc(te),className:"absolute -top-2 -right-2 w-6 h-6 bg-red-500 text-white rounded-full flex items-center justify-center text-sm hover:bg-red-600 transition-colors",children:""}),i.jsx("div",{className:"mt-2 text-xs text-center text-slate-600 dark:text-slate-400 truncate",children:E.name})]},te))})]})]}),i.jsx("div",{className:"mt-6 p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-2xl",children:i.jsxs("div",{className:"text-blue-700 dark:text-blue-300 text-sm font-medium",children:[" Images will be saved in: ",i.jsx("span",{className:"font-semibold",children:"Backend\\media\\Assets\\images\\products\\Selling products/"})]})})]}),i.jsx("div",{className:"mt-8 flex justify-end",children:i.jsx("button",{onClick:Gl,disabled:tn,className:"bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 disabled:from-gray-400 disabled:to-gray-500 text-white font-bold py-4 px-8 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 flex items-center gap-3",children:tn?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Creating Product..."]}):i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"text-lg",children:""}),"Create Product"]})})})]}),i.jsxs("section",{className:"rounded-3xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 shadow-lg hover:shadow-xl transition-all duration-300 p-6",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[i.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-emerald-500 to-teal-600 rounded-xl flex items-center justify-center",children:i.jsx("span",{className:"text-white text-lg",children:""})}),i.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-100",children:"Manage Products"})]}),i.jsxs("div",{className:"p-6 bg-gradient-to-r from-slate-50 to-gray-50 dark:from-slate-700 dark:to-slate-600 rounded-3xl border border-slate-200 dark:border-slate-600",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx("div",{className:"w-6 h-6 bg-gradient-to-r from-indigo-500 to-purple-600 rounded-lg flex items-center justify-center",children:i.jsx("span",{className:"text-white text-xs",children:""})}),i.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-slate-100",children:"Search & Filter"})]}),i.jsxs("div",{className:"grid gap-4 md:grid-cols-6",children:[i.jsxs("div",{className:"md:col-span-2 space-y-2",children:[i.jsx("label",{className:"block text-sm font-semibold text-slate-700 dark:text-slate-300",children:"Search Products"}),i.jsx("input",{placeholder:"Search by name, description...",className:"w-full border-2 border-slate-200 dark:border-slate-600 rounded-2xl px-4 py-3 bg-white dark:bg-slate-700 text-slate-800 dark:text-slate-200 placeholder-slate-400 dark:placeholder-slate-500 focus:border-indigo-500 dark:focus:border-indigo-400 focus:ring-2 focus:ring-indigo-200 dark:focus:ring-indigo-800 transition-all duration-200",value:Me,onChange:E=>V(E.target.value)})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"block text-sm font-semibold text-slate-700 dark:text-slate-300",children:"Brand"}),i.jsxs("select",{className:"w-full border-2 border-slate-200 dark:border-slate-600 rounded-2xl px-4 py-3 bg-white dark:bg-slate-700 text-slate-800 dark:text-slate-200 focus:border-indigo-500 dark:focus:border-indigo-400 focus:ring-2 focus:ring-indigo-200 dark:focus:ring-indigo-800 transition-all duration-200",value:ee,onChange:E=>he(E.target.value),children:[i.jsx("option",{value:"",children:"All brands"}),f.map(E=>i.jsx("option",{value:E.id,children:E.name},E.id))]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"block text-sm font-semibold text-slate-700 dark:text-slate-300",children:"Category"}),i.jsxs("select",{className:"w-full border-2 border-slate-200 dark:border-slate-600 rounded-2xl px-4 py-3 bg-white dark:bg-slate-700 text-slate-800 dark:text-slate-200 focus:border-indigo-500 dark:focus:border-indigo-400 focus:ring-2 focus:ring-indigo-200 dark:focus:ring-indigo-800 transition-all duration-200",value:A,onChange:E=>{oe(E.target.value),ge("")},children:[i.jsx("option",{value:"",children:"All categories"}),g.map(E=>i.jsx("option",{value:E.id,children:E.name},E.id))]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"block text-sm font-semibold text-slate-700 dark:text-slate-300",children:"Subcategory"}),i.jsxs("select",{className:"w-full border-2 border-slate-200 dark:border-slate-600 rounded-2xl px-4 py-3 bg-white dark:bg-slate-700 text-slate-800 dark:text-slate-200 focus:border-indigo-500 dark:focus:border-indigo-400 focus:ring-2 focus:ring-indigo-200 dark:focus:ring-indigo-800 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",value:Z,onChange:E=>{ge(E.target.value),Re("")},disabled:!A,children:[i.jsx("option",{value:"",children:A?"All subcategories":"Select a category first"}),qt.map(E=>i.jsx("option",{value:E.id,children:E.name},E.id))]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"block text-sm font-semibold text-slate-700 dark:text-slate-300",children:"Grandchild Category"}),i.jsxs("select",{className:"w-full border-2 border-slate-200 dark:border-slate-600 rounded-2xl px-4 py-3 bg-white dark:bg-slate-700 text-slate-800 dark:text-slate-200 focus:border-indigo-500 dark:focus:border-indigo-400 focus:ring-2 focus:ring-indigo-200 dark:focus:ring-indigo-800 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",value:xe,onChange:E=>Re(E.target.value),disabled:!Z,children:[i.jsx("option",{value:"",children:Z?"All grandchild categories":"Select a subcategory first"}),Gt.map(E=>i.jsx("option",{value:E.id,children:E.name},E.id))]})]})]}),i.jsx("div",{className:"mt-6 flex justify-end",children:i.jsxs("button",{onClick:Pn,className:"bg-gradient-to-r from-indigo-500 to-purple-600 hover:from-indigo-600 hover:to-purple-700 text-white font-bold py-3 px-6 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 flex items-center gap-2",children:[i.jsx("span",{className:"text-lg",children:""}),"Apply Filters"]})})]}),i.jsxs("div",{className:"mt-8",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[i.jsx("div",{className:"w-6 h-6 bg-gradient-to-r from-emerald-500 to-teal-600 rounded-lg flex items-center justify-center",children:i.jsx("span",{className:"text-white text-xs",children:""})}),i.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-slate-100",children:"Product List"}),i.jsxs("div",{className:"ml-auto text-sm text-slate-600 dark:text-slate-400",children:[Ls.length," product",Ls.length!==1?"s":""," found"]})]}),i.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:[Ls.map(E=>i.jsxs("button",{onClick:()=>Ul(E),className:"group text-left border-2 border-slate-200 dark:border-slate-600 rounded-3xl p-6 bg-white dark:bg-slate-700 hover:bg-gradient-to-br hover:from-blue-50 hover:to-purple-50 dark:hover:from-blue-900/20 dark:hover:to-purple-900/20 hover:border-blue-300 dark:hover:border-blue-500 transition-all duration-300 shadow-lg hover:shadow-xl",children:[i.jsxs("div",{className:"flex items-start justify-between mb-4",children:[i.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-blue-500 to-purple-600 rounded-2xl flex items-center justify-center group-hover:scale-110 transition-transform duration-300",children:i.jsx("span",{className:"text-white text-lg",children:""})}),i.jsxs("div",{className:"text-right",children:[i.jsxs("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:["ID: #",E.id]}),i.jsxs("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:["Stock: ",E.stock]})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("div",{className:"font-bold text-slate-800 dark:text-slate-100 text-lg group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors duration-300",children:E.name}),i.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-300 line-clamp-2",children:E.description||"No description available"}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("div",{className:"text-xl font-bold text-emerald-600 dark:text-emerald-400",children:e(E.price)}),E.discount_rate>0&&i.jsxs("div",{className:"bg-red-100 dark:bg-red-900/30 text-red-600 dark:text-red-400 px-2 py-1 rounded-lg text-xs font-semibold",children:["-",E.discount_rate,"%"]})]}),i.jsxs("div",{className:"flex items-center justify-between text-xs text-slate-500 dark:text-slate-400",children:[i.jsxs("span",{children:["Brand ",E.brand?`#${E.brand}`:"None"]}),i.jsxs("span",{children:["Category #",E.category]})]})]})]},E.id)),t.length===0&&i.jsxs("div",{className:"col-span-full text-center py-12",children:[i.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-slate-200 to-slate-300 dark:from-slate-600 dark:to-slate-700 rounded-3xl flex items-center justify-center mx-auto mb-4",children:i.jsx("span",{className:"text-2xl",children:""})}),i.jsx("div",{className:"text-slate-600 dark:text-slate-400 font-medium",children:"No products found"}),i.jsx("div",{className:"text-slate-500 dark:text-slate-500 text-sm mt-1",children:"Try adjusting your search filters"})]})]})]})]}),pe&&i.jsxs("section",{ref:Rt,className:"rounded-3xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 shadow-lg hover:shadow-xl transition-all duration-300 p-6",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[i.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-amber-500 to-orange-600 rounded-xl flex items-center justify-center",children:i.jsx("span",{className:"text-white text-lg",children:""})}),i.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-100",children:"Edit Product"}),i.jsx("div",{className:"ml-auto text-sm text-slate-600 dark:text-slate-400 bg-slate-100 dark:bg-slate-700 px-3 py-1 rounded-xl",children:pe.name})]}),i.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"block text-sm font-semibold text-slate-700 dark:text-slate-300",children:"Product Name"}),i.jsx("input",{placeholder:"Enter product name",className:"w-full border-2 border-slate-200 dark:border-slate-600 rounded-2xl px-4 py-3 bg-white dark:bg-slate-700 text-slate-800 dark:text-slate-200 placeholder-slate-400 dark:placeholder-slate-500 focus:border-amber-500 dark:focus:border-amber-400 focus:ring-2 focus:ring-amber-200 dark:focus:ring-amber-800 transition-all duration-200",value:pr,onChange:E=>bn(E.target.value)})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"block text-sm font-semibold text-slate-700 dark:text-slate-300",children:"Price"}),i.jsx("input",{type:"number",min:"0",step:"0.01",placeholder:"0.00",className:"w-full border-2 border-slate-200 dark:border-slate-600 rounded-2xl px-4 py-3 bg-white dark:bg-slate-700 text-slate-800 dark:text-slate-200 placeholder-slate-400 dark:placeholder-slate-500 focus:border-amber-500 dark:focus:border-amber-400 focus:ring-2 focus:ring-amber-200 dark:focus:ring-amber-800 transition-all duration-200",value:Qr,onChange:E=>gr(E.target.value)})]}),i.jsxs("div",{className:"space-y-2 md:col-span-2",children:[i.jsx("label",{className:"block text-sm font-semibold text-slate-700 dark:text-slate-300",children:"Description"}),i.jsx("textarea",{placeholder:"Enter product description",rows:3,className:"w-full border-2 border-slate-200 dark:border-slate-600 rounded-2xl px-4 py-3 bg-white dark:bg-slate-700 text-slate-800 dark:text-slate-200 placeholder-slate-400 dark:placeholder-slate-500 focus:border-amber-500 dark:focus:border-amber-400 focus:ring-2 focus:ring-amber-200 dark:focus:ring-amber-800 transition-all duration-200 resize-none",value:Xr,onChange:E=>wn(E.target.value)})]}),i.jsxs("div",{className:"space-y-2 md:col-span-2",children:[i.jsx("label",{className:"block text-sm font-semibold text-slate-700 dark:text-slate-300",children:"Technical Specifications"}),i.jsxs("div",{className:"space-y-3",children:[Un.map((E,te)=>i.jsxs("div",{className:"grid gap-3 md:grid-cols-[1fr_1fr_auto] items-end",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsx("label",{className:"block text-xs font-medium text-slate-600 dark:text-slate-400",children:"Specification Key"}),i.jsx("input",{placeholder:"e.g., RAM, Storage, Color",className:"w-full border-2 border-slate-200 dark:border-slate-600 rounded-xl px-3 py-2 bg-white dark:bg-slate-700 text-slate-800 dark:text-slate-200 placeholder-slate-400 dark:placeholder-slate-500 focus:border-amber-500 dark:focus:border-amber-400 focus:ring-2 focus:ring-amber-200 dark:focus:ring-amber-800 transition-all duration-200 text-sm",value:E.key,onChange:fe=>Ei(te,"key",fe.target.value)})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx("label",{className:"block text-xs font-medium text-slate-600 dark:text-slate-400",children:"Value"}),i.jsx("input",{placeholder:"e.g., 8GB, 256GB, Black",className:"w-full border-2 border-slate-200 dark:border-slate-600 rounded-xl px-3 py-2 bg-white dark:bg-slate-700 text-slate-800 dark:text-slate-200 placeholder-slate-400 dark:placeholder-slate-500 focus:border-amber-500 dark:focus:border-amber-400 focus:ring-2 focus:ring-amber-200 dark:focus:ring-amber-800 transition-all duration-200 text-sm",value:E.value,onChange:fe=>Ei(te,"value",fe.target.value)})]}),i.jsx("button",{type:"button",className:"h-10 px-3 bg-red-500 hover:bg-red-600 text-white rounded-xl transition-all duration-200 flex items-center justify-center font-semibold shadow-lg hover:shadow-xl text-sm",onClick:()=>Yl(te),children:""})]},te)),i.jsxs("button",{type:"button",className:"w-full border-2 border-dashed border-amber-300 dark:border-amber-600 rounded-xl px-3 py-2 text-amber-600 dark:text-amber-400 hover:bg-amber-50 dark:hover:bg-amber-900/20 transition-all duration-200 font-medium flex items-center justify-center gap-2 text-sm",onClick:Qc,children:[i.jsx("span",{className:"text-sm",children:""}),"Add Specification"]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"block text-sm font-semibold text-slate-700 dark:text-slate-300",children:"Discount Rate (%)"}),i.jsx("input",{type:"number",min:"0",max:"100",step:"0.01",placeholder:"0.00",className:"w-full border-2 border-slate-200 dark:border-slate-600 rounded-2xl px-4 py-3 bg-white dark:bg-slate-700 text-slate-800 dark:text-slate-200 placeholder-slate-400 dark:placeholder-slate-500 focus:border-amber-500 dark:focus:border-amber-400 focus:ring-2 focus:ring-amber-200 dark:focus:ring-amber-800 transition-all duration-200",value:kn,onChange:E=>Ua(E.target.value)})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"block text-sm font-semibold text-slate-700 dark:text-slate-300",children:"Final Price"}),i.jsxs("div",{className:"border-2 border-emerald-200 dark:border-emerald-800 rounded-2xl px-4 py-3 bg-gradient-to-r from-emerald-50 to-green-50 dark:from-emerald-900/30 dark:to-green-900/30",children:[i.jsx("div",{className:"text-xl font-bold text-emerald-600 dark:text-emerald-400",children:e($u(Qr,kn))}),kn>0&&i.jsxs("div",{className:"text-sm text-emerald-600 dark:text-emerald-400 mt-1",children:[" You save ",e((parseFloat(Qr)||0)-$u(Qr,kn))]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"block text-sm font-semibold text-slate-700 dark:text-slate-300",children:"Stock Quantity"}),i.jsx("input",{type:"number",min:"0",placeholder:"0",className:"w-full border-2 border-slate-200 dark:border-slate-600 rounded-2xl px-4 py-3 bg-white dark:bg-slate-700 text-slate-800 dark:text-slate-200 placeholder-slate-400 dark:placeholder-slate-500 focus:border-amber-500 dark:focus:border-amber-400 focus:ring-2 focus:ring-amber-200 dark:focus:ring-amber-800 transition-all duration-200",value:aa,onChange:E=>sa(E.target.value)})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"block text-sm font-semibold text-slate-700 dark:text-slate-300",children:"Brand"}),i.jsxs("select",{className:"w-full border-2 border-slate-200 dark:border-slate-600 rounded-2xl px-4 py-3 bg-white dark:bg-slate-700 text-slate-800 dark:text-slate-200 focus:border-amber-500 dark:focus:border-amber-400 focus:ring-2 focus:ring-amber-200 dark:focus:ring-amber-800 transition-all duration-200",value:Zr,onChange:E=>ia(E.target.value),children:[i.jsx("option",{value:"",children:"Select Brand"}),f.map(E=>i.jsx("option",{value:E.id,children:E.name},E.id))]})]}),pe&&pe.category_data&&i.jsxs("div",{className:"mb-6 p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-2xl",children:[i.jsx("div",{className:"text-blue-700 dark:text-blue-300 text-sm font-medium mb-2",children:" Current Category Information"}),i.jsx("div",{className:"text-blue-800 dark:text-blue-200 font-semibold",children:pe.category_data.name}),pe.category_data.description&&i.jsx("div",{className:"text-blue-600 dark:text-blue-400 text-sm mt-1",children:pe.category_data.description})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"block text-sm font-semibold text-slate-700 dark:text-slate-300",children:"Category"}),i.jsxs("select",{className:"w-full border-2 border-slate-200 dark:border-slate-600 rounded-2xl px-4 py-3 bg-white dark:bg-slate-700 text-slate-800 dark:text-slate-200 focus:border-amber-500 dark:focus:border-amber-400 focus:ring-2 focus:ring-amber-200 dark:focus:ring-amber-800 transition-all duration-200",value:_t,onChange:E=>{jn(E.target.value),Wa("")},children:[i.jsx("option",{value:"",children:"Select Category"}),g.map(E=>i.jsx("option",{value:E.id,children:E.name},E.id))]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"block text-sm font-semibold text-slate-700 dark:text-slate-300",children:"Subcategory"}),i.jsxs("select",{className:"w-full border-2 border-slate-200 dark:border-slate-600 rounded-2xl px-4 py-3 bg-white dark:bg-slate-700 text-slate-800 dark:text-slate-200 focus:border-amber-500 dark:focus:border-amber-400 focus:ring-2 focus:ring-amber-200 dark:focus:ring-amber-800 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",value:xt,onChange:E=>{Wa(E.target.value),Or("")},disabled:!_t&&!pe.category,children:[i.jsx("option",{value:"",children:_t?"Select Subcategory":(eo=pe==null?void 0:pe.category_data)!=null&&eo.name?`Current: ${pe.category_data.name}`:"Keep existing or pick a Category"}),yn.map(E=>i.jsx("option",{value:E.id,children:E.name},E.id))]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"block text-sm font-semibold text-slate-700 dark:text-slate-300",children:"Grandchild Category"}),i.jsxs("select",{className:"w-full border-2 border-slate-200 dark:border-slate-600 rounded-2xl px-4 py-3 bg-white dark:bg-slate-700 text-slate-800 dark:text-slate-200 focus:border-amber-500 dark:focus:border-amber-400 focus:ring-2 focus:ring-amber-200 dark:focus:ring-amber-800 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",value:$s,onChange:E=>Or(E.target.value),disabled:!xt,children:[i.jsx("option",{value:"",children:xt?"Select Grandchild Category":(qa=pe==null?void 0:pe.category_data)!=null&&qa.name?`Current: ${pe.category_data.name}`:"Select a subcategory first"}),na.map(E=>i.jsx("option",{value:E.id,children:E.name},E.id))]})]})]}),i.jsxs("div",{className:"mt-8 p-6 bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 rounded-3xl border border-blue-200 dark:border-blue-800",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[i.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-blue-500 to-indigo-600 rounded-lg flex items-center justify-center",children:i.jsx("span",{className:"text-white text-sm",children:""})}),i.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-slate-100",children:"New Arrivals"})]}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[i.jsx("input",{type:"checkbox",checked:Ha,onChange:E=>Va(E.target.checked),className:"w-5 h-5 text-blue-600 bg-white border-2 border-blue-300 rounded focus:ring-blue-500 focus:ring-2"}),i.jsx("span",{className:"text-lg font-semibold text-slate-800 dark:text-slate-200",children:"Mark as New Arrival"})]}),i.jsx("div",{className:"text-sm text-blue-600 dark:text-blue-400 font-medium",children:Ha?" Will appear in New Arrivals section":" Will not appear in New Arrivals section"})]}),i.jsx("div",{className:"mt-4 p-4 bg-blue-100 dark:bg-blue-900/30 border border-blue-200 dark:border-blue-800 rounded-2xl",children:i.jsx("div",{className:"text-blue-700 dark:text-blue-300 text-sm font-medium",children:' New arrival products will be displayed in the "NEW PRODUCTS" section on the home page to showcase your latest additions.'})})]}),i.jsxs("div",{className:"mt-8 p-6 bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 rounded-3xl border border-green-200 dark:border-green-800",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[i.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-green-500 to-emerald-600 rounded-lg flex items-center justify-center",children:i.jsx("span",{className:"text-white text-sm",children:""})}),i.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-slate-100",children:"Top Selling Product"})]}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[i.jsx("input",{type:"checkbox",checked:oa,onChange:E=>ca(E.target.checked),className:"w-5 h-5 text-green-600 bg-white border-2 border-green-300 rounded focus:ring-green-500 focus:ring-2"}),i.jsx("span",{className:"text-lg font-semibold text-slate-800 dark:text-slate-200",children:"Mark as Top Selling Product"})]}),i.jsx("div",{className:"text-sm text-green-600 dark:text-green-400 font-medium",children:oa?" Will appear on home page":" Will not appear on home page"})]}),i.jsx("div",{className:"mt-4 p-4 bg-green-100 dark:bg-green-900/30 border border-green-200 dark:border-green-800 rounded-2xl",children:i.jsx("div",{className:"text-green-700 dark:text-green-300 text-sm font-medium",children:" Top selling products will be displayed in a special section on the home page to highlight your best products."})})]}),i.jsxs("div",{className:"mt-8 p-6 bg-gradient-to-r from-purple-50 to-pink-50 dark:from-purple-900/20 dark:to-pink-900/20 rounded-3xl border border-purple-200 dark:border-purple-800",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[i.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-purple-500 to-pink-600 rounded-lg flex items-center justify-center",children:i.jsx("span",{className:"text-white text-sm",children:""})}),i.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-slate-100",children:"Product Images"})]}),i.jsxs("div",{className:"mb-6 p-4 bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 rounded-2xl border border-blue-200 dark:border-blue-800",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx("div",{className:"w-6 h-6 bg-gradient-to-r from-blue-500 to-indigo-600 rounded-lg flex items-center justify-center",children:i.jsx("span",{className:"text-white text-xs",children:""})}),i.jsx("h4",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100",children:"Change Main Picture"})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Select a new main image that will be displayed as the primary product image"}),i.jsx("div",{className:"text-blue-600 dark:text-blue-400 text-sm font-medium",children:" Optional - Only upload if you want to change the main image"}),i.jsx("input",{type:"file",accept:".jpg,.jpeg,.png",onChange:E=>Ka(E.target.files[0]),className:"w-full text-sm border-2 border-slate-200 dark:border-slate-600 rounded-xl px-4 py-2 bg-white dark:bg-slate-700 text-slate-800 dark:text-slate-200 focus:border-blue-500 dark:focus:border-blue-400 focus:ring-2 focus:ring-blue-200 dark:focus:ring-blue-800 transition-all duration-200"}),Yt&&i.jsxs("div",{className:"mt-2 text-sm text-green-600 dark:text-green-400 font-medium",children:[" New main picture selected: ",Yt.name]})]})]}),i.jsxs("div",{className:"mb-6",children:[i.jsx("div",{className:"text-sm font-semibold text-slate-700 dark:text-slate-300 mb-4",children:"Current Images"}),i.jsxs("div",{className:"flex flex-wrap gap-4",children:[(Fs=pe.images)==null?void 0:Fs.map(E=>i.jsxs("div",{className:"relative group",children:[i.jsxs("div",{className:`w-32 h-32 border-2 ${E.is_main?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-slate-200 dark:border-slate-600"} rounded-2xl overflow-hidden bg-white dark:bg-slate-700 shadow-lg`,children:[i.jsx("img",{src:E.image.startsWith("http")?E.image:`http://127.0.0.1:8001${E.image}`,className:"object-cover w-full h-full group-hover:scale-105 transition-transform duration-300"}),E.is_main&&i.jsx("div",{className:"absolute top-2 left-2 bg-blue-500 text-white text-xs px-2 py-1 rounded-full font-semibold",children:"MAIN"})]}),i.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-20 transition-all duration-300 rounded-2xl flex items-center justify-center",children:i.jsxs("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex gap-2",children:[!E.is_main&&i.jsx("button",{type:"button",onClick:()=>Zc(E.id),className:"bg-blue-500 hover:bg-blue-600 text-white px-3 py-1 rounded-lg text-xs font-semibold transition-colors",title:"Set as main image",children:" Set Main"}),i.jsx("button",{type:"button",onClick:()=>Ql(E.id),className:"bg-red-500 hover:bg-red-600 text-white px-3 py-1 rounded-lg text-xs font-semibold transition-colors",title:"Delete image",children:" Delete"})]})})]},E.id)),(!pe.images||pe.images.length===0)&&i.jsx("div",{className:"w-32 h-32 border-2 border-dashed border-slate-300 dark:border-slate-600 rounded-2xl flex items-center justify-center bg-slate-50 dark:bg-slate-700",children:i.jsxs("div",{className:"text-slate-500 dark:text-slate-400 text-sm text-center",children:["No images",i.jsx("br",{}),"yet"]})})]})]}),i.jsxs("div",{className:"space-y-6",children:[i.jsx("div",{className:"text-lg font-semibold text-slate-700 dark:text-slate-300",children:"Add New Images"}),i.jsxs("div",{className:"border-2 border-dashed border-purple-300 dark:border-purple-600 rounded-3xl p-8 text-center bg-white/50 dark:bg-slate-700/50 hover:bg-purple-50 dark:hover:bg-purple-900/20 transition-all duration-300",children:[i.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-purple-500 to-pink-600 rounded-2xl flex items-center justify-center mx-auto mb-4",children:i.jsx("span",{className:"text-white text-2xl",children:""})}),i.jsx("div",{className:"font-semibold text-slate-800 dark:text-slate-200 mb-2",children:"Upload Additional Images"}),i.jsx("div",{className:"text-slate-500 dark:text-slate-400 text-sm font-medium mb-4",children:"Optional"}),i.jsx("input",{type:"file",accept:".jpg,.jpeg,.png",multiple:!0,onChange:ql,className:"w-full text-sm border-2 border-slate-200 dark:border-slate-600 rounded-2xl px-4 py-3 bg-white dark:bg-slate-700 text-slate-800 dark:text-slate-200 focus:border-purple-500 dark:focus:border-purple-400 focus:ring-2 focus:ring-purple-200 dark:focus:ring-purple-800 transition-all duration-200"}),i.jsx("div",{className:"mt-4 text-slate-500 dark:text-slate-400 text-sm",children:"You can select multiple images at once (JPG, PNG only)"})]}),en.length>0&&i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"text-lg font-semibold text-slate-800 dark:text-slate-200",children:["New Images to Upload (",en.length,")"]}),i.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:en.map((E,te)=>i.jsxs("div",{className:"relative group",children:[i.jsx("div",{className:"aspect-square bg-gray-100 dark:bg-slate-700 rounded-lg overflow-hidden border-2 border-gray-200 dark:border-slate-600",children:i.jsx("img",{src:URL.createObjectURL(E),alt:`Preview ${te+1}`,className:"w-full h-full object-cover"})}),i.jsx("button",{onClick:()=>Xc(te),className:"absolute -top-2 -right-2 w-6 h-6 bg-red-500 text-white rounded-full flex items-center justify-center text-sm hover:bg-red-600 transition-colors",children:""}),i.jsx("div",{className:"mt-2 text-xs text-center text-slate-600 dark:text-slate-400 truncate",children:E.name})]},te))})]})]}),i.jsx("div",{className:"mt-6 p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-2xl",children:i.jsxs("div",{className:"text-blue-700 dark:text-blue-300 text-sm font-medium",children:[" New images will be saved in: ",i.jsx("span",{className:"font-semibold",children:"Backend\\media\\Assets\\images\\products\\Selling products\\"})]})})]}),i.jsxs("div",{className:"mt-8 flex gap-4 justify-end",children:[i.jsx("button",{onClick:Jl,disabled:tn,className:"bg-gradient-to-r from-emerald-500 to-teal-600 hover:from-emerald-600 hover:to-teal-700 disabled:from-gray-400 disabled:to-gray-500 text-white font-bold py-4 px-8 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 flex items-center gap-3",children:tn?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Saving Changes..."]}):i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"text-lg",children:""}),"Save Changes"]})}),i.jsx("button",{onClick:Xl,disabled:tn,className:"bg-gradient-to-r from-red-500 to-pink-600 hover:from-red-600 hover:to-pink-700 disabled:from-gray-400 disabled:to-gray-500 text-white font-bold py-4 px-8 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 flex items-center gap-3",children:tn?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Deleting..."]}):i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"text-lg",children:""}),"Delete Product"]})})]})]})]})}function Dq({title:e,children:t,footer:r}){return i.jsxs("div",{className:"rounded-2xl border p-4",children:[e&&i.jsx("h3",{className:"mb-2 font-semibold",children:e}),i.jsx("div",{children:t}),r&&i.jsx("div",{className:"mt-3 text-sm opacity-80",children:r})]})}function Iq(e){const t=new Map;e.forEach(a=>{const l=(a.parent??a.parent_id??null)||"root";t.has(l)||t.set(l,[]),t.get(l).push(a)});const r=t.get("root")||t.get(null)||[],n=a=>({...a,level:a.depth||0,levelName:a.level_name||(a.parent?"Child Category":"Parent Category"),children:(t.get(a.id)||[]).map(n)});return r.map(n)}function zA({category:e,onSelect:t,depth:r=0,isSelected:n=!1,expandedCategories:a,onToggleExpand:s,scrollToEditSection:l}){var f,m,p;const o={0:"",1:"",2:""},c={0:"Parent",1:"Child",2:"Grandchild"},u=a.has(e.id),d=((f=e.children)==null?void 0:f.length)>0;return e.id===1&&console.log(` Category "${e.name}" (ID: ${e.id}):`,{isExpanded:u,hasChildren:d,childrenCount:((m=e.children)==null?void 0:m.length)||0,expandedCategoriesSize:a.size}),i.jsxs("div",{className:"group",children:[i.jsxs("div",{onClick:()=>t(e),className:`w-full text-left p-3 rounded-lg border cursor-pointer transition-all duration-200 ${n?"bg-blue-50 dark:bg-blue-900/20 border-blue-300 dark:border-blue-500 shadow-sm":"bg-white dark:bg-slate-800 border-slate-200 dark:border-slate-600 hover:bg-slate-50 dark:hover:bg-slate-700 hover:shadow-sm"}`,style:{marginLeft:r*24,position:"relative"},children:[r>0&&i.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-px bg-slate-300 dark:bg-slate-500",style:{left:`${(r-1)*24+12}px`}}),i.jsxs("div",{className:"flex items-center gap-3",children:[d?i.jsx("button",{type:"button",onClick:x=>{x.stopPropagation(),s(e.id)},className:"w-6 h-6 rounded flex items-center justify-center hover:bg-slate-200 dark:hover:bg-slate-600 transition-colors",title:u?"Collapse":"Expand",children:i.jsx("span",{className:`text-slate-600 dark:text-slate-400 text-sm transition-transform duration-200 ${u?"rotate-90":"rotate-0"}`,children:""})}):i.jsx("div",{className:"w-6 h-6 flex items-center justify-center",children:i.jsx("div",{className:"w-1 h-1 bg-slate-400 dark:bg-slate-500 rounded-full"})}),i.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center bg-slate-100 dark:bg-slate-700",children:e.image?i.jsx("img",{src:e.image.startsWith("http")?e.image:`http://127.0.0.1:8001${e.image}`,alt:e.name,className:"w-full h-full object-cover rounded-lg"}):i.jsx("span",{className:"text-slate-600 dark:text-slate-400 text-sm",children:o[e.level]||o[0]})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("div",{className:"font-medium text-slate-800 dark:text-slate-200 break-words leading-tight",children:e.name}),e.slogan&&i.jsxs("div",{className:"text-xs text-blue-600 dark:text-blue-400 mt-1 italic break-words leading-tight",children:['"',e.slogan.length>80?e.slogan.substring(0,80)+"...":e.slogan,'"']}),i.jsxs("div",{className:"text-xs text-slate-500 dark:text-slate-400 flex items-center gap-2 flex-wrap",children:[i.jsx("span",{children:c[e.level]||"Category"}),i.jsx("span",{children:""}),i.jsxs("span",{children:["ID: ",e.id]}),e.children_count>0&&i.jsxs(i.Fragment,{children:[i.jsx("span",{children:""}),i.jsxs("span",{children:[e.children_count," sub",e.children_count===1?"":"s"]})]})]})]})]})]}),((p=e.children)==null?void 0:p.length)>0&&i.jsx("div",{className:`overflow-hidden transition-all duration-200 ${u?"max-h-screen opacity-100":"max-h-0 opacity-0"}`,children:i.jsx("div",{className:"mt-2 space-y-1 pb-2",children:e.children.map(x=>i.jsx(zA,{category:x,onSelect:t,depth:r+1,isSelected:n,expandedCategories:a,onToggleExpand:s},x.id))})})]})}function Mq(){const{data:e,loading:t,error:r,refresh:n,refreshImmediate:a,addItem:s,updateItem:l,removeItem:o,setData:c}=ui("categories",()=>jf.get("/admin/categories/")),{data:u,loading:d,error:f,refresh:m,refreshImmediate:p,addItem:x,updateItem:g,removeItem:v,setData:b}=ui("brands",()=>jf.get("/admin/brands/")),[y,w]=h.useState(""),[k,N]=h.useState(""),[S,j]=h.useState(""),[P,D]=h.useState(""),[O,$]=h.useState(""),[B,U]=h.useState(""),[T,K]=h.useState(null),[I,G]=h.useState(null),[M,W]=h.useState("category"),[J,Q]=h.useState(""),[q,Pe]=h.useState(""),[L,ae]=h.useState(""),[Ne,We]=h.useState(""),[Me,V]=h.useState(""),[ee,he]=h.useState(""),[A,oe]=h.useState(null),[Z,ge]=h.useState(null),[xe,Re]=h.useState(null),[qt,ve]=h.useState(null),[Gt,gt]=h.useState(!1),[yn,zn]=h.useState(null),[na,$t]=h.useState(new Set),[pe,hr]=h.useState(!1),[pr,bn]=h.useState(""),[Xr,wn]=h.useState("all"),[Qr,gr]=h.useState("name"),kn=h.useRef(null),Ua=h.useRef(null),aa=h.useRef(null),sa=h.useRef(null),Zr=async()=>{try{const _=a(),X=p();await Promise.all([_,X])}catch(_){console.error("Failed to refresh data:",_)}},ia=_=>{setTimeout(()=>{let X=null;switch(_){case"category":X=kn.current;break;case"subcategory":X=Ua.current;break;case"grandchild":X=aa.current;break;case"brand":X=sa.current;break;default:return}X&&X.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"})},100)},_t=h.useMemo(()=>{let X=Array.isArray(e)?e:[];if(pr&&(X=X.filter(z=>z.name.toLowerCase().includes(pr.toLowerCase())||z.full_path.toLowerCase().includes(pr.toLowerCase()))),Xr!=="all"){const z=parseInt(Xr);X=X.filter(be=>be.level===z)}return Array.isArray(X)&&X.sort((z,be)=>{switch(Qr){case"name":return z.name.localeCompare(be.name);case"level":return z.level-be.level;case"children":return be.children_count-z.children_count;case"id":return z.id-be.id;default:return 0}}),X},[e,pr,Xr,Qr]),jn=h.useMemo(()=>Iq(_t),[_t]),xt=h.useMemo(()=>{const _={parents:0,children:0,grandchildren:0},X=z=>{z.forEach(be=>{be.level===0?_.parents++:be.level===1?_.children++:be.level===2&&_.grandchildren++,be.children&&be.children.length>0&&X(be.children)})};return X(jn),console.log("Category counts calculated:",_),console.log("Tree structure:",jn),console.log("Filtered categories:",_t.length),console.log("All categories:",(Array.isArray(e)?e:[]).length),_},[jn,_t,e]),Wa=h.useMemo(()=>(Array.isArray(e)?e:[]).filter(_=>_.level===0),[e]);h.useMemo(()=>(Array.isArray(e)?e:[]).filter(_=>_.level===1),[e]),h.useMemo(()=>(Array.isArray(e)?e:[]).filter(_=>_.level===2),[e]);const $s=h.useMemo(()=>(Array.isArray(e)?e:[]).filter(_=>_.can_have_children),[e]);h.useMemo(()=>{const _=new Map;return(Array.isArray(e)?e:[]).forEach(X=>{X.parent&&(_.has(X.parent)||_.set(X.parent,[]),_.get(X.parent).push(X))}),_},[e]);const Or=()=>window.dispatchEvent(new CustomEvent("taxonomy:updated")),Un=_=>{$t(X=>{const z=new Set(X);return z.has(_)?z.delete(_):z.add(_),localStorage.setItem("admin_expanded_categories",JSON.stringify(Array.from(z))),z})},Nn=()=>{console.log(" Expand All clicked - Total categories:",(Array.isArray(e)?e:[]).length);const _=(Array.isArray(e)?e:[]).map(z=>z.id);console.log(" Category IDs to expand:",_);const X=new Set(_);$t(X),hr(!1),localStorage.setItem("admin_expanded_categories",JSON.stringify(_)),localStorage.removeItem("admin_user_has_collapsed"),console.log(" Expanded categories set:",X.size)},la=()=>{console.log(" Collapse All clicked"),$t(new Set),hr(!0),localStorage.setItem("admin_expanded_categories",JSON.stringify([])),localStorage.setItem("admin_user_has_collapsed","true"),console.log(" All categories collapsed")};h.useEffect(()=>{const _=localStorage.getItem("admin_expanded_categories"),X=localStorage.getItem("admin_user_has_collapsed")==="true";if(hr(X),_)try{const z=JSON.parse(_);$t(new Set(z))}catch(z){console.error("Failed to parse saved expanded categories:",z)}},[]),h.useEffect(()=>{if((Array.isArray(e)?e:[]).length>0&&na.size===0&&!pe){console.log(" Auto-expanding categories on first load");const _=(Array.isArray(e)?e:[]).map(z=>z.id),X=new Set(_);$t(X),localStorage.setItem("admin_expanded_categories",JSON.stringify(_))}else pe&&console.log(" User has collapsed - skipping auto-expansion")},[e,na.size,pe]),h.useEffect(()=>{const _=X=>{var z;if(!(X.target.tagName==="INPUT"||X.target.tagName==="TEXTAREA"||X.target.tagName==="SELECT")&&(X.ctrlKey||X.metaKey))switch(X.key){case"e":X.preventDefault(),Nn();break;case"c":X.preventDefault(),la();break;case"f":X.preventDefault(),(z=document.querySelector('input[placeholder="Search categories..."]'))==null||z.focus();break}};return window.addEventListener("keydown",_),()=>window.removeEventListener("keydown",_)},[]);const Rs=_=>{if(zn(_),W(_.level===0?"category":_.level===1?"subcategory":"grandchild"),_.level===0)Q(String(_.id));else if(_.level===1)Pe(String(_.parent)),ae(String(_.id));else{const z=(Array.isArray(e)?e:[]).find(be=>be.id===_.parent);Pe(String((z==null?void 0:z.parent)||"")),ae(String(_.id))}V(_.name),he(_.slogan||""),oe(_.image);const X=_.level===0?"category":_.level===1?"subcategory":"grandchild";ia(X),ge(null),ve(null)},en=_=>{W("brand"),We(String(_.id)),V(_.name),oe(_.image),Re(null),ve(null),ia("brand")},Sn=(_,X="Something went wrong")=>{var be,Rt,Pn,Jt,xr,ot;console.error("Error details:",_);let z=(_==null?void 0:_.uiMessage)||X;if(((be=_==null?void 0:_.response)==null?void 0:be.status)===400){const Ke=(Rt=_==null?void 0:_.response)==null?void 0:Rt.data;Ke!=null&&Ke.detail?z=Ke.detail:Ke!=null&&Ke.name&&Array.isArray(Ke.name)?z=Ke.name.join(", "):Ke!=null&&Ke.parent&&Array.isArray(Ke.parent)?z=Ke.parent.join(", "):z.includes("PROTECT")?z="Cannot delete item: There are products using this item. Please delete or reassign the products first.":z.includes("hierarchy")?z="Cannot create subcategory: Maximum hierarchy depth reached.":z.includes("already exists")&&(z=z)}else((Pn=_==null?void 0:_.response)==null?void 0:Pn.status)===401?z="Authentication failed. Please log in again.":((Jt=_==null?void 0:_.response)==null?void 0:Jt.status)===403?z="Access denied. You may not have admin permissions.":((xr=_==null?void 0:_.response)==null?void 0:xr.status)>=500?z="Server error. Please try again later.":((ot=_==null?void 0:_.response)==null?void 0:ot.status)===0?z="Network error. Please check your connection and try again.":_!=null&&_.message&&(z=_.message);z.includes("product(s) are using this category")&&(z=` Cannot delete category: ${z}

To delete this category:
1. Go to Products page
2. Find products using this category
3. Either delete those products or reassign them to another category
4. Then try deleting the category again`),console.error("Final error message:",z),ve({kind:"error",text:z})},Yt=_=>{if(_==null||_===""||_==="null")return null;const X=Number(_);return Number.isFinite(X)?X:null},Ka=async _=>{_.preventDefault(),ve(null);const X=(y||"").trim(),z=(k||"").trim();if(!X)return ve({kind:"error",text:"Please enter a category name."});try{gt(!0);const be=await wf({name:X,slogan:z});be!=null&&be.data&&s(be.data),await Zr(),w(""),N(""),Or(),ve({kind:"success",text:"Parent category added."})}catch(be){ve({kind:"error",text:be.uiMessage||"Failed to add category."})}finally{gt(!1)}},Ha=async _=>{var Jt,xr;_.preventDefault(),ve(null);const X=Yt(S),z=(P||"").trim(),be=(O||"").trim();if(!X)return ve({kind:"error",text:"Please select a parent category first."});if(!z)return ve({kind:"error",text:"Please enter a subcategory name."});const Rt=(Array.isArray(e)?e:[]).find(ot=>ot.id===X);if(Rt&&Rt.level===1&&!I)return ve({kind:"error",text:"Image is required for grandchild categories (level 2). Please upload an image."});try{gt(!0);const ot=new FormData;ot.append("name",z),ot.append("slogan",be),ot.append("parent",X),I&&ot.append("image",I),await wf(ot),D(""),$(""),j(""),G(null),Or(),await Zr(),ve({kind:"success",text:"Subcategory added."})}catch(ot){console.error("[ManageCategoriesPage] Failed to add subcategory:",ot),((xr=(Jt=ot.response)==null?void 0:Jt.data)==null?void 0:xr.error_type)==="duplicate_image"?ve({kind:"error",text:"Duplicate Image: This image already exists for this category. Please upload a different image."}):Sn(ot,"Failed to add subcategory.")}finally{gt(!1)}},Va=async _=>{var z,be;_.preventDefault(),ve(null);const X=(B||"").trim();if(!X)return ve({kind:"error",text:"Please enter a brand name."});try{gt(!0);const Rt=new FormData;Rt.append("name",X),T&&Rt.append("image",T),await iy(Rt),await Zr(),U(""),K(null),Or(),ve({kind:"success",text:"Brand added."})}catch(Rt){console.error("[ManageCategoriesPage] Failed to add brand:",Rt),((be=(z=Rt.response)==null?void 0:z.data)==null?void 0:be.error_type)==="duplicate_image"?ve({kind:"error",text:"Duplicate Image: This image already exists for this brand. Please upload a different image."}):ve({kind:"error",text:Rt.uiMessage||"Failed to add brand."})}finally{gt(!1)}},oa=async()=>{var _,X;if(ve(null),!Me.trim())return ve({kind:"error",text:"Please enter a new name."});try{if(gt(!0),M==="category"){if(!J)return ve({kind:"error",text:"Pick a category to edit."});console.log("Updating category with data:",{name:Me,slogan:ee}),await Yp(J,{name:Me,slogan:ee})}else if(M==="subcategory"||M==="grandchild"){if(!L)return ve({kind:"error",text:"Pick a subcategory to edit."});if(M==="grandchild"&&!Z&&!A)return ve({kind:"error",text:"Image is required for grandchild categories. Please upload an image or keep the current one."});const z=new FormData;z.append("name",Me),z.append("slogan",ee),Z&&z.append("image",Z),await Yp(L,z)}else{if(!Ne)return ve({kind:"error",text:"Pick a brand to edit."});const z=new FormData;z.append("name",Me),xe&&z.append("image",xe),await gA(Ne,z)}M==="category"&&J?l(J,{name:Me,slogan:ee}):(M==="subcategory"||M==="grandchild")&&L?l(L,{name:Me,slogan:ee}):M==="brand"&&Ne&&g(Ne,{name:Me}),yn&&(console.log("Updating selected category:",{name:Me,slogan:ee}),zn(z=>({...z,name:Me,slogan:ee}))),Or(),await Zr(),ve({kind:"success",text:"Changes saved."}),Re(null),ge(null)}catch(z){console.error("[ManageCategoriesPage] Failed to save changes:",z),((X=(_=z.response)==null?void 0:_.data)==null?void 0:X.error_type)==="duplicate_image"?ve({kind:"error",text:"Duplicate Image: This image already exists. Please upload a different image."}):Sn(z,"Failed to save changes.")}finally{gt(!1)}},ca=async _=>{try{return(await listProducts({category:_})).length===0}catch(X){return console.warn("Could not check category usage:",X),!1}},tn=async()=>{ve(null);try{if(gt(!0),M==="category"){if(!J)return ve({kind:"error",text:"Pick a category to delete."});if(!await ca(J)){ve({kind:"error",text:` Cannot delete this category because it has products associated with it.

To delete this category:
1. Go to Products page
2. Find products using this category
3. Either delete those products or reassign them to another category
4. Then try deleting the category again`});return}if(!confirm("Delete Category and all its Subcategories?"))return;console.log("Deleting category with ID:",J),o(J),await kf(J),Q(""),V("")}else if(M==="subcategory"||M==="grandchild"){if(!L)return ve({kind:"error",text:"Pick a subcategory to delete."});if(!await ca(L)){ve({kind:"error",text:` Cannot delete this subcategory because it has products associated with it.

To delete this subcategory:
1. Go to Products page
2. Find products using this subcategory
3. Either delete those products or reassign them to another category
4. Then try deleting the subcategory again`});return}if(!confirm("Delete this Subcategory?"))return;console.log("Deleting subcategory with ID:",L),o(L),await kf(L),ae(""),V("")}else{if(!Ne)return ve({kind:"error",text:"Pick a brand to delete."});if(!confirm("Delete this Brand?"))return;console.log("Deleting brand with ID:",Ne),v(Ne),await ly(Ne),We(""),V("")}await Zr(),Or(),ve({kind:"success",text:"Item deleted successfully."})}catch(_){console.error("Delete error:",_),Sn(_,"Failed to delete item.")}finally{gt(!1)}};return i.jsx(Rn,{children:i.jsxs("div",{className:"flex flex-col xl:flex-row gap-6",children:[i.jsxs("div",{className:"xl:w-5/12 w-full xl:sticky xl:top-16 h-fit space-y-6",children:[i.jsxs(ut,{className:"mb-2.5",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[i.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-500 to-purple-600 rounded-xl flex items-center justify-center",children:i.jsx("span",{className:"text-white text-lg",children:""})}),i.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-100",children:"Category Hierarchy"})]}),i.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-400 mb-4",children:"Click any item to edit/delete. Click  to expand/collapse subcategories. Supports 3 levels: Parent  Child  Grandchild"}),i.jsxs("div",{className:"mb-4 space-y-3",children:[i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:"text",value:pr,onChange:_=>bn(_.target.value),placeholder:"Search categories...",className:"w-full px-4 py-2 pl-10 pr-4 text-sm border border-slate-200 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-800 dark:text-slate-200 placeholder-slate-500 dark:placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200"}),i.jsx("div",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400",children:""}),pr&&i.jsx("button",{onClick:()=>bn(""),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-slate-400 hover:text-slate-600 dark:hover:text-slate-300",children:""})]}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsxs("select",{value:Xr,onChange:_=>wn(_.target.value),className:"px-3 py-2 text-xs border border-slate-200 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-800 dark:text-slate-200 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[i.jsx("option",{value:"all",children:"All Levels"}),i.jsx("option",{value:"0",children:"Parent Only"}),i.jsx("option",{value:"1",children:"Child Only"}),i.jsx("option",{value:"2",children:"Grandchild Only"})]}),i.jsxs("select",{value:Qr,onChange:_=>gr(_.target.value),className:"px-3 py-2 text-xs border border-slate-200 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-800 dark:text-slate-200 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[i.jsx("option",{value:"name",children:"Sort by Name"}),i.jsx("option",{value:"level",children:"Sort by Level"}),i.jsx("option",{value:"children",children:"Sort by Children"}),i.jsx("option",{value:"id",children:"Sort by ID"})]})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs("button",{type:"button",onClick:Nn,className:"flex items-center gap-2 px-3 py-2 text-xs font-medium text-slate-600 dark:text-slate-400 bg-slate-100 dark:bg-slate-700 hover:bg-slate-200 dark:hover:bg-slate-600 rounded-lg transition-colors duration-200",title:"Expand all categories (Ctrl+E)",children:[i.jsx("span",{children:""}),"Expand All"]}),i.jsxs("button",{type:"button",onClick:la,className:"flex items-center gap-2 px-3 py-2 text-xs font-medium text-slate-600 dark:text-slate-400 bg-slate-100 dark:bg-slate-700 hover:bg-slate-200 dark:hover:bg-slate-600 rounded-lg transition-colors duration-200",title:"Collapse all categories (Ctrl+C)",children:[i.jsx("span",{children:""}),"Collapse All"]}),i.jsxs("button",{type:"button",onClick:()=>{localStorage.removeItem("admin_categories"),localStorage.removeItem("admin_brands"),localStorage.removeItem("admin_expanded_categories"),localStorage.removeItem("admin_user_has_collapsed"),hr(!1),n(),m()},className:"flex items-center gap-2 px-3 py-2 text-xs font-medium text-slate-600 dark:text-slate-400 bg-red-100 dark:bg-red-700 hover:bg-red-200 dark:hover:bg-red-600 rounded-lg transition-colors duration-200",title:"Clear cache and reload from API",children:[i.jsx("span",{children:""}),"Clear Cache"]})]}),i.jsxs("div",{className:"text-xs text-slate-500 dark:text-slate-400 bg-slate-50 dark:bg-slate-800 px-3 py-2 rounded-lg border border-slate-200 dark:border-slate-700",children:[i.jsx("div",{className:"font-semibold mb-1",children:"Keyboard Shortcuts:"}),i.jsxs("div",{className:"grid grid-cols-1 gap-1",children:[i.jsxs("span",{children:[i.jsx("kbd",{className:"px-1 py-0.5 bg-slate-200 dark:bg-slate-700 rounded text-xs",children:"Ctrl+E"})," Expand All"]}),i.jsxs("span",{children:[i.jsx("kbd",{className:"px-1 py-0.5 bg-slate-200 dark:bg-slate-700 rounded text-xs",children:"Ctrl+C"})," Collapse All"]}),i.jsxs("span",{children:[i.jsx("kbd",{className:"px-1 py-0.5 bg-slate-200 dark:bg-slate-700 rounded text-xs",children:"Ctrl+F"})," Focus Search"]})]})]})]}),i.jsxs("div",{className:"mb-4 p-3 bg-slate-50 dark:bg-slate-700 rounded-lg border border-slate-200 dark:border-slate-600",children:[i.jsx("div",{className:"text-sm font-medium text-slate-600 dark:text-slate-400 mb-2",children:"Categories:"}),i.jsxs("div",{className:"flex gap-4 text-sm",children:[i.jsxs("span",{children:[" Parents: ",i.jsx("strong",{children:xt.parents})]}),i.jsxs("span",{children:[" Children: ",i.jsx("strong",{children:xt.children})]}),i.jsxs("span",{children:[" Grandchildren: ",i.jsx("strong",{children:xt.grandchildren})]}),i.jsxs("span",{children:["Total: ",i.jsx("strong",{children:xt.parents+xt.children+xt.grandchildren})]})]})]}),jn.length?i.jsxs("div",{className:"max-h-[36rem] overflow-y-auto space-y-2 pr-2 pb-6",children:[jn.map(_=>i.jsx(zA,{category:_,onSelect:Rs,depth:0,isSelected:(yn==null?void 0:yn.id)===_.id,expandedCategories:na,onToggleExpand:Un},_.id)),i.jsx("div",{className:"h-4"})]}):i.jsxs("div",{className:"text-center py-8 text-slate-500 dark:text-slate-400",children:[i.jsx("div",{className:"w-12 h-12 bg-slate-200 dark:bg-slate-600 rounded-lg flex items-center justify-center mx-auto mb-3",children:i.jsx("span",{className:"text-xl",children:""})}),i.jsx("div",{className:"font-medium mb-1",children:"No categories found"}),i.jsx("div",{className:"text-sm",children:pr||Xr!=="all"?"Try adjusting your search or filter criteria":"Create your first category using the form on the right"}),(pr||Xr!=="all")&&i.jsx("button",{onClick:()=>{bn(""),wn("all")},className:"mt-2 px-3 py-1 text-sm bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors",children:"Clear Filters"})]})]}),i.jsxs(ut,{children:[i.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[i.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-emerald-500 to-teal-600 rounded-xl flex items-center justify-center",children:i.jsx("span",{className:"text-white text-lg",children:""})}),i.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-100",children:"Brands"})]}),i.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-400 mb-4",children:"Click a brand to edit/delete."}),i.jsxs("div",{className:"max-h-[28rem] overflow-y-auto space-y-2 pr-2 pb-6",children:[(Array.isArray(u)?u:[]).map(_=>i.jsx("button",{type:"button",onClick:()=>en(_),className:"w-full text-left p-3 bg-white dark:bg-slate-800 hover:bg-slate-50 dark:hover:bg-slate-700 rounded-lg border border-slate-200 dark:border-slate-600 transition-colors",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-8 h-8 bg-slate-100 dark:bg-slate-700 rounded-lg flex items-center justify-center overflow-hidden",children:_.image?i.jsx("img",{src:_.image.startsWith("http")?_.image:`http://127.0.0.1:8001${_.image}`,alt:_.name,className:"w-full h-full object-cover rounded-lg"}):i.jsx("span",{className:"text-slate-600 dark:text-slate-400 text-sm",children:""})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("div",{className:"font-medium text-slate-800 dark:text-slate-200",children:_.name}),i.jsxs("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:["Brand  ID: ",_.id]})]})]})},_.id)),i.jsx("div",{className:"h-4"}),(Array.isArray(u)?u:[]).length===0&&i.jsxs("div",{className:"text-center py-8 text-slate-500 dark:text-slate-400",children:[i.jsx("div",{className:"w-12 h-12 bg-slate-200 dark:bg-slate-600 rounded-lg flex items-center justify-center mx-auto mb-3",children:i.jsx("span",{className:"text-xl",children:""})}),i.jsx("div",{className:"font-medium mb-1",children:"No brands yet"}),i.jsx("div",{className:"text-sm",children:"Create your first brand using the form on the right"})]})]})]})]}),i.jsxs("div",{className:"xl:w-7/12 w-full space-y-6",children:[qt&&i.jsx(hn,{message:qt.text,type:qt.kind,onClose:()=>ve(null),autoClose:!0,duration:1e3}),i.jsxs("div",{className:"bg-gradient-to-r from-slate-50 to-slate-100 dark:from-slate-800 dark:to-slate-700 rounded-2xl border border-slate-200 dark:border-slate-600 p-4",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[i.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-slate-500 to-slate-600 rounded-lg flex items-center justify-center",children:i.jsx("span",{className:"text-white text-sm",children:""})}),i.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-slate-100",children:"Quick Actions"})]}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:[i.jsxs("button",{onClick:()=>{w(""),N(""),j(""),D(""),$(""),U(""),ve(null)},className:"flex items-center gap-2 px-3 py-2 text-xs font-medium text-slate-600 dark:text-slate-400 bg-white dark:bg-slate-700 hover:bg-slate-50 dark:hover:bg-slate-600 rounded-lg border border-slate-200 dark:border-slate-600 transition-colors duration-200",title:"Clear all forms",children:[i.jsx("span",{children:""}),"Clear Forms"]}),i.jsxs("button",{onClick:()=>{bn(""),wn("all"),gr("name")},className:"flex items-center gap-2 px-3 py-2 text-xs font-medium text-slate-600 dark:text-slate-400 bg-white dark:bg-slate-700 hover:bg-slate-50 dark:hover:bg-slate-600 rounded-lg border border-slate-200 dark:border-slate-600 transition-colors duration-200",title:"Reset filters",children:[i.jsx("span",{children:""}),"Reset Filters"]}),i.jsxs("button",{onClick:Nn,className:"flex items-center gap-2 px-3 py-2 text-xs font-medium text-slate-600 dark:text-slate-400 bg-white dark:bg-slate-700 hover:bg-slate-50 dark:hover:bg-slate-600 rounded-lg border border-slate-200 dark:border-slate-600 transition-colors duration-200",title:"Expand all categories",children:[i.jsx("span",{children:""}),"Expand All"]}),i.jsxs("button",{onClick:la,className:"flex items-center gap-2 px-3 py-2 text-xs font-medium text-slate-600 dark:text-slate-400 bg-white dark:bg-slate-700 hover:bg-slate-50 dark:hover:bg-slate-600 rounded-lg border border-slate-200 dark:border-slate-600 transition-colors duration-200",title:"Collapse all categories",children:[i.jsx("span",{children:""}),"Collapse All"]})]})]}),i.jsx(ma,{title:"Add Parent Category",icon:"",color:"primary",children:i.jsxs("div",{className:"p-6 bg-gradient-to-r from-blue-50 to-purple-50 dark:from-blue-900/20 dark:to-purple-900/20 rounded-3xl border border-blue-200 dark:border-blue-800",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-blue-500 to-purple-600 rounded-lg flex items-center justify-center",children:i.jsx("span",{className:"text-white text-sm",children:""})}),i.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-slate-100",children:"Create New Parent Category"})]}),i.jsxs("form",{onSubmit:Ka,className:"space-y-4",children:[i.jsxs("div",{className:"space-y-3",children:[i.jsx(de,{value:y,onChange:_=>w(_.target.value),placeholder:"Enter parent category name",required:!0}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:" Category Slogan (Optional)"}),i.jsx("textarea",{value:k,onChange:_=>N(_.target.value),placeholder:"Browse our stunning range of lighting here at Electro-Store. We have everything you need, from statement pieces with the wow factor, to functional items helping to light the way in your home or garden...",className:"w-full px-4 py-3 text-sm border border-slate-200 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-800 dark:text-slate-200 placeholder-slate-500 dark:placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 resize-none",rows:4})]})]}),i.jsx("div",{className:"flex justify-end",children:i.jsx(_e,{type:"submit",disabled:Gt||!y.trim(),loading:Gt,variant:"primary",icon:"",className:"whitespace-nowrap min-w-fit flex-shrink-0",children:"Add Parent"})}),y.trim()&&i.jsx("div",{className:"text-xs text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-900/20 px-3 py-2 rounded-lg border border-blue-200 dark:border-blue-800",children:" This will create a top-level category that can have child and grandchild categories"})]})]})}),i.jsx(ma,{title:"Add Subcategory",icon:"",color:"success",children:i.jsxs("div",{className:"p-6 bg-gradient-to-r from-emerald-50 to-teal-50 dark:from-emerald-900/20 dark:to-teal-900/20 rounded-3xl border border-emerald-200 dark:border-emerald-800",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-emerald-500 to-teal-600 rounded-lg flex items-center justify-center",children:i.jsx("span",{className:"text-white text-sm",children:""})}),i.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-slate-100",children:"Create New Subcategory"})]}),i.jsxs("form",{onSubmit:Ha,className:"space-y-4",children:[i.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[i.jsx(cs,{value:S,onChange:_=>j(_.target.value),placeholder:"Select Parent Category",options:$s.map(_=>({value:_.id,label:`${"  ".repeat(_.level)}${_.name} (${_.level_name})`})),required:!0}),i.jsx(de,{value:P,onChange:_=>D(_.target.value),placeholder:"Enter subcategory name",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:" Category Slogan (Optional)"}),i.jsx("textarea",{value:O,onChange:_=>$(_.target.value),placeholder:"Browse our stunning range of lighting here at Electro-Store. We have everything you need, from statement pieces with the wow factor, to functional items helping to light the way in your home or garden...",className:"w-full px-4 py-3 text-sm border border-slate-200 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-800 dark:text-slate-200 placeholder-slate-500 dark:placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-transparent transition-all duration-200 resize-none",rows:4})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:[" Category Image                     ",(()=>{const _=(Array.isArray(e)?e:[]).find(z=>z.id===Yt(S));return _&&_.level===1?"(Required for grandchild categories)":"(Optional - typically for grandchild categories)"})()]}),i.jsx("input",{type:"file",accept:"image/*",onChange:_=>G(_.target.files[0]||null),className:`block w-full text-sm text-slate-500 dark:text-slate-400
                      file:mr-4 file:py-2 file:px-4
                      file:rounded-lg file:border-0
                      file:text-sm file:font-semibold
                      file:bg-emerald-50 file:text-emerald-700
                      hover:file:bg-emerald-100
                      dark:file:bg-emerald-900/20 dark:file:text-emerald-300
                      dark:hover:file:bg-emerald-900/30`}),I&&i.jsxs("div",{className:"mt-2 text-xs text-emerald-600 dark:text-emerald-400 bg-emerald-50 dark:bg-emerald-900/20 px-3 py-2 rounded-lg border border-emerald-200 dark:border-emerald-800",children:["Selected: ",I.name]})]}),i.jsx("div",{className:"flex justify-end",children:i.jsx(_e,{type:"submit",disabled:Gt||!S||!P.trim()||(()=>{const _=(Array.isArray(e)?e:[]).find(z=>z.id===Yt(S));return _&&_.level===1&&!I})(),loading:Gt,variant:"success",icon:"",className:"whitespace-nowrap min-w-fit flex-shrink-0",children:"Add Subcategory"})}),S&&P.trim()&&i.jsx("div",{className:"text-xs text-emerald-600 dark:text-emerald-400 bg-emerald-50 dark:bg-emerald-900/20 px-3 py-2 rounded-lg border border-emerald-200 dark:border-emerald-800",children:" This will create a subcategory under the selected parent"})]})]})}),i.jsx(ma,{title:"Add Brand",icon:"",color:"warning",children:i.jsxs("div",{className:"p-6 bg-gradient-to-r from-orange-50 to-yellow-50 dark:from-orange-900/20 dark:to-yellow-900/20 rounded-3xl border border-orange-200 dark:border-orange-800",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-orange-500 to-yellow-600 rounded-lg flex items-center justify-center",children:i.jsx("span",{className:"text-white text-sm",children:""})}),i.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-slate-100",children:"Create New Brand"})]}),i.jsxs("form",{onSubmit:Va,className:"space-y-4",children:[i.jsxs("div",{className:"flex gap-3",children:[i.jsx(de,{value:B,onChange:_=>U(_.target.value),placeholder:"Enter brand name",className:"flex-1"}),i.jsx(_e,{type:"submit",disabled:Gt,loading:Gt,variant:"warning",icon:"",className:"whitespace-nowrap min-w-fit flex-shrink-0",children:"Add Brand"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:" Brand Logo/Image (Optional)"}),i.jsx("input",{type:"file",accept:"image/*",onChange:_=>K(_.target.files[0]||null),className:`block w-full text-sm text-slate-500 dark:text-slate-400
                      file:mr-4 file:py-2 file:px-4
                      file:rounded-lg file:border-0
                      file:text-sm file:font-semibold
                      file:bg-orange-50 file:text-orange-700
                      hover:file:bg-orange-100
                      dark:file:bg-orange-900/20 dark:file:text-orange-300
                      dark:hover:file:bg-orange-900/30`}),T&&i.jsxs("div",{className:"mt-2 text-xs text-orange-600 dark:text-orange-400",children:["Selected: ",T.name]})]})]}),i.jsx("div",{className:"mt-4 p-3 bg-orange-50 dark:bg-orange-900/20 border border-orange-200 dark:border-orange-800 rounded-2xl",children:i.jsx("div",{className:"text-orange-700 dark:text-orange-300 text-sm font-medium",children:" Brands help customers identify and trust your products"})})]})}),i.jsx(ma,{title:"Edit or Delete",icon:"",color:"edit",children:i.jsxs("div",{className:"p-6 bg-gradient-to-r from-amber-50 to-orange-50 dark:from-amber-900/20 dark:to-orange-900/20 rounded-3xl border border-amber-200 dark:border-amber-800",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[i.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-amber-500 to-orange-600 rounded-lg flex items-center justify-center",children:i.jsx("span",{className:"text-white text-sm",children:""})}),i.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-slate-100",children:"Edit or Delete Items"})]}),i.jsxs("div",{className:"mb-6",children:[i.jsx("div",{className:"text-sm font-semibold text-slate-700 dark:text-slate-300 mb-3",children:"Select Item Type:"}),i.jsxs("div",{className:"flex flex-wrap gap-3",children:[i.jsx(Ru,{selected:M==="category",onClick:()=>{W("category"),V(""),he(""),ve(null)},children:"Parent Category"}),i.jsx(Ru,{selected:M==="subcategory",onClick:()=>{W("subcategory"),V(""),he(""),ve(null)},children:"Child Category"}),i.jsx(Ru,{selected:M==="grandchild",onClick:()=>{W("grandchild"),V(""),he(""),ve(null)},children:"Grandchild Category"}),i.jsx(Ru,{selected:M==="brand",onClick:()=>{W("brand"),V(""),he(""),ve(null)},children:"Brand"})]})]}),M==="category"&&i.jsxs("div",{ref:kn,className:"space-y-4",children:[i.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[i.jsx(cs,{value:J,onChange:_=>{const X=_.target.value;Q(X);const z=(Array.isArray(e)?e:[]).find(be=>String(be.id)===String(X));V((z==null?void 0:z.name)||""),he((z==null?void 0:z.slogan)||"")},placeholder:"Select Parent Category",options:Wa.map(_=>({value:_.id,label:_.name}))}),i.jsx(de,{value:Me,onChange:_=>V(_.target.value),placeholder:"New name"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:" Category Slogan"}),i.jsx("textarea",{value:ee,onChange:_=>he(_.target.value),placeholder:"Browse our stunning range of lighting here at Electro-Store. We have everything you need, from statement pieces with the wow factor, to functional items helping to light the way in your home or garden...",className:"w-full px-4 py-3 text-sm border border-slate-200 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-800 dark:text-slate-200 placeholder-slate-500 dark:placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-amber-500 focus:border-transparent transition-all duration-200 resize-none",rows:4})]})]}),(M==="subcategory"||M==="grandchild")&&i.jsxs("div",{ref:M==="subcategory"?Ua:aa,className:"space-y-4",children:[i.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[i.jsx(cs,{value:L,onChange:_=>{const X=_.target.value;ae(X);const z=(Array.isArray(e)?e:[]).find(be=>String(be.id)===String(X));V((z==null?void 0:z.name)||""),he((z==null?void 0:z.slogan)||""),oe((z==null?void 0:z.image)||null),ge(null)},placeholder:`Select ${M==="subcategory"?"Child":"Grandchild"} Category`,options:(Array.isArray(e)?e:[]).filter(_=>_.level===(M==="subcategory"?1:2)).map(_=>({value:_.id,label:`${_.name} (${_.full_path})`}))}),i.jsx(de,{value:Me,onChange:_=>V(_.target.value),placeholder:"New name"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:" Category Slogan"}),i.jsx("textarea",{value:ee,onChange:_=>he(_.target.value),placeholder:"Browse our stunning range of lighting here at Electro-Store. We have everything you need, from statement pieces with the wow factor, to functional items helping to light the way in your home or garden...",className:"w-full px-4 py-3 text-sm border border-slate-200 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-800 dark:text-slate-200 placeholder-slate-500 dark:placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-amber-500 focus:border-transparent transition-all duration-200 resize-none",rows:4})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:[" Category Image ",M==="grandchild"&&"(Required for grandchild categories)"]}),A&&i.jsxs("div",{className:"mb-2",children:[i.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400 mb-1",children:"Current image:"}),i.jsx("div",{className:"w-16 h-16 rounded-lg border border-slate-200 dark:border-slate-600 overflow-hidden",children:i.jsx("img",{src:A.startsWith("http")?A:`http://127.0.0.1:8001${A}`,alt:"Current category image",className:"w-full h-full object-cover"})})]}),i.jsx("input",{type:"file",accept:"image/*",onChange:_=>ge(_.target.files[0]||null),className:`block w-full text-sm text-slate-500 dark:text-slate-400
                        file:mr-4 file:py-2 file:px-4
                        file:rounded-lg file:border-0
                        file:text-sm file:font-semibold
                        file:bg-amber-50 file:text-amber-700
                        hover:file:bg-amber-100
                        dark:file:bg-amber-900/20 dark:file:text-amber-300
                        dark:hover:file:bg-amber-900/30`}),Z&&i.jsxs("div",{className:"mt-2 text-xs text-amber-600 dark:text-amber-400",children:["New image selected: ",Z.name]})]})]}),M==="brand"&&i.jsxs("div",{ref:sa,className:"space-y-4",children:[i.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[i.jsx(cs,{value:Ne,onChange:_=>{const X=_.target.value;We(X);const z=(Array.isArray(u)?u:[]).find(be=>String(be.id)===String(X));V((z==null?void 0:z.name)||""),oe((z==null?void 0:z.image)||null),Re(null)},placeholder:"Select Brand",options:(Array.isArray(u)?u:[]).map(_=>({value:_.id,label:_.name}))}),i.jsx(de,{value:Me,onChange:_=>V(_.target.value),placeholder:"New name"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:" Brand Logo/Image"}),A&&i.jsxs("div",{className:"mb-2",children:[i.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400 mb-1",children:"Current image:"}),i.jsx("div",{className:"w-16 h-16 rounded-lg border border-slate-200 dark:border-slate-600 overflow-hidden",children:i.jsx("img",{src:A.startsWith("http")?A:`http://127.0.0.1:8001${A}`,alt:"Current brand image",className:"w-full h-full object-cover"})})]}),i.jsx("input",{type:"file",accept:"image/*",onChange:_=>Re(_.target.files[0]||null),className:`block w-full text-sm text-slate-500 dark:text-slate-400
                        file:mr-4 file:py-2 file:px-4
                        file:rounded-lg file:border-0
                        file:text-sm file:font-semibold
                        file:bg-amber-50 file:text-amber-700
                        hover:file:bg-amber-100
                        dark:file:bg-amber-900/20 dark:file:text-amber-300
                        dark:hover:file:bg-amber-900/30`}),xe&&i.jsxs("div",{className:"mt-2 text-xs text-amber-600 dark:text-amber-400",children:["New image selected: ",xe.name]})]})]}),i.jsxs("div",{className:"mt-6 flex gap-3 justify-end",children:[i.jsx(_e,{type:"button",onClick:oa,disabled:Gt||M==="grandchild"&&!Z&&!A,loading:Gt,variant:"success",icon:"",className:"whitespace-nowrap min-w-fit flex-shrink-0",children:"Save Changes"}),i.jsx(_e,{type:"button",onClick:tn,disabled:Gt,loading:Gt,variant:"danger",icon:"",className:"whitespace-nowrap min-w-fit flex-shrink-0",children:"Delete"})]}),i.jsx("div",{className:"mt-4 p-3 bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 rounded-2xl",children:i.jsx("div",{className:"text-amber-700 dark:text-amber-300 text-sm font-medium",children:" Deleting a category will also delete all its subcategories and associated products"})})]})})]})]})})}function Ru({selected:e,onClick:t,children:r}){const n=()=>r.includes("Parent")?"":r.includes("Child")?"":r.includes("Grandchild")?"":r.includes("Brand")?"":"";return i.jsxs("button",{type:"button",onClick:t,className:`group relative rounded-2xl border-2 px-6 py-3 text-sm font-semibold transition-all duration-300 hover:scale-105 hover:shadow-lg active:scale-95 ${e?"border-amber-500 bg-gradient-to-r from-amber-50 to-orange-50 dark:from-amber-900/30 dark:to-orange-900/30 text-amber-700 dark:text-amber-300 shadow-lg":"border-slate-200 dark:border-slate-600 hover:border-amber-300 dark:hover:border-amber-600 hover:bg-gradient-to-r hover:from-amber-50 hover:to-orange-50 dark:hover:from-amber-900/10 dark:hover:to-orange-900/10 text-slate-700 dark:text-slate-300 hover:shadow-md"}`,children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:`text-lg transition-transform duration-200 ${e?"animate-pulse":"group-hover:scale-110"}`,children:n()}),i.jsx("span",{className:"whitespace-nowrap",children:r})]}),e&&i.jsx("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-amber-500 rounded-full animate-pulse"})]})}const $q=()=>{const{logout:e}=Ht(),[t,r]=h.useState(!1),[n,a]=h.useState(null);return{makeRequest:h.useCallback(async(l,...o)=>{if(!eA()){const c=new Error("Authentication required");throw a(c),c}r(!0),a(null);try{return await l(...o)}catch(c){throw console.error("[useAuthenticatedAPI] Request failed:",c),c.message.includes("Network error")||c.message.includes("fetch")?a(new Error("Network connection failed. Please check your internet connection.")):c.message.includes("Authentication")||c.message.includes("401")?(console.warn("[useAuthenticatedAPI] Authentication error, logging out"),e(),a(new Error("Session expired. Please login again."))):c.message.includes("404")||c.message.includes("No ServiceCategory matches the given query")?a(new Error("Resource not found. It may have been deleted already.")):c.message.includes("500")?a(new Error("Server error. Please try again later.")):a(c),c}finally{r(!1)}},[e]),loading:t,error:n,clearError:()=>a(null)}},UA=({category:e,onEdit:t,onDelete:r,services:n,level:a=0})=>{const s=a>0?{marginLeft:`${a*1.5}rem`}:{},l=a===0?"bg-slate-50 dark:bg-slate-700":a===1?"bg-slate-100 dark:bg-slate-600":"bg-slate-200 dark:bg-slate-500";return i.jsx("div",{style:s,className:`${l} rounded-2xl border border-slate-200 dark:border-slate-600 hover:shadow-md transition-all duration-300`,children:i.jsxs("div",{className:"p-4",children:[i.jsxs("div",{className:"flex items-start justify-between mb-2",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[a>0&&i.jsx("span",{className:"text-slate-400 text-lg",children:""}),i.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-slate-200",children:e.name}),e.depth>0&&i.jsxs("span",{className:"text-xs bg-blue-100 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300 px-2 py-1 rounded-full",children:["Level ",e.depth]})]}),i.jsxs("div",{className:"flex gap-1",children:[i.jsx(_e,{onClick:()=>t(e),variant:"warning",icon:"",className:"min-w-fit flex-shrink-0 text-xs px-2",title:"Edit Category"}),i.jsx(_e,{onClick:()=>r(e.id),variant:"danger",icon:"",className:"min-w-fit flex-shrink-0 text-xs px-2",title:"Delete Category"})]})]}),e.description&&i.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-2",children:e.description}),e.image&&i.jsx("div",{className:"mb-3",children:i.jsx("img",{src:e.image,alt:`${e.name} category`,className:"w-20 h-20 object-cover rounded-lg border border-slate-200 dark:border-slate-600"})}),i.jsxs("div",{className:"flex items-center gap-4 text-xs text-slate-500 dark:text-slate-400 mb-2",children:[i.jsxs("span",{children:["Services: ",Array.isArray(n)?n.filter(o=>o&&o.category&&o.category.id===e.id).length:0]}),e.parent_name&&i.jsxs("span",{children:["Parent: ",e.parent_name]})]}),e.children&&Array.isArray(e.children)&&e.children.length>0&&i.jsx("div",{className:"mt-4 space-y-3",children:e.children.map(o=>i.jsx(UA,{category:o,onEdit:t,onDelete:r,services:n,level:a+1},o.id))})]})})};function Rq(){const{formatAmount:e}=Ol();Ht();const{makeRequest:t,loading:r,error:n}=$q(),a=async()=>{try{return await rA()}catch(C){console.warn("[ServicesPage] Tree endpoint failed, falling back to list:",C);try{return await tA()}catch(H){throw console.error("[ServicesPage] Both tree and list endpoints failed:",H),H}}},{data:s,loading:l,error:o,refresh:c,addItem:u,updateItem:d,removeItem:f}=ui("services",()=>iA(),[]),{data:m,loading:p,error:x,refresh:g,addItem:v,updateItem:b,removeItem:y}=ui("service_categories",a,[]),[w,k]=h.useState(null),[N,S]=h.useState(null),[j,P]=h.useState(!1),[D,O]=h.useState(null),[$,B]=h.useState(!1),[U,T]=h.useState({}),K=h.useRef(null),I=h.useRef(null),G=h.useRef(null),M=h.useRef(null),W=async()=>{console.log("[ServicesPage] Refreshing data...");try{const C=await Promise.allSettled([c(),g()]);console.log("[ServicesPage] Refresh results:",{services:C[0].status,categories:C[1].status}),C[0].status==="rejected"&&console.error("[ServicesPage] Services refresh failed:",C[0].reason),C[1].status==="rejected"&&console.error("[ServicesPage] Categories refresh failed:",C[1].reason)}catch(C){console.error("[ServicesPage] Failed to refresh data:",C),O({kind:"error",text:"Failed to refresh data. Please try again."})}},J=C=>{setTimeout(()=>{let H=null;switch(C){case"create-service":H=K.current;break;case"edit-service":H=I.current;break;case"create-category":H=G.current;break;case"edit-category":H=M.current;break;default:return}H&&H.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"})},100)},[Q,q]=h.useState(""),[Pe,L]=h.useState(""),[ae,Ne]=h.useState("0"),[We,Me]=h.useState(""),[V,ee]=h.useState(null),[he,A]=h.useState(!0),[oe,Z]=h.useState(""),[ge,xe]=h.useState(""),[Re,qt]=h.useState("0"),[ve,Gt]=h.useState(""),[gt,yn]=h.useState(null),[zn,na]=h.useState(!0),[$t,pe]=h.useState(""),[hr,pr]=h.useState(""),[bn,Xr]=h.useState(""),[wn,Qr]=h.useState(null),[gr,kn]=h.useState(""),[Ua,aa]=h.useState(""),[sa,Zr]=h.useState("0.0"),[ia,_t]=h.useState("0"),[jn,xt]=h.useState(""),[Wa,$s]=h.useState(""),[Or,Un]=h.useState(""),[Nn,la]=h.useState(""),[Rs,en]=h.useState(""),[Sn,Yt]=h.useState(""),[Ka,Ha]=h.useState(""),[Va,oa]=h.useState(""),[ca,tn]=h.useState(""),[_,X]=h.useState(""),[z,be]=h.useState(null),[Rt,Pn]=h.useState([]),[Jt,xr]=h.useState(""),[ot,Ke]=h.useState(""),[Ls,Ul]=h.useState("0.0"),[Wl,Kl]=h.useState("0"),[Hl,Vl]=h.useState(""),[Jc,ql]=h.useState(""),[Xc,Gl]=h.useState(""),[Qc,Yl]=h.useState(""),[Ei,Jl]=h.useState(""),[Xl,Ql]=h.useState(""),[Zc,_i]=h.useState("");h.useEffect(()=>{console.log("[ServicesPage] Data state update:",{categories:{data:m,loading:p,error:x,count:Array.isArray(m)?m.length:"not array"},services:{data:s,loading:l,error:o,count:Array.isArray(s)?s.length:"not array"}})},[m,p,x,s,l,o]),h.useEffect(()=>{(async()=>{console.log("[ServicesPage] Initializing data..."),await W()})()},[]),h.useEffect(()=>{o&&(console.error("[ServicesPage] Services error:",o),O({kind:"error",text:`Failed to load services: ${o.message||"Unknown error"}`}))},[o]),h.useEffect(()=>{x&&(console.error("[ServicesPage] Categories error:",x),O({kind:"error",text:`Failed to load categories: ${x.message||"Unknown error"}`}))},[x]);const Zl=(C,H=0)=>{if(!Array.isArray(C))return[];let ie=[];return C.forEach(ue=>{ie.push({...ue,displayName:"  ".repeat(H)+ue.name,level:H}),ue.children&&Array.isArray(ue.children)&&ue.children.length>0&&(ie=ie.concat(Zl(ue.children,H+1)))}),ie},eo=()=>Array.isArray(m)?Zl(m):[],qa=()=>Array.isArray(m)?m.filter(C=>C&&C.id&&C.name&&typeof C.id<"u"&&C.id!==null):[],Fs=C=>{if(!C)return[];if(!Array.isArray(m))return[];const H=(ue,Ee)=>{for(const Le of ue){if(Le&&Le.id&&Le.id===parseInt(Ee))return Le;if(Le&&Le.children&&Array.isArray(Le.children)&&Le.children.length>0){const Ir=H(Le.children,Ee);if(Ir)return Ir}}return null},ie=H(m,C);return ie&&ie.children&&Array.isArray(ie.children)?ie.children.filter(ue=>ue&&ue.id&&ue.name&&typeof ue.id<"u"&&ue.id!==null):[]},E=C=>C.trim()?C.split(`
`).map(H=>H.trim()).filter(H=>H):[],te=(C,H=!1)=>{var ue,Ee;const ie={};return(ue=C.name)!=null&&ue.trim()||(ie.name="Service name is required"),(Ee=C.description)!=null&&Ee.trim()||(ie.description="Service description is required"),(!C.price||C.price<=0)&&(ie.price="Valid price is required (must be greater than 0)"),C.contactEmail&&C.contactEmail.trim()&&(/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(C.contactEmail.trim())||(ie.contactEmail="Please enter a valid email address")),C.contactPhone&&C.contactPhone.trim()&&(/^[\+]?[1-9][\d]{0,15}$/.test(C.contactPhone.replace(/[\s\-\(\)]/g,""))||(ie.contactPhone="Please enter a valid phone number")),C.rating&&(C.rating<0||C.rating>5)&&(ie.rating="Rating must be between 0.0 and 5.0"),C.reviewCount&&C.reviewCount<0&&(ie.reviewCount="Review count cannot be negative"),ie},fe=C=>{var ie;const H={};return(ie=C.name)!=null&&ie.trim()?C.name.trim().length<2&&(H.name="Category name must be at least 2 characters long"):H.name="Category name is required",H},je=()=>{T({})},we=(C,H="")=>U[C]?`${H} border-red-500 focus:border-red-500 focus:ring-red-500 bg-red-50 dark:bg-red-900/20`:H,ye=C=>{const H=U[C];return H?i.jsxs("div",{className:"mt-1 text-sm text-red-600 dark:text-red-400 flex items-center gap-1",children:[i.jsx("span",{className:"text-red-500",children:""}),H]}):null},vr=C=>C.trim()?C.split(`
`).map(H=>{const ie=H.split("|");return ie.length>=2?{title:ie[0].trim(),description:ie[1].trim(),duration:ie[2]?ie[2].trim():""}:{title:H.trim(),description:"",duration:""}}).filter(H=>H.title):[],sr=()=>{pe(""),pr(""),Xr(""),Qr(null),kn(""),aa(""),Zr("0.0"),_t("0"),xt(""),$s(""),Un(""),la(""),en(""),Yt(""),Ha("")},yr=()=>{oa(""),tn(""),X(""),be(null),Pn([]),xr(""),Ke(""),Ul("0.0"),Kl("0"),Vl(""),ql(""),Gl(""),Yl(""),Jl(""),Ql(""),_i("")},Tr=()=>{q(""),L(""),Ne("0"),Me(""),ee(null)},Wn=async C=>{var ue,Ee;C.preventDefault(),je();const H=new FormData;H.append("name",Q),H.append("description",Pe),H.append("ordering",ae),H.append("is_active",he),We&&H.append("parent",We),V&&H.append("image",V);const ie=fe({name:Q,description:Pe,ordering:ae,parent:We||null});if(Object.keys(ie).length>0){T(ie),O({kind:"error",text:"Please fix the following errors: "+Object.values(ie).join(", ")});return}P(!0),O(null);try{console.log("[ServicesPage] Creating category:",Q.trim());const Le=await nA(H);console.log("[ServicesPage] Category created response:",Le);const Ir=Le.data;await W(),Tr(),B(!1),je(),O({kind:"success",text:"Category created successfully!"})}catch(Le){console.error("[ServicesPage] Failed to create category:",Le);const Ir=((Ee=(ue=Le.response)==null?void 0:ue.data)==null?void 0:Ee.detail)||Le.message||"Failed to create category";O({kind:"error",text:Ir})}finally{P(!1)}},Bs=C=>{if(!Array.isArray(m))return!1;const H=(ie,ue)=>{for(const Ee of ie)if(Ee&&Ee.id&&Ee.id===parseInt(ue)||Ee&&Ee.children&&Array.isArray(Ee.children)&&Ee.children.length>0&&H(Ee.children,ue))return!0;return!1};return H(m,C)},Ga=async C=>{var H,ie;if(confirm("Are you sure you want to delete this category?")){if(console.log("[ServicesPage] Attempting to delete category ID:",C),console.log("[ServicesPage] Current categories:",m),!Bs(C)){console.warn("[ServicesPage] Category ID",C,"not found in current data - forcing refresh"),O({kind:"warning",text:`Category ID ${C} not found in current data. Refreshing to sync with server...`}),await W();return}P(!0),O(null);try{console.log("[ServicesPage] Deleting category:",C),await t(sA,C),await W(),O({kind:"success",text:"Category deleted successfully!"})}catch(ue){if(console.error("[ServicesPage] Failed to delete category:",ue),ue.message&&ue.message.includes("No ServiceCategory matches the given query"))console.warn("[ServicesPage] Category not found on server - likely stale frontend data"),O({kind:"warning",text:` Category ID ${C} not found on server. It may have been deleted already. Refreshing data to sync with backend...`}),await W(),setTimeout(()=>{O({kind:"success",text:"Data refreshed successfully. The category was already deleted."})},1e3);else if(ue.message&&ue.message.includes("Authentication"))console.warn("[ServicesPage] Authentication error during delete"),O({kind:"error",text:"Authentication expired. Please login again."});else if(ue.message&&ue.message.includes("product(s) are using this category"))O({kind:"error",text:` Cannot delete category: ${ue.message}

To delete this category:
1. Go to Services page
2. Find services using this category
3. Either delete those services or reassign them to another category
4. Then try deleting the category again`});else{const Ee=((ie=(H=ue.response)==null?void 0:H.data)==null?void 0:ie.detail)||ue.message||"Failed to delete category";O({kind:"error",text:Ee})}}finally{P(!1)}}},Ai=C=>{S(C),Z(C.name||""),xe(C.description||""),qt(C.ordering?C.ordering.toString():"0"),Gt(C.parent?C.parent.toString():""),yn(null),na(C.is_active!==!1),B(!1),J("edit-category")},Oi=async C=>{var ue,Ee;if(C.preventDefault(),je(),!N){O({kind:"error",text:"No category selected for editing."});return}const H=new FormData;H.append("name",oe),H.append("description",ge),H.append("ordering",Re),H.append("is_active",zn),ve&&H.append("parent",ve),gt&&H.append("image",gt);const ie=fe({name:oe,description:ge,ordering:Re,parent:ve||null});if(Object.keys(ie).length>0){T(ie),O({kind:"error",text:"Please fix the following errors: "+Object.values(ie).join(", ")});return}P(!0),O(null);try{console.log("[ServicesPage] Updating category:",N.id,"to:",oe.trim());const Le=await aA(N.id,H);await W(),S(null),Dr(),je(),O({kind:"success",text:"Category updated successfully!"})}catch(Le){console.error("[ServicesPage] Failed to update category:",Le);const Ir=((Ee=(ue=Le.response)==null?void 0:ue.data)==null?void 0:Ee.detail)||Le.message||"Failed to update category";O({kind:"error",text:Ir})}finally{P(!1)}},Oe=()=>{S(null),Dr(),je()},Dr=()=>{Z(""),xe(""),qt("0"),Gt(""),yn(null)},eu=async C=>{var ue,Ee,Le,Ir;C.preventDefault(),je();const H={name:$t,description:hr,price:parseFloat(bn),contactEmail:Sn,contactPhone:Rs,rating:parseFloat(sa),reviewCount:parseInt(ia)},ie=te(H);if(Object.keys(ie).length>0){T(ie),O({kind:"error",text:"Please fix the following errors: "+Object.values(ie).join(", ")});return}P(!0),O(null);try{console.log("[ServicesPage] Creating service with API...");const De=new FormData;De.append("name",$t.trim()),De.append("description",hr.trim()),De.append("price",parseFloat(bn));const to=Ua||gr;to&&De.append("category_id",parseInt(to)),De.append("rating",parseFloat(sa)),De.append("review_count",parseInt(ia)),De.append("overview",jn.trim()),De.append("included_features",JSON.stringify(E(Wa))),De.append("process_steps",JSON.stringify(vr(Or))),De.append("key_features",JSON.stringify(E(Nn))),De.append("contact_info",JSON.stringify({phone:Rs.trim(),email:Sn.trim()})),De.append("availability",Ka.trim());const ro=await lA(De);console.log("[ServicesPage] Service created response:",ro);let ua=ro.data;if(wn&&ua.id)try{const ir=new FormData;ir.append("image",wn);const no=await jf.post(`/admin/services/${ua.id}/images/`,ir);console.log("[ServicesPage] Image uploaded:",no.data),ua.images=[no.data]}catch(ir){console.error("[ServicesPage] Failed to upload image:",ir),((Ee=(ue=ir.response)==null?void 0:ue.data)==null?void 0:Ee.error_type)==="duplicate_image"?O({kind:"error",text:"Duplicate Image: This image already exists for this service. Please upload a different image."}):O({kind:"error",text:`Failed to upload image: ${((Ir=(Le=ir.response)==null?void 0:Le.data)==null?void 0:Ir.detail)||ir.message}`})}await W(),sr(),je(),O({kind:"success",text:"Service created successfully!"})}catch(De){console.error("[ServicesPage] Failed to create service:",De),O({kind:"error",text:`Failed to create service: ${De.message||"Unknown error"}`})}finally{P(!1)}},br=async C=>{var ue,Ee,Le,Ir;if(C.preventDefault(),je(),!w){O({kind:"error",text:"No service selected for editing."});return}const H={name:Va,description:ca,price:parseFloat(_),contactEmail:Xl,contactPhone:Ei,rating:parseFloat(Ls),reviewCount:parseInt(Wl)},ie=te(H,!0);if(Object.keys(ie).length>0){T(ie),O({kind:"error",text:"Please fix the following errors: "+Object.values(ie).join(", ")});return}P(!0),O(null);try{console.log("[ServicesPage] Updating service with API...");const De=new FormData;De.append("name",Va.trim()),De.append("description",ca.trim()),De.append("price",parseFloat(_));const to=ot||Jt;to&&De.append("category_id",parseInt(to)),De.append("rating",parseFloat(Ls)),De.append("review_count",parseInt(Wl)),De.append("overview",Hl.trim()),De.append("included_features",JSON.stringify(E(Jc))),De.append("process_steps",JSON.stringify(vr(Xc))),De.append("key_features",JSON.stringify(E(Qc))),De.append("contact_info",JSON.stringify({phone:Ei.trim(),email:Xl.trim()})),De.append("availability",Zc.trim());const ro=await oA(w.id,De);console.log("[ServicesPage] Service updated response:",ro);let ua=ro.data;if(z&&ua.id)try{const ir=new FormData;ir.append("image",z);const no=await jf.post(`/admin/services/${ua.id}/images/`,ir);console.log("[ServicesPage] Image uploaded:",no.data),ua.images=[...ua.images||[],no.data]}catch(ir){console.error("[ServicesPage] Failed to upload image:",ir),((Ee=(ue=ir.response)==null?void 0:ue.data)==null?void 0:Ee.error_type)==="duplicate_image"?O({kind:"error",text:"Duplicate Image: This image already exists for this service. Please upload a different image."}):O({kind:"error",text:`Failed to upload image: ${((Ir=(Le=ir.response)==null?void 0:Le.data)==null?void 0:Ir.detail)||ir.message}`})}await W(),k(ua),je(),O({kind:"success",text:"Service updated successfully!"})}catch(De){console.error("[ServicesPage] Failed to update service:",De),O({kind:"error",text:`Failed to update service: ${De.message||"Unknown error"}`})}finally{P(!1)}},Cn=async C=>{var H,ie;if(confirm("Are you sure you want to delete this service?")){P(!0),O(null);try{console.log("[ServicesPage] Deleting service with API..."),await cA(C),await W(),w&&w.id===C&&k(null),O({kind:"success",text:"Service deleted successfully!"})}catch(ue){console.error("[ServicesPage] Failed to delete service:",ue);const Ee=((ie=(H=ue.response)==null?void 0:H.data)==null?void 0:ie.detail)||ue.message||"Failed to delete service";O({kind:"error",text:Ee})}finally{P(!1)}}},vt=async(C,H)=>{var ie,ue;try{await uA(C,H),await W(),O({kind:"success",text:"Main image updated successfully!"})}catch(Ee){console.error("Failed to set main image:",Ee);const Le=((ue=(ie=Ee.response)==null?void 0:ie.data)==null?void 0:ue.detail)||Ee.message||"Failed to set main image";O({kind:"error",text:Le})}},Kn=C=>{var H,ie;k(C),oa(C.name||""),tn(C.description||""),X(C.price?C.price.toString():""),be(null),Pn([]),C.category?(xr(C.category.id.toString()),C.category.parent?(Ke(C.category.id.toString()),xr(C.category.parent.toString())):Ke("")):(xr(""),Ke("")),Ul(C.rating?C.rating.toString():"0.0"),Kl(C.review_count?C.review_count.toString():"0"),Vl(C.overview||""),ql(C.included_features?C.included_features.join(`
`):""),Gl(C.process_steps?C.process_steps.map(ue=>`${ue.title}|${ue.description}|${ue.duration||""}`).join(`
`):""),Yl(C.key_features?C.key_features.join(`
`):""),Jl(((H=C.contact_info)==null?void 0:H.phone)||""),Ql(((ie=C.contact_info)==null?void 0:ie.email)||""),_i(C.availability||""),J("edit-service")},U0=()=>{k(null),yr(),je()};return i.jsx(Rn,{children:l||p?i.jsx("div",{className:"flex items-center justify-center min-h-screen",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-emerald-500 to-teal-600 rounded-3xl flex items-center justify-center mx-auto mb-4 animate-pulse",children:i.jsx("span",{className:"text-white text-2xl",children:""})}),i.jsx("div",{className:"text-slate-600 dark:text-slate-400 font-medium",children:"Loading services..."}),i.jsx("div",{className:"text-sm text-slate-500 dark:text-slate-500 mt-1",children:"Please wait while we load your data"})]})}):o||x?i.jsx("div",{className:"flex items-center justify-center min-h-screen",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-red-500 to-red-600 rounded-3xl flex items-center justify-center mx-auto mb-4",children:i.jsx("span",{className:"text-white text-2xl",children:""})}),i.jsx("div",{className:"text-red-600 dark:text-red-400 font-medium",children:"Failed to load data"}),i.jsx("div",{className:"text-sm text-red-500 dark:text-red-500 mt-1",children:(o==null?void 0:o.message)||(x==null?void 0:x.message)||"Unknown error occurred"}),i.jsx("button",{onClick:W,className:"mt-4 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Retry"})]})}):i.jsxs("div",{className:"space-y-8",children:[i.jsx("div",{className:"flex items-center justify-between mb-6",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-emerald-500 to-teal-600 rounded-xl flex items-center justify-center",children:i.jsx("span",{className:"text-white text-lg",children:""})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-100",children:"Service Management"}),i.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[i.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),i.jsx("span",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Real-time updates active"})]})]})]})}),D&&i.jsx(hn,{message:D.text,type:D.kind==="success"?"success":"error",onClose:()=>O(null),autoClose:!0,duration:1e3}),Object.keys(U).length>0&&i.jsx("div",{className:"rounded-2xl border border-red-200 dark:border-red-800 bg-red-50 dark:bg-red-900/20 p-4 mb-6",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:"w-8 h-8 bg-red-500 rounded-lg flex items-center justify-center flex-shrink-0",children:i.jsx("span",{className:"text-white text-sm",children:""})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"text-lg font-semibold text-red-800 dark:text-red-200 mb-2",children:"Please fix the following errors:"}),i.jsx("ul",{className:"space-y-1",children:Object.entries(U).map(([C,H])=>i.jsxs("li",{className:"text-sm text-red-700 dark:text-red-300 flex items-center gap-2",children:[i.jsx("span",{className:"text-red-500",children:""}),i.jsxs("span",{className:"font-medium capitalize",children:[C.replace(/([A-Z])/g," $1").trim(),":"]}),i.jsx("span",{children:H})]},C))})]}),i.jsx("button",{onClick:je,className:"text-red-500 hover:text-red-700 dark:text-red-400 dark:hover:text-red-200 transition-colors",title:"Clear errors",children:""})]})}),i.jsxs("section",{className:"rounded-3xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 shadow-lg hover:shadow-xl transition-all duration-300 p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-purple-500 to-pink-600 rounded-xl flex items-center justify-center",children:i.jsx("span",{className:"text-white text-lg",children:""})}),i.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-100",children:"Service Categories"})]}),i.jsx(_e,{onClick:()=>B(!$),variant:"primary",icon:"",className:"whitespace-nowrap min-w-fit flex-shrink-0",children:$?"Cancel":"Add Category"})]}),$&&i.jsxs("form",{ref:G,onSubmit:Wn,className:"space-y-4 mb-6 p-4 bg-slate-50 dark:bg-slate-700 rounded-2xl",children:[i.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"block text-sm font-semibold text-slate-700 dark:text-slate-300",children:"Category Name *"}),i.jsx(de,{value:Q,onChange:C=>{q(C.target.value),U.name&&T(H=>({...H,name:null}))},placeholder:"Enter category name",required:!0,className:we("name")}),ye("name")]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"block text-sm font-semibold text-slate-700 dark:text-slate-300",children:"Parent Category"}),i.jsxs("select",{value:We,onChange:C=>Me(C.target.value),className:"block w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-xl bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",children:[i.jsx("option",{value:"",children:"No Parent (Root Category)"}),eo().map(C=>i.jsx("option",{value:C.id?C.id.toString():"",children:C.displayName},C.id))]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"block text-sm font-semibold text-slate-700 dark:text-slate-300",children:"Description"}),i.jsx(Bt,{value:Pe,onChange:C=>L(C.target.value),placeholder:"Enter category description...",rows:2})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"block text-sm font-semibold text-slate-700 dark:text-slate-300",children:"Category Image"}),i.jsx("input",{type:"file",accept:"image/*",onChange:C=>ee(C.target.files[0]),className:"block w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-xl bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors"}),V&&i.jsxs("div",{className:"mt-2",children:[i.jsx("img",{src:URL.createObjectURL(V),alt:"Preview",className:"w-24 h-24 object-cover rounded-lg border border-slate-200 dark:border-slate-600"}),i.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:"Preview of selected image"})]}),i.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Upload an image for this category (optional)"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"block text-sm font-semibold text-slate-700 dark:text-slate-300",children:"Status"}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("input",{type:"checkbox",id:"newCategoryIsActive",checked:he,onChange:C=>A(C.target.checked),className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"}),i.jsx("label",{htmlFor:"newCategoryIsActive",className:"text-sm text-slate-700 dark:text-slate-300",children:"Active (visible on frontend)"})]}),i.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Uncheck to hide this category from the frontend"})]}),i.jsx("div",{className:"flex justify-end",children:i.jsx(_e,{type:"submit",disabled:j,loading:j,variant:"success",icon:"",className:"whitespace-nowrap",children:"Create Category"})})]}),N&&i.jsxs("form",{ref:M,onSubmit:Oi,className:"space-y-4 mb-6 p-4 bg-amber-50 dark:bg-amber-900/20 rounded-2xl border border-amber-200 dark:border-amber-700",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-amber-500 to-orange-600 rounded-lg flex items-center justify-center",children:i.jsx("span",{className:"text-white text-sm",children:""})}),i.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-slate-200",children:"Edit Category"})]}),i.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"block text-sm font-semibold text-slate-700 dark:text-slate-300",children:"Category Name *"}),i.jsx(de,{value:oe,onChange:C=>{Z(C.target.value),U.name&&T(H=>({...H,name:null}))},placeholder:"Enter category name",required:!0,className:we("name")}),ye("name")]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"block text-sm font-semibold text-slate-700 dark:text-slate-300",children:"Parent Category"}),i.jsxs("select",{value:ve,onChange:C=>Gt(C.target.value),className:"block w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-xl bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",children:[i.jsx("option",{value:"",children:"No Parent (Root Category)"}),eo().filter(C=>C.id!==N.id).map(C=>i.jsx("option",{value:C.id?C.id.toString():"",children:C.displayName},C.id))]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"block text-sm font-semibold text-slate-700 dark:text-slate-300",children:"Description"}),i.jsx(Bt,{value:ge,onChange:C=>xe(C.target.value),placeholder:"Enter category description...",rows:2})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"block text-sm font-semibold text-slate-700 dark:text-slate-300",children:"Category Image"}),N.image&&!gt&&i.jsxs("div",{className:"mb-2",children:[i.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-1",children:"Current image:"}),i.jsx("img",{src:N.image,alt:"Current category image",className:"w-24 h-24 object-cover rounded-lg border border-slate-200 dark:border-slate-600"})]}),i.jsx("input",{type:"file",accept:"image/*",onChange:C=>yn(C.target.files[0]),className:"block w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-xl bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors"}),gt&&i.jsxs("div",{className:"mt-2",children:[i.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-1",children:"New image preview:"}),i.jsx("img",{src:URL.createObjectURL(gt),alt:"Preview",className:"w-24 h-24 object-cover rounded-lg border border-slate-200 dark:border-slate-600"})]}),i.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Upload a new image for this category (optional)"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"block text-sm font-semibold text-slate-700 dark:text-slate-300",children:"Status"}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("input",{type:"checkbox",id:"eCategoryIsActive",checked:zn,onChange:C=>na(C.target.checked),className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"}),i.jsx("label",{htmlFor:"eCategoryIsActive",className:"text-sm text-slate-700 dark:text-slate-300",children:"Active (visible on frontend)"})]}),i.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Uncheck to hide this category from the frontend"})]}),i.jsxs("div",{className:"flex gap-3 justify-end",children:[i.jsx(_e,{type:"button",onClick:Oe,variant:"warning",icon:"",className:"whitespace-nowrap",children:"Cancel"}),i.jsx(_e,{type:"submit",disabled:j,loading:j,variant:"success",icon:"",className:"whitespace-nowrap",children:"Update"})]})]}),i.jsxs("div",{className:"space-y-4",children:[Array.isArray(m)&&qa().map(C=>i.jsx(UA,{category:C,onEdit:Ai,onDelete:Ga,services:s,level:0},C.id)),(!Array.isArray(m)||m.length===0)&&i.jsxs("div",{className:"text-center py-8",children:[i.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-slate-200 to-slate-300 dark:from-slate-600 dark:to-slate-700 rounded-3xl flex items-center justify-center mx-auto mb-4",children:i.jsx("span",{className:"text-2xl",children:""})}),i.jsx("div",{className:"text-slate-600 dark:text-slate-400 font-medium",children:"No categories found"}),i.jsx("div",{className:"text-sm text-slate-500 dark:text-slate-500 mt-1",children:"Create your first category using the form above"})]})]})]}),i.jsxs("section",{ref:K,className:"rounded-3xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 shadow-lg hover:shadow-xl transition-all duration-300 p-6",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[i.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-500 to-purple-600 rounded-xl flex items-center justify-center",children:i.jsx("span",{className:"text-white text-lg",children:""})}),i.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-100",children:"Add New Service"})]}),i.jsxs("form",{onSubmit:eu,className:"space-y-6",children:[i.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"block text-sm font-semibold text-slate-700 dark:text-slate-300",children:"Service Name *"}),i.jsx(de,{value:$t,onChange:C=>{pe(C.target.value),U.name&&T(H=>({...H,name:null}))},placeholder:"Enter service name",required:!0,className:we("name")}),ye("name")]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"block text-sm font-semibold text-slate-700 dark:text-slate-300",children:"Price *"}),i.jsx(de,{type:"number",step:"0.01",min:"0",value:bn,onChange:C=>{Xr(C.target.value),U.price&&T(H=>({...H,price:null}))},placeholder:"0.00",required:!0,className:we("price")}),ye("price")]})]}),i.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"block text-sm font-semibold text-slate-700 dark:text-slate-300",children:"Service Category"}),i.jsxs("select",{value:gr,onChange:C=>{kn(C.target.value),aa("")},className:"block w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-xl bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",children:[i.jsx("option",{value:"",children:"Select Main Category"}),qa().map(C=>i.jsx("option",{value:C.id?C.id.toString():"",children:C.name},C.id))]}),qa().length===0&&i.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"No main categories available. Create a category first."})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"block text-sm font-semibold text-slate-700 dark:text-slate-300",children:"Service Subcategory"}),i.jsxs("select",{value:Ua,onChange:C=>aa(C.target.value),disabled:!gr,className:`block w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-xl bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors ${gr?"":"opacity-50 cursor-not-allowed"}`,children:[i.jsx("option",{value:"",children:"Select Subcategory (Optional)"}),Fs(gr).map(C=>i.jsx("option",{value:C.id?C.id.toString():"",children:C.name},C.id))]}),!gr&&i.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Select a main category first to choose subcategories"}),gr&&Fs(gr).length===0&&i.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"No subcategories available for this category"})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"block text-sm font-semibold text-slate-700 dark:text-slate-300",children:"Description *"}),i.jsx(Bt,{value:hr,onChange:C=>{pr(C.target.value),U.description&&T(H=>({...H,description:null}))},placeholder:"Describe your service in detail...",rows:4,required:!0,className:we("description")}),ye("description")]}),i.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"block text-sm font-semibold text-slate-700 dark:text-slate-300",children:"Rating (0.0-5.0)"}),i.jsx(de,{type:"number",step:"0.1",min:"0",max:"5",value:sa,onChange:C=>{Zr(C.target.value),U.rating&&T(H=>({...H,rating:null}))},placeholder:"0.0",className:we("rating")}),ye("rating")]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"block text-sm font-semibold text-slate-700 dark:text-slate-300",children:"Review Count"}),i.jsx(de,{type:"number",min:"0",value:ia,onChange:C=>{_t(C.target.value),U.reviewCount&&T(H=>({...H,reviewCount:null}))},placeholder:"0",className:we("reviewCount")}),ye("reviewCount")]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"block text-sm font-semibold text-slate-700 dark:text-slate-300",children:"Service Overview"}),i.jsx(Bt,{value:jn,onChange:C=>xt(C.target.value),placeholder:"Detailed service overview and description...",rows:3})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"block text-sm font-semibold text-slate-700 dark:text-slate-300",children:"Included Features (one per line)"}),i.jsx(Bt,{value:Wa,onChange:C=>$s(C.target.value),placeholder:`Data collection and integration setup
Custom dashboard development
Predictive analytics models
...`,rows:4})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"block text-sm font-semibold text-slate-700 dark:text-slate-300",children:"Process Steps (format: Title | Description | Duration)"}),i.jsx(Bt,{value:Or,onChange:C=>Un(C.target.value),placeholder:`Data Discovery | Identify data sources and business requirements | 3-5 days
Data Integration | Set up data pipelines and integration systems | 1 week
...`,rows:4})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"block text-sm font-semibold text-slate-700 dark:text-slate-300",children:"Key Features (one per line)"}),i.jsx(Bt,{value:Nn,onChange:C=>la(C.target.value),placeholder:`Data Visualization
Predictive Analytics
Custom Dashboards
Real-time Reports`,rows:3})]}),i.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"block text-sm font-semibold text-slate-700 dark:text-slate-300",children:"Contact Phone"}),i.jsx(de,{value:Rs,onChange:C=>{en(C.target.value),U.contactPhone&&T(H=>({...H,contactPhone:null}))},placeholder:"+1 (555) 123-4567",className:we("contactPhone")}),ye("contactPhone")]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"block text-sm font-semibold text-slate-700 dark:text-slate-300",children:"Contact Email"}),i.jsx(de,{type:"email",value:Sn,onChange:C=>{Yt(C.target.value),U.contactEmail&&T(H=>({...H,contactEmail:null}))},placeholder:"support@example.com",className:we("contactEmail")}),ye("contactEmail")]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"block text-sm font-semibold text-slate-700 dark:text-slate-300",children:"Availability"}),i.jsx(de,{value:Ka,onChange:C=>Ha(C.target.value),placeholder:"Available 24/7, Monday to Friday, etc."})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"block text-sm font-semibold text-slate-700 dark:text-slate-300",children:"Service Image"}),i.jsx("input",{type:"file",accept:"image/*",onChange:C=>Qr(C.target.files[0]),className:"block w-full text-sm text-slate-500 file:mr-4 file:py-2 file:px-4 file:rounded-xl file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100 dark:file:bg-blue-900/20 dark:file:text-blue-300"}),wn&&i.jsx("div",{className:"mt-2",children:i.jsx("img",{src:URL.createObjectURL(wn),alt:"Preview",className:"w-32 h-20 object-cover rounded-xl border border-slate-200 dark:border-slate-600"})})]}),i.jsx("div",{className:"flex justify-end",children:i.jsx(_e,{type:"submit",disabled:j,loading:j,variant:"primary",icon:"",className:"whitespace-nowrap min-w-fit flex-shrink-0",children:"Create Service"})})]})]}),i.jsxs("section",{className:"rounded-3xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 shadow-lg hover:shadow-xl transition-all duration-300 p-6",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[i.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-emerald-500 to-teal-600 rounded-xl flex items-center justify-center",children:i.jsx("span",{className:"text-white text-lg",children:""})}),i.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-100",children:"Manage Services"})]}),i.jsxs("div",{className:"space-y-4",children:[Array.isArray(s)&&s.filter(C=>C&&C.id).map(C=>i.jsx("div",{className:"p-4 bg-slate-50 dark:bg-slate-700 rounded-2xl border border-slate-200 dark:border-slate-600 hover:shadow-md transition-all duration-300",children:i.jsxs("div",{className:"flex items-start gap-4",children:[i.jsx("div",{className:"flex-shrink-0",children:(()=>{var ie,ue;const H=((ie=C.images)==null?void 0:ie.find(Ee=>Ee.is_main))||((ue=C.images)==null?void 0:ue[0])||C.image;return H?i.jsx("img",{src:H.image?`http://127.0.0.1:8001${H.image}`:`http://127.0.0.1:8001${H}`,alt:C.name,className:"w-20 h-20 object-cover rounded-xl border border-slate-200 dark:border-slate-600"}):i.jsx("div",{className:"w-20 h-20 bg-gray-200 dark:bg-slate-600 rounded-xl border border-slate-200 dark:border-slate-600 flex items-center justify-center",children:i.jsx("span",{className:"text-gray-400 dark:text-slate-400 text-xs",children:"No Image"})})})()}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-slate-200 mb-2",children:C.name}),i.jsx("p",{className:"text-slate-600 dark:text-slate-400 mb-3 line-clamp-2",children:C.description}),i.jsxs("div",{className:"flex items-center gap-4 text-sm text-slate-500 dark:text-slate-400 mb-2",children:[i.jsx("span",{className:"font-semibold text-emerald-600 dark:text-emerald-400",children:e(C.price)}),C.rating&&C.rating>0&&i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx("span",{className:"text-yellow-500",children:""}),i.jsx("span",{className:"font-semibold",children:C.rating}),C.review_count&&C.review_count>0&&i.jsxs("span",{children:["(",C.review_count," reviews)"]})]}),i.jsxs("span",{children:["Created: ",new Date(C.created_at).toLocaleDateString()]})]}),C.category&&i.jsx("div",{className:"flex items-center gap-2",children:i.jsxs("span",{className:"text-xs bg-purple-100 dark:bg-purple-900/20 text-purple-700 dark:text-purple-300 px-2 py-1 rounded-full",children:[" ",C.category.name]})})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(_e,{onClick:()=>Kn(C),variant:"warning",icon:"",className:"min-w-fit flex-shrink-0 px-2",title:"Edit Service"}),i.jsx(_e,{onClick:()=>Cn(C.id),variant:"danger",icon:"",className:"min-w-fit flex-shrink-0 px-2",title:"Delete Service"})]})]})},C.id)),(!Array.isArray(s)||s.length===0)&&i.jsxs("div",{className:"text-center py-12",children:[i.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-slate-200 to-slate-300 dark:from-slate-600 dark:to-slate-700 rounded-3xl flex items-center justify-center mx-auto mb-4",children:i.jsx("span",{className:"text-2xl",children:""})}),i.jsx("div",{className:"text-slate-600 dark:text-slate-400 font-medium",children:"No services found"}),i.jsx("div",{className:"text-sm text-slate-500 dark:text-slate-500 mt-1",children:"Create your first service using the form above"})]})]})]}),w&&i.jsxs("section",{ref:I,className:"rounded-3xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 shadow-lg hover:shadow-xl transition-all duration-300 p-6",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[i.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-amber-500 to-orange-600 rounded-xl flex items-center justify-center",children:i.jsx("span",{className:"text-white text-lg",children:""})}),i.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-100",children:"Edit Service"})]}),i.jsxs("form",{onSubmit:br,className:"space-y-6",children:[i.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"block text-sm font-semibold text-slate-700 dark:text-slate-300",children:"Service Name *"}),i.jsx(de,{value:Va,onChange:C=>{oa(C.target.value),U.name&&T(H=>({...H,name:null}))},placeholder:"Enter service name",required:!0,className:we("name")}),ye("name")]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"block text-sm font-semibold text-slate-700 dark:text-slate-300",children:"Price *"}),i.jsx(de,{type:"number",step:"0.01",min:"0",value:_,onChange:C=>{X(C.target.value),U.price&&T(H=>({...H,price:null}))},placeholder:"0.00",required:!0,className:we("price")}),ye("price")]})]}),i.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"block text-sm font-semibold text-slate-700 dark:text-slate-300",children:"Service Category"}),i.jsxs("select",{value:Jt,onChange:C=>{xr(C.target.value),Ke("")},className:"block w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-xl bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",children:[i.jsx("option",{value:"",children:"Select Main Category"}),qa().map(C=>i.jsx("option",{value:C.id?C.id.toString():"",children:C.name},C.id))]}),qa().length===0&&i.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"No main categories available. Create a category first."})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"block text-sm font-semibold text-slate-700 dark:text-slate-300",children:"Service Subcategory"}),i.jsxs("select",{value:ot,onChange:C=>Ke(C.target.value),disabled:!Jt,className:`block w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-xl bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors ${Jt?"":"opacity-50 cursor-not-allowed"}`,children:[i.jsx("option",{value:"",children:"Select Subcategory (Optional)"}),Fs(Jt).map(C=>i.jsx("option",{value:C.id?C.id.toString():"",children:C.name},C.id))]}),!Jt&&i.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Select a main category first to choose subcategories"}),Jt&&Fs(Jt).length===0&&i.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"No subcategories available for this category"})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"block text-sm font-semibold text-slate-700 dark:text-slate-300",children:"Description *"}),i.jsx(Bt,{value:ca,onChange:C=>{tn(C.target.value),U.description&&T(H=>({...H,description:null}))},placeholder:"Describe your service in detail...",rows:4,required:!0,className:we("description")}),ye("description")]}),i.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"block text-sm font-semibold text-slate-700 dark:text-slate-300",children:"Rating (0.0-5.0)"}),i.jsx(de,{type:"number",step:"0.1",min:"0",max:"5",value:Ls,onChange:C=>{Ul(C.target.value),U.rating&&T(H=>({...H,rating:null}))},placeholder:"0.0",className:we("rating")}),ye("rating")]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"block text-sm font-semibold text-slate-700 dark:text-slate-300",children:"Review Count"}),i.jsx(de,{type:"number",min:"0",value:Wl,onChange:C=>{Kl(C.target.value),U.reviewCount&&T(H=>({...H,reviewCount:null}))},placeholder:"0",className:we("reviewCount")}),ye("reviewCount")]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"block text-sm font-semibold text-slate-700 dark:text-slate-300",children:"Service Overview"}),i.jsx(Bt,{value:Hl,onChange:C=>Vl(C.target.value),placeholder:"Detailed service overview and description...",rows:3})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"block text-sm font-semibold text-slate-700 dark:text-slate-300",children:"Included Features (one per line)"}),i.jsx(Bt,{value:Jc,onChange:C=>ql(C.target.value),placeholder:`Data collection and integration setup
Custom dashboard development
Predictive analytics models
...`,rows:4})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"block text-sm font-semibold text-slate-700 dark:text-slate-300",children:"Process Steps (format: Title | Description | Duration)"}),i.jsx(Bt,{value:Xc,onChange:C=>Gl(C.target.value),placeholder:`Data Discovery | Identify data sources and business requirements | 3-5 days
Data Integration | Set up data pipelines and integration systems | 1 week
...`,rows:4})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"block text-sm font-semibold text-slate-700 dark:text-slate-300",children:"Key Features (one per line)"}),i.jsx(Bt,{value:Qc,onChange:C=>Yl(C.target.value),placeholder:`Data Visualization
Predictive Analytics
Custom Dashboards
Real-time Reports`,rows:3})]}),i.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"block text-sm font-semibold text-slate-700 dark:text-slate-300",children:"Contact Phone"}),i.jsx(de,{value:Ei,onChange:C=>{Jl(C.target.value),U.contactPhone&&T(H=>({...H,contactPhone:null}))},placeholder:"+1 (555) 123-4567",className:we("contactPhone")}),ye("contactPhone")]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"block text-sm font-semibold text-slate-700 dark:text-slate-300",children:"Contact Email"}),i.jsx(de,{type:"email",value:Xl,onChange:C=>{Ql(C.target.value),U.contactEmail&&T(H=>({...H,contactEmail:null}))},placeholder:"support@example.com",className:we("contactEmail")}),ye("contactEmail")]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"block text-sm font-semibold text-slate-700 dark:text-slate-300",children:"Availability"}),i.jsx(de,{value:Zc,onChange:C=>_i(C.target.value),placeholder:"Available 24/7, Monday to Friday, etc."})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"block text-sm font-semibold text-slate-700 dark:text-slate-300",children:"Service Images"}),w.images&&w.images.length>0&&i.jsxs("div",{className:"space-y-3",children:[i.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Current images:"}),i.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:w.images.map((C,H)=>i.jsxs("div",{className:"relative group",children:[i.jsx("img",{src:C.image.startsWith("http")?C.image:`http://127.0.0.1:8001${C.image}`,alt:`Service image ${H+1}`,className:`w-full h-20 object-cover rounded-xl border-2 ${C.is_main?"border-blue-500 dark:border-blue-400":"border-slate-200 dark:border-slate-600"}`}),C.is_main&&i.jsx("div",{className:"absolute top-1 left-1 bg-blue-500 text-white text-xs px-2 py-1 rounded",children:"MAIN"}),i.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-50 transition-all duration-200 rounded-xl flex items-center justify-center opacity-0 group-hover:opacity-100",children:i.jsxs("div",{className:"flex gap-2",children:[!C.is_main&&i.jsx("button",{type:"button",onClick:()=>vt(w.id,C.id),className:"bg-blue-500 hover:bg-blue-600 text-white text-xs px-2 py-1 rounded",title:"Set as main image",children:" Set Main"}),i.jsx("button",{type:"button",onClick:()=>{confirm("Are you sure you want to delete this image?")&&console.log("Delete image:",C.id)},className:"bg-red-500 hover:bg-red-600 text-white text-xs px-2 py-1 rounded",title:"Delete image",children:" Delete"})]})})]},C.id||H))})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Add new image:"}),i.jsx("input",{type:"file",accept:"image/*",onChange:C=>be(C.target.files[0]),className:"block text-sm text-slate-500 file:mr-4 file:py-2 file:px-4 file:rounded-xl file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100 dark:file:bg-blue-900/20 dark:file:text-blue-300"}),z&&i.jsx("div",{className:"mt-2",children:i.jsx("img",{src:URL.createObjectURL(z),alt:"New preview",className:"w-32 h-20 object-cover rounded-xl border border-slate-200 dark:border-slate-600"})})]})]}),i.jsxs("div",{className:"flex gap-3 justify-end",children:[i.jsx(_e,{type:"button",onClick:U0,variant:"warning",icon:"",className:"whitespace-nowrap min-w-fit flex-shrink-0",children:"Cancel"}),i.jsx(_e,{type:"submit",disabled:j,loading:j,variant:"success",icon:"",className:"whitespace-nowrap min-w-fit flex-shrink-0",children:"Save Changes"})]})]})]})]})})}function WA({page:e,setPage:t,hasNext:r,hasPrev:n}){return i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("button",{disabled:!n,onClick:()=>t(a=>Math.max(1,a-1)),className:"rounded-xl border px-3 py-1 disabled:opacity-40 hover:bg-slate-100 dark:hover:bg-slate-800",children:"Prev"}),i.jsxs("span",{className:"text-sm",children:["Page ",e]}),i.jsx("button",{disabled:!r,onClick:()=>t(a=>a+1),className:"rounded-xl border px-3 py-1 disabled:opacity-40 hover:bg-slate-100 dark:hover:bg-slate-800",children:"Next"})]})}function Lq(){const{isAuthed:e,init:t,logout:r}=Ht(),[n,a]=h.useState([]),[s,l]=h.useState(""),[o,c]=h.useState(1),[u,d]=h.useState(!1),[f,m]=h.useState(!1),[p,x]=h.useState(null),[g,v]=h.useState(null),[b,y]=h.useState(!1),[w,k]=h.useState(null),[N,S]=h.useState(!1),[j,P]=h.useState(!1),{formatAmount:D}=Ol(),[O,$]=h.useState("checking"),[B,U]=h.useState("idle"),[T,K]=h.useState(null),[I,G]=h.useState(0),M=3,W=async(A,oe)=>{console.error(" 500 Internal Server Error Details:"),console.error("URL:",oe),console.error("Status:",A.status),console.error("Status Text:",A.statusText);try{const ge=await A.text();console.error("Response Body:",ge);try{const xe=JSON.parse(ge);console.error("Parsed Error JSON:",xe),xe.detail&&console.error("Error Detail:",xe.detail),xe.error&&console.error("Error Message:",xe.error)}catch{console.error("Raw Error Response:",ge)}}catch(ge){console.error("Could not read response body:",ge)}const Z=["Database connection issues","Missing database tables","Serializer validation errors","Permission class failures","Middleware exceptions","View function errors"];console.error(" Common causes of 500 errors:"),Z.forEach(ge=>console.error("",ge))},J=async()=>{try{if(console.log(" Checking backend health..."),(await fetch("http://127.0.0.1:8001/api/admin/health/ping/",{method:"GET"})).ok)return console.log(" Backend is reachable"),!0;const oe=await fetch("http://127.0.0.1:8001/admin/",{method:"GET"});return console.log("Django admin status:",oe.status),oe.status<500}catch(A){return console.error(" Backend health check failed:",A),!1}},Q=async()=>{try{if(console.log("[AUTH] Checking authentication state..."),$("checking"),!await J()){K(`
           Cannot connect to the backend server.
          
          Please ensure:
          1. The Django server is running: python manage.py runserver 127.0.0.1:8001
          2. The server is accessible at http://127.0.0.1:8001
          3. There are no firewall or CORS issues
        `),$("unauthenticated");return}await t();const Z=JSON.parse(localStorage.getItem("auth")||"{}").access||localStorage.getItem("access_token");if(!Z){console.log("[AUTH] No token found"),$("unauthenticated");return}const ge=await fetch("http://127.0.0.1:8001/api/auth/me/",{headers:{Authorization:`Bearer ${Z}`,"Content-Type":"application/json"}});ge.ok?(console.log("[AUTH] Token is valid"),$("authenticated")):ge.status===401?(console.log("[AUTH] Token expired, attempting refresh..."),await q()?$("authenticated"):(console.log("[AUTH] Token refresh failed"),localStorage.removeItem("auth"),localStorage.removeItem("access_token"),$("unauthenticated"))):(console.log("[AUTH] Token verification failed:",ge.status),$("unauthenticated"))}catch(A){console.error("[AUTH] Auth check failed:",A),$("unauthenticated")}},q=async()=>{try{const A=JSON.parse(localStorage.getItem("auth")||"{}"),oe=A.refresh;if(!oe)return!1;const Z=await fetch("http://127.0.0.1:8001/api/auth/refresh/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({refresh:oe})});if(Z.ok){const ge=await Z.json(),xe={...A,access:ge.access};return localStorage.setItem("auth",JSON.stringify(xe)),localStorage.setItem("access_token",ge.access),console.log("[AUTH] Token refreshed successfully"),!0}}catch(A){console.error("[AUTH] Token refresh failed:",A)}return!1},Pe=async()=>{if(O!=="authenticated"){console.log("[LOAD] Skipping load - not authenticated");return}if(!navigator.onLine){K("No internet connection. Please check your network."),U("error");return}try{U("loading"),K(null),console.log("[LOAD] Loading orders with filters:",{page:o,status:s||"all"});const Z=JSON.parse(localStorage.getItem("auth")||"{}").access||localStorage.getItem("access_token");if(!Z)throw new Error("No authentication token found");const ge=`http://127.0.0.1:8001/api/admin/orders/?page=${o}${s?`&status=${s}`:""}`;console.log(" Making API request to:",ge);const xe=await fetch(ge,{headers:{Authorization:`Bearer ${Z}`,"Content-Type":"application/json"},method:"GET"});if(console.log(" Response received:",xe.status,xe.statusText),xe.status===500){await W(xe,ge),K(`
           Server Error (500): The backend encountered an internal error.
          
          Common fixes:
          1. Check if the Django server is running on port 8001
          2. Verify the database migrations are applied: python manage.py migrate
          3. Check if the Order model and serializer are properly configured
          4. Look at the Django server logs for detailed error information
          
          Technical details have been logged to the console.
        `),U("error");return}if(xe.status===401)throw new Error("Authentication failed. Please log in again.");if(xe.status===403)throw new Error("Access denied. You do not have permission to view orders.");if(xe.status===404)throw new Error("Orders endpoint not found. Check backend URL configuration.");if(!xe.ok)throw new Error(`HTTP error! status: ${xe.status}`);const Re=await xe.json();if(console.log(" Orders data received:",Re),!Re||typeof Re!="object")throw new Error("Invalid response format from server");const qt=Re.results||Re.orders||Re.items||(Array.isArray(Re)?Re:[]);Array.isArray(qt)?(a(qt),d(!!Re.next),m(!!Re.previous),U("success"),console.log("[LOAD] Orders loaded successfully:",qt.length,"orders")):(console.warn("[LOAD] Invalid orders data format:",qt),a([]),d(!1),m(!1),U("success"))}catch(oe){console.error("[LOAD] Failed to load orders:",oe);let Z="Unknown error";oe.message.includes("Authentication failed")?(Z="Authentication failed. Please log in again.",setTimeout(()=>{window.location.href="/sign-in"},2e3)):oe.message.includes("Access denied")?Z="Access denied. You may not have admin permissions.":(oe.message.includes("Server Error")||oe.message)&&(Z=oe.message),K(Z),U("error"),a([]),d(!1),m(!1)}},L=async()=>{if(I>=M){K("Maximum retry attempts reached. Please check the backend server."),U("error");return}await Pe(),setTimeout(()=>{B==="error"&&G(A=>A+1)},2e3)},ae=()=>{const[A,oe]=h.useState({}),Z=async()=>{const ge={backendReachable:await J(),currentTime:new Date().toISOString(),userAgent:navigator.userAgent,authState:O,fetchStatus:B,retryCount:I,apiEndpoint:"http://127.0.0.1:8001/api/admin/orders/"};oe(ge)};return i.jsxs("div",{className:"mt-4 p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded",children:[i.jsx("button",{onClick:Z,className:"px-3 py-1 bg-blue-600 text-white rounded text-sm hover:bg-blue-700 transition-colors",children:"Run Backend Diagnostics"}),A.backendReachable!==void 0&&i.jsx("pre",{className:"mt-2 text-xs bg-white dark:bg-slate-800 p-2 rounded overflow-auto max-h-40",children:JSON.stringify(A,null,2)})]})};h.useEffect(()=>{Q()},[]),h.useEffect(()=>{O==="authenticated"&&L()},[O,o,s,I]);const Ne=async(A,oe)=>{try{console.log("Updating order:",A,"to status:",oe),await xA(A,{status:oe}),console.log(" Order updated successfully:",A,oe),await Pe(),window.dispatchEvent(new CustomEvent("ordersUpdated",{detail:{orderId:A,newStatus:oe}})),console.log(" Dashboard refresh triggered")}catch(Z){console.error(" Failed to update order:",Z),alert(`Failed to update order status: ${Z.message||"Unknown error"}`)}},We=async A=>{try{await navigator.clipboard.writeText(A),x(A),setTimeout(()=>x(null),2e3)}catch(oe){console.error("Failed to copy tracking ID:",oe)}},Me=async A=>{try{await navigator.clipboard.writeText(A),v(A),setTimeout(()=>v(null),2e3)}catch(oe){console.error("Failed to copy payment ID:",oe)}},V=A=>{k(A),y(!0)},ee=async()=>{if(w)try{console.log(" Deleting order:",w.id),P(!0),await vA(w.id),console.log(" Order deleted successfully from database:",w.id),await Pe(),console.log(" Orders list refreshed, order removed from UI"),window.dispatchEvent(new CustomEvent("ordersUpdated",{detail:{orderId:w.id,action:"deleted"}})),console.log(" Dashboard refresh triggered after order deletion"),S(!0),setTimeout(()=>{S(!1),y(!1),k(null)},1500)}catch(A){console.error(" Failed to delete order:",A),alert(`Failed to delete order: ${A.message||"Unknown error"}`)}finally{P(!1)}},he=()=>{y(!1),k(null)};return i.jsxs(Rn,{children:[i.jsxs(ut,{children:[i.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[i.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-purple-500 to-pink-600 rounded-xl flex items-center justify-center",children:i.jsx("span",{className:"text-white text-lg",children:""})}),i.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-100",children:"Orders Management"})]}),O==="authenticated"&&i.jsx("div",{className:"mb-6",children:i.jsx(cs,{label:"Filter by Status",value:s,onChange:A=>l(A.target.value),options:[{value:"",label:"All order statuses"},{value:"pending",label:"Pending"},{value:"processing",label:"Processing"},{value:"shipped",label:"Shipped"},{value:"delivered",label:"Delivered"},{value:"cancelled",label:"Cancelled"}]})}),i.jsxs("div",{className:"overflow-auto",children:[i.jsxs("div",{className:"mb-4 p-2 bg-blue-100 dark:bg-blue-900/20 rounded text-xs",children:[i.jsx("strong",{children:"Auth State:"})," ",O," | ",i.jsx("strong",{children:"Fetch Status:"})," ",B," | ",i.jsx("strong",{children:"Orders:"})," ",n.length]}),O==="checking"&&i.jsxs("div",{className:"text-center py-12",children:[i.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-blue-200 to-blue-300 dark:from-blue-600 dark:to-blue-700 rounded-3xl flex items-center justify-center mx-auto mb-4",children:i.jsx("span",{className:"text-2xl",children:""})}),i.jsx("div",{className:"text-slate-600 dark:text-slate-400 font-medium",children:"Checking authentication..."})]}),O==="unauthenticated"&&i.jsxs("div",{className:"p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-md",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx(vV,{className:"w-5 h-5 text-red-600 dark:text-red-400"}),i.jsx("p",{className:"text-red-800 dark:text-red-200 font-medium",children:"Authentication Required"})]}),i.jsx("p",{className:"text-red-700 dark:text-red-300 mb-3",children:"You must be logged in to view orders. Redirecting to login..."}),i.jsx("button",{onClick:()=>window.location.href="/sign-in",className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors",children:"Go to Login"})]}),O==="authenticated"&&B==="loading"&&i.jsxs("div",{className:"text-center py-12",children:[i.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-slate-200 to-slate-300 dark:from-slate-600 dark:to-slate-700 rounded-3xl flex items-center justify-center mx-auto mb-4",children:i.jsx("span",{className:"text-2xl",children:""})}),i.jsx("div",{className:"text-slate-600 dark:text-slate-400 font-medium",children:"Loading orders..."})]}),B==="error"&&i.jsxs("div",{className:"p-6 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg max-w-4xl mx-auto mt-8",children:[i.jsxs("div",{className:"flex items-center mb-4",children:[i.jsx(qp,{className:"h-8 w-8 text-red-600 dark:text-red-400 mr-3"}),i.jsx("h2",{className:"text-xl font-semibold text-red-800 dark:text-red-200",children:"Unable to Load Orders"})]}),i.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded border",children:[i.jsx("p",{className:"text-red-700 dark:text-red-300 mb-4 whitespace-pre-line",children:T}),i.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 p-3 rounded border border-yellow-200 dark:border-yellow-800 mb-4",children:[i.jsx("h3",{className:"font-semibold text-yellow-800 dark:text-yellow-200 mb-2",children:"Troubleshooting Steps:"}),i.jsxs("ul",{className:"list-disc list-inside text-yellow-700 dark:text-yellow-300 space-y-1",children:[i.jsx("li",{children:"Check if the backend server is running on port 8001"}),i.jsx("li",{children:"Verify the database is properly migrated"}),i.jsx("li",{children:"Check browser console for detailed error information"}),i.jsx("li",{children:"Try refreshing the page or logging in again"})]})]}),i.jsxs("div",{className:"flex flex-wrap gap-3",children:[i.jsxs("button",{onClick:Pe,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors",children:[i.jsx(sy,{className:"w-4 h-4"}),"Retry Loading Orders"]}),i.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-gray-600 text-white rounded hover:bg-gray-700 transition-colors",children:"Refresh Page"}),i.jsx("button",{onClick:()=>window.open("http://127.0.0.1:8001/admin/","_blank"),className:"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 transition-colors",children:"Check Backend Admin"}),i.jsx("button",{onClick:()=>G(0),className:"px-4 py-2 bg-purple-600 text-white rounded hover:bg-purple-700 transition-colors",children:"Reset Retry Count"})]})]}),i.jsxs("details",{className:"mt-4",children:[i.jsx("summary",{className:"cursor-pointer text-sm text-gray-600 dark:text-gray-400",children:"Developer Debug Info"}),i.jsxs("div",{className:"mt-2 p-3 bg-gray-100 dark:bg-gray-800 rounded text-xs font-mono",children:[i.jsxs("p",{children:["Auth State: ",O]}),i.jsxs("p",{children:["Fetch Status: ",B]}),i.jsxs("p",{children:["Retry Count: ",I,"/",M]}),i.jsx("p",{children:"API Endpoint: http://127.0.0.1:8001/api/admin/orders/"}),i.jsx("p",{children:"Check browser console for detailed error logs"})]}),i.jsx(ae,{})]})]}),O==="authenticated"&&B==="success"&&n.length>0&&i.jsx("div",{className:"space-y-4",children:n.map(A=>{var oe;return i.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-700 rounded-2xl border border-slate-200 dark:border-slate-600",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("div",{className:"flex flex-col",children:[i.jsxs("span",{className:"font-bold text-slate-800 dark:text-slate-200",children:["Order #",A.id]}),i.jsxs("div",{className:"flex flex-col gap-2 mt-2",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Tracking:"}),i.jsx("span",{className:"text-sm font-mono bg-slate-100 dark:bg-slate-600 text-slate-800 dark:text-slate-200 px-2 py-1 rounded border",children:A.tracking_id}),i.jsx("button",{onClick:()=>We(A.tracking_id),className:"p-1.5 hover:bg-slate-200 dark:hover:bg-slate-600 rounded-md transition-colors",title:"Copy tracking ID",children:p===A.tracking_id?i.jsx(Dk,{className:"w-4 h-4 text-green-600 dark:text-green-400"}):i.jsx(Mk,{className:"w-4 h-4 text-slate-600 dark:text-slate-400"})})]}),A.payment_id&&i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Payment:"}),i.jsx("span",{className:"text-sm font-mono bg-blue-50 dark:bg-blue-900/30 text-blue-800 dark:text-blue-200 px-2 py-1 rounded border border-blue-200 dark:border-blue-700",children:A.payment_id}),i.jsx("button",{onClick:()=>Me(A.payment_id),className:"p-1.5 hover:bg-slate-200 dark:hover:bg-slate-600 rounded-md transition-colors",title:"Copy payment ID",children:g===A.payment_id?i.jsx(Dk,{className:"w-4 h-4 text-green-600 dark:text-green-400"}):i.jsx(Mk,{className:"w-4 h-4 text-slate-600 dark:text-slate-400"})})]})]})]}),i.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:A.shipping_name||""}),i.jsx("span",{className:"font-semibold text-emerald-600 dark:text-emerald-400",children:D(Number(A.total_price))})]}),i.jsxs("div",{className:"flex flex-col gap-2",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-xs text-slate-500 dark:text-slate-500",children:"Order:"}),i.jsx(cs,{value:A.status,onChange:Z=>Ne(A.id,Z.target.value),options:[{value:"pending",label:"Pending"},{value:"processing",label:"Processing"},{value:"shipped",label:"Shipped"},{value:"delivered",label:"Delivered"},{value:"cancelled",label:"Cancelled"}],className:"w-32 text-xs"}),i.jsx("button",{onClick:()=>V(A),className:"p-1.5 hover:bg-red-100 dark:hover:bg-red-900/30 rounded-md transition-colors text-red-600 dark:text-red-400",title:"Delete order",children:i.jsx(bc,{className:"w-4 h-4"})})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-xs text-slate-500 dark:text-slate-500",children:"Payment:"}),i.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${A.payment_status==="paid"?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":A.payment_status==="unpaid"?"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200":A.payment_status==="failed"?"bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-200":"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200"}`,children:A.payment_status==="paid"?"Paid":A.payment_status==="unpaid"?"Unpaid":A.payment_status==="failed"?"Failed":A.payment_status==="refunded"?"Refunded":A.payment_status})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-slate-600 dark:text-slate-400",children:[i.jsxs("div",{children:[i.jsx("div",{className:"font-semibold mb-2",children:"Items:"}),i.jsx("ul",{className:"space-y-1",children:(oe=A.items)==null?void 0:oe.map(Z=>i.jsxs("li",{className:"flex justify-between",children:[i.jsxs("span",{children:[Z.product_name,"  ",Z.quantity]}),i.jsxs("span",{children:["@ ",D(Number(Z.unit_price))]})]},Z.id))})]}),i.jsxs("div",{children:[i.jsx("div",{className:"font-semibold mb-2",children:"Order Details:"}),i.jsxs("div",{className:"space-y-1",children:[i.jsxs("div",{children:[i.jsx("span",{className:"font-medium",children:"Customer:"})," ",A.customer_email||"Guest"]}),i.jsxs("div",{children:[i.jsx("span",{className:"font-medium",children:"Phone:"})," ",A.customer_phone||"Not provided"]}),i.jsxs("div",{children:[i.jsx("span",{className:"font-medium",children:"Created:"})," ",new Date(A.created_at).toLocaleDateString()]}),i.jsxs("div",{children:[i.jsx("span",{className:"font-medium",children:"Payment:"})," ",A.payment_method||"N/A"]})]})]})]}),A.shipping_address&&Object.keys(A.shipping_address).length>0&&i.jsxs("div",{className:"mt-4 pt-4 border-t border-slate-200 dark:border-slate-600",children:[i.jsx("div",{className:"font-semibold mb-2 text-slate-700 dark:text-slate-300",children:"Shipping Info:"}),i.jsxs("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:[i.jsxs("div",{className:"mb-2",children:[i.jsx("span",{className:"font-medium",children:"Name:"})," ",A.shipping_address.firstName," ",A.shipping_address.lastName]}),i.jsxs("div",{className:"mb-2",children:[i.jsx("span",{className:"font-medium",children:"Phone:"})," ",A.customer_phone||"Not provided"]}),i.jsxs("div",{className:"mb-2",children:[i.jsx("span",{className:"font-medium",children:"Method:"})," ",A.shipping_method==="standard"?"Standard Shipping (5-7 business days)":A.shipping_method==="express"?"Express Shipping (2-3 business days)":A.shipping_method||"Standard Shipping"]}),i.jsxs("div",{className:"mb-2",children:[i.jsx("span",{className:"font-medium",children:"Cost:"})," ",D(Number(A.shipping_cost))]}),i.jsx("div",{className:"font-medium mb-1",children:"Address:"}),i.jsx("div",{children:A.shipping_address.address||A.shipping_address.address1}),A.shipping_address.address2&&i.jsx("div",{children:A.shipping_address.address2}),i.jsxs("div",{children:[A.shipping_address.city,", ",A.shipping_address.state," ",A.shipping_address.zipCode||A.shipping_address.postcode]}),A.shipping_address.country&&i.jsx("div",{children:A.shipping_address.country})]})]})]},A.id)})}),O==="authenticated"&&B==="success"&&n.length===0&&i.jsx("div",{className:"p-4 bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-md",children:i.jsxs("div",{className:"text-center py-8",children:[i.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-slate-200 to-slate-300 dark:from-slate-600 dark:to-slate-700 rounded-3xl flex items-center justify-center mx-auto mb-4",children:i.jsx("span",{className:"text-2xl",children:""})}),i.jsx("p",{className:"text-slate-600 dark:text-slate-400 font-medium",children:"No orders found"}),i.jsx("p",{className:"text-slate-500 dark:text-slate-500 text-sm mt-1",children:s?`No orders with status "${s}"`:"No orders in the system"})]})})]}),O==="authenticated"&&B==="success"&&n.length>0&&i.jsx("div",{className:"mt-6",children:i.jsx(WA,{page:o,setPage:c,hasNext:u,hasPrev:f})})]}),b&&w&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:i.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-2xl p-6 max-w-md w-full mx-4 shadow-xl",children:N?i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"w-16 h-16 bg-green-100 dark:bg-green-900/30 rounded-3xl flex items-center justify-center mx-auto mb-4",children:i.jsx("span",{className:"text-2xl",children:""})}),i.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-slate-200 mb-2",children:"Order Deleted Successfully!"}),i.jsxs("p",{className:"text-slate-600 dark:text-slate-400",children:["Order #",w.id," has been removed from the database and order list."]})]}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx("div",{className:"w-10 h-10 bg-red-100 dark:bg-red-900/30 rounded-xl flex items-center justify-center",children:i.jsx(bc,{className:"w-5 h-5 text-red-600 dark:text-red-400"})}),i.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-slate-200",children:"Delete Order"})]}),i.jsxs("div",{className:"mb-6",children:[i.jsx("p",{className:"text-slate-600 dark:text-slate-400 mb-3",children:"Are you sure you want to delete this order? This action cannot be undone."}),i.jsx("div",{className:"bg-slate-50 dark:bg-slate-700 rounded-xl p-4",children:i.jsxs("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:[i.jsx("div",{className:"font-semibold mb-2",children:"Order Details:"}),i.jsxs("div",{children:["Order #",w.id]}),i.jsxs("div",{children:["Customer: ",w.customer_email||"Guest"]}),i.jsxs("div",{children:["Total: ",D(Number(w.total_price))]}),i.jsxs("div",{children:["Status: ",w.status]})]})})]}),i.jsxs("div",{className:"flex gap-3 justify-end",children:[i.jsx("button",{onClick:he,className:"px-4 py-2 text-slate-600 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg transition-colors",disabled:j,children:"Cancel"}),i.jsx("button",{onClick:ee,className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors disabled:opacity-50",disabled:j,children:j?"Deleting...":"Delete Order"})]})]})})})]})}const Fq=()=>{const[e,t]=h.useState([]),[r,n]=h.useState([]),[a,s]=h.useState(""),[l,o]=h.useState("all"),[c,u]=h.useState(!0),[d,f]=h.useState(null),[m,p]=h.useState(!1),{formatAmount:x}=Ol();h.useEffect(()=>{(async()=>{var N,S,j;try{u(!0);const P=await yA(),O=((P==null?void 0:P.results)||((N=P==null?void 0:P.data)==null?void 0:N.results)||(P==null?void 0:P.data)||P||[]).map($=>({id:$.id.toString(),username:$.username,email:$.email,firstName:$.first_name||"",lastName:$.last_name||"",phone:"",isActive:$.is_active,isStaff:$.is_staff,dateJoined:$.date_joined||new Date().toISOString().split("T")[0],lastLogin:"",ordersCount:0,totalSpent:0}));t(O),n(O)}catch(P){console.error("Failed to fetch users:",P),console.error("Error details:",{message:P.message,status:(S=P.response)==null?void 0:S.status,data:(j=P.response)==null?void 0:j.data}),t([]),n([])}finally{u(!1)}})()},[]),h.useEffect(()=>{let k=e;a&&(k=k.filter(N=>N.username.toLowerCase().includes(a.toLowerCase())||N.email.toLowerCase().includes(a.toLowerCase())||N.firstName.toLowerCase().includes(a.toLowerCase())||N.lastName.toLowerCase().includes(a.toLowerCase()))),l!=="all"&&(k=k.filter(N=>{switch(l){case"active":return N.isActive&&!N.isStaff;case"inactive":return!N.isActive;case"staff":return N.isStaff;default:return!0}})),n(k)},[e,a,l]);const g=k=>{f(k),p(!0)},v=k=>{console.log("Edit user:",k)},b=async k=>{if(confirm("Are you sure you want to delete this user?"))try{await bA(k.id),t(N=>N.filter(S=>S.id!==k.id)),n(N=>N.filter(S=>S.id!==k.id)),console.log("User deleted successfully")}catch(N){console.error("Failed to delete user:",N),alert("Failed to delete user. Please try again.")}},y=k=>new Date(k).toLocaleDateString(),w=k=>k.isStaff?i.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200",children:"Staff"}):k.isActive?i.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",children:"Active"}):i.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200",children:"Inactive"});return i.jsxs("div",{className:"p-6",children:[i.jsx("div",{className:"mb-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsxs("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white flex items-center",children:[i.jsx(qs,{className:"w-6 h-6 mr-3 text-red-600 dark:text-blue-400"}),"Users Management"]}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Manage registered users and their accounts"})]}),i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsxs("button",{className:"inline-flex items-center px-4 py-2 bg-gray-100 dark:bg-slate-700 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-200 dark:hover:bg-slate-600 transition-colors",children:[i.jsx(NV,{className:"w-4 h-4 mr-2"}),"Export"]}),i.jsxs("button",{className:"inline-flex items-center px-4 py-2 bg-red-600 dark:bg-blue-600 text-white rounded-lg hover:bg-red-700 dark:hover:bg-blue-700 transition-colors",children:[i.jsx(dq,{className:"w-4 h-4 mr-2"}),"Add User"]})]})]})}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-6",children:[i.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 border border-gray-200 dark:border-slate-700",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Users"}),i.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:e.length})]}),i.jsx("div",{className:"w-12 h-12 bg-blue-100 dark:bg-blue-900 rounded-lg flex items-center justify-center",children:i.jsx(qs,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})})]})}),i.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 border border-gray-200 dark:border-slate-700",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Active Users"}),i.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:e.filter(k=>k.isActive&&!k.isStaff).length})]}),i.jsx("div",{className:"w-12 h-12 bg-green-100 dark:bg-green-900 rounded-lg flex items-center justify-center",children:i.jsx(qs,{className:"w-6 h-6 text-green-600 dark:text-green-400"})})]})}),i.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 border border-gray-200 dark:border-slate-700",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Staff Members"}),i.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:e.filter(k=>k.isStaff).length})]}),i.jsx("div",{className:"w-12 h-12 bg-purple-100 dark:bg-purple-900 rounded-lg flex items-center justify-center",children:i.jsx(qs,{className:"w-6 h-6 text-purple-600 dark:text-purple-400"})})]})}),i.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 border border-gray-200 dark:border-slate-700",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Revenue"}),i.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:x(e.reduce((k,N)=>k+(N.totalSpent||0),0))})]}),i.jsx("div",{className:"w-12 h-12 bg-yellow-100 dark:bg-yellow-900 rounded-lg flex items-center justify-center",children:i.jsx(qs,{className:"w-6 h-6 text-yellow-600 dark:text-yellow-400"})})]})})]}),i.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 border border-gray-200 dark:border-slate-700 mb-6",children:i.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[i.jsx("div",{className:"flex-1",children:i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:i.jsx(XV,{className:"h-5 w-5 text-gray-400 dark:text-gray-500"})}),i.jsx("input",{type:"text",placeholder:"Search users...",value:a,onChange:k=>s(k.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-red-500 dark:focus:ring-blue-500 focus:border-transparent bg-white dark:bg-slate-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400"})]})}),i.jsx("div",{className:"flex items-center space-x-3",children:i.jsxs("div",{className:"relative",children:[i.jsxs("select",{value:l,onChange:k=>o(k.target.value),className:"appearance-none bg-white dark:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded-lg px-4 py-2 pr-8 text-gray-900 dark:text-white focus:ring-2 focus:ring-red-500 dark:focus:ring-blue-500 focus:border-transparent",children:[i.jsx("option",{value:"all",children:"All Users"}),i.jsx("option",{value:"active",children:"Active"}),i.jsx("option",{value:"inactive",children:"Inactive"}),i.jsx("option",{value:"staff",children:"Staff"})]}),i.jsx(DV,{className:"absolute right-2 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400 dark:text-gray-500 pointer-events-none"})]})})]})}),i.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl border border-gray-200 dark:border-slate-700 overflow-hidden",children:i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-slate-700",children:[i.jsx("thead",{className:"bg-gray-50 dark:bg-slate-700",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"User"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Contact"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Status"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Joined"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Orders"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Total Spent"}),i.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Actions"})]})}),i.jsx("tbody",{className:"bg-white dark:bg-slate-800 divide-y divide-gray-200 dark:divide-slate-700",children:c?i.jsx("tr",{children:i.jsx("td",{colSpan:7,className:"px-6 py-12 text-center",children:i.jsxs("div",{className:"flex items-center justify-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-red-600 dark:border-blue-400"}),i.jsx("span",{className:"ml-3 text-gray-600 dark:text-gray-400",children:"Loading users..."})]})})}):r.length===0?i.jsx("tr",{children:i.jsxs("td",{colSpan:7,className:"px-6 py-12 text-center",children:[i.jsx(qs,{className:"w-12 h-12 text-gray-400 dark:text-gray-500 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"No users found"})]})}):r.map(k=>i.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-slate-700",children:[i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"w-10 h-10 bg-gray-200 dark:bg-slate-600 rounded-full flex items-center justify-center",children:i.jsxs("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:[k.firstName[0],k.lastName[0]]})}),i.jsxs("div",{className:"ml-4",children:[i.jsxs("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:[k.firstName," ",k.lastName]}),i.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:["@",k.username]})]})]})}),i.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[i.jsx("div",{className:"text-sm text-gray-900 dark:text-white",children:k.email}),k.phone&&i.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:k.phone})]}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:w(k)}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:y(k.dateJoined)}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:k.ordersCount||"N/A"}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:k.totalSpent?x(k.totalSpent):"N/A"}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:i.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[i.jsx("button",{onClick:()=>g(k),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors",children:i.jsx(X_,{className:"w-4 h-4"})}),i.jsx("button",{onClick:()=>v(k),className:"text-gray-400 hover:text-blue-600 dark:hover:text-blue-400 transition-colors",children:i.jsx(iq,{className:"w-4 h-4"})}),i.jsx("button",{onClick:()=>b(k),className:"text-gray-400 hover:text-red-600 dark:hover:text-red-400 transition-colors",children:i.jsx(bc,{className:"w-4 h-4"})})]})})]},k.id))})]})})}),m&&d&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:()=>p(!1),children:i.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",onClick:k=>k.stopPropagation(),children:i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"User Details"}),i.jsx("button",{onClick:()=>p(!1),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:i.jsx(PV,{className:"w-5 h-5"})})]}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx("div",{className:"w-16 h-16 bg-gray-200 dark:bg-slate-600 rounded-full flex items-center justify-center",children:i.jsxs("span",{className:"text-xl font-medium text-gray-700 dark:text-gray-300",children:[d.firstName[0],d.lastName[0]]})}),i.jsxs("div",{children:[i.jsxs("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:[d.firstName," ",d.lastName]}),i.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:["@",d.username]}),w(d)]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsx("h5",{className:"font-medium text-gray-900 dark:text-white mb-3",children:"Contact Information"}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(sl,{className:"w-4 h-4 text-gray-400"}),i.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:d.email})]}),d.phone&&i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Q_,{className:"w-4 h-4 text-gray-400"}),i.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:d.phone})]})]})]}),i.jsxs("div",{children:[i.jsx("h5",{className:"font-medium text-gray-900 dark:text-white mb-3",children:"Account Information"}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Tk,{className:"w-4 h-4 text-gray-400"}),i.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Joined: ",y(d.dateJoined)]})]}),d.lastLogin&&i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Tk,{className:"w-4 h-4 text-gray-400"}),i.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Last login: ",y(d.lastLogin)]})]})]})]})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:i.jsxs("div",{children:[i.jsx("h5",{className:"font-medium text-gray-900 dark:text-white mb-3",children:"Order Statistics"}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Orders:"}),i.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:d.ordersCount||"N/A"})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Spent:"}),i.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:d.totalSpent?x(d.totalSpent):"N/A"})]})]})]})})]})]})})})]})};function Bq({endDate:e,className:t=""}){const[r,n]=h.useState({days:0,hours:0,minutes:0,seconds:0});return h.useEffect(()=>{if(!e)return;const a=()=>{const l=new Date().getTime(),c=new Date(e).getTime()-l;c>0?n({days:Math.floor(c/(1e3*60*60*24)),hours:Math.floor(c%(1e3*60*60*24)/(1e3*60*60)),minutes:Math.floor(c%(1e3*60*60)/(1e3*60)),seconds:Math.floor(c%(1e3*60)/1e3)}):n({days:0,hours:0,minutes:0,seconds:0})};a();const s=setInterval(a,1e3);return()=>clearInterval(s)},[e]),e?i.jsxs("div",{className:`flex items-center justify-center gap-4 ${t}`,children:[i.jsxs("div",{className:"flex flex-col items-center bg-red-100 dark:bg-red-900/30 rounded-xl p-3 min-w-[60px]",children:[i.jsx("div",{className:"text-2xl font-bold text-red-600 dark:text-red-400",children:r.days.toString().padStart(2,"0")}),i.jsx("div",{className:"text-xs text-red-600 dark:text-red-400 font-medium",children:"Days"})]}),i.jsxs("div",{className:"flex flex-col items-center bg-orange-100 dark:bg-orange-900/30 rounded-xl p-3 min-w-[60px]",children:[i.jsx("div",{className:"text-2xl font-bold text-orange-600 dark:text-orange-400",children:r.hours.toString().padStart(2,"0")}),i.jsx("div",{className:"text-xs text-orange-600 dark:text-orange-400 font-medium",children:"Hours"})]}),i.jsxs("div",{className:"flex flex-col items-center bg-yellow-100 dark:bg-yellow-900/30 rounded-xl p-3 min-w-[60px]",children:[i.jsx("div",{className:"text-2xl font-bold text-yellow-600 dark:text-yellow-400",children:r.minutes.toString().padStart(2,"0")}),i.jsx("div",{className:"text-xs text-yellow-600 dark:text-yellow-400 font-medium",children:"Minutes"})]}),i.jsxs("div",{className:"flex flex-col items-center bg-green-100 dark:bg-green-900/30 rounded-xl p-3 min-w-[60px]",children:[i.jsx("div",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:r.seconds.toString().padStart(2,"0")}),i.jsx("div",{className:"text-xs text-green-600 dark:text-green-400 font-medium",children:"Seconds"})]})]}):i.jsx("div",{className:`flex items-center justify-center gap-2 ${t}`,children:i.jsx("span",{className:"text-sm text-slate-500 dark:text-slate-400",children:"No end date set"})})}function zq(){const[e,t]=h.useState({banner1_text:"",banner1_link:"",banner1_image:null,banner2_text:"",banner2_link:"",banner2_image:null,banner3_text:"",banner3_link:"",banner3_image:null,deal1_title:"",deal1_subtitle:"",deal1_discount:"",deal1_description:"",deal1_image:null,deal1_end_date:"",deal2_image:null,street_address:"",city:"",postcode:"",country:"",home_hero_subtitle:"",home_services_description:"",home_categories_description:"",services_page_title:"",services_page_description:""}),[r,n]=h.useState([]),[a,s]=h.useState([]),[l,o]=h.useState(""),[c,u]=h.useState(""),[d,f]=h.useState(!1),[m,p]=h.useState(null),[x,g]=h.useState(null),[v,b]=h.useState(null),[y,w]=h.useState(null),[k,N]=h.useState(null),[S,j]=h.useState(null);h.useEffect(()=>{console.log("[ContentPage] mounted"),P()},[]);const P=async()=>{var T,K,I,G,M,W,J;try{const[Q,q,Pe]=await Promise.all([yf(),bf(),CA()]);n((Q==null?void 0:Q.results)||((T=Q==null?void 0:Q.data)==null?void 0:T.results)||(Q==null?void 0:Q.data)||Q||[]),s((q==null?void 0:q.results)||((K=q==null?void 0:q.data)==null?void 0:K.results)||(q==null?void 0:q.data)||q||[]);const L=(Pe==null?void 0:Pe.data)||Pe||{};console.log("Loaded content data:",L),t(ae=>({...ae,banner1_text:L.banner1_text||"",banner1_link:L.banner1_link||"",banner1_image:L.banner1_image||"",banner2_text:L.banner2_text||"",banner2_link:L.banner2_link||"",banner2_image:L.banner2_image||"",banner3_text:L.banner3_text||"",banner3_link:L.banner3_link||"",banner3_image:L.banner3_image||"",deal1_title:L.deal1_title||"",deal1_subtitle:L.deal1_subtitle||"",deal1_discount:L.deal1_discount||"",deal1_description:L.deal1_description||"",deal1_image:L.deal1_image||"",deal1_end_date:L.deal1_end_date||"",deal2_image:L.deal2_image||"",street_address:L.street_address||"",city:L.city||"",postcode:L.postcode||"",country:L.country||"",home_hero_subtitle:L.home_hero_subtitle||"",home_services_description:L.home_services_description||"",services_page_title:L.services_page_title||"",services_page_description:L.services_page_description||""}))}catch(Q){console.error("Failed to load data:",Q),console.error("Error details:",{message:Q.message,status:(I=Q.response)==null?void 0:I.status,data:(G=Q.response)==null?void 0:G.data}),n([]),s([]);let q="Failed to load content data.";((M=Q.response)==null?void 0:M.status)===401?q="Authentication failed. Please log in again.":((W=Q.response)==null?void 0:W.status)===403?q="Access denied. You may not have admin permissions.":((J=Q.response)==null?void 0:J.status)>=500?q="Server error. Please try again later.":Q.message&&(q=Q.message),p({kind:"error",text:q})}},D=async T=>{var K;T.preventDefault(),f(!0),p(null);try{const I=new FormData;I.append("banner1_text",e.banner1_text),I.append("banner1_link",e.banner1_link),I.append("banner2_text",e.banner2_text),I.append("banner2_link",e.banner2_link),I.append("banner3_text",e.banner3_text),I.append("banner3_link",e.banner3_link),I.append("deal1_title",e.deal1_title),I.append("deal1_subtitle",e.deal1_subtitle),I.append("deal1_discount",e.deal1_discount),I.append("deal1_description",e.deal1_description),I.append("deal1_end_date",e.deal1_end_date),I.append("street_address",e.street_address),I.append("city",e.city),I.append("postcode",e.postcode),I.append("country",e.country),I.append("home_hero_subtitle",e.home_hero_subtitle),I.append("home_services_description",e.home_services_description),I.append("home_categories_description",e.home_categories_description),I.append("services_page_title",e.services_page_title),I.append("services_page_description",e.services_page_description),x&&I.append("banner1_image",x),v&&I.append("banner2_image",v),y&&I.append("banner3_image",y),k&&I.append("deal1_image",k),S&&I.append("deal2_image",S),console.log("Saving content data:",{banner1_text:e.banner1_text,banner1_link:e.banner1_link,banner2_text:e.banner2_text,banner2_link:e.banner2_link,banner3_text:e.banner3_text,banner3_link:e.banner3_link,street_address:e.street_address,city:e.city,postcode:e.postcode,country:e.country,has_banner1_file:!!x,has_banner2_file:!!v,has_banner3_file:!!y});const G=await EA(I);console.log("Save result:",G.data),p({kind:"success",text:"Content saved successfully! Updated on storefront."}),g(null),b(null),w(null),N(null),await P()}catch(I){console.error("Failed to save content:",I),console.error("Error details:",(K=I.response)==null?void 0:K.data),p({kind:"error",text:`Failed to save contact information: ${I.uiMessage||I.message}`})}finally{f(!1)}},O=async()=>{if(!l.trim()){p({kind:"error",text:"Please enter a brand name."});return}f(!0),p(null);try{const T=await iy({name:l.trim()});n(K=>[T.data,...K]),o(""),p({kind:"success",text:"Brand added successfully!"})}catch{p({kind:"error",text:"Failed to add brand."})}finally{f(!1)}},$=async T=>{var K,I,G;if(confirm("Are you sure you want to delete this brand?")){f(!0),p(null);try{await ly(T),n(M=>M.filter(W=>W.id!==T)),p({kind:"success",text:"Brand deleted successfully!"})}catch(M){let W="Failed to delete brand.";((K=M==null?void 0:M.response)==null?void 0:K.status)===400&&((G=(I=M==null?void 0:M.response)==null?void 0:I.data)!=null&&G.detail)&&(W=M.response.data.detail),p({kind:"error",text:W})}finally{f(!1)}}},B=async()=>{if(!c.trim()){p({kind:"error",text:"Please enter a category name."});return}f(!0),p(null);try{const T=await wf({name:c.trim()});s(K=>[T.data,...K]),u(""),p({kind:"success",text:"Category added successfully!"})}catch{p({kind:"error",text:"Failed to add category."})}finally{f(!1)}},U=async T=>{var K,I,G;if(confirm("Are you sure you want to delete this category?")){f(!0),p(null);try{await kf(T),s(M=>M.filter(W=>W.id!==T)),p({kind:"success",text:"Category deleted successfully!"})}catch(M){let W="Failed to delete category.";((K=M==null?void 0:M.response)==null?void 0:K.status)===400&&((G=(I=M==null?void 0:M.response)==null?void 0:I.data)!=null&&G.detail)&&(W=M.response.data.detail),p({kind:"error",text:W})}finally{f(!1)}}};return i.jsx(Rn,{children:i.jsxs("div",{className:"space-y-8",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[i.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-purple-500 to-pink-600 rounded-xl flex items-center justify-center",children:i.jsx("span",{className:"text-white text-lg",children:""})}),i.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-100",children:"Content Management"})]}),m&&i.jsx(hn,{message:m.text,type:m.kind==="success"?"success":"error",onClose:()=>p(null),autoClose:!0,duration:1e3}),i.jsxs("section",{className:"rounded-3xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 shadow-lg hover:shadow-xl transition-all duration-300 p-6",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[i.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-green-500 to-teal-600 rounded-xl flex items-center justify-center",children:i.jsx("span",{className:"text-white text-lg",children:""})}),i.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-100",children:"Home Page Content"})]}),i.jsxs("form",{onSubmit:D,className:"space-y-6",children:[i.jsxs("div",{className:"p-6 bg-gradient-to-r from-green-50 to-teal-50 dark:from-green-900/20 dark:to-teal-900/20 rounded-3xl border border-green-200 dark:border-green-800",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-green-500 to-teal-600 rounded-lg flex items-center justify-center",children:i.jsx("span",{className:"text-white text-sm",children:""})}),i.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-slate-100",children:"Hero Section Subtitle"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"block text-sm font-semibold text-slate-700 dark:text-slate-300",children:"Subtitle Text (appears below the welcome message)"}),i.jsx(Bt,{value:e.home_hero_subtitle,onChange:T=>t(K=>({...K,home_hero_subtitle:T.target.value})),placeholder:"Enter the hero section subtitle text...",rows:3,className:"w-full"}),i.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:'This text appears below "Welcome to [Store Name]" on the home page'})]})]}),i.jsxs("div",{className:"p-6 bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 rounded-3xl border border-blue-200 dark:border-blue-800",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-blue-500 to-indigo-600 rounded-lg flex items-center justify-center",children:i.jsx("span",{className:"text-white text-sm",children:""})}),i.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-slate-100",children:"Product Categories Section Description"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"block text-sm font-semibold text-slate-700 dark:text-slate-300",children:"Categories Description Text"}),i.jsx(Bt,{value:e.home_categories_description,onChange:T=>t(K=>({...K,home_categories_description:T.target.value})),placeholder:"Enter the product categories section description text...",rows:3,className:"w-full"}),i.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"This text appears in the product categories section on the home page"})]})]}),i.jsxs("div",{className:"p-6 bg-gradient-to-r from-purple-50 to-pink-50 dark:from-purple-900/20 dark:to-pink-900/20 rounded-3xl border border-purple-200 dark:border-purple-800",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-purple-500 to-pink-600 rounded-lg flex items-center justify-center",children:i.jsx("span",{className:"text-white text-sm",children:""})}),i.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-slate-100",children:"Services Section Description"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"block text-sm font-semibold text-slate-700 dark:text-slate-300",children:"Services Description Text"}),i.jsx(Bt,{value:e.home_services_description,onChange:T=>t(K=>({...K,home_services_description:T.target.value})),placeholder:"Enter the services section description text...",rows:3,className:"w-full"}),i.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"This text appears in the services section on the home page"})]})]}),i.jsxs("div",{className:"p-6 bg-gradient-to-r from-indigo-50 to-blue-50 dark:from-indigo-900/20 dark:to-blue-900/20 rounded-3xl border border-indigo-200 dark:border-indigo-800",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-indigo-500 to-blue-600 rounded-lg flex items-center justify-center",children:i.jsx("span",{className:"text-white text-sm",children:""})}),i.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-slate-100",children:"All Services Page Content"})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"block text-sm font-semibold text-slate-700 dark:text-slate-300",children:"Services Page Title"}),i.jsx(de,{value:e.services_page_title,onChange:T=>t(K=>({...K,services_page_title:T.target.value})),placeholder:"Enter the services page title (e.g., 'Professional Electrical Services')",className:"w-full"}),i.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"This title appears in the hero section of the services page"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"block text-sm font-semibold text-slate-700 dark:text-slate-300",children:"Services Page Description Text"}),i.jsx(Bt,{value:e.services_page_description,onChange:T=>t(K=>({...K,services_page_description:T.target.value})),placeholder:"Enter the services page description text...",rows:3,className:"w-full"}),i.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"This description appears below the title in the hero section of the services page (http://127.0.0.1:5173/services)"})]})]})]}),i.jsx("div",{className:"flex justify-end pt-4",children:i.jsx(_e,{type:"submit",disabled:d,loading:d,variant:"primary",icon:"",className:"px-8 py-3",children:"Save Home Page Content"})})]})]}),i.jsxs("section",{className:"rounded-3xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 shadow-lg hover:shadow-xl transition-all duration-300 p-6",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[i.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-500 to-purple-600 rounded-xl flex items-center justify-center",children:i.jsx("span",{className:"text-white text-lg",children:""})}),i.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-100",children:"Homepage Banners"})]}),i.jsxs("form",{onSubmit:D,className:"space-y-8",children:[i.jsxs("div",{className:"p-6 bg-gradient-to-r from-blue-50 to-purple-50 dark:from-blue-900/20 dark:to-purple-900/20 rounded-3xl border border-blue-200 dark:border-blue-800",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-blue-500 to-purple-600 rounded-lg flex items-center justify-center",children:i.jsx("span",{className:"text-white text-sm",children:"1"})}),i.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-slate-100",children:"First Banner"})]}),i.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"block text-sm font-semibold text-slate-700 dark:text-slate-300",children:"Banner Text"}),i.jsx(de,{value:e.banner1_text,onChange:T=>t(K=>({...K,banner1_text:T.target.value})),placeholder:"Enter banner text"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"block text-sm font-semibold text-slate-700 dark:text-slate-300",children:"Banner Link"}),i.jsx(de,{value:e.banner1_link,onChange:T=>t(K=>({...K,banner1_link:T.target.value})),placeholder:"Enter banner link"})]})]}),i.jsxs("div",{className:"mt-4 space-y-2",children:[i.jsx("label",{className:"block text-sm font-semibold text-slate-700 dark:text-slate-300",children:"Banner Image"}),i.jsxs("div",{className:"flex items-center gap-4",children:[e.banner1_image&&i.jsx("img",{src:e.banner1_image,alt:"Banner 1",className:"w-32 h-20 object-cover rounded-xl border border-slate-200 dark:border-slate-600"}),i.jsx("input",{type:"file",accept:"image/*",onChange:T=>g(T.target.files[0]),className:"block text-sm text-slate-500 file:mr-4 file:py-2 file:px-4 file:rounded-xl file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100 dark:file:bg-blue-900/20 dark:file:text-blue-300"})]}),x&&i.jsx("div",{className:"mt-2",children:i.jsx("img",{src:URL.createObjectURL(x),alt:"New banner 1",className:"w-32 h-20 object-cover rounded-xl border border-slate-200 dark:border-slate-600"})})]})]}),i.jsxs("div",{className:"p-6 bg-gradient-to-r from-emerald-50 to-teal-50 dark:from-emerald-900/20 dark:to-teal-900/20 rounded-3xl border border-emerald-200 dark:border-emerald-800",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-emerald-500 to-teal-600 rounded-lg flex items-center justify-center",children:i.jsx("span",{className:"text-white text-sm",children:"2"})}),i.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-slate-100",children:"Second Banner"})]}),i.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"block text-sm font-semibold text-slate-700 dark:text-slate-300",children:"Banner Text"}),i.jsx(de,{value:e.banner2_text,onChange:T=>t(K=>({...K,banner2_text:T.target.value})),placeholder:"Enter banner text"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"block text-sm font-semibold text-slate-700 dark:text-slate-300",children:"Banner Link"}),i.jsx(de,{value:e.banner2_link,onChange:T=>t(K=>({...K,banner2_link:T.target.value})),placeholder:"Enter banner link"})]})]}),i.jsxs("div",{className:"mt-4 space-y-2",children:[i.jsx("label",{className:"block text-sm font-semibold text-slate-700 dark:text-slate-300",children:"Banner Image"}),i.jsxs("div",{className:"flex items-center gap-4",children:[e.banner2_image&&i.jsx("img",{src:e.banner2_image,alt:"Banner 2",className:"w-32 h-20 object-cover rounded-xl border border-slate-200 dark:border-slate-600"}),i.jsx("input",{type:"file",accept:"image/*",onChange:T=>b(T.target.files[0]),className:"block text-sm text-slate-500 file:mr-4 file:py-2 file:px-4 file:rounded-xl file:border-0 file:text-sm file:font-semibold file:bg-emerald-50 file:text-emerald-700 hover:file:bg-emerald-100 dark:file:bg-emerald-900/20 dark:file:text-emerald-300"})]}),v&&i.jsx("div",{className:"mt-2",children:i.jsx("img",{src:URL.createObjectURL(v),alt:"New banner 2",className:"w-32 h-20 object-cover rounded-xl border border-slate-200 dark:border-slate-600"})})]})]}),i.jsxs("div",{className:"p-6 bg-gradient-to-r from-orange-50 to-yellow-50 dark:from-orange-900/20 dark:to-yellow-900/20 rounded-3xl border border-orange-200 dark:border-orange-800",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-orange-500 to-yellow-600 rounded-lg flex items-center justify-center",children:i.jsx("span",{className:"text-white text-sm",children:"3"})}),i.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-slate-100",children:"Third Banner"})]}),i.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"block text-sm font-semibold text-slate-700 dark:text-slate-300",children:"Banner Text"}),i.jsx(de,{value:e.banner3_text,onChange:T=>t(K=>({...K,banner3_text:T.target.value})),placeholder:"Enter banner text"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"block text-sm font-semibold text-slate-700 dark:text-slate-300",children:"Banner Link"}),i.jsx(de,{value:e.banner3_link,onChange:T=>t(K=>({...K,banner3_link:T.target.value})),placeholder:"Enter banner link"})]})]}),i.jsxs("div",{className:"mt-4 space-y-2",children:[i.jsx("label",{className:"block text-sm font-semibold text-slate-700 dark:text-slate-300",children:"Banner Image"}),i.jsxs("div",{className:"flex items-center gap-4",children:[e.banner3_image&&i.jsx("img",{src:e.banner3_image,alt:"Banner 3",className:"w-32 h-20 object-cover rounded-xl border border-slate-200 dark:border-slate-600"}),i.jsx("input",{type:"file",accept:"image/*",onChange:T=>w(T.target.files[0]),className:"block text-sm text-slate-500 file:mr-4 file:py-2 file:px-4 file:rounded-xl file:border-0 file:text-sm file:font-semibold file:bg-orange-50 file:text-orange-700 hover:file:bg-orange-100 dark:file:bg-orange-900/20 dark:file:text-orange-300"})]}),y&&i.jsx("div",{className:"mt-2",children:i.jsx("img",{src:URL.createObjectURL(y),alt:"New banner 3",className:"w-32 h-20 object-cover rounded-xl border border-slate-200 dark:border-slate-600"})})]})]}),i.jsx("div",{className:"flex justify-end",children:i.jsx(_e,{type:"submit",disabled:d,loading:d,variant:"primary",icon:"",className:"whitespace-nowrap min-w-fit flex-shrink-0",children:"Save Banners"})})]})]}),i.jsxs("section",{className:"rounded-3xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 shadow-lg hover:shadow-xl transition-all duration-300 p-6",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[i.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-red-500 to-orange-600 rounded-xl flex items-center justify-center",children:i.jsx("span",{className:"text-white text-lg",children:""})}),i.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-100",children:"Hot Deals This Week"})]}),i.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-6",children:"Configure hot deal products with countdown timers and promotional content."}),i.jsxs("form",{onSubmit:D,className:"space-y-8",children:[i.jsxs("div",{className:"p-6 bg-gradient-to-r from-red-50 to-orange-50 dark:from-red-900/20 dark:to-orange-900/20 rounded-3xl border border-red-200 dark:border-red-800",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-red-500 to-orange-600 rounded-lg flex items-center justify-center",children:i.jsx("span",{className:"text-white text-sm",children:""})}),i.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-slate-100",children:"Hot Deal Product"})]}),i.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"block text-sm font-semibold text-slate-700 dark:text-slate-300",children:"Title"}),i.jsx(de,{value:e.deal1_title,onChange:T=>t(K=>({...K,deal1_title:T.target.value})),placeholder:"Enter deal title"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"block text-sm font-semibold text-slate-700 dark:text-slate-300",children:"Subtitle"}),i.jsx(de,{value:e.deal1_subtitle,onChange:T=>t(K=>({...K,deal1_subtitle:T.target.value})),placeholder:"Enter deal subtitle"})]})]}),i.jsxs("div",{className:"grid gap-4 md:grid-cols-2 mt-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"block text-sm font-semibold text-slate-700 dark:text-slate-300",children:"Discount"}),i.jsx(de,{value:e.deal1_discount,onChange:T=>t(K=>({...K,deal1_discount:T.target.value})),placeholder:"e.g., Up to 50% Off"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"block text-sm font-semibold text-slate-700 dark:text-slate-300",children:"End Date"}),i.jsx(de,{type:"datetime-local",value:e.deal1_end_date,onChange:T=>t(K=>({...K,deal1_end_date:T.target.value}))})]})]}),i.jsxs("div",{className:"mt-4 space-y-2",children:[i.jsx("label",{className:"block text-sm font-semibold text-slate-700 dark:text-slate-300",children:"Description"}),i.jsx(Bt,{value:e.deal1_description,onChange:T=>t(K=>({...K,deal1_description:T.target.value})),placeholder:"Enter deal description",rows:3})]}),e.deal1_end_date&&i.jsxs("div",{className:"mt-6 p-4 bg-gradient-to-r from-red-100 to-orange-100 dark:from-red-900/30 dark:to-orange-900/30 rounded-2xl border border-red-200 dark:border-red-800",children:[i.jsxs("div",{className:"text-center mb-4",children:[i.jsx("h4",{className:"text-lg font-bold text-slate-800 dark:text-slate-100 mb-2",children:"Live Countdown Preview"}),i.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"This is how the countdown will appear on the storefront"})]}),i.jsx(Bq,{endDate:e.deal1_end_date}),i.jsx("div",{className:"mt-4 text-center",children:i.jsxs("a",{href:"http://localhost:5173/shop",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-red-500 to-orange-600 text-white font-bold rounded-xl hover:from-red-600 hover:to-orange-700 transition-all duration-300 shadow-lg hover:shadow-xl transform hover:-translate-y-1",children:[i.jsx("span",{children:""}),"Shop Now"]})})]}),i.jsxs("div",{className:"mt-4 space-y-2",children:[i.jsx("label",{className:"block text-sm font-semibold text-slate-700 dark:text-slate-300",children:"Deal Image"}),i.jsxs("div",{className:"flex items-center gap-4",children:[e.deal1_image&&i.jsx("img",{src:e.deal1_image,alt:"Deal 1",className:"w-32 h-20 object-cover rounded-xl border border-slate-200 dark:border-slate-600"}),i.jsx("input",{type:"file",accept:"image/*",onChange:T=>N(T.target.files[0]),className:"block text-sm text-slate-500 file:mr-4 file:py-2 file:px-4 file:rounded-xl file:border-0 file:text-sm file:font-semibold file:bg-red-50 file:text-red-700 hover:file:bg-red-100 dark:file:bg-red-900/20 dark:file:text-red-300"})]}),k&&i.jsx("div",{className:"mt-2",children:i.jsx("img",{src:URL.createObjectURL(k),alt:"New deal 1",className:"w-32 h-20 object-cover rounded-xl border border-slate-200 dark:border-slate-600"})})]})]}),i.jsxs("div",{className:"p-6 bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 rounded-3xl border border-blue-200 dark:border-blue-800",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-blue-500 to-indigo-600 rounded-lg flex items-center justify-center",children:i.jsx("span",{className:"text-white text-sm",children:""})}),i.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-slate-100",children:"Second Deal Image"})]}),i.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-4",children:"Upload a different image for the right side of the banner. The content (title, subtitle, discount, description, countdown) will be the same as the main deal above."}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"block text-sm font-semibold text-slate-700 dark:text-slate-300",children:"Second Deal Image"}),i.jsxs("div",{className:"flex items-center gap-4",children:[e.deal2_image&&i.jsx("img",{src:e.deal2_image,alt:"Deal 2",className:"w-32 h-20 object-cover rounded-xl border border-slate-200 dark:border-slate-600"}),i.jsx("input",{type:"file",accept:"image/*",onChange:T=>j(T.target.files[0]),className:"block text-sm text-slate-500 file:mr-4 file:py-2 file:px-4 file:rounded-xl file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100 dark:file:bg-blue-900/20 dark:file:text-blue-300"})]}),S&&i.jsx("div",{className:"mt-2",children:i.jsx("img",{src:URL.createObjectURL(S),alt:"New deal 2",className:"w-32 h-20 object-cover rounded-xl border border-slate-200 dark:border-slate-600"})})]})]}),i.jsx("div",{className:"flex justify-end",children:i.jsx(_e,{type:"submit",disabled:d,loading:d,variant:"danger",icon:"",className:"whitespace-nowrap min-w-fit flex-shrink-0",children:"Save Deals"})})]})]}),i.jsxs("section",{className:"rounded-3xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 shadow-lg hover:shadow-xl transition-all duration-300 p-6",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[i.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-emerald-500 to-teal-600 rounded-xl flex items-center justify-center",children:i.jsx("span",{className:"text-white text-lg",children:""})}),i.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-100",children:"Brands Management"})]}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"p-4 bg-gradient-to-r from-emerald-50 to-teal-50 dark:from-emerald-900/20 dark:to-teal-900/20 rounded-2xl border border-emerald-200 dark:border-emerald-800",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-emerald-500 to-teal-600 rounded-lg flex items-center justify-center",children:i.jsx("span",{className:"text-white text-sm",children:""})}),i.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-slate-100",children:"Add New Brand"})]}),i.jsxs("div",{className:"flex gap-3",children:[i.jsx(de,{value:l,onChange:T=>o(T.target.value),placeholder:"Enter brand name",className:"flex-1"}),i.jsx(_e,{onClick:O,disabled:d||!l.trim(),loading:d,variant:"success",icon:"",className:"whitespace-nowrap min-w-fit flex-shrink-0",children:"Add Brand"})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("h3",{className:"text-lg font-semibold text-slate-700 dark:text-slate-300",children:"Current Brands"}),r.map(T=>i.jsx("div",{className:"p-4 bg-slate-50 dark:bg-slate-700 rounded-2xl border border-slate-200 dark:border-slate-600 hover:shadow-md transition-all duration-300",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-emerald-500 to-teal-600 rounded-lg flex items-center justify-center",children:i.jsx("span",{className:"text-white text-sm",children:""})}),i.jsx("span",{className:"font-semibold text-slate-800 dark:text-slate-200",children:T.name})]}),i.jsx(_e,{onClick:()=>$(T.id),disabled:d,variant:"danger",icon:"",className:"whitespace-nowrap min-w-fit flex-shrink-0",children:"Delete"})]})},T.id)),r.length===0&&i.jsxs("div",{className:"text-center py-8",children:[i.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-slate-200 to-slate-300 dark:from-slate-600 dark:to-slate-700 rounded-2xl flex items-center justify-center mx-auto mb-3",children:i.jsx("span",{className:"text-xl",children:""})}),i.jsx("div",{className:"text-slate-600 dark:text-slate-400 font-medium",children:"No brands found"}),i.jsx("div",{className:"text-sm text-slate-500 dark:text-slate-500 mt-1",children:"Add your first brand using the form above"})]})]})]})]}),i.jsxs("section",{className:"rounded-3xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 shadow-lg hover:shadow-xl transition-all duration-300 p-6",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[i.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-orange-500 to-yellow-600 rounded-xl flex items-center justify-center",children:i.jsx("span",{className:"text-white text-lg",children:""})}),i.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-100",children:"Categories Management"})]}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"p-4 bg-gradient-to-r from-orange-50 to-yellow-50 dark:from-orange-900/20 dark:to-yellow-900/20 rounded-2xl border border-orange-200 dark:border-orange-800",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-orange-500 to-yellow-600 rounded-lg flex items-center justify-center",children:i.jsx("span",{className:"text-white text-sm",children:""})}),i.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-slate-100",children:"Add New Category"})]}),i.jsxs("div",{className:"flex gap-3",children:[i.jsx(de,{value:c,onChange:T=>u(T.target.value),placeholder:"Enter category name",className:"flex-1"}),i.jsx(_e,{onClick:B,disabled:d||!c.trim(),loading:d,variant:"warning",icon:"",className:"whitespace-nowrap min-w-fit flex-shrink-0",children:"Add Category"})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("h3",{className:"text-lg font-semibold text-slate-700 dark:text-slate-300",children:"Current Categories"}),a.map(T=>i.jsx("div",{className:"p-4 bg-slate-50 dark:bg-slate-700 rounded-2xl border border-slate-200 dark:border-slate-600 hover:shadow-md transition-all duration-300",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-orange-500 to-yellow-600 rounded-lg flex items-center justify-center",children:i.jsx("span",{className:"text-white text-sm",children:""})}),i.jsx("span",{className:"font-semibold text-slate-800 dark:text-slate-200",children:T.name})]}),i.jsx(_e,{onClick:()=>U(T.id),disabled:d,variant:"danger",icon:"",className:"whitespace-nowrap min-w-fit flex-shrink-0",children:"Delete"})]})},T.id)),a.length===0&&i.jsxs("div",{className:"text-center py-8",children:[i.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-slate-200 to-slate-300 dark:from-slate-600 dark:to-slate-700 rounded-2xl flex items-center justify-center mx-auto mb-3",children:i.jsx("span",{className:"text-xl",children:""})}),i.jsx("div",{className:"text-slate-600 dark:text-slate-400 font-medium",children:"No categories found"}),i.jsx("div",{className:"text-sm text-slate-500 dark:text-slate-500 mt-1",children:"Add your first category using the form above"})]})]})]})]})]})})}function Uq(){const{token:e}=Ht(),[t,r]=h.useState([]),[n,a]=h.useState(!0),[s,l]=h.useState(null),[o,c]=h.useState(null),[u,d]=h.useState(1),[f,m]=h.useState(!1),[p,x]=h.useState(!1),[g,v]=h.useState(""),b=async()=>{var N,S;try{a(!0),l(null),console.log("Admin Reviews: Loading reviews with token:",e?"Present":"Missing");const j={page:u};g&&(j.product=g),console.log("Admin Reviews: Fetching reviews with params:",j);const P=await wA(j);console.log("Admin Reviews: Response received:",P);const D=(P==null?void 0:P.data)||P||{};console.log("Admin Reviews: Data received:",D),r((D==null?void 0:D.results)||D||[]),m(!!(D!=null&&D.next)),x(!!(D!=null&&D.previous))}catch(j){console.error("Admin Reviews: Failed to load product reviews:",j),console.error("Error details:",{message:j.message,status:(N=j.response)==null?void 0:N.status,data:(S=j.response)==null?void 0:S.data}),r([]),m(!1),x(!1),l("Failed to load product reviews. Please try again.")}finally{a(!1)}};h.useEffect(()=>{b()},[u,g]);const y=async N=>{if(confirm("Are you sure you want to delete this review? This action cannot be undone."))try{await kA(N),c("Review deleted successfully"),await b()}catch(S){console.error("Failed to delete review:",S),l("Failed to delete review. Please try again.")}},w=N=>new Date(N).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),k=N=>"".repeat(N)+"".repeat(5-N);return i.jsx(Rn,{children:i.jsxs("div",{className:"space-y-6",children:[i.jsx("div",{className:"flex items-center justify-between",children:i.jsx("h1",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200",children:"Product Reviews Management"})}),s&&i.jsx(hn,{type:"error",onClose:()=>l(null),children:s}),o&&i.jsx(hn,{type:"success",onClose:()=>c(null),children:o}),i.jsx(ut,{children:i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Filter by Product"}),i.jsx("input",{type:"text",value:g,onChange:N=>v(N.target.value),placeholder:"Enter product name or ID...",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),i.jsx("div",{className:"flex items-end",children:i.jsx(_e,{onClick:()=>{v(""),d(1)},variant:"secondary",children:"Clear Filters"})})]})}),i.jsxs(ut,{children:[i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full text-sm",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"text-left border-b border-slate-200 dark:border-slate-700",children:[i.jsx("th",{className:"py-3 pr-4 text-slate-700 dark:text-slate-300",children:"Product"}),i.jsx("th",{className:"py-3 pr-4 text-slate-700 dark:text-slate-300",children:"User"}),i.jsx("th",{className:"py-3 pr-4 text-slate-700 dark:text-slate-300",children:"Rating"}),i.jsx("th",{className:"py-3 pr-4 text-slate-700 dark:text-slate-300",children:"Comment"}),i.jsx("th",{className:"py-3 pr-4 text-slate-700 dark:text-slate-300",children:"Date"}),i.jsx("th",{className:"py-3 text-slate-700 dark:text-slate-300",children:"Actions"})]})}),i.jsx("tbody",{children:n?i.jsx("tr",{children:i.jsx("td",{colSpan:"6",className:"py-8 text-center text-slate-500 dark:text-slate-400",children:"Loading reviews..."})}):t.length===0?i.jsx("tr",{children:i.jsx("td",{colSpan:"6",className:"py-8 text-center text-slate-500 dark:text-slate-400",children:"No product reviews found."})}):t.map(N=>i.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700 hover:bg-slate-50 dark:hover:bg-slate-800",children:[i.jsx("td",{className:"py-3 pr-4",children:i.jsx("div",{className:"font-medium text-slate-900 dark:text-slate-100",children:N.product_name||`Product #${N.product}`})}),i.jsx("td",{className:"py-3 pr-4",children:i.jsx("div",{className:"text-slate-700 dark:text-slate-300",children:N.author_name||N.user_name||"Anonymous"})}),i.jsx("td",{className:"py-3 pr-4",children:i.jsxs("div",{className:"flex items-center space-x-1",children:[i.jsx("span",{className:"text-yellow-500",children:k(N.rating)}),i.jsxs("span",{className:"text-slate-600 dark:text-slate-400",children:["(",N.rating,"/5)"]})]})}),i.jsx("td",{className:"py-3 pr-4",children:i.jsx("div",{className:"max-w-xs truncate text-slate-700 dark:text-slate-300",children:N.comment||"No comment"})}),i.jsx("td",{className:"py-3 pr-4",children:i.jsx("div",{className:"text-slate-600 dark:text-slate-400",children:w(N.created_at)})}),i.jsx("td",{className:"py-3",children:i.jsx("div",{className:"flex items-center space-x-2",children:i.jsx(_e,{onClick:()=>y(N.id),variant:"danger",size:"sm",children:"Delete"})})})]},N.id))})]})}),i.jsxs("div",{className:"flex items-center justify-between mt-4 pt-4 border-t border-slate-200 dark:border-slate-700",children:[i.jsxs("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:["Showing ",t.length," review",t.length!==1?"s":""]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(_e,{onClick:()=>d(u-1),disabled:!p,variant:"secondary",size:"sm",children:"Previous"}),i.jsxs("span",{className:"px-3 py-1 text-sm text-slate-600 dark:text-slate-400",children:["Page ",u]}),i.jsx(_e,{onClick:()=>d(u+1),disabled:!f,variant:"secondary",size:"sm",children:"Next"})]})]})]})]})})}function Wq(){const[e,t]=h.useState([]),[r,n]=h.useState(!0),[a,s]=h.useState(null),[l,o]=h.useState(null),[c,u]=h.useState(1),[d,f]=h.useState(!1),[m,p]=h.useState(!1),[x,g]=h.useState(""),[v,b]=h.useState(""),y=async()=>{var j,P;try{n(!0),s(null);const D={page:c};x&&(D.service=x),v!==""&&(D.verified=v);const O=await jA(D),$=(O==null?void 0:O.data)||O||{};t(($==null?void 0:$.results)||$||[]),f(!!($!=null&&$.next)),p(!!($!=null&&$.previous))}catch(D){console.error("Failed to load service reviews:",D),console.error("Error details:",{message:D.message,status:(j=D.response)==null?void 0:j.status,data:(P=D.response)==null?void 0:P.data}),t([]),f(!1),p(!1),s("Failed to load service reviews. Please try again.")}finally{n(!1)}};h.useEffect(()=>{y()},[c,x,v]);const w=async j=>{if(confirm("Are you sure you want to delete this review? This action cannot be undone."))try{await NA(j),o("Review deleted successfully"),await y()}catch(P){console.error("Failed to delete review:",P),s("Failed to delete review. Please try again.")}},k=async j=>{try{j.verified?(await PA(j.id),o("Review marked as unverified")):(await SA(j.id),o("Review marked as verified")),await y()}catch(P){console.error("Failed to update review verification:",P),s("Failed to update review verification. Please try again.")}},N=j=>new Date(j).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),S=j=>"".repeat(j)+"".repeat(5-j);return i.jsx(Rn,{children:i.jsxs("div",{className:"space-y-6",children:[i.jsx("div",{className:"flex items-center justify-between",children:i.jsx("h1",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200",children:"Service Reviews Management"})}),a&&i.jsx(hn,{type:"error",onClose:()=>s(null),children:a}),l&&i.jsx(hn,{type:"success",onClose:()=>o(null),children:l}),i.jsx(ut,{children:i.jsxs("div",{className:"flex gap-4 items-end",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Filter by Service"}),i.jsx("input",{type:"text",value:x,onChange:j=>g(j.target.value),placeholder:"Enter service name...",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100"})]}),i.jsxs("div",{className:"flex-1",children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Filter by Verification Status"}),i.jsxs(cs,{value:v,onChange:j=>b(j.target.value),children:[i.jsx("option",{value:"",children:"All Reviews"}),i.jsx("option",{value:"true",children:"Verified Only"}),i.jsx("option",{value:"false",children:"Unverified Only"})]})]}),i.jsx(_e,{onClick:y,disabled:r,children:r?"Loading...":"Refresh"})]})}),i.jsxs(ut,{children:[i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full text-sm",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"text-left border-b border-slate-200 dark:border-slate-700",children:[i.jsx("th",{className:"py-3 pr-4 text-slate-700 dark:text-slate-300",children:"Service"}),i.jsx("th",{className:"py-3 pr-4 text-slate-700 dark:text-slate-300",children:"Author"}),i.jsx("th",{className:"py-3 pr-4 text-slate-700 dark:text-slate-300",children:"Rating"}),i.jsx("th",{className:"py-3 pr-4 text-slate-700 dark:text-slate-300",children:"Comment"}),i.jsx("th",{className:"py-3 pr-4 text-slate-700 dark:text-slate-300",children:"Verified"}),i.jsx("th",{className:"py-3 pr-4 text-slate-700 dark:text-slate-300",children:"Date"}),i.jsx("th",{className:"py-3 text-slate-700 dark:text-slate-300",children:"Actions"})]})}),i.jsx("tbody",{children:r?i.jsx("tr",{children:i.jsx("td",{colSpan:"7",className:"py-8 text-center text-slate-500 dark:text-slate-400",children:"Loading reviews..."})}):e.length===0?i.jsx("tr",{children:i.jsx("td",{colSpan:"7",className:"py-8 text-center text-slate-500 dark:text-slate-400",children:"No service reviews found."})}):e.map(j=>i.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700 hover:bg-slate-50 dark:hover:bg-slate-800",children:[i.jsx("td",{className:"py-3 pr-4",children:i.jsx("div",{className:"font-medium text-slate-900 dark:text-slate-100",children:j.service_name||`Service #${j.service}`})}),i.jsxs("td",{className:"py-3 pr-4",children:[i.jsx("div",{className:"text-slate-700 dark:text-slate-300",children:j.author_name}),j.user_name&&i.jsxs("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:["User: ",j.user_name]})]}),i.jsxs("td",{className:"py-3 pr-4",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-yellow-500 text-lg",children:S(j.rating)}),i.jsxs("span",{className:"text-slate-600 dark:text-slate-400",children:["(",j.rating,"/5)"]})]}),i.jsxs("div",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:["Quality: ",j.service_quality,"/5 | Communication: ",j.communication,"/5 | Timeliness: ",j.timeliness,"/5 | Value: ",j.value_for_money,"/5"]})]}),i.jsx("td",{className:"py-3 pr-4",children:i.jsx("div",{className:"max-w-xs",children:i.jsx("p",{className:"text-slate-700 dark:text-slate-300 line-clamp-3",children:j.comment})})}),i.jsx("td",{className:"py-3 pr-4",children:i.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${j.verified?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200"}`,children:j.verified?"Verified":"Unverified"})}),i.jsx("td",{className:"py-3 pr-4",children:i.jsx("div",{className:"text-slate-600 dark:text-slate-400",children:N(j.created_at)})}),i.jsx("td",{className:"py-3",children:i.jsxs("div",{className:"flex gap-2",children:[i.jsx(_e,{size:"sm",variant:j.verified?"secondary":"primary",onClick:()=>k(j),children:j.verified?"Unverify":"Verify"}),i.jsx(_e,{size:"sm",variant:"danger",onClick:()=>w(j.id),children:"Delete"})]})})]},j.id))})]})}),(d||m)&&i.jsxs("div",{className:"mt-6 flex items-center justify-between",children:[i.jsxs("div",{className:"flex gap-2",children:[i.jsx(_e,{variant:"secondary",disabled:!m||r,onClick:()=>u(c-1),children:"Previous"}),i.jsx(_e,{variant:"secondary",disabled:!d||r,onClick:()=>u(c+1),children:"Next"})]}),i.jsxs("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:["Page ",c]})]})]})]})})}const Kq=({faviconUrl:e})=>(h.useEffect(()=>{if(e){document.querySelectorAll('link[rel*="icon"]').forEach(a=>a.remove());const r=document.createElement("link");r.rel="icon",r.type="image/x-icon",r.href=e,document.head.appendChild(r);const n=document.createElement("link");n.rel="apple-touch-icon",n.href=e,document.head.appendChild(n)}},[e]),null);function Hq(){var y,w,k,N,S;const[e,t]=h.useState(null),[r,n]=h.useState(!0),[a,s]=h.useState(null),[l,o]=h.useState(null),[c,u]=h.useState(null),[d,f]=h.useState(null),[m,p]=h.useState(null),{currency:x,setCurrency:g,getCurrentCurrency:v}=Ol();h.useEffect(()=>{(async()=>{var j,P,D,O,$;try{console.log("[SETTINGS] Starting to load settings..."),n(!0),s(null),console.log("[SETTINGS] Calling getStoreSettings API...");const B=await _A();console.log("[SETTINGS] API Response:",B);const U=B;if(console.log("[SETTINGS] Settings data:",U),!U||typeof U!="object")throw new Error("Invalid settings data received from server");t(U),g(U.currency||"GBP"),console.log("[SETTINGS] Settings loaded successfully")}catch(B){console.error("[SETTINGS] Error loading settings:",B),console.error("[SETTINGS] Error details:",{message:B.message,response:B.response,status:(j=B.response)==null?void 0:j.status,data:(P=B.response)==null?void 0:P.data});let U="Failed to load settings";((D=B.response)==null?void 0:D.status)===401?U="Authentication failed. Please log in again.":((O=B.response)==null?void 0:O.status)===403?U="Access denied. You may not have admin permissions.":(($=B.response)==null?void 0:$.status)>=500?U="Server error. Please try again later.":B.message&&(U=B.message),s(U)}finally{n(!1),console.log("[SETTINGS] Loading finished")}})()},[]);const b=async j=>{if(j.preventDefault(),parseFloat(e.tax_rate)<0){o({kind:"error",text:"Tax rate cannot be negative. Please enter a value of 0 or greater."});return}if(parseFloat(e.shipping_rate)<0){o({kind:"error",text:"Shipping rate cannot be negative. Please enter a value of 0 or greater."});return}if(parseFloat(e.standard_shipping_rate||0)<0){o({kind:"error",text:"Standard shipping rate cannot be negative. Please enter a value of 0 or greater."});return}if(parseFloat(e.express_shipping_rate||0)<0){o({kind:"error",text:"Express shipping rate cannot be negative. Please enter a value of 0 or greater."});return}try{n(!0),s(null);const P=new FormData;P.append("store_name",e.store_name),P.append("currency",e.currency),P.append("tax_rate",parseFloat(e.tax_rate)),P.append("shipping_rate",parseFloat(e.shipping_rate)),P.append("standard_shipping_rate",parseFloat(e.standard_shipping_rate||0)),P.append("express_shipping_rate",parseFloat(e.express_shipping_rate||0)),P.append("street_address",e.street_address||""),P.append("city",e.city||""),P.append("postcode",e.postcode||""),P.append("country",e.country||""),P.append("phone",e.phone||""),P.append("email",e.email||""),P.append("monday_friday_hours",e.monday_friday_hours||""),P.append("saturday_hours",e.saturday_hours||""),P.append("sunday_hours",e.sunday_hours||""),c&&P.append("store_logo",c),d&&P.append("about_us_picture",d),m&&P.append("favicon",m),await AA(P),g(e.currency),u(null),f(null),p(null),o({kind:"success",text:"Settings saved successfully!"})}catch(P){s(P.message||"Failed to save settings"),console.error("Error saving settings:",P),o({kind:"error",text:"Failed to save settings: "+(P.message||"Unknown error")})}finally{n(!1)}};return!e&&!a?i.jsx(Rn,{children:i.jsx(ut,{children:i.jsxs("div",{className:"text-center py-12",children:[i.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-slate-200 to-slate-300 dark:from-slate-600 dark:to-slate-700 rounded-3xl flex items-center justify-center mx-auto mb-4",children:i.jsx("span",{className:"text-2xl",children:""})}),i.jsx("div",{className:"text-slate-600 dark:text-slate-400 font-medium",children:"Loading settings..."})]})})}):a?i.jsx(Rn,{children:i.jsx(ut,{children:i.jsxs("div",{className:"text-center py-12",children:[i.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-red-200 to-red-300 dark:from-red-600 dark:to-red-700 rounded-3xl flex items-center justify-center mx-auto mb-4",children:i.jsx("span",{className:"text-2xl",children:""})}),i.jsx("div",{className:"text-red-600 dark:text-red-400 font-medium",children:"Error loading settings"}),i.jsx("div",{className:"text-sm text-slate-500 dark:text-slate-400 mt-2",children:a}),i.jsx("button",{onClick:()=>window.location.reload(),className:"mt-4 px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:"Retry"})]})})}):i.jsxs(Rn,{children:[i.jsx(Kq,{faviconUrl:e==null?void 0:e.favicon}),l&&i.jsx(hn,{message:l.text,type:l.kind,onClose:()=>o(null),autoClose:!0,duration:1e3}),i.jsxs("form",{onSubmit:b,className:"space-y-8",children:[i.jsx(ma,{title:"Store Settings",icon:"",color:"primary",children:i.jsxs("div",{className:"space-y-6",children:[i.jsx(de,{label:"Store Name",value:e.store_name||"",onChange:j=>t(P=>({...P,store_name:j.target.value})),placeholder:"Enter store name"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Store Logo"}),i.jsx("input",{type:"file",accept:"image/*",onChange:j=>u(j.target.files[0]),className:"block w-full text-sm text-gray-500 dark:text-gray-400 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100 dark:file:bg-blue-900 dark:file:text-blue-300"}),e.store_logo&&i.jsx("div",{className:"mt-2",children:i.jsx("img",{src:e.store_logo,alt:"Current logo",className:"h-16 w-16 object-cover rounded"})})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"About Us Picture"}),i.jsx("input",{type:"file",accept:"image/*",onChange:j=>f(j.target.files[0]),className:"block w-full text-sm text-gray-500 dark:text-gray-400 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100 dark:file:bg-blue-900 dark:file:text-blue-300"}),e.about_us_picture&&i.jsx("div",{className:"mt-2",children:i.jsx("img",{src:e.about_us_picture,alt:"Current about us picture",className:"h-16 w-16 object-cover rounded"})})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Favicon",i.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 ml-1",children:"(32x32px recommended)"})]}),i.jsx("input",{type:"file",accept:"image/*",onChange:j=>p(j.target.files[0]),className:"block w-full text-sm text-gray-500 dark:text-gray-400 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100 dark:file:bg-blue-900 dark:file:text-blue-300"}),e.favicon&&i.jsx("div",{className:"mt-2",children:i.jsx("img",{src:e.favicon,alt:"Current favicon",className:"h-8 w-8 object-cover rounded"})})]})]})]})}),i.jsx(ma,{title:"Store Location",icon:"",color:"primary",children:i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsx(de,{label:"Street Address",value:e.street_address||"",onChange:j=>t(P=>({...P,street_address:j.target.value})),placeholder:"Enter street address"}),i.jsx(de,{label:"City",value:e.city||"",onChange:j=>t(P=>({...P,city:j.target.value})),placeholder:"Enter city"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsx(de,{label:"Postcode",value:e.postcode||"",onChange:j=>t(P=>({...P,postcode:j.target.value})),placeholder:"Enter postcode"}),i.jsx(de,{label:"Country",value:e.country||"",onChange:j=>t(P=>({...P,country:j.target.value})),placeholder:"Enter country"})]}),i.jsx("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 rounded-2xl",children:i.jsxs("div",{className:"text-sm text-blue-700 dark:text-blue-300",children:[i.jsx("strong",{children:"Note:"})," The store address will be displayed on the Find Us page and used for map integration."]})})]})}),i.jsx(ma,{title:"Contact Information",icon:"",color:"primary",children:i.jsx("div",{className:"space-y-6",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsx(de,{label:"Phone",value:e.phone||"",onChange:j=>t(P=>({...P,phone:j.target.value})),placeholder:"+1 (555) 123-4567"}),i.jsx(de,{label:"Email",type:"email",value:e.email||"",onChange:j=>t(P=>({...P,email:j.target.value})),placeholder:"info@yourstore.com"})]})})}),i.jsx(ma,{title:"Business Hours",icon:"",color:"primary",children:i.jsxs("div",{className:"space-y-6",children:[i.jsx(de,{label:"Monday - Friday",value:e.monday_friday_hours||"",onChange:j=>t(P=>({...P,monday_friday_hours:j.target.value})),placeholder:"9:00 AM - 6:00 PM"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsx(de,{label:"Saturday",value:e.saturday_hours||"",onChange:j=>t(P=>({...P,saturday_hours:j.target.value})),placeholder:"10:00 AM - 4:00 PM"}),i.jsx(de,{label:"Sunday",value:e.sunday_hours||"",onChange:j=>t(P=>({...P,sunday_hours:j.target.value})),placeholder:"Closed"})]}),i.jsx("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 rounded-2xl",children:i.jsxs("div",{className:"text-sm text-blue-700 dark:text-blue-300",children:[i.jsx("strong",{children:"Note:"})," Business hours will be displayed on the Find Us page and contact sections."]})})]})}),i.jsx(ma,{title:"Global Settings",icon:"",color:"primary",children:i.jsxs("div",{className:"space-y-6",children:[i.jsx(cs,{label:"Currency",value:e.currency,onChange:j=>t(P=>({...P,currency:j.target.value})),options:Qa.map(j=>({value:j.code,label:`${j.symbol} ${j.name} (${j.code})`}))}),i.jsx("div",{className:"p-4 bg-slate-50 dark:bg-slate-700 rounded-2xl",children:i.jsxs("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:["Selected: ",i.jsx("span",{className:"font-semibold text-slate-800 dark:text-slate-200",children:((y=Qa.find(j=>j.code===e.currency))==null?void 0:y.symbol)||""})," ",((w=Qa.find(j=>j.code===e.currency))==null?void 0:w.name)||"British Pound"]})}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsx(de,{label:"Tax rate (%)",type:"number",step:"0.01",min:"0",value:e.tax_rate,onChange:j=>{parseFloat(j.target.value)<0||t(D=>({...D,tax_rate:j.target.value}))},placeholder:"0.00"}),i.jsx(de,{label:`Legacy Shipping rate (${((k=Qa.find(j=>j.code===e.currency))==null?void 0:k.symbol)||""})`,type:"number",step:"0.01",min:"0",value:e.shipping_rate,onChange:j=>{parseFloat(j.target.value)<0||t(D=>({...D,shipping_rate:j.target.value}))},placeholder:"0.00"})]}),i.jsxs("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-800",children:[i.jsx("h3",{className:"text-lg font-semibold text-blue-900 dark:text-blue-100 mb-4",children:"Shipping Options"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsx(de,{label:`Standard Shipping (${((N=Qa.find(j=>j.code===e.currency))==null?void 0:N.symbol)||""})`,type:"number",step:"0.01",min:"0",value:e.standard_shipping_rate||0,onChange:j=>{parseFloat(j.target.value)<0||t(D=>({...D,standard_shipping_rate:j.target.value}))},placeholder:"0.00",helperText:"5-7 business days"}),i.jsx(de,{label:`Express Shipping (${((S=Qa.find(j=>j.code===e.currency))==null?void 0:S.symbol)||""})`,type:"number",step:"0.01",min:"0",value:e.express_shipping_rate||0,onChange:j=>{parseFloat(j.target.value)<0||t(D=>({...D,express_shipping_rate:j.target.value}))},placeholder:"0.00",helperText:"2-3 business days"})]})]}),i.jsx("div",{className:"flex justify-end",children:i.jsx(_e,{type:"submit",variant:"success",icon:"",className:"whitespace-nowrap min-w-fit flex-shrink-0",children:"Save Settings"})})]})})]})]})}function Vq(){const{user:e,updateProfile:t}=Ht(),[r,n]=h.useState(!1),[a,s]=h.useState({show:!1,message:"",type:"success"}),[l,o]=h.useState(!1),[c,u]=h.useState({username:"",email:"",phone:"",address:"",currentPassword:"",newPassword:"",confirmPassword:"",profileImage:null});h.useEffect(()=>{e&&u(m=>({...m,username:e.username||"",email:e.email||"",phone:e.phone||"",address:e.address||""}))},[e]);const d=m=>{const{name:p,value:x,files:g}=m.target;u(v=>({...v,[p]:g?g[0]:x}))},f=async m=>{m.preventDefault(),n(!0);try{if(c.newPassword||c.confirmPassword||c.currentPassword){if(!c.currentPassword)throw new Error("Current password is required to change password");if(c.newPassword!==c.confirmPassword)throw new Error("New passwords do not match");if(c.newPassword.length<6)throw new Error("New password must be at least 6 characters long")}const p={username:c.username,email:c.email,phone:c.phone,address:c.address};c.currentPassword&&c.newPassword&&(p.currentPassword=c.currentPassword,p.newPassword=c.newPassword),t&&await t(p),s({show:!0,message:"Profile updated successfully!",type:"success"}),u(x=>({...x,currentPassword:"",newPassword:"",confirmPassword:""}))}catch(p){s({show:!0,message:p.message||"Failed to update profile. Please try again.",type:"error"})}finally{n(!1)}};return i.jsxs("div",{className:"space-y-6",children:[a.show&&i.jsx(hn,{type:a.type,message:a.message,onClose:()=>s(m=>({...m,show:!1}))}),i.jsx(ut,{children:i.jsx("div",{className:"p-6",children:i.jsxs("div",{className:"flex items-center gap-6",children:[i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"w-24 h-24 bg-gradient-to-r from-emerald-500 to-teal-600 rounded-2xl flex items-center justify-center",children:i.jsx(Uo,{size:32,className:"text-white"})}),i.jsx("button",{className:"absolute -bottom-2 -right-2 w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center hover:bg-blue-600 transition-colors",children:i.jsx(pV,{size:16,className:"text-white"})})]}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-100",children:(e==null?void 0:e.username)||"Admin User"}),i.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"Administrator"}),i.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[i.jsx(Ii,{size:16,className:"text-emerald-500"}),i.jsx("span",{className:"text-sm text-emerald-600 dark:text-emerald-400 font-medium",children:"Admin Access"})]})]})]})})}),i.jsx(ut,{children:i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[i.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-blue-500 to-purple-600 rounded-xl flex items-center justify-center",children:i.jsx(Uo,{size:20,className:"text-white"})}),i.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-slate-100",children:"Personal Information"})]}),i.jsxs("form",{onSubmit:f,className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsx(de,{label:"Username",name:"username",value:c.username,onChange:d,icon:i.jsx(Uo,{size:18}),required:!0}),i.jsx(de,{label:"Email Address",name:"email",type:"email",value:c.email,onChange:d,icon:i.jsx(sl,{size:18}),required:!0}),i.jsx(de,{label:"Phone Number",name:"phone",value:c.phone,onChange:d,icon:i.jsx(Q_,{size:18})}),i.jsx(de,{label:"Address",name:"address",value:c.address,onChange:d,icon:i.jsx(BV,{size:18})})]}),i.jsxs("div",{className:"border-t border-slate-200 dark:border-slate-700 pt-6",children:[i.jsxs("h3",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100 mb-4 flex items-center gap-2",children:[i.jsx(Ii,{size:20,className:"text-amber-500"}),"Change Password"]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[i.jsx(de,{label:"Current Password",name:"currentPassword",type:l?"text":"password",value:c.currentPassword,onChange:d,icon:i.jsx(Ii,{size:18})}),i.jsx(de,{label:"New Password",name:"newPassword",type:l?"text":"password",value:c.newPassword,onChange:d,icon:i.jsx(Ii,{size:18})}),i.jsx(de,{label:"Confirm New Password",name:"confirmPassword",type:l?"text":"password",value:c.confirmPassword,onChange:d,icon:i.jsx(Ii,{size:18})})]}),i.jsxs("button",{type:"button",onClick:()=>o(!l),className:"mt-4 flex items-center gap-2 text-sm text-slate-600 dark:text-slate-400 hover:text-slate-800 dark:hover:text-slate-200 transition-colors",children:[l?i.jsx(EV,{size:16}):i.jsx(X_,{size:16}),l?"Hide":"Show"," Passwords"]})]}),i.jsx("div",{className:"flex justify-end pt-6 border-t border-slate-200 dark:border-slate-700",children:i.jsx(_e,{type:"submit",variant:"primary",icon:i.jsx(YV,{size:18}),loading:r,className:"whitespace-nowrap min-w-fit flex-shrink-0",children:"Save Changes"})})]})]})}),i.jsx(ut,{children:i.jsxs("div",{className:"p-6",children:[i.jsxs("h3",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100 mb-4 flex items-center gap-2",children:[i.jsx(Ii,{size:20,className:"text-red-500"}),"Account Security"]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 dark:bg-slate-800 rounded-xl",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium text-slate-800 dark:text-slate-100",children:"Two-Factor Authentication"}),i.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Add an extra layer of security to your account"})]}),i.jsx(_e,{variant:"primary",children:"Enable"})]}),i.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 dark:bg-slate-800 rounded-xl",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium text-slate-800 dark:text-slate-100",children:"Login Sessions"}),i.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Manage your active login sessions"})]}),i.jsx(_e,{variant:"primary",children:"View Sessions"})]})]})]})})]})}const ss=_c.create({baseURL:"http://127.0.0.1:8001",timeout:3e4,withCredentials:!1}),KA=()=>{try{return JSON.parse(localStorage.getItem("auth")||"{}").access||localStorage.getItem("access_token")}catch{return null}};ss.interceptors.request.use(e=>{const t=KA();return t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e));ss.interceptors.response.use(e=>e,async e=>{var r;const t=e.config;if(((r=e.response)==null?void 0:r.status)===401&&!t._retry){t._retry=!0;try{const n=JSON.parse(localStorage.getItem("auth")||"{}").refresh;if(n){const a=await _c.post("http://127.0.0.1:8001/api/auth/refresh/",{refresh:n}),{access:s}=a.data;return localStorage.setItem("auth",JSON.stringify({...JSON.parse(localStorage.getItem("auth")||"{}"),access:s})),localStorage.setItem("access_token",s),t.headers.Authorization=`Bearer ${s}`,ss(t)}}catch(n){console.error("Token refresh failed:",n),localStorage.removeItem("auth"),localStorage.removeItem("access_token"),window.location.href="/sign-in"}}return Promise.reject(e)});const qq=Vg((e,t)=>({conversations:[],currentRoom:null,messages:[],loading:!1,error:null,isConnected:!0,connectionStatus:{adminOnline:!1,activeCustomers:0},setConversations:r=>e({conversations:r}),setCurrentRoom:r=>e({currentRoom:r}),setMessages:r=>e({messages:r}),setLoading:r=>e({loading:r}),setError:r=>e({error:r}),setConnected:r=>e({isConnected:r}),clearError:()=>e({error:null}),deleteChatRoom:async r=>{var n,a,s,l;e({loading:!0,error:null});try{const o=await ss.delete(`/api/admin/chat-rooms/${r}/`);return e(c=>{var u,d;return{conversations:c.conversations.filter(f=>f.id!==r),currentRoom:((u=c.currentRoom)==null?void 0:u.id)===r?null:c.currentRoom,messages:((d=c.currentRoom)==null?void 0:d.id)===r?[]:c.messages,loading:!1,isConnected:!0,error:null}}),{success:!0}}catch(o){return console.error("Failed to delete chat room:",o),e({error:((a=(n=o.response)==null?void 0:n.data)==null?void 0:a.detail)||o.message||"Failed to delete chat room",loading:!1,isConnected:!1}),{success:!1,error:((l=(s=o.response)==null?void 0:s.data)==null?void 0:l.detail)||o.message}}},addMessage:r=>e(n=>({messages:[...n.messages,r]})),getAuthHeaders:()=>{const r=KA();return{"Content-Type":"application/json",...r&&{Authorization:`Bearer ${r}`}}},getAdminChatRooms:async()=>{var r,n,a,s,l;e({loading:!0,error:null});try{console.log("[ChatStore] Loading admin chat rooms...");const c=(await ss.get("/api/admin/chat-rooms/")).data;return console.log("[ChatStore] Chat rooms loaded:",((r=c.results)==null?void 0:r.length)||0,"rooms"),console.log("[ChatStore] Chat rooms data:",c),e({conversations:c.results||[],loading:!1,isConnected:!0,error:null}),{success:!0,conversations:c.results||[]}}catch(o){return console.error("[ChatStore] Failed to fetch chat rooms:",o),e({error:((a=(n=o.response)==null?void 0:n.data)==null?void 0:a.detail)||o.message||"Failed to fetch chat rooms",loading:!1,isConnected:!1}),{success:!1,error:((l=(s=o.response)==null?void 0:s.data)==null?void 0:l.detail)||o.message}}},getAdminChatRoom:async r=>{var n,a,s,l;e({loading:!0,error:null});try{console.log("[ChatStore] Loading messages for room:",r);const c=(await ss.get(`/api/admin/chat-rooms/${r}/get_messages/`)).data;return console.log("[ChatStore] Messages loaded:",(c==null?void 0:c.length)||0,"messages"),console.log("[ChatStore] Messages data:",c),e({messages:c||[],loading:!1,isConnected:!0,error:null}),{success:!0,messages:c||[]}}catch(o){return console.error("[ChatStore] Failed to fetch chat room messages:",o),e({error:((a=(n=o.response)==null?void 0:n.data)==null?void 0:a.detail)||o.message||"Failed to fetch messages",loading:!1,isConnected:!1}),{success:!1,error:((l=(s=o.response)==null?void 0:s.data)==null?void 0:l.detail)||o.message}}},sendAdminMessage:async(r,n)=>{var a,s,l,o;e({loading:!0,error:null});try{const u=(await ss.post(`/api/admin/chat-rooms/${r}/send_message/`,{content:n})).data;return e(d=>({messages:[...d.messages,u.data],loading:!1,isConnected:!0,error:null})),{success:!0,message:u.data}}catch(c){return console.error("Failed to send message:",c),e({error:((s=(a=c.response)==null?void 0:a.data)==null?void 0:s.detail)||c.message||"Failed to send message",loading:!1,isConnected:!1}),{success:!1,error:((o=(l=c.response)==null?void 0:l.data)==null?void 0:o.detail)||c.message}}},markAsRead:async r=>{var n,a,s,l;try{const o=await ss.post(`/api/admin/chat-rooms/${r}/mark_as_read/`);return e({isConnected:!0,error:null}),{success:!0}}catch(o){return console.error("Failed to mark as read:",o),e({isConnected:!1,error:((a=(n=o.response)==null?void 0:n.data)==null?void 0:a.detail)||o.message||"Failed to mark as read"}),{success:!1,error:((l=(s=o.response)==null?void 0:s.data)==null?void 0:l.detail)||o.message}}},connectAdminWebSocket:()=>{console.log("Using REST API chat system (no WebSocket required)"),e({isConnected:!0,error:null})},disconnectWebSocket:()=>{console.log("REST API chat system - staying connected"),e({isConnected:!0})},sendMessage:async(r,n)=>t().sendAdminMessage(r,n),joinRoom:async r=>(e({currentRoom:{id:r}}),t().getAdminChatRoom(r)),leaveRoom:async()=>(e({currentRoom:null,messages:[]}),{success:!0}),getRooms:async()=>t().getAdminChatRooms(),getMessages:async r=>t().getAdminChatRoom(r)})),Uk=({name:e,size:t="w-10 h-10",className:r=""})=>{const n=e||"Anonymous",a=n.charAt(0).toUpperCase();return i.jsx("div",{className:`${t} bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white text-lg font-semibold ${r}`,children:n!=="Anonymous"?a:i.jsx(Uo,{className:"w-5 h-5"})})};function Gq(){const e=qq();console.log("Chat store functions:",Object.keys(e));const{conversations:t,currentRoom:r,messages:n,loading:a,error:s,isConnected:l,connectionStatus:o,getAdminChatRooms:c,getAdminChatRoom:u,sendAdminMessage:d,markAsRead:f,setCurrentRoom:m,connectAdminWebSocket:p,disconnectWebSocket:x,clearError:g,deleteChatRoom:v}=e;Ht();const[b,y]=h.useState(null),[w,k]=h.useState(""),[N,S]=h.useState(!1),j=h.useRef(null),P=h.useRef(null);h.useEffect(()=>((async()=>{var G;try{console.log("Loading admin chat data...");const M=await c();console.log("Admin chat rooms loaded, connecting WebSocket..."),p(),console.log("Admin WebSocket connected"),!M.success&&((G=M.error)!=null&&G.includes("Authentication"))&&console.error("Authentication failed:",M.error)}catch(M){console.error("Failed to load chat data:",M)}})(),()=>{console.log("ChatPage unmounting - keeping REST API connection active")}),[c,p]),h.useEffect(()=>{t&&t.length>0&&(console.log("Conversations updated, refreshing list..."),console.log("Current conversations:",t))},[t]),h.useEffect(()=>{console.log("Admin WebSocket connection status:",l),l||(console.log("Admin WebSocket not connected, attempting to reconnect..."),p())},[l,p]),h.useEffect(()=>{const I=setInterval(()=>{console.log("Periodic refresh - checking for new messages..."),c().catch(console.error)},1e4);return()=>clearInterval(I)},[c]);const D=()=>{var I;(I=j.current)==null||I.scrollIntoView({behavior:"smooth"})};h.useEffect(()=>{D()},[n]),h.useEffect(()=>{N&&P.current&&P.current.focus()}),h.useEffect(()=>{t&&t.length>0&&!b&&(console.log("Auto-selecting first room:",t[0]),console.log("First room ID:",t[0].id),console.log("First room customer:",t[0].customer_name),T(t[0]))},[t,b]),h.useEffect(()=>{b&&(console.log("Loading messages for room:",b.id),u(b.id).catch(console.error))},[b,u]);const O=async I=>{if(I.preventDefault(),console.log("handleSendMessage called",{newMessage:w,selectedRoom:b,loading:a}),!w.trim()){console.log("No message to send");return}if(!b){console.log("No room selected");return}if(a){console.log("Currently loading, cannot send message");return}try{console.log("Sending message:",w,"to room:",b.id),await d(b.id,w),k(""),console.log("Message sent successfully")}catch(G){console.error("Failed to send message:",G)}},$=async()=>{try{console.log("Manual refresh triggered"),await c(),console.log("Conversations refreshed successfully")}catch(I){console.error("Failed to refresh conversations:",I)}},B=I=>{if(!I)return"Just now";try{const G=new Date(I);if(isNaN(G.getTime()))return"Just now";const W=new Date-G,J=Math.floor(W/(1e3*60)),Q=Math.floor(W/(1e3*60*60)),q=Math.floor(W/(1e3*60*60*24));return J<1?"Just now":J<60?`${J}m ago`:Q<24?`${Q}h ago`:`${q}d ago`}catch{return console.warn("Invalid date format:",I),"Just now"}},U=I=>{if(!I)return"Just now";try{const G=new Date(I);return isNaN(G.getTime())?"Just now":G.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}catch{return console.warn("Invalid date format:",I),"Just now"}};(t||[]).reduce((I,G)=>I+(G.unread_count||0),0),h.useEffect(()=>{console.log("ChatPage state update:",{conversations:(t==null?void 0:t.length)||0,selectedRoom:(b==null?void 0:b.id)||"none",newMessage:w,loading:a,error:s,isConnected:l})},[t,b,w,a,s,l]);const T=async I=>{console.log("Selecting room:",I),console.log("Room ID:",I.id),console.log("Room details:",I),y(I),m(I);try{console.log("Loading messages for room ID:",I.id),await u(I.id),await f(I.id)}catch(G){console.error("Error loading room:",G)}},K=async I=>{if(window.confirm("Are you sure you want to delete this chat room? This action cannot be undone."))try{(await v(I)).success&&((b==null?void 0:b.id)===I&&y(null),await c())}catch(G){console.error("Error deleting room:",G)}};return i.jsxs("div",{className:"h-screen flex flex-col overflow-hidden",children:[i.jsx(Zg,{title:"Customer Support Chat",icon:"",color:"primary",subtitle:"Communicate with customers and provide support"}),i.jsxs("div",{className:"flex-1 flex overflow-hidden",style:{height:"calc(100vh - 200px)"},children:[i.jsxs("div",{className:"w-1/3 min-w-0 flex flex-col border-r border-slate-200 dark:border-slate-700",children:[i.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800",children:[i.jsxs("h3",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100",children:["Conversations (",(t==null?void 0:t.length)||0,")"]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("div",{className:`w-2 h-2 rounded-full ${l?"bg-green-500":"bg-red-500"}`}),i.jsx("button",{onClick:$,className:"text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-200 p-1 rounded hover:bg-slate-100 dark:hover:bg-slate-800",title:"Refresh conversations",children:i.jsx(sy,{className:"w-4 h-4"})})]})]}),i.jsx("div",{className:"flex-1 overflow-y-auto bg-white dark:bg-slate-900",children:a&&!t?i.jsx("div",{className:"flex items-center justify-center h-32",children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):t&&t.length>0?i.jsx("div",{className:"space-y-1 p-2",children:t.map(I=>{var G;return i.jsx("div",{onClick:()=>T(I),className:`p-3 rounded-lg cursor-pointer transition-colors ${(b==null?void 0:b.id)===I.id?"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800":"hover:bg-slate-50 dark:hover:bg-slate-800"}`,children:i.jsxs("div",{className:"flex items-start space-x-3",children:[i.jsx(Uk,{name:I.customer_name||"Anonymous",size:"w-8 h-8"}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("p",{className:"text-sm font-medium text-slate-900 dark:text-slate-100 truncate",children:I.customer_name==="Customer"?`Customer ${I.id.slice(-4)}`:I.customer_name||"Anonymous Customer"}),I.unread_count>0&&i.jsx("span",{className:"bg-red-500 text-white text-xs rounded-full px-2 py-1 min-w-[20px] text-center",children:I.unread_count})]}),i.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 truncate",children:((G=I.last_message)==null?void 0:G.content)||"No messages yet"}),i.jsx("p",{className:"text-xs text-slate-400 dark:text-slate-500",children:B(I.last_message_at)})]})]})},I.id)})}):i.jsx("div",{className:"flex items-center justify-center h-32 text-slate-500 dark:text-slate-400",children:i.jsxs("div",{className:"text-center",children:[i.jsx(rd,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),i.jsx("p",{className:"text-sm",children:"No conversations yet"})]})})})]}),i.jsx("div",{className:"flex-1 flex flex-col bg-white dark:bg-slate-900",children:b?i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-slate-200 dark:border-slate-700",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx(Uk,{name:b.customer_name||"Anonymous"}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100",children:b.customer_name==="Customer"?`Customer ${b.id.slice(-4)}`:b.customer_name||"Anonymous Customer"}),i.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:b.customer_email||"No email provided"})]})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("div",{className:`w-2 h-2 rounded-full ${l?"bg-green-500":"bg-red-500"}`}),i.jsx("span",{className:"text-xs text-slate-500 dark:text-slate-400",children:l?"Connected":"Disconnected"}),i.jsx("button",{onClick:()=>K(b.id),className:"text-red-500 hover:text-red-700 dark:text-red-400 dark:hover:text-red-200 p-1 rounded",title:"Delete chat room",children:i.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]}),i.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[a&&!n?i.jsx("div",{className:"flex items-center justify-center h-32",children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):n&&n.length>0?n.map(I=>i.jsx("div",{className:`flex ${I.sender_type==="admin"?"justify-end":"justify-start"}`,children:i.jsxs("div",{className:`max-w-xs px-4 py-2 rounded-lg ${I.sender_type==="admin"?"bg-blue-600 text-white":"bg-slate-100 dark:bg-slate-700 text-slate-900 dark:text-slate-100"}`,children:[i.jsxs("div",{className:"flex items-center justify-between mb-1",children:[i.jsx("p",{className:`text-xs font-medium ${I.sender_type==="admin"?"text-blue-100":"text-slate-600 dark:text-slate-400"}`,children:I.sender_name||(I.sender_type==="admin"?"You":"Customer")}),i.jsx("p",{className:`text-xs ${I.sender_type==="admin"?"text-blue-100":"text-slate-500 dark:text-slate-400"}`,children:U(I.created_at)})]}),i.jsx("p",{className:"text-sm",children:I.content}),I.sender_type==="admin"&&i.jsx("div",{className:"flex items-center justify-end mt-1",children:i.jsx(Vp,{className:"w-3 h-3 text-blue-100"})})]})},I.id)):i.jsx("div",{className:"flex items-center justify-center h-32 text-slate-500 dark:text-slate-400",children:i.jsxs("div",{className:"text-center",children:[i.jsx(rd,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),i.jsx("p",{className:"text-sm",children:"No messages yet"}),i.jsx("p",{className:"text-xs",children:"Start the conversation!"})]})}),i.jsx("div",{ref:j})]}),i.jsx("div",{className:"p-4 border-t border-slate-200 dark:border-slate-700",children:i.jsxs("form",{onSubmit:O,className:"flex space-x-2",children:[i.jsx("input",{ref:P,type:"text",value:w,onChange:I=>k(I.target.value),onFocus:()=>S(!0),onBlur:()=>S(!1),placeholder:"Type your message...",className:"flex-1 px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-slate-800 dark:text-slate-100",disabled:a}),i.jsx("button",{type:"submit",disabled:!w.trim()||a,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:i.jsx(ZV,{className:"w-4 h-4"})})]})})]}):i.jsx("div",{className:"flex items-center justify-center h-full text-slate-500 dark:text-slate-400",children:i.jsxs("div",{className:"text-center",children:[i.jsx(rd,{className:"w-16 h-16 mx-auto mb-4 opacity-50"}),i.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Select a conversation"}),i.jsx("p",{className:"text-sm",children:"Choose a conversation from the list to start chatting"})]})})})]}),s&&i.jsx("div",{className:"fixed bottom-4 right-4 bg-red-100 dark:bg-red-900 border border-red-300 dark:border-red-700 text-red-700 dark:text-red-300 px-4 py-3 rounded-lg shadow-lg max-w-md",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("span",{className:"text-sm font-medium",children:s}),s.includes("Authentication")&&i.jsx("div",{className:"text-xs mt-1",children:"Please refresh the page or login again."})]}),i.jsx("button",{onClick:g,className:"ml-4 text-red-500 hover:text-red-700 dark:text-red-400 dark:hover:text-red-200",children:""})]})})]})}function Yq(){const[e,t]=h.useState("contacts"),[r,n]=h.useState([]),[a,s]=h.useState([]),[l,o]=h.useState(null),[c,u]=h.useState(null),[d,f]=h.useState(!0),[m,p]=h.useState(null),[x,g]=h.useState(!1),[v,b]=h.useState(!1),[y,w]=h.useState(null),[k,N]=h.useState(null);h.useEffect(()=>{(async()=>{var ae,Ne,We,Me;try{f(!0);const[V,ee]=await Promise.all([OA(),MA()]);n((V==null?void 0:V.results)||((ae=V==null?void 0:V.data)==null?void 0:ae.results)||(V==null?void 0:V.data)||V||[]),s((ee==null?void 0:ee.results)||((Ne=ee==null?void 0:ee.data)==null?void 0:Ne.results)||(ee==null?void 0:ee.data)||ee||[])}catch(V){console.error("Failed to fetch data:",V),console.error("Error details:",{message:V.message,status:(We=V.response)==null?void 0:We.status,data:(Me=V.response)==null?void 0:Me.data}),n([]),s([]),p(V.uiMessage||"Failed to fetch data")}finally{f(!1)}})()},[]);const S=L=>{o(L),u(null),t("contacts"),L.status==="new"&&P(L.id)},j=L=>{u(L),o(null),t("service-queries"),L.status==="new"&&D(L.id)},P=async L=>{try{await TA(L),n(ae=>ae.map(Ne=>Ne.id===L?{...Ne,status:"read"}:Ne)),(l==null?void 0:l.id)===L&&o(ae=>({...ae,status:"read"}))}catch(ae){console.error("Failed to mark as read:",ae)}},D=async L=>{try{await $A(L),s(ae=>ae.map(Ne=>Ne.id===L?{...Ne,status:"read"}:Ne)),(c==null?void 0:c.id)===L&&u(ae=>({...ae,status:"read"}))}catch(ae){console.error("Failed to mark service query as read:",ae)}},O=async L=>{w(L),N(null),g(!0)},$=async L=>{N(L),w(null),g(!0)},B=async()=>{try{y?(await DA(y),n(L=>L.map(ae=>ae.id===y?{...ae,status:"closed"}:ae)),(l==null?void 0:l.id)===y&&o(null)):k&&(await RA(k),s(L=>L.map(ae=>ae.id===k?{...ae,status:"closed"}:ae)),(c==null?void 0:c.id)===k&&u(null))}catch(L){console.error("Failed to close:",L)}finally{g(!1),w(null),N(null)}},U=async L=>{w(L),N(null),b(!0)},T=async L=>{N(L),w(null),b(!0)},K=async()=>{try{y?(await IA(y),n(L=>L.filter(ae=>ae.id!==y)),(l==null?void 0:l.id)===y&&o(null)):k&&(await LA(k),s(L=>L.filter(ae=>ae.id!==k)),(c==null?void 0:c.id)===k&&u(null))}catch(L){console.error("Failed to delete:",L)}finally{b(!1),w(null),N(null)}},I=()=>{o(null),u(null)},G=L=>{switch(L){case"avail_service":return i.jsx(nd,{className:"w-4 h-4"});case"free_quote":return i.jsx(VV,{className:"w-4 h-4"});default:return i.jsx(Ym,{className:"w-4 h-4"})}},M=L=>{switch(L){case"avail_service":return"Avail Service";case"free_quote":return"Free Quote";default:return L}},W=L=>{switch(L){case"new":return"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400";case"read":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400";case"replied":return"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400";case"closed":return"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-400";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-400"}},J=L=>{switch(L){case"new":return i.jsx(Ym,{className:"w-4 h-4"});case"read":return i.jsx(Vp,{className:"w-4 h-4"});case"replied":return i.jsx(Vp,{className:"w-4 h-4"});case"closed":return i.jsx(Gm,{className:"w-4 h-4"});default:return i.jsx(Ym,{className:"w-4 h-4"})}},Q=L=>{if(!L)return"Just now";try{const ae=new Date(L);if(isNaN(ae.getTime()))return"Just now";const We=new Date-ae,Me=Math.floor(We/(1e3*60)),V=Math.floor(We/(1e3*60*60)),ee=Math.floor(We/(1e3*60*60*24));return Me<1?"Just now":Me<60?`${Me}m ago`:V<24?`${V}h ago`:`${ee}d ago`}catch{return console.warn("Invalid date format:",L),"Just now"}},q=r.filter(L=>L.status==="new").length,Pe=a.filter(L=>L.status==="new").length;return i.jsxs(Rn,{children:[i.jsx(Zg,{title:"Contact Messages & Service Queries",icon:"",color:"primary",subtitle:"Manage contact form submissions and service queries from customers"}),i.jsx("div",{className:"mb-6",children:i.jsxs("div",{className:"flex space-x-1 bg-slate-100 dark:bg-slate-800 p-1 rounded-lg",children:[i.jsx("button",{onClick:()=>t("contacts"),className:`flex-1 px-4 py-2 rounded-md transition-colors ${e==="contacts"?"bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 shadow-sm":"text-slate-600 dark:text-slate-400 hover:text-slate-900 dark:hover:text-slate-100"}`,children:i.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[i.jsx(sl,{className:"w-4 h-4"}),i.jsx("span",{children:"Contact Messages"}),q>0&&i.jsx("span",{className:"bg-red-500 text-white text-xs px-2 py-1 rounded-full",children:q})]})}),i.jsx("button",{onClick:()=>t("service-queries"),className:`flex-1 px-4 py-2 rounded-md transition-colors ${e==="service-queries"?"bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 shadow-sm":"text-slate-600 dark:text-slate-400 hover:text-slate-900 dark:hover:text-slate-100"}`,children:i.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[i.jsx(nd,{className:"w-4 h-4"}),i.jsx("span",{children:"Service Queries"}),Pe>0&&i.jsx("span",{className:"bg-red-500 text-white text-xs px-2 py-1 rounded-full",children:Pe})]})})]})}),i.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[i.jsxs(ut,{className:"lg:col-span-1",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100",children:e==="contacts"?"Contact Messages":"Service Queries"}),e==="contacts"&&q>0&&i.jsx("span",{className:"bg-red-500 text-white text-xs px-2 py-1 rounded-full",children:q}),e==="service-queries"&&Pe>0&&i.jsx("span",{className:"bg-red-500 text-white text-xs px-2 py-1 rounded-full",children:Pe})]}),i.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:d?i.jsx("div",{className:"text-center py-8",children:i.jsx("div",{className:"text-slate-500 dark:text-slate-400",children:"Loading..."})}):m?i.jsx("div",{className:"text-center py-8",children:i.jsx("div",{className:"text-red-500 dark:text-red-400",children:m})}):e==="contacts"?!r||r.length===0?i.jsxs("div",{className:"text-center py-8",children:[i.jsx(sl,{className:"w-12 h-12 text-slate-400 dark:text-slate-500 mx-auto mb-4"}),i.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"No contact messages yet"}),i.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-500 mt-1",children:"Messages will appear here when customers submit the contact form"})]}):r.map(L=>i.jsx("div",{onClick:()=>S(L),className:`p-3 rounded-lg cursor-pointer transition-colors ${(l==null?void 0:l.id)===L.id?"bg-blue-100 dark:bg-blue-900/30 border border-blue-200 dark:border-blue-700":"hover:bg-slate-100 dark:hover:bg-slate-700"}`,children:i.jsxs("div",{className:"flex items-start space-x-3",children:[i.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white text-lg",children:L.name?L.name.charAt(0).toUpperCase():""}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center justify-between mb-1",children:[i.jsx("p",{className:"font-medium text-slate-800 dark:text-slate-100 truncate",children:L.name}),i.jsxs("div",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs ${W(L.status)}`,children:[J(L.status),i.jsx("span",{className:"ml-1 capitalize",children:L.status})]})]}),i.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 truncate mb-1",children:L.subject}),i.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-500",children:Q(L.created_at)})]})]})},L.id)):!a||a.length===0?i.jsxs("div",{className:"text-center py-8",children:[i.jsx(nd,{className:"w-12 h-12 text-slate-400 dark:text-slate-500 mx-auto mb-4"}),i.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"No service queries yet"}),i.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-500 mt-1",children:"Queries will appear here when customers request services or quotes"})]}):a.map(L=>i.jsx("div",{onClick:()=>j(L),className:`p-3 rounded-lg cursor-pointer transition-colors ${(c==null?void 0:c.id)===L.id?"bg-blue-100 dark:bg-blue-900/30 border border-blue-200 dark:border-blue-700":"hover:bg-slate-100 dark:hover:bg-slate-700"}`,children:i.jsxs("div",{className:"flex items-start space-x-3",children:[i.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-green-500 to-teal-600 rounded-full flex items-center justify-center text-white text-lg",children:L.name?L.name.charAt(0).toUpperCase():""}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center justify-between mb-1",children:[i.jsx("p",{className:"font-medium text-slate-800 dark:text-slate-100 truncate",children:L.name}),i.jsxs("div",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs ${W(L.status)}`,children:[J(L.status),i.jsx("span",{className:"ml-1 capitalize",children:L.status})]})]}),i.jsx("div",{className:"flex items-center space-x-2 mb-1",children:i.jsxs("div",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400",children:[G(L.query_type),i.jsx("span",{className:"ml-1",children:M(L.query_type)})]})}),i.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 truncate mb-1",children:L.service_name}),i.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-500",children:Q(L.created_at)})]})]})},L.id))})]}),i.jsx(ut,{className:"lg:col-span-2",children:l?i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-slate-200 dark:border-slate-700",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white text-xl",children:l.name?l.name.charAt(0).toUpperCase():""}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-slate-800 dark:text-slate-100",children:l.name}),i.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:l.email})]})]}),i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsxs("div",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm ${W(l.status)}`,children:[J(l.status),i.jsx("span",{className:"ml-2 capitalize",children:l.status})]}),i.jsx("button",{onClick:I,className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg transition-colors",title:"Close contact details",children:i.jsx(Gm,{className:"w-5 h-5 text-slate-500 dark:text-slate-400"})})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100 mb-2",children:"Subject"}),i.jsx("p",{className:"text-slate-700 dark:text-slate-300",children:l.subject})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100 mb-2",children:"Message"}),i.jsx("div",{className:"bg-slate-50 dark:bg-slate-800 p-4 rounded-lg",children:i.jsx("p",{className:"text-slate-700 dark:text-slate-300 whitespace-pre-wrap",children:l.message})})]}),i.jsxs("div",{className:"flex items-center space-x-2 text-sm text-slate-500 dark:text-slate-400",children:[i.jsx(Ik,{className:"w-4 h-4"}),i.jsxs("span",{children:["Received ",Q(l.created_at)]})]})]}),i.jsxs("div",{className:"space-y-4 pt-4 border-t border-slate-200 dark:border-slate-700",children:[i.jsxs("div",{className:"flex space-x-3",children:[i.jsx("button",{onClick:()=>P(l.id),className:`px-4 py-2 rounded-lg transition-colors ${l.status==="read"||l.status==="replied"?"bg-blue-700 text-white cursor-default":"bg-blue-600 text-white hover:bg-blue-700"}`,disabled:l.status==="read"||l.status==="replied",children:"Read"}),i.jsx("button",{onClick:()=>O(l.id),className:`px-4 py-2 rounded-lg transition-colors ${l.status==="closed"?"bg-gray-700 text-white cursor-default":"bg-gray-600 text-white hover:bg-gray-700"}`,disabled:l.status==="closed",children:"Closed"})]}),i.jsx("div",{className:"flex justify-end",children:i.jsxs("button",{onClick:()=>U(l.id),className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors flex items-center space-x-2",title:"Permanently delete this conversation",children:[i.jsx(bc,{className:"w-4 h-4"}),i.jsx("span",{children:"Delete"})]})})]})]}):c?i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-slate-200 dark:border-slate-700",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-green-500 to-teal-600 rounded-full flex items-center justify-center text-white text-xl",children:c.name?c.name.charAt(0).toUpperCase():""}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-slate-800 dark:text-slate-100",children:c.name}),i.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:c.email})]})]}),i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsxs("div",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm ${W(c.status)}`,children:[J(c.status),i.jsx("span",{className:"ml-2 capitalize",children:c.status})]}),i.jsx("button",{onClick:I,className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg transition-colors",title:"Close details",children:i.jsx(Gm,{className:"w-5 h-5 text-slate-500 dark:text-slate-400"})})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100 mb-2",children:"Query Type"}),i.jsxs("div",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400",children:[G(c.query_type),i.jsx("span",{className:"ml-2",children:M(c.query_type)})]})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100 mb-2",children:"Service"}),i.jsx("p",{className:"text-slate-700 dark:text-slate-300",children:c.service_name})]}),c.message&&i.jsxs("div",{children:[i.jsx("h4",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100 mb-2",children:"Message"}),i.jsx("div",{className:"bg-slate-50 dark:bg-slate-800 p-4 rounded-lg",children:i.jsx("p",{className:"text-slate-700 dark:text-slate-300 whitespace-pre-wrap",children:c.message})})]}),c.query_type==="free_quote"&&i.jsxs(i.Fragment,{children:[c.project_type&&i.jsxs("div",{children:[i.jsx("h4",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100 mb-2",children:"Project Type"}),i.jsx("p",{className:"text-slate-700 dark:text-slate-300",children:c.project_type})]}),c.timeline&&i.jsxs("div",{children:[i.jsx("h4",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100 mb-2",children:"Timeline"}),i.jsx("p",{className:"text-slate-700 dark:text-slate-300",children:c.timeline})]}),c.budget&&i.jsxs("div",{children:[i.jsx("h4",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100 mb-2",children:"Budget"}),i.jsx("p",{className:"text-slate-700 dark:text-slate-300",children:c.budget})]}),c.requirements&&i.jsxs("div",{children:[i.jsx("h4",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100 mb-2",children:"Requirements"}),i.jsx("div",{className:"bg-slate-50 dark:bg-slate-800 p-4 rounded-lg",children:i.jsx("p",{className:"text-slate-700 dark:text-slate-300 whitespace-pre-wrap",children:c.requirements})})]})]}),c.query_type==="avail_service"&&i.jsxs(i.Fragment,{children:[c.preferred_date&&i.jsxs("div",{children:[i.jsx("h4",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100 mb-2",children:"Preferred Date"}),i.jsx("p",{className:"text-slate-700 dark:text-slate-300",children:new Date(c.preferred_date).toLocaleDateString()})]}),c.budget_range&&i.jsxs("div",{children:[i.jsx("h4",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100 mb-2",children:"Budget Range"}),i.jsx("p",{className:"text-slate-700 dark:text-slate-300",children:c.budget_range})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.phone&&i.jsxs("div",{children:[i.jsx("h4",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100 mb-2",children:"Phone"}),i.jsx("p",{className:"text-slate-700 dark:text-slate-300",children:c.phone})]}),c.company&&i.jsxs("div",{children:[i.jsx("h4",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100 mb-2",children:"Company"}),i.jsx("p",{className:"text-slate-700 dark:text-slate-300",children:c.company})]})]}),i.jsxs("div",{className:"flex items-center space-x-2 text-sm text-slate-500 dark:text-slate-400",children:[i.jsx(Ik,{className:"w-4 h-4"}),i.jsxs("span",{children:["Received ",Q(c.created_at)]})]})]}),i.jsxs("div",{className:"space-y-4 pt-4 border-t border-slate-200 dark:border-slate-700",children:[i.jsxs("div",{className:"flex space-x-3",children:[i.jsx("button",{onClick:()=>D(c.id),className:`px-4 py-2 rounded-lg transition-colors ${c.status==="read"||c.status==="replied"?"bg-blue-700 text-white cursor-default":"bg-blue-600 text-white hover:bg-blue-700"}`,disabled:c.status==="read"||c.status==="replied",children:"Read"}),i.jsx("button",{onClick:()=>$(c.id),className:`px-4 py-2 rounded-lg transition-colors ${c.status==="closed"?"bg-gray-700 text-white cursor-default":"bg-gray-600 text-white hover:bg-gray-700"}`,disabled:c.status==="closed",children:"Closed"})]}),i.jsx("div",{className:"flex justify-end",children:i.jsxs("button",{onClick:()=>T(c.id),className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors flex items-center space-x-2",title:"Permanently delete this service query",children:[i.jsx(bc,{className:"w-4 h-4"}),i.jsx("span",{children:"Delete"})]})})]})]}):i.jsx("div",{className:"flex items-center justify-center h-96",children:i.jsxs("div",{className:"text-center",children:[i.jsx(sl,{className:"w-16 h-16 text-slate-400 dark:text-slate-500 mx-auto mb-4"}),i.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"Select a message or query to view details"})]})})})]}),x&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:i.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg p-6 max-w-md w-full mx-4",children:[i.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[i.jsx(qp,{className:"w-6 h-6 text-yellow-500"}),i.jsxs("h3",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100",children:["Close ",y?"Conversation":"Service Query"]})]}),i.jsxs("p",{className:"text-slate-600 dark:text-slate-400 mb-6",children:["Are you sure you want to close this ",y?"conversation":"service query","? This action can be undone by marking it as read again."]}),i.jsxs("div",{className:"flex space-x-3 justify-end",children:[i.jsx("button",{onClick:()=>{g(!1),w(null),N(null)},className:"px-4 py-2 text-slate-600 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg transition-colors",children:"Cancel"}),i.jsxs("button",{onClick:B,className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:["Close ",y?"Conversation":"Service Query"]})]})]})}),v&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:i.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg p-6 max-w-md w-full mx-4",children:[i.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[i.jsx(qp,{className:"w-6 h-6 text-red-500"}),i.jsxs("h3",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100",children:["Delete ",y?"Conversation":"Service Query"]})]}),i.jsxs("p",{className:"text-slate-600 dark:text-slate-400 mb-6",children:[i.jsx("strong",{children:"Warning:"})," This action cannot be undone. The ",y?"conversation":"service query"," and all its data will be permanently deleted."]}),i.jsxs("div",{className:"flex space-x-3 justify-end",children:[i.jsx("button",{onClick:()=>{b(!1),w(null),N(null)},className:"px-4 py-2 text-slate-600 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg transition-colors",children:"Cancel"}),i.jsx("button",{onClick:K,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Delete Permanently"})]})]})})]})}function Jq(){const{logout:e}=Ht(),t=Ma();return h.useEffect(()=>{(async()=>{try{console.log("[SignOut] Starting logout process..."),e(),console.log("[SignOut] Logout completed, redirecting to sign-in..."),t("/sign-in",{replace:!0})}catch(n){console.error("[SignOut] Logout error:",n),t("/sign-in",{replace:!0})}})()},[e,t]),i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50 dark:bg-slate-900",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-orange-500 to-red-600 rounded-3xl flex items-center justify-center mx-auto mb-4 animate-pulse",children:i.jsx("span",{className:"text-2xl",children:""})}),i.jsx("div",{className:"text-slate-600 dark:text-slate-400 font-medium",children:"Signing out..."}),i.jsx("div",{className:"text-sm text-slate-500 dark:text-slate-500 mt-2",children:"Please wait while we log you out"})]})})}function Xq(){const[e,t]=h.useState([]),[r,n]=h.useState(""),[a,s]=h.useState(1),[l,o]=h.useState(!1),[c,u]=h.useState(!1),d=async()=>{const m={results:[],count:0};t(m.results||m),o(!!m.next),u(!!m.previous)};h.useEffect(()=>{d()},[a,r]);const f=async(m,p)=>{console.log("Update inquiry:",m,p),await d()};return i.jsx("div",{className:"grid gap-4 md:grid-cols-1",children:i.jsxs(Dq,{title:"Service Inquiries",children:[i.jsx("div",{className:"mb-2",children:i.jsxs("select",{value:r,onChange:m=>n(m.target.value),className:"rounded-xl border px-3 py-2 bg-white dark:bg-slate-900",children:[i.jsx("option",{value:"",children:"All statuses"}),i.jsx("option",{value:"pending",children:"Pending"}),i.jsx("option",{value:"contacted",children:"Contacted"}),i.jsx("option",{value:"resolved",children:"Resolved"})]})}),i.jsx("div",{className:"overflow-auto",children:i.jsxs("table",{className:"min-w-full text-sm",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"text-left",children:[i.jsx("th",{className:"py-2 pr-3",children:"Service"}),i.jsx("th",{className:"py-2 pr-3",children:"Customer"}),i.jsx("th",{className:"py-2 pr-3",children:"Contact"}),i.jsx("th",{className:"py-2 pr-3",children:"Status"}),i.jsx("th",{className:"py-2",children:"Details"})]})}),i.jsx("tbody",{children:e.map(m=>i.jsxs("tr",{className:"border-t align-top",children:[i.jsx("td",{className:"py-2 pr-3",children:m.service_name}),i.jsx("td",{className:"py-2 pr-3",children:m.customer_name}),i.jsxs("td",{className:"py-2 pr-3",children:[i.jsx("div",{children:m.customer_email}),i.jsx("div",{className:"opacity-70",children:m.customer_phone})]}),i.jsx("td",{className:"py-2 pr-3",children:i.jsxs("select",{value:m.status,onChange:p=>f(m.id,p.target.value),className:"rounded-xl border px-3 py-2 bg-white dark:bg-slate-900 capitalize",children:[i.jsx("option",{value:"pending",children:"pending"}),i.jsx("option",{value:"contacted",children:"contacted"}),i.jsx("option",{value:"resolved",children:"resolved"})]})}),i.jsx("td",{className:"py-2",children:i.jsx("pre",{className:"whitespace-pre-wrap text-xs bg-slate-100 dark:bg-slate-800 rounded p-2",children:JSON.stringify(m.inquiry_details,null,2)})})]},m.id))})]})}),i.jsx("div",{className:"mt-3",children:i.jsx(WA,{page:a,setPage:s,hasNext:l,hasPrev:c})})]})})}function Qq(){const[e,t]=h.useState(()=>{const n=localStorage.getItem("theme");return n?n==="dark":!0}),r=()=>t(!e);return h.useEffect(()=>{const n=document.documentElement;e?(n.classList.add("dark"),localStorage.setItem("theme","dark")):(n.classList.remove("dark"),localStorage.setItem("theme","light"))},[e]),h.useEffect(()=>{const n=window.matchMedia("(prefers-color-scheme: dark)"),a=s=>{localStorage.getItem("theme")||t(s.matches)};return n.addEventListener("change",a),()=>n.removeEventListener("change",a)},[]),{isDark:e,toggleTheme:r}}function oy(){const{isDark:e,toggleTheme:t}=Qq();return i.jsx("button",{onClick:t,className:"rounded-xl border px-3 py-2 text-sm hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors","aria-label":"Toggle theme",title:`Switch to ${e?"light":"dark"} mode`,children:e?"":""})}function Zq({children:e}){const{user:t,logout:r}=Ht(),n=Ma(),a=Ia(),s=()=>{r(),n("/sign-in")};return i.jsxs("div",{className:"min-h-screen",children:[i.jsx("header",{className:"sticky top-0 z-10 backdrop-blur bg-white/70 dark:bg-slate-900/60 border-b",children:i.jsxs("div",{className:"mx-auto max-w-6xl flex items-center justify-between px-4 py-3",children:[i.jsx(si,{to:"/admin",className:"font-semibold",children:" Admin"}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(si,{to:"/admin/chat",className:"rounded-xl border px-3 py-2 text-sm hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors",title:"Chat with users",children:""}),i.jsx(oy,{}),t?i.jsxs(i.Fragment,{children:[i.jsxs("span",{className:"text-sm opacity-80",children:["Hi, ",t.username]}),i.jsx("button",{onClick:s,className:"text-sm rounded-xl border px-3 py-2 hover:bg-slate-100 dark:hover:bg-slate-800",children:"Logout"})]}):a.pathname!=="/sign-in"&&i.jsx(si,{to:"/sign-in",className:"text-sm rounded-xl border px-3 py-2 hover:bg-slate-100 dark:hover:bg-slate-800",children:"Sign In"})]})]})}),i.jsx("main",{className:"mx-auto max-w-6xl px-4 py-8",children:e})]})}function eG(){const{isAuthed:e}=Ht(),t=Ma();return h.useEffect(()=>{e()&&t("/dashboard")},[e,t]),i.jsx(Zq,{children:i.jsxs("div",{className:"rounded-2xl border p-8 text-center",children:[i.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Welcome"}),i.jsx("p",{className:"mb-6 opacity-80",children:"This is the admin area. Please sign in to continue."}),i.jsx(si,{to:"/sign-in",className:"rounded-xl border px-4 py-2 hover:bg-slate-100 dark:hover:bg-slate-800",children:"Go to Sign In"})]})})}function tG(){return i.jsxs("div",{style:{padding:16},children:[" Router OK  ",new Date().toLocaleTimeString()]})}function rG(){return i.jsxs(f2,{children:[i.jsx(rt,{path:"smoke",element:i.jsx(tG,{})}),i.jsx(rt,{path:"dashboard",element:i.jsx(lr,{children:i.jsx(Eq,{})})}),i.jsx(rt,{path:"manage-categories",element:i.jsx(lr,{children:i.jsx(Mq,{})})}),i.jsx(rt,{path:"products",element:i.jsx(lr,{children:i.jsx(Tq,{})})}),i.jsx(rt,{path:"services",element:i.jsx(lr,{children:i.jsx(Rq,{})})}),i.jsx(rt,{path:"orders",element:i.jsx(lr,{children:i.jsx(Lq,{})})}),i.jsx(rt,{path:"users",element:i.jsx(lr,{children:i.jsx(Fq,{})})}),i.jsx(rt,{path:"content",element:i.jsx(lr,{children:i.jsx(zq,{})})}),i.jsx(rt,{path:"reviews",element:i.jsx(lr,{children:i.jsx(Uq,{})})}),i.jsx(rt,{path:"service-reviews",element:i.jsx(lr,{children:i.jsx(Wq,{})})}),i.jsx(rt,{path:"settings",element:i.jsx(lr,{children:i.jsx(Hq,{})})}),i.jsx(rt,{path:"profile",element:i.jsx(lr,{children:i.jsx(Vq,{})})}),i.jsx(rt,{path:"chat",element:i.jsx(lr,{children:i.jsx(Gq,{})})}),i.jsx(rt,{path:"contact",element:i.jsx(lr,{children:i.jsx(Yq,{})})}),i.jsx(rt,{path:"inquiries",element:i.jsx(lr,{children:i.jsx(Xq,{})})}),i.jsx(rt,{path:"welcome",element:i.jsx(lr,{children:i.jsx(eG,{})})}),i.jsx(rt,{path:"sign-out",element:i.jsx(Jq,{})}),i.jsx(rt,{path:"",element:i.jsx(Kh,{to:"/dashboard",replace:!0})})]})}const ko={collapsed:"w-12 h-12",expanded:"w-full px-4 py-3",radius:"rounded-2xl",icon:"w-5 h-5"};function HA({icon:e,active:t,onClick:r,title:n,collapsed:a=!0,label:s}){return i.jsxs("button",{title:n,onClick:r,className:Ae("relative",ko.radius,"transition-all duration-200 outline-none","text-slate-600 hover:text-slate-700",a?ko.collapsed:ko.expanded,a?"grid place-items-center":"flex items-center justify-center gap-3"),children:[i.jsx("span",{"aria-hidden":!0,className:Ae("absolute inset-0",ko.radius,"transition-all duration-200",t?"bg-gradient-to-br from-violet-500 to-fuchsia-500 shadow-[0_8px_24px_rgba(124,58,237,0.35)]":"bg-white/80 hover:bg-white shadow-[inset_0_0_0_1px_rgba(15,23,42,0.06)]")}),i.jsx("span",{className:Ae("relative z-[1] grid place-items-center",!a&&"flex-shrink-0"),children:i.jsx(e,{className:Ae(ko.icon,t?"text-white":"text-slate-600")})}),!a&&s&&i.jsx("span",{className:Ae("relative z-[1] text-sm font-medium truncate",t?"text-white":"text-slate-600"),children:s})]})}const nG=[{to:"/dashboard",label:"Dashboard",icon:MV},{to:"/manage-categories",label:"Manage Categories",icon:$k},{to:"/products",label:"Product Management",icon:$k},{to:"/services",label:"Services Management",icon:nd},{to:"/orders",label:"Order Management",icon:aq},{to:"/users",label:"User Management",icon:qs},{to:"/content",label:"Website Content",icon:OV},{to:"/reviews",label:"Product Reviews",icon:Rk},{to:"/service-reviews",label:"Service Reviews",icon:Rk},{to:"/chat",label:"Customer Chat",icon:rd},{to:"/contact",label:"Contact Messages",icon:sl},{to:"/settings",label:"Store Settings",icon:tq}];function aG({collapsed:e}){return i.jsx("nav",{className:`flex flex-col gap-3 ${e?"items-center":"items-center px-4"}`,children:nG.map(t=>i.jsx(vT,{to:t.to,children:({isActive:r})=>i.jsx(HA,{icon:t.icon,active:r,title:t.label,collapsed:e,label:t.label})},t.label))})}function sG({collapsed:e,setCollapsed:t}){const{user:r}=Ht(),n=Ma();return i.jsxs("div",{className:`${e?"w-[72px]":"w-72"} h-full bg-white/80 backdrop-blur border-r transition-all duration-300`,children:[i.jsx("div",{className:"h-[85px] flex items-center justify-center border-b border-slate-200/50 dark:border-slate-700/50 bg-white/80 dark:bg-slate-900/80 backdrop-blur-xl",children:i.jsx("button",{onClick:()=>t(a=>!a),className:"group relative rounded-2xl border-2 border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-800 hover:border-blue-300 dark:hover:border-blue-500 hover:bg-gradient-to-r hover:from-blue-50 hover:to-purple-50 dark:hover:from-blue-900/20 dark:hover:to-purple-900/20 transition-all duration-300 hover:shadow-md hover:scale-105 active:scale-95",title:"Toggle Menu",children:i.jsxs("div",{className:"flex items-center justify-center gap-2 px-4 py-3",children:[i.jsx("div",{className:"w-6 h-6 bg-gradient-to-r from-blue-500 to-purple-600 rounded-lg flex items-center justify-center group-hover:scale-110 transition-transform duration-200",children:i.jsx("span",{className:"text-white text-sm",children:""})}),!e&&i.jsx("span",{className:"text-sm font-semibold text-slate-700 dark:text-slate-300 group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors duration-200",children:"Menu"})]})})}),i.jsxs("div",{className:"h-[calc(100%-85px)] overflow-y-auto no-scrollbar py-3",children:[i.jsx("div",{className:"h-16 flex items-center justify-center border-b border-slate-200/50 mb-4",children:e?i.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-blue-500 to-purple-600 rounded-xl flex items-center justify-center",children:i.jsx("span",{className:"text-white text-sm",children:""})}):i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-blue-500 to-purple-600 rounded-xl flex items-center justify-center",children:i.jsx("span",{className:"text-white text-sm",children:""})}),i.jsx("h2",{className:"text-lg font-bold text-slate-800 dark:text-slate-100",children:"Admin Options"})]})}),i.jsx(aG,{collapsed:e}),i.jsx("div",{className:`mt-auto pt-4 border-t border-slate-200/50 ${e?"flex justify-center":"px-4"}`,children:i.jsx("div",{className:e?"":"flex flex-col items-center",children:i.jsx(HA,{icon:Uo,active:!1,onClick:()=>n("/admin/profile"),title:`${(r==null?void 0:r.username)||"Admin User"} - Administrator`,collapsed:e,label:e?"":`${(r==null?void 0:r.username)||"Admin User"}`})})})]})]})}function iG({collapsed:e,title:t="Dashboard"}){const{user:r,logout:n}=Ht();return h.useEffect(()=>{console.log("TopBar - Auth store user:",r)},[r]),i.jsx(i.Fragment,{children:i.jsx("header",{className:`fixed top-0 z-40 border-b border-slate-200/50 dark:border-slate-700/50 bg-white/80 dark:bg-slate-900/80 backdrop-blur-xl shadow-lg transition-all duration-300 overflow-x-hidden ${e?"left-[72px] right-0":"left-72 right-0"}`,children:i.jsxs("div",{className:"mx-auto max-w-[1400px] flex items-center justify-between px-6 py-4",children:[i.jsx("div",{className:"flex-1 flex justify-center",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-emerald-500 to-teal-600 rounded-xl flex items-center justify-center",children:i.jsx("span",{className:"text-white text-sm",children:""})}),i.jsx("h1",{className:"text-xl font-bold text-slate-800 dark:text-slate-100 bg-gradient-to-r from-slate-800 to-slate-600 dark:from-slate-100 dark:to-slate-300 bg-clip-text text-transparent",children:t})]})}),i.jsxs("div",{className:"flex items-center gap-3 mr-5",children:[i.jsx(si,{to:"/admin/chat",className:"group relative rounded-2xl border-2 border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-800 px-4 py-3 hover:border-blue-300 dark:hover:border-blue-500 hover:bg-gradient-to-r hover:from-blue-50 hover:to-indigo-50 dark:hover:from-blue-900/20 dark:hover:to-indigo-900/20 transition-all duration-300 hover:shadow-md hover:scale-105 active:scale-95",title:"Chat with users",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-6 h-6 bg-gradient-to-r from-blue-500 to-indigo-600 rounded-lg flex items-center justify-center group-hover:scale-110 transition-transform duration-200",children:i.jsx("span",{className:"text-white text-sm",children:""})}),i.jsx("span",{className:"text-sm font-semibold text-slate-700 dark:text-slate-300 group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors duration-200",children:"Chat"})]})}),i.jsx("div",{className:"rounded-2xl border-2 border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-800 p-1 hover:border-amber-300 dark:hover:border-amber-500 hover:bg-gradient-to-r hover:from-amber-50 hover:to-orange-50 dark:hover:from-amber-900/20 dark:hover:to-orange-900/20 transition-all duration-300 hover:shadow-md",children:i.jsx(oy,{})}),i.jsx(si,{to:"/admin/sign-out",className:"group relative rounded-2xl border-2 border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-800 px-4 py-3 hover:border-red-300 dark:hover:border-red-500 hover:bg-gradient-to-r hover:from-red-50 hover:to-pink-50 dark:hover:from-red-900/20 dark:hover:to-pink-900/20 transition-all duration-300 hover:shadow-md hover:scale-105 active:scale-95",title:`Logout${r!=null&&r.username?` (${r.username})`:""}`,children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-6 h-6 bg-gradient-to-r from-red-500 to-pink-600 rounded-lg flex items-center justify-center group-hover:scale-110 transition-transform duration-200",children:i.jsx(RV,{size:14,className:"text-white"})}),i.jsx("span",{className:"text-sm font-semibold text-slate-700 dark:text-slate-300 group-hover:text-red-600 dark:group-hover:text-red-400 transition-colors duration-200",children:"Logout"})]})})]})]})})})}const lG=()=>{const e=Ia();return h.useEffect(()=>{const t=e.pathname;let r="Admin Dashboard";switch(t){case"/admin":r="Admin Dashboard";break;case"/admin/settings":r="Settings";break;case"/admin/chat":r="Chat";break;case"/admin/products":r="Products";break;case"/admin/orders":r="Orders";break;case"/admin/customers":r="Customers";break;case"/admin/categories":r="Categories";break;case"/admin/brands":r="Brands";break;case"/admin/services":r="Services";break;case"/admin/content":r="Content";break;case"/admin/profile":r="Profile";break;default:r="Admin Dashboard"}document.title=`${r} - Admin Dashboard`},[e.pathname]),null},oG=({isOnline:e,children:t})=>e?t:i.jsxs("div",{className:"p-4",children:[i.jsx(hn,{type:"warning",className:"mb-4",children:i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("span",{className:"text-lg",children:""}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold",children:"Backend Server Offline"}),i.jsx("p",{className:"text-sm",children:"The backend server is not running. Please start the Django server:"}),i.jsx("code",{className:"block mt-2 p-2 bg-gray-100 dark:bg-gray-800 rounded text-sm",children:"cd Backend && python manage.py runserver 127.0.0.1:8001"})]})]})}),t]}),cG=()=>{const[e,t]=Ji.useState(!0),[r,n]=Ji.useState(Date.now());return Ji.useEffect(()=>{const a=async()=>{try{const l=await fetch("http://127.0.0.1:8001/api/admin/health/ping/",{method:"GET",timeout:3e3});t(l.ok),n(Date.now())}catch{t(!1),n(Date.now())}};a();const s=setInterval(a,1e4);return()=>clearInterval(s)},[]),{isOnline:e,lastCheck:r}},uG=()=>{const{isAuthed:e,user:t,token:r}=Ht();return h.useEffect(()=>{if(e()&&t&&r){console.log("[WebSocketInitializer] Admin authenticated, connecting real-time service..."),console.log("[WebSocketInitializer] Token:",r?r.substring(0,20)+"...":"No token"),console.log("[WebSocketInitializer] WebSocket connection temporarily disabled");return}else e()?console.log("[WebSocketInitializer] Auth state:",{isAuthed:e(),user:!!t,token:!!r}):(console.log("[WebSocketInitializer] Admin not authenticated, disconnecting..."),as.disconnect())},[e,t,r]),h.useEffect(()=>{if(e()&&t&&r){const n=setInterval(()=>{e()&&t&&!as.isConnected&&r&&(console.log("[WebSocketInitializer] Attempting reconnection..."),as.connect(r).catch(a=>{console.warn("[WebSocketInitializer] Reconnection failed (backend may not be running):",a.message)}))},3e4);return()=>clearInterval(n)}},[e,t,r]),null};function dG({children:e,title:t="Dashboard"}){const[r,n]=h.useState(!1),{isOnline:a}=cG();return i.jsxs("div",{className:"min-h-screen w-full flex bg-slate-50 dark:bg-slate-900 text-slate-900 dark:text-slate-100",children:[i.jsx(lG,{}),i.jsx(uG,{}),i.jsx("aside",{className:"sticky top-0 left-0 h-screen",children:i.jsx(sG,{collapsed:r,setCollapsed:n})}),i.jsxs("main",{className:"flex-1 min-w-0",children:[i.jsx(iG,{collapsed:r,title:t}),i.jsx("div",{className:"px-4 py-4 md:px-6 mt-[70px]",children:i.jsx(oG,{isOnline:a,children:e})})]})]})}class fG extends h.Component{constructor(t){super(t),this.state={hasError:!1,error:null,info:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,r){console.error("App crash:",t,r),this.setState({info:r})}render(){return this.state.hasError?i.jsx("div",{className:"min-h-screen grid place-items-center",children:i.jsxs("div",{className:"max-w-xl w-full rounded-xl border p-6",children:[i.jsx("h1",{className:"text-lg font-semibold mb-2",children:"Something went wrong"}),i.jsx("p",{className:"text-sm opacity-80 mb-3",children:"Reload or sign in again."}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{onClick:()=>location.reload(),className:"border rounded px-3 py-2",children:"Reload"}),i.jsx("button",{onClick:()=>{localStorage.removeItem("auth"),location.replace("/sign-in")},className:"border rounded px-3 py-2",children:"Go to Sign In"})]}),i.jsx("pre",{className:"mt-3 text-xs opacity-70 max-h-48 overflow-auto",children:String(this.state.error)})]})}):this.props.children}}function mG(){const{login:e,loading:t}=Ht(),r=Ma(),[n,a]=h.useState("admin@example.com"),[s,l]=h.useState("admin123"),[o,c]=h.useState(null),u=async d=>{var m;d.preventDefault(),c(null),console.log("[SignIn] Attempting login with:",n,s);const f=await e(n,s);console.log("[SignIn] Login result:",f),f.ok?(console.log("[SignIn] Login successful, navigating to dashboard"),r("/dashboard")):(console.log("[SignIn] Login failed:",f.error),c(((m=f.error)==null?void 0:m.detail)||f.error||"Invalid credentials"))};return i.jsxs("div",{className:"min-h-screen grid place-items-center bg-slate-50 dark:bg-slate-900",children:[i.jsx("div",{className:"fixed top-4 right-4 z-10",children:i.jsx(oy,{})}),i.jsxs("div",{className:"mx-auto max-w-md rounded-2xl border p-6 bg-white dark:bg-slate-950",children:[i.jsx("h1",{className:"text-2xl font-semibold mb-4 text-gray-900 dark:text-white",children:"Admin Sign In"}),i.jsxs("form",{onSubmit:u,className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm mb-1 text-gray-700 dark:text-white",children:"Username or Email"}),i.jsx("input",{value:n,onChange:d=>a(d.target.value),placeholder:"Enter username or email",className:"w-full rounded-xl border px-3 py-2 bg-white dark:bg-slate-900 text-gray-900 dark:text-white border-gray-300 dark:border-slate-600"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm mb-1 text-gray-700 dark:text-white",children:"Password"}),i.jsx("input",{type:"password",value:s,onChange:d=>l(d.target.value),className:"w-full rounded-xl border px-3 py-2 bg-white dark:bg-slate-900 text-gray-900 dark:text-white border-gray-300 dark:border-slate-600"})]}),o&&i.jsx("p",{className:"text-red-600 dark:text-red-400 text-sm",children:o}),i.jsx("button",{disabled:t,className:"w-full rounded-xl border px-4 py-2 hover:bg-slate-100 dark:hover:bg-slate-800 text-gray-900 dark:text-white border-gray-300 dark:border-slate-600",children:t?"Signing in...":"Sign In"})]}),i.jsxs("p",{className:"mt-3 text-xs opacity-70 text-gray-600 dark:text-gray-300",children:["Tip: seeded admin is ",i.jsx("code",{className:"text-gray-800 dark:text-gray-200",children:"admin@example.com / admin123"})]})]})]})}function hG(){const{init:e}=Ht();return h.useEffect(()=>{e()},[e]),i.jsx(fG,{children:i.jsx(pT,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:i.jsxs(f2,{children:[i.jsx(rt,{path:"/sign-in",element:i.jsx(mG,{})}),i.jsx(rt,{path:"/*",element:i.jsx(dG,{children:i.jsx(rG,{})})}),i.jsx(rt,{path:"/",element:i.jsx(Kh,{to:"/dashboard",replace:!0})}),i.jsx(rt,{path:"*",element:i.jsx(Kh,{to:"/dashboard",replace:!0})})]})})})}Jm.createRoot(document.getElementById("root")).render(i.jsx(Ji.StrictMode,{children:i.jsx(hG,{})}));
